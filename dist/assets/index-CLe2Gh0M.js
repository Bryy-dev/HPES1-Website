import{r as n,a as Zn}from"./index-w_Li_T4U.js";const Gt="carousel",st="controller",Un="navigation",zn="no-scroll",ct="portal",Hn="root",qt="toolbar",Lt="captions",Tt="fullscreen",Je="thumbnails",Nt="zoom",Xe="loading",Ye="error",Be="complete",Xn="placeholder",Yn=e=>`active-slide-${e}`,Bn="fullsize",Ee="flex_center",Kn="no_scroll",Qt="no_scroll_padding",lt="slide",Jt="slide_wrapper",jn="slide_wrapper_interactive",ce="prev",le="next",et="swipe",we="close",en="onPointerDown",tn="onPointerMove",nn="onPointerUp",on="onPointerLeave",rn="onPointerCancel",at="onKeyDown",Gn="onKeyUp",ut="onWheel",qn="Escape",Qn="ArrowLeft",Jn="ArrowRight",eo="button",Oe="icon",sn="contain",Rt="cover",cn="Unknown action type",ln="yarl__";function B(...e){return[...e].filter(Boolean).join(" ")}function P(e){return`${ln}${e}`}function A(e){return`--${ln}${e}`}function he(e,t){return`${e}${t?`_${t}`:""}`}function me(e){return t=>he(e,t)}function to(e,t){var r;return(r=e==null?void 0:e[t])!==null&&r!==void 0?r:t}function De(...e){return()=>{e.forEach(t=>{t()})}}function oe(e,t,r){return()=>{const o=n.useContext(r);if(!o)throw new Error(`${e} must be used within a ${t}.Provider`);return o}}function dt(){return typeof window<"u"}function ft(e,t=0){const r=10**t;return Math.round((e+Number.EPSILON)*r)/r}function pe(e){return e.type===void 0||e.type==="image"}function ht(e,t){return e.imageFit===Rt||e.imageFit!==sn&&t===Rt}function Ae(e){return typeof e=="string"?Number.parseInt(e,10):e}function ke(e){if(typeof e=="number")return{pixel:e};if(typeof e=="string"){const t=Ae(e);return e.endsWith("%")?{percent:t}:{pixel:t}}return{pixel:0}}function no(e,t){const r=ke(t),o=r.percent!==void 0?e.width/100*r.percent:r.pixel;return{width:Math.max(e.width-2*o,0),height:Math.max(e.height-2*o,0)}}function oo(){return(dt()?window==null?void 0:window.devicePixelRatio:void 0)||1}function an(e,t){return t>0?(e%t+t)%t:0}function mt(e){return e.length>0}function pt(e,t){return e[an(t,e.length)]}function tt(e,t){return mt(e)?pt(e,t):void 0}function un(e){return pe(e)?e.src:void 0}function vt(e,t,r){if(!r)return e;const{buttons:o,...i}=e,s=o.findIndex(l=>l===t),c=n.isValidElement(r)?n.cloneElement(r,{key:t},null):r;if(s>=0){const l=[...o];return l.splice(s,1,c),{buttons:l,...i}}return{buttons:[c,...o],...i}}function dn(e,t,r=0){return Math.min(e.preload,Math.max(e.finite?t.length-1:Math.floor(t.length/2),r))}const ro=Number(n.version.split(".")[0])>=19;function io(e){return{inert:ro?e:e?"":void 0}}function so(e){e.scrollTop}const nt={open:!1,close:()=>{},index:0,slides:[],render:{},plugins:[],toolbar:{buttons:[we]},labels:{},animation:{fade:250,swipe:500,easing:{fade:"ease",swipe:"ease-out",navigation:"ease-in-out"}},carousel:{finite:!1,preload:2,padding:"16px",spacing:"30%",imageFit:sn,imageProps:{}},controller:{ref:null,focus:!0,aria:!1,touchAction:"none",closeOnPullUp:!1,closeOnPullDown:!1,closeOnBackdropClick:!1,preventDefaultWheelX:!0,preventDefaultWheelY:!1,disableSwipeNavigation:!1},portal:{},noScroll:{disabled:!1},on:{},styles:{},className:""};function re(e,t){return{name:e,component:t}}function z(e,t){return{module:e,children:t}}function fn(e,t,r){return e.module.name===t?r(e):e.children?[z(e.module,e.children.flatMap(o=>{var i;return(i=fn(o,t,r))!==null&&i!==void 0?i:[]}))]:[e]}function ge(e,t,r){return e.flatMap(o=>{var i;return(i=fn(o,t,r))!==null&&i!==void 0?i:[]})}function co(e,t=[],r=[]){let o=e;const i=m=>{const p=[...o];for(;p.length>0;){const g=p.pop();if((g==null?void 0:g.module.name)===m)return!0;g!=null&&g.children&&p.push(...g.children)}return!1},s=(m,p)=>{if(m===""){o=[z(p,o)];return}o=ge(o,m,g=>[z(p,[g])])},c=(m,p)=>{o=ge(o,m,g=>[z(g.module,[z(p,g.children)])])},l=(m,p,g)=>{o=ge(o,m,L=>{var w;return[z(L.module,[...g?[z(p)]:[],...(w=L.children)!==null&&w!==void 0?w:[],...g?[]:[z(p)]])]})},a=(m,p,g)=>{o=ge(o,m,L=>[...g?[z(p)]:[],L,...g?[]:[z(p)]])},u=m=>{c(st,m)},d=(m,p)=>{o=ge(o,m,g=>[z(p,g.children)])},h=m=>{o=ge(o,m,p=>p.children)},v=m=>{r.push(m)};return t.forEach(m=>{m({contains:i,addParent:s,append:c,addChild:l,addSibling:a,addModule:u,replace:d,remove:h,augment:v})}),{config:o,augmentation:m=>r.reduce((p,g)=>g(p),m)}}const hn=n.createContext(null),Pe=oe("useDocument","DocumentContext",hn);function lo({nodeRef:e,children:t}){const r=n.useMemo(()=>{const o=s=>{var c;return((c=s||e.current)===null||c===void 0?void 0:c.ownerDocument)||document};return{getOwnerDocument:o,getOwnerWindow:s=>{var c;return((c=o(s))===null||c===void 0?void 0:c.defaultView)||window}}},[e]);return n.createElement(hn.Provider,{value:r},t)}const mn=n.createContext(null),Me=oe("useEvents","EventsContext",mn);function ao({children:e}){const[t]=n.useState({});n.useEffect(()=>()=>{Object.keys(t).forEach(o=>delete t[o])},[t]);const r=n.useMemo(()=>{const o=(c,l)=>{var a;(a=t[c])===null||a===void 0||a.splice(0,t[c].length,...t[c].filter(u=>u!==l))};return{publish:(...[c,l])=>{var a;(a=t[c])===null||a===void 0||a.forEach(u=>u(l))},subscribe:(c,l)=>(t[c]||(t[c]=[]),t[c].push(l),()=>o(c,l)),unsubscribe:o}},[t]);return n.createElement(mn.Provider,{value:r},e)}const pn=n.createContext(null),U=oe("useLightboxProps","LightboxPropsContext",pn);function vn({children:e,...t}){return n.createElement(pn.Provider,{value:t},e)}const gn=n.createContext(null),se=oe("useLightboxState","LightboxStateContext",gn),bn=n.createContext(null),uo=oe("useLightboxDispatch","LightboxDispatchContext",bn);function fo(e,t){switch(t.type){case"swipe":{const{slides:r}=e,o=(t==null?void 0:t.increment)||0,i=e.globalIndex+o,s=an(i,r.length),c=tt(r,s),l=o||t.duration!==void 0?{increment:o,duration:t.duration,easing:t.easing}:void 0;return{slides:r,currentIndex:s,globalIndex:i,currentSlide:c,animation:l}}case"update":return t.slides!==e.slides||t.index!==e.currentIndex?{slides:t.slides,currentIndex:t.index,globalIndex:t.index,currentSlide:tt(t.slides,t.index)}:e;default:throw new Error(cn)}}function ho({slides:e,index:t,children:r}){const[o,i]=n.useReducer(fo,{slides:e,currentIndex:t,globalIndex:t,currentSlide:tt(e,t)});n.useEffect(()=>{i({type:"update",slides:e,index:t})},[e,t]);const s=n.useMemo(()=>({...o,state:o,dispatch:i}),[o,i]);return n.createElement(bn.Provider,{value:i},n.createElement(gn.Provider,{value:s},r))}const En=n.createContext(null),$e=oe("useTimeouts","TimeoutsContext",En);function mo({children:e}){const[t]=n.useState([]);n.useEffect(()=>()=>{t.forEach(o=>window.clearTimeout(o)),t.splice(0,t.length)},[t]);const r=n.useMemo(()=>{const o=c=>{t.splice(0,t.length,...t.filter(l=>l!==c))};return{setTimeout:(c,l)=>{const a=window.setTimeout(()=>{o(a),c()},l);return t.push(a),a},clearTimeout:c=>{c!==void 0&&(o(c),window.clearTimeout(c))}}},[t]);return n.createElement(En.Provider,{value:r},e)}const Se=n.forwardRef(function({label:t,className:r,icon:o,renderIcon:i,onClick:s,style:c,...l},a){const{styles:u,labels:d}=U(),h=to(d,t);return n.createElement("button",{ref:a,type:"button",title:h,"aria-label":h,className:B(P(eo),r),onClick:s,style:{...c,...u.button},...l},i?i():n.createElement(o,{className:P(Oe),style:u.icon}))});function wn(e,t){const r=o=>n.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",width:"24",height:"24","aria-hidden":"true",focusable:"false",...o},t);return r.displayName=e,r}function J(e,t){return wn(e,n.createElement("g",{fill:"currentColor"},n.createElement("path",{d:"M0 0h24v24H0z",fill:"none"}),t))}function Cn(e,t){return wn(e,n.createElement(n.Fragment,null,n.createElement("defs",null,n.createElement("mask",{id:"strike"},n.createElement("path",{d:"M0 0h24v24H0z",fill:"white"}),n.createElement("path",{d:"M0 0L24 24",stroke:"black",strokeWidth:4}))),n.createElement("path",{d:"M0.70707 2.121320L21.878680 23.292883",stroke:"currentColor",strokeWidth:2}),n.createElement("g",{fill:"currentColor",mask:"url(#strike)"},n.createElement("path",{d:"M0 0h24v24H0z",fill:"none"}),t)))}const po=J("Close",n.createElement("path",{d:"M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"})),vo=J("Previous",n.createElement("path",{d:"M15.41 7.41L14 6l-6 6 6 6 1.41-1.41L10.83 12z"})),go=J("Next",n.createElement("path",{d:"M10 6L8.59 7.41 13.17 12l-4.58 4.59L10 18l6-6z"})),bo=J("Loading",n.createElement(n.Fragment,null,Array.from({length:8}).map((e,t,r)=>n.createElement("line",{key:t,x1:"12",y1:"6.5",x2:"12",y2:"1.8",strokeLinecap:"round",strokeWidth:"2.6",stroke:"currentColor",strokeOpacity:1/r.length*(t+1),transform:`rotate(${360/r.length*t}, 12, 12)`})))),Eo=J("Error",n.createElement("path",{d:"M21.9,21.9l-8.49-8.49l0,0L3.59,3.59l0,0L2.1,2.1L0.69,3.51L3,5.83V19c0,1.1,0.9,2,2,2h13.17l2.31,2.31L21.9,21.9z M5,18 l3.5-4.5l2.5,3.01L12.17,15l3,3H5z M21,18.17L5.83,3H19c1.1,0,2,0.9,2,2V18.17z"})),ne=dt()?n.useLayoutEffect:n.useEffect;function gt(){const[e,t]=n.useState(!1);return n.useEffect(()=>{var r,o;const i=(r=window.matchMedia)===null||r===void 0?void 0:r.call(window,"(prefers-reduced-motion: reduce)");t(i==null?void 0:i.matches);const s=c=>t(c.matches);return(o=i==null?void 0:i.addEventListener)===null||o===void 0||o.call(i,"change",s),()=>{var c;return(c=i==null?void 0:i.removeEventListener)===null||c===void 0?void 0:c.call(i,"change",s)}},[]),e}function wo(e){let t=0,r=0,o=0;const s=window.getComputedStyle(e).transform.match(/matrix.*\((.+)\)/);if(s){const c=s[1].split(",").map(Ae);c.length===6?(t=c[4],r=c[5]):c.length===16&&(t=c[12],r=c[13],o=c[14])}return{x:t,y:r,z:o}}function ot(e,t){const r=n.useRef(void 0),o=n.useRef(void 0),i=gt();return ne(()=>{var s,c,l;if(e.current&&r.current!==void 0&&!i){const{keyframes:a,duration:u,easing:d,onfinish:h}=t(r.current,e.current.getBoundingClientRect(),wo(e.current))||{};if(a&&u){(s=o.current)===null||s===void 0||s.cancel(),o.current=void 0;try{o.current=(l=(c=e.current).animate)===null||l===void 0?void 0:l.call(c,a,{duration:u,easing:d})}catch(v){console.error(v)}o.current&&(o.current.onfinish=()=>{o.current=void 0,h==null||h()})}}r.current=void 0}),{prepareAnimation:s=>{r.current=s},isAnimationPlaying:()=>{var s;return((s=o.current)===null||s===void 0?void 0:s.playState)==="running"}}}function xn(){const e=n.useRef(null),t=n.useRef(void 0),[r,o]=n.useState();return{setContainerRef:n.useCallback(s=>{e.current=s,t.current&&(t.current.disconnect(),t.current=void 0);const c=()=>{if(s){const l=window.getComputedStyle(s),a=u=>parseFloat(u)||0;o({width:Math.round(s.clientWidth-a(l.paddingLeft)-a(l.paddingRight)),height:Math.round(s.clientHeight-a(l.paddingTop)-a(l.paddingBottom))})}else o(void 0)};c(),s&&typeof ResizeObserver<"u"&&(t.current=new ResizeObserver(c),t.current.observe(s))},[]),containerRef:e,containerRect:r}}function Re(){const e=n.useRef(void 0),{setTimeout:t,clearTimeout:r}=$e();return n.useCallback((o,i)=>{r(e.current),e.current=t(o,i>0?i:0)},[t,r])}function D(e){const t=n.useRef(e);return ne(()=>{t.current=e}),n.useCallback((...r)=>{var o;return(o=t.current)===null||o===void 0?void 0:o.call(t,...r)},[])}function Ot(e,t){typeof e=="function"?e(t):e&&(e.current=t)}function rt(e,t){return n.useMemo(()=>e==null&&t==null?null:r=>{Ot(e,r),Ot(t,r)},[e,t])}function Co(e,t=!1){const r=n.useRef(!1);ne(()=>{t&&r.current&&(r.current=!1,e())},[t,e]);const o=n.useCallback(()=>{r.current=!0},[]),i=n.useCallback(()=>{r.current=!1},[]);return{onFocus:o,onBlur:i}}function We(){const[e,t]=n.useState(!1);return ne(()=>{t(window.getComputedStyle(window.document.documentElement).direction==="rtl")},[]),e}function _n(){const[e]=n.useState({}),t=n.useCallback((i,s)=>{var c;(c=e[i])===null||c===void 0||c.forEach(l=>{s.isPropagationStopped()||l(s)})},[e]),r=n.useMemo(()=>({onPointerDown:i=>t(en,i),onPointerMove:i=>t(tn,i),onPointerUp:i=>t(nn,i),onPointerLeave:i=>t(on,i),onPointerCancel:i=>t(rn,i),onKeyDown:i=>t(at,i),onKeyUp:i=>t(Gn,i),onWheel:i=>t(ut,i)}),[t]),o=n.useCallback((i,s)=>(e[i]||(e[i]=[]),e[i].unshift(s),()=>{const c=e[i];c&&c.splice(0,c.length,...c.filter(l=>l!==s))}),[e]);return{registerSensors:r,subscribeSensors:o}}function kt(e,t){const r=n.useRef(0),o=Re(),i=D((...s)=>{r.current=Date.now(),e(s)});return n.useCallback((...s)=>{o(()=>{i(s)},t-(Date.now()-r.current))},[t,i,o])}const Ke=me("slide"),je=me("slide_image");function de({slide:e,offset:t,render:r,rect:o,imageFit:i,imageProps:s,onClick:c,onLoad:l,onError:a,style:u}){var d,h,v,m,p,g,L;const[w,y]=n.useState(Xe),{publish:O}=Me(),{setTimeout:$}=$e(),C=n.useRef(null);n.useEffect(()=>{t===0&&O(Yn(w))},[t,w,O]);const N=D(S=>{("decode"in S?S.decode():Promise.resolve()).catch(()=>{}).then(()=>{S.parentNode&&(y(Be),$(()=>{l==null||l(S)},0))})}),T=n.useCallback(S=>{C.current=S,S!=null&&S.complete&&N(S)},[N]),_=n.useCallback(S=>{N(S.currentTarget)},[N]),I=D(()=>{y(Ye),a==null||a()}),k=ht(e,i),F=(S,K)=>Number.isFinite(S)?S:K,W=F(Math.max(...((h=(d=e.srcSet)===null||d===void 0?void 0:d.map(S=>S.width))!==null&&h!==void 0?h:[]).concat(e.width?[e.width]:[]).filter(Boolean)),((v=C.current)===null||v===void 0?void 0:v.naturalWidth)||0),M=F(Math.max(...((p=(m=e.srcSet)===null||m===void 0?void 0:m.map(S=>S.height))!==null&&p!==void 0?p:[]).concat(e.height?[e.height]:[]).filter(Boolean)),((g=C.current)===null||g===void 0?void 0:g.naturalHeight)||0),b=W&&M?{maxWidth:`min(${W}px, 100%)`,maxHeight:`min(${M}px, 100%)`}:{maxWidth:"100%",maxHeight:"100%"},f=(L=e.srcSet)===null||L===void 0?void 0:L.sort((S,K)=>S.width-K.width).map(S=>`${S.src} ${S.width}w`).join(", "),x=()=>o&&!k&&e.width&&e.height?o.height/e.height*e.width:Number.MAX_VALUE,R=f&&o&&dt()?`${Math.round(Math.min(x(),o.width))}px`:void 0,{style:Z,className:X,...G}=s||{};return n.createElement(n.Fragment,null,n.createElement("img",{ref:T,onLoad:_,onError:I,onClick:c,draggable:!1,className:B(P(je()),k&&P(je("cover")),w!==Be&&P(je("loading")),X),style:{...b,...u,...Z},...G,alt:e.alt,sizes:R,srcSet:f,src:e.src}),w!==Be&&n.createElement("div",{className:P(Ke(Xn))},w===Xe&&(r!=null&&r.iconLoading?r.iconLoading():n.createElement(bo,{className:B(P(Oe),P(Ke(Xe)))})),w===Ye&&(r!=null&&r.iconError?r.iconError():n.createElement(Eo,{className:B(P(Oe),P(Ke(Ye)))}))))}const xo=n.forwardRef(function({className:t,children:r,...o},i){const s=n.useRef(null);return n.createElement(lo,{nodeRef:s},n.createElement("div",{ref:rt(i,s),className:B(P("root"),t),...o},r))});var Y;(function(e){e[e.NONE=0]="NONE",e[e.SWIPE=1]="SWIPE",e[e.PULL=2]="PULL",e[e.ANIMATION=3]="ANIMATION"})(Y||(Y={}));function Pn(e,t,r,o,i){n.useEffect(()=>i?()=>{}:De(e(en,t),e(tn,r),e(nn,o),e(on,o),e(rn,o)),[e,t,r,o,i])}var Q;(function(e){e[e.NONE=0]="NONE",e[e.SWIPE=1]="SWIPE",e[e.PULL=2]="PULL"})(Q||(Q={}));const Ge=30;function _o({disableSwipeNavigation:e,closeOnBackdropClick:t},r,o,i,s,c,l,a,u,d,h,v,m,p,g,L){const w=n.useRef(0),y=n.useRef([]),O=n.useRef(void 0),$=n.useRef(0),C=n.useRef(Q.NONE),N=n.useCallback(M=>{O.current===M.pointerId&&(O.current=void 0,C.current=Q.NONE);const b=y.current;b.splice(0,b.length,...b.filter(f=>f.pointerId!==M.pointerId))},[]),T=n.useCallback(M=>{N(M),M.persist(),y.current.push(M)},[N]),_=n.useCallback(M=>y.current.find(({pointerId:b})=>M.pointerId===b),[]),I=D(M=>{T(M)}),k=(M,b)=>h&&M>b||d&&M<-b,F=D(M=>{const b=_(M);if(b)if(O.current===M.pointerId){const f=Date.now()-$.current,x=w.current;C.current===Q.SWIPE?Math.abs(x)>.3*i||Math.abs(x)>5&&f<s?a(x,f):u(x):C.current===Q.PULL&&(k(x,2*Ge)?p(x,f):g(x)),w.current=0,C.current=Q.NONE}else{const{target:f}=M;t&&f instanceof HTMLElement&&f===b.target&&(f.classList.contains(P(lt))||f.classList.contains(P(Jt)))&&L()}N(M)}),W=D(M=>{const b=_(M);if(b){const f=O.current===M.pointerId;if(M.buttons===0){f&&w.current!==0?F(M):N(b);return}const x=M.clientX-b.clientX,R=M.clientY-b.clientY;if(O.current===void 0){const Z=X=>{T(M),O.current=M.pointerId,$.current=Date.now(),C.current=X};Math.abs(x)>Math.abs(R)&&Math.abs(x)>Ge&&o(x)?e||(Z(Q.SWIPE),c()):Math.abs(R)>Math.abs(x)&&k(R,Ge)&&(Z(Q.PULL),v())}else f&&(C.current===Q.SWIPE?(w.current=x,l(x)):C.current===Q.PULL&&(w.current=R,m(R)))}});Pn(r,I,W,F)}function Po({preventDefaultWheelX:e,preventDefaultWheelY:t}){const r=n.useRef(null),o=D(i=>{const s=Math.abs(i.deltaX)>Math.abs(i.deltaY);(s&&e||!s&&t||i.ctrlKey)&&i.preventDefault()});return n.useCallback(i=>{var s;i?i.addEventListener("wheel",o,{passive:!1}):(s=r.current)===null||s===void 0||s.removeEventListener("wheel",o),r.current=i},[o])}function Mo(e,t,r,o,i,s,c,l,a){const u=n.useRef(0),d=n.useRef(0),h=n.useRef(void 0),v=n.useRef(void 0),m=n.useRef(0),p=n.useRef(void 0),g=n.useRef(0),{setTimeout:L,clearTimeout:w}=$e(),y=n.useCallback(()=>{h.current&&(w(h.current),h.current=void 0)},[w]),O=n.useCallback(()=>{v.current&&(w(v.current),v.current=void 0)},[w]),$=D(()=>{e!==Y.SWIPE&&(u.current=0,g.current=0,y(),O())});n.useEffect($,[e,$]);const C=D(T=>{v.current=void 0,u.current===T&&a(u.current)}),N=D(T=>{if(T.ctrlKey||Math.abs(T.deltaY)>Math.abs(T.deltaX))return;const _=I=>{m.current=I,w(p.current),p.current=I>0?L(()=>{m.current=0,p.current=void 0},300):void 0};if(e===Y.NONE){if(Math.abs(T.deltaX)<=1.2*Math.abs(m.current)){_(T.deltaX);return}if(!r(-T.deltaX))return;if(d.current+=T.deltaX,y(),Math.abs(d.current)>30)d.current=0,_(0),g.current=Date.now(),s();else{const I=d.current;h.current=L(()=>{h.current=void 0,I===d.current&&(d.current=0)},i)}}else if(e===Y.SWIPE){let I=u.current-T.deltaX;if(I=Math.min(Math.abs(I),o)*Math.sign(I),u.current=I,c(I),O(),Math.abs(I)>.2*o){_(T.deltaX),l(I,Date.now()-g.current);return}v.current=L(()=>C(I),2*i)}else _(T.deltaX)});n.useEffect(()=>t(ut,N),[t,N])}const Dt=me("container"),Mn=n.createContext(null),ie=oe("useController","ControllerContext",Mn);function So({children:e,...t}){var r;const{carousel:o,animation:i,controller:s,on:c,styles:l,render:a}=t,{closeOnPullUp:u,closeOnPullDown:d,preventDefaultWheelX:h,preventDefaultWheelY:v}=s,[m,p]=n.useState(),g=se(),L=uo(),[w,y]=n.useState(Y.NONE),O=n.useRef(0),$=n.useRef(0),C=n.useRef(1),{registerSensors:N,subscribeSensors:T}=_n(),{subscribe:_,publish:I}=Me(),k=Re(),F=Re(),W=Re(),{containerRef:M,setContainerRef:b,containerRect:f}=xn(),x=rt(Po({preventDefaultWheelX:h,preventDefaultWheelY:v}),b),R=n.useRef(null),Z=rt(R,void 0),{getOwnerDocument:X}=Pe(),G=We(),S=E=>(G?-1:1)*(typeof E=="number"?E:1),K=D(()=>{var E;return(E=M.current)===null||E===void 0?void 0:E.focus()}),ye=D(()=>t),xt=D(()=>g),Ie=n.useCallback(E=>I(ce,E),[I]),Le=n.useCallback(E=>I(le,E),[I]),ve=n.useCallback(()=>I(we),[I]),Ve=E=>!(o.finite&&(S(E)>0&&g.currentIndex===0||S(E)<0&&g.currentIndex===g.slides.length-1)),_t=E=>{var V;O.current=E,(V=M.current)===null||V===void 0||V.style.setProperty(A("swipe_offset"),`${Math.round(E)}px`)},Ze=E=>{var V,j;$.current=E,C.current=(()=>{const xe=d&&E>0?E:u&&E<0?-E:0;return Math.min(Math.max(ft(1-xe/60*(1-.5),2),.5),1)})(),(V=M.current)===null||V===void 0||V.style.setProperty(A("pull_offset"),`${Math.round(E)}px`),(j=M.current)===null||j===void 0||j.style.setProperty(A("pull_opacity"),`${C.current}`)},{prepareAnimation:An}=ot(R,(E,V,j)=>{if(R.current&&f)return{keyframes:[{transform:`translate(0, ${E.rect.y-V.y+j.y}px)`,opacity:E.opacity},{transform:"translate(0, 0)",opacity:1}],duration:E.duration,easing:i.easing.fade}}),Pt=(E,V)=>{if(u||d){Ze(E);let j=0;R.current&&(j=i.fade*(V?2:1),An({rect:R.current.getBoundingClientRect(),opacity:C.current,duration:j})),W(()=>{Ze(0),y(Y.NONE)},j),y(Y.ANIMATION),V||ve()}},{prepareAnimation:$n,isAnimationPlaying:Wn}=ot(R,(E,V,j)=>{var ee;if(R.current&&f&&(!((ee=g.animation)===null||ee===void 0)&&ee.duration)){const q=ke(o.spacing),xe=(q.percent?q.percent*f.width/100:q.pixel)||0;return{keyframes:[{transform:`translate(${S(g.globalIndex-E.index)*(f.width+xe)+E.rect.x-V.x+j.x}px, 0)`},{transform:"translate(0, 0)"}],duration:g.animation.duration,easing:g.animation.easing}}}),Ce=D(E=>{var V,j;const ee=E.offset||0,q=ee?i.swipe:(V=i.navigation)!==null&&V!==void 0?V:i.swipe,xe=!ee&&!Wn()?i.easing.navigation:i.easing.swipe;let{direction:Te}=E;const Ne=(j=E.count)!==null&&j!==void 0?j:1;let Ue=Y.ANIMATION,te=q*Ne;if(!Te){const _e=f==null?void 0:f.width,It=E.duration||0,He=_e?q/_e*Math.abs(ee):q;Ne!==0?(It<He?te=te/He*Math.max(It,He/5):_e&&(te=q/_e*(_e-Math.abs(ee))),Te=S(ee)>0?ce:le):te=q/2}let ze=0;Te===ce?Ve(S(1))?ze=-Ne:(Ue=Y.NONE,te=q):Te===le&&(Ve(S(-1))?ze=Ne:(Ue=Y.NONE,te=q)),te=Math.round(te),F(()=>{_t(0),y(Y.NONE)},te),R.current&&$n({rect:R.current.getBoundingClientRect(),index:g.globalIndex}),y(Ue),I(et,{type:"swipe",increment:ze,duration:te,easing:xe})});n.useEffect(()=>{var E,V;!((E=g.animation)===null||E===void 0)&&E.increment&&(!((V=g.animation)===null||V===void 0)&&V.duration)&&k(()=>L({type:"swipe",increment:0}),g.animation.duration)},[g.animation,L,k]);const Mt=[T,Ve,(f==null?void 0:f.width)||0,i.swipe,()=>y(Y.SWIPE),E=>_t(E),(E,V)=>Ce({offset:E,duration:V,count:1}),E=>Ce({offset:E,count:0})],Fn=[()=>{d&&y(Y.PULL)},E=>Ze(E),E=>Pt(E),E=>Pt(E,!0)];_o(s,...Mt,u,d,...Fn,ve),Mo(w,...Mt);const St=D(()=>{s.focus&&X().querySelector(`.${P(ct)} .${P(Dt())}`)&&K()});n.useEffect(St,[St]);const yt=D(()=>{var E;(E=c.view)===null||E===void 0||E.call(c,{index:g.currentIndex})});n.useEffect(yt,[g.globalIndex,yt]),n.useEffect(()=>De(_(ce,E=>Ce({direction:ce,...E})),_(le,E=>Ce({direction:le,...E})),_(et,E=>L(E))),[_,Ce,L]);const Vn=n.useMemo(()=>({prev:Ie,next:Le,close:ve,focus:K,slideRect:f?no(f,o.padding):{width:0,height:0},containerRect:f||{width:0,height:0},subscribeSensors:T,containerRef:M,setCarouselRef:Z,toolbarWidth:m,setToolbarWidth:p}),[Ie,Le,ve,K,T,f,M,Z,m,p,o.padding]);return n.useImperativeHandle(s.ref,()=>({prev:Ie,next:Le,close:ve,focus:K,getLightboxProps:ye,getLightboxState:xt}),[Ie,Le,ve,K,ye,xt]),n.createElement("div",{ref:x,className:B(P(Dt()),P(Ee)),style:{...w===Y.SWIPE?{[A("swipe_offset")]:`${Math.round(O.current)}px`}:null,...w===Y.PULL?{[A("pull_offset")]:`${Math.round($.current)}px`,[A("pull_opacity")]:`${C.current}`}:null,...s.touchAction!=="none"?{[A("controller_touch_action")]:s.touchAction}:null,...l.container},...s.aria?{role:"region","aria-live":"polite","aria-roledescription":"carousel"}:null,tabIndex:-1,...N},f&&n.createElement(Mn.Provider,{value:Vn},e,(r=a.controls)===null||r===void 0?void 0:r.call(a)))}const yo=re(st,So);function ae(e){return he(Gt,e)}function At(e){return he(lt,e)}function Io({slide:e,offset:t}){const r=n.useRef(null),{currentIndex:o}=se(),{slideRect:i,focus:s}=ie(),{render:c,carousel:{imageFit:l,imageProps:a},on:{click:u},styles:{slide:d}}=U(),{getOwnerDocument:h}=Pe(),v=t!==0;n.useEffect(()=>{var p;v&&(!((p=r.current)===null||p===void 0)&&p.contains(h().activeElement))&&s()},[v,s,h]);const m=()=>{var p,g,L,w;let y=(p=c.slide)===null||p===void 0?void 0:p.call(c,{slide:e,offset:t,rect:i});return!y&&pe(e)&&(y=n.createElement(de,{slide:e,offset:t,render:c,rect:i,imageFit:l,imageProps:a,onClick:v?void 0:()=>u==null?void 0:u({index:o})})),y?n.createElement(n.Fragment,null,(g=c.slideHeader)===null||g===void 0?void 0:g.call(c,{slide:e}),((L=c.slideContainer)!==null&&L!==void 0?L:({children:O})=>O)({slide:e,children:y}),(w=c.slideFooter)===null||w===void 0?void 0:w.call(c,{slide:e})):null};return n.createElement("div",{ref:r,className:B(P(At()),!v&&P(At("current")),P(Ee)),...io(v),style:d,role:"region","aria-roledescription":"slide"},m())}function Lo(){const e=U().styles.slide;return n.createElement("div",{className:P(lt),style:e})}function To({carousel:e}){const{slides:t,currentIndex:r,globalIndex:o}=se(),{setCarouselRef:i}=ie(),s=ke(e.spacing),c=ke(e.padding),l=dn(e,t,1),a=[];if(mt(t))for(let u=r-l;u<=r+l;u+=1){const d=pt(t,u),h=o-r+u,v=e.finite&&(u<0||u>t.length-1);a.push(v?{key:h}:{key:[`${h}`,un(d)].filter(Boolean).join("|"),offset:u-r,slide:d})}return n.createElement("div",{ref:i,className:B(P(ae()),a.length>0&&P(ae("with_slides"))),style:{[`${A(ae("slides_count"))}`]:a.length,[`${A(ae("spacing_px"))}`]:s.pixel||0,[`${A(ae("spacing_percent"))}`]:s.percent||0,[`${A(ae("padding_px"))}`]:c.pixel||0,[`${A(ae("padding_percent"))}`]:c.percent||0}},a.map(({key:u,slide:d,offset:h})=>d?n.createElement(Io,{key:u,slide:d,offset:h}):n.createElement(Lo,{key:u})))}const No=re(Gt,To);function Sn(){const{carousel:e}=U(),{slides:t,currentIndex:r}=se(),o=t.length===0||e.finite&&r===0,i=t.length===0||e.finite&&r===t.length-1;return{prevDisabled:o,nextDisabled:i}}function yn(e){var t;const r=We(),{publish:o}=Me(),{animation:i}=U(),{prevDisabled:s,nextDisabled:c}=Sn(),l=((t=i.navigation)!==null&&t!==void 0?t:i.swipe)/2,a=kt(()=>o(ce),l),u=kt(()=>o(le),l),d=D(h=>{switch(h.key){case qn:o(we);break;case Qn:(r?c:s)||(r?u:a)();break;case Jn:(r?s:c)||(r?a:u)();break}});n.useEffect(()=>e(at,d),[e,d])}function $t({label:e,icon:t,renderIcon:r,action:o,onClick:i,disabled:s,style:c}){return n.createElement(Se,{label:e,icon:t,renderIcon:r,className:P(`navigation_${o}`),disabled:s,onClick:i,style:c,...Co(ie().focus,s)})}function Ro({render:{buttonPrev:e,buttonNext:t,iconPrev:r,iconNext:o},styles:i}){const{prev:s,next:c,subscribeSensors:l}=ie(),{prevDisabled:a,nextDisabled:u}=Sn();return yn(l),n.createElement(n.Fragment,null,e?e():n.createElement($t,{label:"Previous",action:ce,icon:vo,renderIcon:r,style:i.navigationPrev,disabled:a,onClick:s}),t?t():n.createElement($t,{label:"Next",action:le,icon:go,renderIcon:o,style:i.navigationNext,disabled:u,onClick:c}))}const Oo=re(Un,Ro),Wt=P(Kn),ko=P(Qt);function Do(e){return"style"in e}function Ft(e,t,r){const o=window.getComputedStyle(e),i=r?"padding-left":"padding-right",s=r?o.paddingLeft:o.paddingRight,c=e.style.getPropertyValue(i);return e.style.setProperty(i,`${(Ae(s)||0)+t}px`),()=>{c?e.style.setProperty(i,c):e.style.removeProperty(i)}}function Ao({noScroll:{disabled:e},children:t}){const r=We(),{getOwnerDocument:o,getOwnerWindow:i}=Pe();return n.useEffect(()=>{if(e)return()=>{};const s=[],c=i(),{body:l,documentElement:a}=o(),u=Math.round(c.innerWidth-a.clientWidth);if(u>0){s.push(Ft(l,u,r));const d=l.getElementsByTagName("*");for(let h=0;h<d.length;h+=1){const v=d[h];Do(v)&&c.getComputedStyle(v).getPropertyValue("position")==="fixed"&&!v.classList.contains(ko)&&s.push(Ft(v,u,r))}}return l.classList.add(Wt),()=>{l.classList.remove(Wt),s.forEach(d=>d())}},[r,e,o,i]),n.createElement(n.Fragment,null,t)}const $o=re(zn,Ao);function Vt(e){return he(ct,e)}function Zt(e,t,r){const o=e.getAttribute(t);return e.setAttribute(t,r),()=>{o?e.setAttribute(t,o):e.removeAttribute(t)}}function Wo({children:e,animation:t,styles:r,className:o,on:i,portal:s,close:c}){const[l,a]=n.useState(!1),[u,d]=n.useState(!1),h=n.useRef([]),v=n.useRef(null),{setTimeout:m}=$e(),{subscribe:p}=Me(),L=gt()?0:t.fade;n.useEffect(()=>(a(!0),()=>{a(!1),d(!1)}),[]);const w=D(()=>{h.current.forEach(C=>C()),h.current=[]}),y=D(()=>{var C;d(!1),w(),(C=i.exiting)===null||C===void 0||C.call(i),m(()=>{var N;(N=i.exited)===null||N===void 0||N.call(i),c()},L)});n.useEffect(()=>p(we,y),[p,y]);const O=D(C=>{var N,T,_;so(C),d(!0),(N=i.entering)===null||N===void 0||N.call(i);const I=(_=(T=C.parentNode)===null||T===void 0?void 0:T.children)!==null&&_!==void 0?_:[];for(let k=0;k<I.length;k+=1){const F=I[k];["TEMPLATE","SCRIPT","STYLE"].indexOf(F.tagName)===-1&&F!==C&&(h.current.push(Zt(F,"inert","")),h.current.push(Zt(F,"aria-hidden","true")))}h.current.push(()=>{var k,F;(F=(k=v.current)===null||k===void 0?void 0:k.focus)===null||F===void 0||F.call(k)}),m(()=>{var k;(k=i.entered)===null||k===void 0||k.call(i)},L)}),$=n.useCallback(C=>{C?O(C):w()},[O,w]);return l?Zn.createPortal(n.createElement(xo,{ref:$,className:B(o,P(Vt()),P(Qt),u&&P(Vt("open"))),"aria-modal":!0,role:"dialog","aria-live":"polite","aria-roledescription":"lightbox",style:{...t.fade!==nt.animation.fade?{[A("fade_animation_duration")]:`${L}ms`}:null,...t.easing.fade!==nt.animation.easing.fade?{[A("fade_animation_timing_function")]:t.easing.fade}:null,...r.root},onFocus:C=>{v.current||(v.current=C.relatedTarget)}},e),s.root||document.body):null}const Fo=re(ct,Wo);function Vo({children:e}){return n.createElement(n.Fragment,null,e)}const Zo=re(Hn,Vo);function Uo(e){return he(qt,e)}function zo({toolbar:{buttons:e},render:{buttonClose:t,iconClose:r},styles:o}){const{close:i,setToolbarWidth:s}=ie(),{setContainerRef:c,containerRect:l}=xn();ne(()=>{s(l==null?void 0:l.width)},[s,l==null?void 0:l.width]);const a=()=>t?t():n.createElement(Se,{key:we,label:"Close",icon:po,renderIcon:r,onClick:i});return n.createElement("div",{ref:c,style:o.toolbar,className:P(Uo())},e==null?void 0:e.map(u=>u===we?a():u))}const Ho=re(qt,zo);function In(e,t){var r;return n.createElement(e.module.component,{key:e.module.name,...t},(r=e.children)===null||r===void 0?void 0:r.map(o=>In(o,t)))}function Xo(e,t={}){const{easing:r,...o}=e,{easing:i,...s}=t;return{easing:{...r,...i},...o,...s}}function yr({carousel:e,animation:t,render:r,toolbar:o,controller:i,noScroll:s,on:c,plugins:l,slides:a,index:u,...d}){const{animation:h,carousel:v,render:m,toolbar:p,controller:g,noScroll:L,on:w,slides:y,index:O,plugins:$,...C}=nt,{config:N,augmentation:T}=co([z(Fo,[z($o,[z(yo,[z(No),z(Ho),z(Oo)])])])],l||$),_=T({animation:Xo(h,t),carousel:{...v,...e},render:{...m,...r},toolbar:{...p,...o},controller:{...g,...i},noScroll:{...L,...s},on:{...w,...c},...C,...d});return _.open?n.createElement(vn,{..._},n.createElement(ho,{slides:a||y,index:Ae(u||O)},n.createElement(mo,null,n.createElement(ao,null,In(z(Zo,N),_))))):null}const ue={ref:null,position:"bottom",width:120,height:80,border:1,borderRadius:4,padding:4,gap:16,imageFit:"contain",vignette:!0,hidden:!1,showToggle:!1},bt=e=>({...ue,...e});function Ln(){const{thumbnails:e}=U();return bt(e)}const fe=e=>he(Je,e),H=e=>fe(he("thumbnail",e)),Yo=J("VideoThumbnail",n.createElement("path",{d:"M10 16.5l6-4.5-6-4.5v9zM12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8z"})),Bo=J("UnknownThumbnail",n.createElement("path",{d:"M23 18V6c0-1.1-.9-2-2-2H3c-1.1 0-2 .9-2 2v12c0 1.1.9 2 2 2h18c1.1 0 2-.9 2-2zM8.5 12.5l2.5 3.01L14.5 11l4.5 6H5l3.5-4.5z"}));function Ko({slide:e,render:t,rect:r,imageFit:o}){var i;const s=(i=t.thumbnail)===null||i===void 0?void 0:i.call(t,{slide:e,render:t,rect:r,imageFit:o});if(s)return s;const c={render:t,rect:r,imageFit:o};if(e.thumbnail)return n.createElement(de,{slide:{src:e.thumbnail},...c});if(pe(e))return n.createElement(de,{slide:e,...c});const l=P(H(Oe));return e.type==="video"?n.createElement(n.Fragment,null,e.poster&&n.createElement(de,{slide:{src:e.poster},...c}),n.createElement(Yo,{className:l})):n.createElement(Bo,{className:l})}const jo=me("active"),qe=me("fadein"),Qe=me("fadeout"),Go=me("placeholder"),Ut="delay",zt="duration";function qo({slide:e,onClick:t,active:r,fadeIn:o,fadeOut:i,placeholder:s,onLoseFocus:c}){const l=n.useRef(null),{render:a,styles:u}=U(),{getOwnerDocument:d}=Pe(),{width:h,height:v,imageFit:m}=Ln(),p={width:h,height:v},g=D(c);return n.useEffect(()=>{i&&d().activeElement===l.current&&g()},[i,g,d]),n.createElement("button",{ref:l,type:"button",className:B(P(Ee),P(H()),r&&P(H(jo())),o&&P(H(qe())),i&&P(H(Qe())),s&&P(H(Go()))),style:{...o?{[A(H(qe(zt)))]:`${o.duration}ms`,[A(H(qe(Ut)))]:`${o.delay}ms`}:null,...i?{[A(H(Qe(zt)))]:`${i.duration}ms`,[A(H(Qe(Ut)))]:`${i.delay}ms`}:null,...u.thumbnail},onClick:t},e&&Ko({slide:e,render:a,rect:p,imageFit:m}))}function Ht(e){return["top","bottom"].includes(e)}function Xt(e,t){return t+2*(e.border+e.padding)+e.gap}function Qo(e){const{thumbnail:t,poster:r}=e||{thumbnail:"placeholder"};return typeof t=="string"&&t||typeof r=="string"&&r||e&&un(e)||void 0}function Yt({visible:e,containerRef:t}){const r=n.useRef(null),o=We(),{publish:i,subscribe:s}=Me(),{carousel:c,styles:l}=U(),{slides:a,globalIndex:u,animation:d}=se(),{registerSensors:h,subscribeSensors:v}=_n();yn(v);const m=Ln(),{position:p,width:g,height:L,border:w,borderStyle:y,borderColor:O,borderRadius:$,padding:C,gap:N,vignette:T}=m,_=(d==null?void 0:d.duration)!==void 0&&(d==null?void 0:d.increment)||0,I=(d==null?void 0:d.duration)||0,{prepareAnimation:k}=ot(r,f=>({keyframes:Ht(p)?[{transform:`translateX(${(o?-1:1)*Xt(m,g)*_+f}px)`},{transform:"translateX(0)"}]:[{transform:`translateY(${Xt(m,L)*_+f}px)`},{transform:"translateY(0)"}],duration:I,easing:d==null?void 0:d.easing})),F=D(()=>{let f=0;if(t.current&&r.current){const x=t.current.getBoundingClientRect(),R=r.current.getBoundingClientRect();f=Ht(p)?R.left-x.left-(x.width-R.width)/2:R.top-x.top-(x.height-R.height)/2}k(f)});n.useEffect(()=>De(s(et,F)),[s,F]);const W=dn(c,a),M=[];if(mt(a))for(let f=u-W-Math.abs(_);f<=u+W+Math.abs(_);f+=1){const R=c.finite&&(f<0||f>a.length-1)||_<0&&f<u-W||_>0&&f>u+W?null:pt(a,f),Z=[`${f}`,Qo(R)].filter(Boolean).join("|");M.push({key:Z,index:f,slide:R})}const b=f=>()=>{f>u?i(le,{count:f-u}):f<u&&i(ce,{count:u-f})};return n.createElement("div",{className:B(P(fe("container")),P(Ee)),style:{...e?null:{display:"none"},...g!==ue.width?{[A(H("width"))]:`${g}px`}:null,...L!==ue.height?{[A(H("height"))]:`${L}px`}:null,...w!==ue.border?{[A(H("border"))]:`${w}px`}:null,...y?{[A(H("border_style"))]:y}:null,...O?{[A(H("border_color"))]:O}:null,...$!==ue.borderRadius?{[A(H("border_radius"))]:`${$}px`}:null,...C!==ue.padding?{[A(H("padding"))]:`${C}px`}:null,...N!==ue.gap?{[A(H("gap"))]:`${N}px`}:null,...l.thumbnailsContainer}},n.createElement("nav",{ref:r,style:l.thumbnailsTrack,className:B(P(fe("track")),P(Ee)),tabIndex:-1,...h},M.map(({key:f,index:x,slide:R})=>{const Z=I/Math.abs(_||1),X=_>0&&x>u+W-_&&x<=u+W||_<0&&x<u-W-_&&x>=u-W?{duration:Z,delay:((_>0?x-(u+W-_):u-W-_-x)-1)*Z}:void 0,G=_>0&&x<u-W||_<0&&x>u+W?{duration:Z,delay:(_>0?_-(u-W-x):-_-(x-(u+W)))*Z}:void 0;return n.createElement(qo,{key:f,slide:R,active:x===u,fadeIn:X,fadeOut:G,placeholder:!R,onClick:b(x),onLoseFocus:()=>{var S;return(S=r.current)===null||S===void 0?void 0:S.focus()}})})),T&&n.createElement("div",{className:P(fe("vignette"))}))}const Tn=n.createContext(null),Jo=oe("useThumbnails","ThumbnailsContext",Tn);function er({children:e,...t}){const{ref:r,position:o,hidden:i}=bt(t.thumbnails),[s,c]=n.useState(!i),l=n.useRef(null),a=n.useMemo(()=>({visible:s,show:()=>c(!0),hide:()=>c(!1)}),[s]);return n.useImperativeHandle(r,()=>a,[a]),n.createElement(vn,{...t},n.createElement(Tn.Provider,{value:a},n.createElement("div",{ref:l,className:B(P(fe()),P(fe(`${o}`)))},["start","top"].includes(o)&&n.createElement(Yt,{containerRef:l,visible:s}),n.createElement("div",{className:P(fe("wrapper"))},e),["end","bottom"].includes(o)&&n.createElement(Yt,{containerRef:l,visible:s}))))}const Nn=()=>n.createElement(n.Fragment,null,n.createElement("path",{strokeWidth:2,stroke:"currentColor",strokeLinejoin:"round",fill:"none",d:"M3 5l18 0l0 14l-18 0l0-14z"}),n.createElement("path",{d:"M5 14h4v3h-4zM10 14h4v3h-4zM15 14h4v3h-4z"})),tr=J("ThumbnailsVisible",Nn()),nr=Cn("ThumbnailsHidden",Nn());function or(){const{visible:e,show:t,hide:r}=Jo(),{render:o}=U();return o.buttonThumbnails?n.createElement(n.Fragment,null,o.buttonThumbnails({visible:e,show:t,hide:r})):n.createElement(Se,{label:e?"Hide thumbnails":"Show thumbnails",icon:e?tr:nr,renderIcon:e?o.iconThumbnailsVisible:o.iconThumbnailsHidden,onClick:e?r:t})}function Ir({augment:e,contains:t,append:r,addParent:o}){e(({thumbnails:s,toolbar:c,...l})=>{const a=bt(s);return{toolbar:vt(c,Je,a.showToggle?n.createElement(or,null):null),thumbnails:a,...l}});const i=re(Je,er);t(Tt)?r(Tt,i):o(st,i)}const be=e=>P(`slide_${e}`),it={descriptionTextAlign:"start",descriptionMaxLines:3,showToggle:!1,hidden:!1},Et=e=>({...it,...e});function rr(){const{captions:e}=U();return Et(e)}const Rn=n.createContext(null),wt=oe("useCaptions","CaptionsContext",Rn);function ir({captions:e,children:t}){const{ref:r,hidden:o}=Et(e),[i,s]=n.useState(!o),c=n.useMemo(()=>({visible:i,show:()=>s(!0),hide:()=>s(!1)}),[i]);return n.useImperativeHandle(r,()=>c,[c]),n.createElement(Rn.Provider,{value:c},t)}function sr({title:e}){const{toolbarWidth:t}=ie(),{styles:r}=U(),{visible:o}=wt();return o?n.createElement("div",{style:r.captionsTitleContainer,className:B(be("captions_container"),be("title_container"))},n.createElement("div",{className:be("title"),style:{...t?{[A("toolbar_width")]:`${t}px`}:null,...r.captionsTitle}},e)):null}function cr({description:e}){const{descriptionTextAlign:t,descriptionMaxLines:r}=rr(),{styles:o}=U(),{visible:i}=wt();return i?n.createElement("div",{style:o.captionsDescriptionContainer,className:B(be("captions_container"),be("description_container"))},n.createElement("div",{className:be("description"),style:{...t!==it.descriptionTextAlign||r!==it.descriptionMaxLines?{[A("slide_description_text_align")]:t,[A("slide_description_max_lines")]:r}:null,...o.captionsDescription}},typeof e=="string"?e.split(`
`).flatMap((s,c)=>[...c>0?[n.createElement("br",{key:c})]:[],s]):e)):null}const On=()=>n.createElement(n.Fragment,null,n.createElement("path",{strokeWidth:2,stroke:"currentColor",strokeLinejoin:"round",fill:"none",d:"M3 5l18 0l0 14l-18 0l0-14z"}),n.createElement("path",{d:"M7 15h3c.55 0 1-.45 1-1v-1H9.5v.5h-2v-3h2v.5H11v-1c0-.55-.45-1-1-1H7c-.55 0-1 .45-1 1v4c0 .55.45 1 1 1zm7 0h3c.55 0 1-.45 1-1v-1h-1.5v.5h-2v-3h2v.5H18v-1c0-.55-.45-1-1-1h-3c-.55 0-1 .45-1 1v4c0 .55.45 1 1 1z"})),lr=J("CaptionsVisible",On()),ar=Cn("CaptionsVisible",On());function ur(){const{visible:e,show:t,hide:r}=wt(),{render:o}=U();return o.buttonCaptions?n.createElement(n.Fragment,null,o.buttonCaptions({visible:e,show:t,hide:r})):n.createElement(Se,{label:e?"Hide captions":"Show captions",icon:e?lr:ar,renderIcon:e?o.iconCaptionsVisible:o.iconCaptionsHidden,onClick:e?r:t})}function Lr({augment:e,addModule:t}){e(({captions:r,render:{slideFooter:o,...i},toolbar:s,...c})=>{const l=Et(r);return{render:{slideFooter:({slide:a})=>n.createElement(n.Fragment,null,o==null?void 0:o({slide:a}),a.title&&n.createElement(sr,{title:a.title}),a.description&&n.createElement(cr,{description:a.description})),...i},toolbar:vt(s,Lt,l.showToggle?n.createElement(ur,null):null),captions:l,...c}}),t(re(Lt,ir))}const dr={maxZoomPixelRatio:1,zoomInMultiplier:2,doubleTapDelay:300,doubleClickDelay:500,doubleClickMaxStops:2,keyboardMoveDistance:50,wheelZoomDistanceFactor:100,pinchZoomDistanceFactor:100,scrollToZoom:!1},kn=e=>({...dr,...e});function fr(e,t,r,o){const i=n.useRef(void 0),s=n.useRef(void 0),{zoom:c}=U().animation,l=gt(),a=D(()=>{var u,d,h;if((u=i.current)===null||u===void 0||u.cancel(),i.current=void 0,s.current&&(o!=null&&o.current)){try{i.current=(h=(d=o.current).animate)===null||h===void 0?void 0:h.call(d,[{transform:s.current},{transform:`scale(${e}) translateX(${t}px) translateY(${r}px)`}],{duration:l?0:c??500,easing:i.current?"ease-out":"ease-in-out"})}catch(v){console.error(v)}s.current=void 0,i.current&&(i.current.onfinish=()=>{i.current=void 0})}});return ne(a,[e,t,r,a]),n.useCallback(()=>{s.current=o!=null&&o.current?window.getComputedStyle(o.current).transform:void 0},[o])}function hr(e,t){const{on:r}=U(),o=D(()=>{var i;t||(i=r.zoom)===null||i===void 0||i.call(r,{zoom:e})});n.useEffect(o,[e,o])}function Fe(){const{zoom:e}=U();return kn(e)}function mr(e,t){var r,o;let i={width:0,height:0},s={width:0,height:0};const{currentSlide:c}=se(),{imageFit:l}=U().carousel,{maxZoomPixelRatio:a}=Fe();if(e&&c){const d={...c,...t};if(pe(d)){const h=ht(d,l),v=Math.max(...(((r=d.srcSet)===null||r===void 0?void 0:r.map(p=>p.width))||[]).concat(d.width?[d.width]:[])),m=Math.max(...(((o=d.srcSet)===null||o===void 0?void 0:o.map(p=>p.height))||[]).concat(d.height?[d.height]:[]));v>0&&m>0&&e.width>0&&e.height>0&&(s=h?{width:Math.round(Math.min(v,e.width/e.height*m)),height:Math.round(Math.min(m,e.height/e.width*v))}:{width:v,height:m},s={width:s.width*a,height:s.height*a},i=h?{width:Math.min(e.width,s.width,v),height:Math.min(e.height,s.height,m)}:{width:Math.round(Math.min(e.width,e.height/m*v,v)),height:Math.round(Math.min(e.height,e.width/v*m,m))})}}const u=i.width?Math.max(ft(s.width/i.width,5),1):1;return{imageRect:i,maxZoom:u}}function Bt(e,t){return((e.clientX-t.clientX)**2+(e.clientY-t.clientY)**2)**.5}function Kt(e,t,r=100,o=2){return e*Math.min(1+Math.abs(t/r),o)**Math.sign(t)}function pr(e,t,r,o,i,s){const c=n.useRef([]),l=n.useRef(0),a=n.useRef(void 0),{globalIndex:u}=se(),{getOwnerWindow:d}=Pe(),{containerRef:h,subscribeSensors:v}=ie(),{keyboardMoveDistance:m,zoomInMultiplier:p,wheelZoomDistanceFactor:g,scrollToZoom:L,doubleTapDelay:w,doubleClickDelay:y,doubleClickMaxStops:O,pinchZoomDistanceFactor:$}=Fe(),C=n.useCallback(b=>{if(h.current){const{pageX:f,pageY:x}=b,{scrollX:R,scrollY:Z}=d(),{left:X,top:G,width:S,height:K}=h.current.getBoundingClientRect();return[f-X-R-S/2,x-G-Z-K/2]}return[]},[h,d]),N=D(b=>{const{key:f,metaKey:x,ctrlKey:R}=b,Z=x||R,X=()=>{b.preventDefault(),b.stopPropagation()};if(e>1){const S=(K,ye)=>{X(),i(K,ye)};f==="ArrowDown"?S(0,m):f==="ArrowUp"?S(0,-m):f==="ArrowLeft"?S(-m,0):f==="ArrowRight"&&S(m,0)}const G=S=>{X(),o(S)};f==="+"||Z&&f==="="?G(e*p):f==="-"||Z&&f==="_"?G(e/p):Z&&f==="0"&&G(1)}),T=D(b=>{if((b.ctrlKey||L)&&Math.abs(b.deltaY)>Math.abs(b.deltaX)){b.stopPropagation(),o(Kt(e,-b.deltaY,g),!0,...C(b));return}e>1&&(b.stopPropagation(),L||i(b.deltaX,b.deltaY))}),_=n.useCallback(b=>{const f=c.current;f.splice(0,f.length,...f.filter(x=>x.pointerId!==b.pointerId))},[]),I=n.useCallback(b=>{_(b),b.persist(),c.current.push(b)},[_]),k=D(b=>{var f;const x=c.current;if(b.pointerType==="mouse"&&b.buttons>1||!(!((f=s==null?void 0:s.current)===null||f===void 0)&&f.contains(b.target)))return;e>1&&b.stopPropagation();const{timeStamp:R}=b;x.length===0&&R-l.current<(b.pointerType==="touch"?w:y)?(l.current=0,o(e!==t?e*Math.max(t**(1/O),p):1,!1,...C(b))):l.current=R,I(b),x.length===2&&(a.current=Bt(x[0],x[1]))}),F=D(b=>{const f=c.current,x=f.find(R=>R.pointerId===b.pointerId);if(f.length===2&&a.current){b.stopPropagation(),I(b);const R=Bt(f[0],f[1]),Z=R-a.current;Math.abs(Z)>0&&(o(Kt(e,Z,$),!0,...f.map(X=>C(X)).reduce((X,G)=>G.map((S,K)=>X[K]+S/2))),a.current=R);return}e>1&&(b.stopPropagation(),x&&(f.length===1&&i((x.clientX-b.clientX)/e,(x.clientY-b.clientY)/e),I(b)))}),W=n.useCallback(b=>{const f=c.current;f.length===2&&f.find(x=>x.pointerId===b.pointerId)&&(a.current=void 0),_(b)},[_]),M=n.useCallback(()=>{const b=c.current;b.splice(0,b.length),l.current=0,a.current=void 0},[]);Pn(v,k,F,W,r),n.useEffect(M,[u,M]),n.useEffect(()=>r?()=>{}:De(M,v(at,N),v(ut,T)),[r,v,M,N,T])}function vr(e,t,r){const[o,i]=n.useState(1),[s,c]=n.useState(0),[l,a]=n.useState(0),u=fr(o,s,l,r),{currentSlide:d,globalIndex:h}=se(),{containerRect:v,slideRect:m}=ie(),{zoomInMultiplier:p}=Fe(),g=d&&pe(d)?d.src:void 0,L=!g||!(r!=null&&r.current);ne(()=>{i(1),c(0),a(0)},[h,g]);const w=n.useCallback((N,T,_)=>{const I=_||o,k=s-(N||0),F=l-(T||0),W=(e.width*I-m.width)/2/I,M=(e.height*I-m.height)/2/I;c(Math.min(Math.abs(k),Math.max(W,0))*Math.sign(k)),a(Math.min(Math.abs(F),Math.max(M,0))*Math.sign(F))},[o,s,l,m,e.width,e.height]),y=n.useCallback((N,T,_,I)=>{const k=ft(Math.min(Math.max(N+.001<t?N:t,1),t),5);k!==o&&(T||u(),w(_?_*(1/o-1/k):0,I?I*(1/o-1/k):0,k),i(k))},[o,t,w,u]),O=D(()=>{o>1&&(o>t&&y(t,!0),w())});ne(O,[v.width,v.height,O]);const $=n.useCallback(()=>y(o*p),[o,p,y]),C=n.useCallback(()=>y(o/p),[o,p,y]);return{zoom:o,offsetX:s,offsetY:l,disabled:L,changeOffsets:w,changeZoom:y,zoomIn:$,zoomOut:C}}const Dn=n.createContext(null),Ct=oe("useZoom","ZoomControllerContext",Dn);function gr({children:e}){const[t,r]=n.useState(),{slideRect:o}=ie(),{imageRect:i,maxZoom:s}=mr(o,t==null?void 0:t.imageDimensions),{zoom:c,offsetX:l,offsetY:a,disabled:u,changeZoom:d,changeOffsets:h,zoomIn:v,zoomOut:m}=vr(i,s,t==null?void 0:t.zoomWrapperRef);hr(c,u),pr(c,s,u,d,h,t==null?void 0:t.zoomWrapperRef);const p=n.useMemo(()=>({zoom:c,maxZoom:s,offsetX:l,offsetY:a,disabled:u,zoomIn:v,zoomOut:m,changeZoom:d}),[c,s,l,a,u,v,m,d]);n.useImperativeHandle(Fe().ref,()=>p,[p]);const g=n.useMemo(()=>({...p,setZoomWrapper:r}),[p,r]);return n.createElement(Dn.Provider,{value:g},e)}const br=J("ZoomIn",n.createElement(n.Fragment,null,n.createElement("path",{d:"M15.5 14h-.79l-.28-.27C15.41 12.59 16 11.11 16 9.5 16 5.91 13.09 3 9.5 3S3 5.91 3 9.5 5.91 16 9.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19l-4.99-5zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14z"}),n.createElement("path",{d:"M12 10h-2v2H9v-2H7V9h2V7h1v2h2v1z"}))),Er=J("ZoomOut",n.createElement("path",{d:"M15.5 14h-.79l-.28-.27C15.41 12.59 16 11.11 16 9.5 16 5.91 13.09 3 9.5 3S3 5.91 3 9.5 5.91 16 9.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19l-4.99-5zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14zM7 9h5v1H7z"})),jt=n.forwardRef(function({zoomIn:t,onLoseFocus:r},o){const i=n.useRef(!1),s=n.useRef(!1),{zoom:c,maxZoom:l,zoomIn:a,zoomOut:u,disabled:d}=Ct(),{render:h}=U(),v=d||(t?c>=l:c<=1);return n.useEffect(()=>{v&&i.current&&s.current&&r(),v||(i.current=!0)},[v,r]),n.createElement(Se,{ref:o,disabled:v,label:t?"Zoom in":"Zoom out",icon:t?br:Er,renderIcon:t?h.iconZoomIn:h.iconZoomOut,onClick:t?a:u,onFocus:()=>{s.current=!0},onBlur:()=>{s.current=!1}})});function wr(){const e=n.useRef(null),t=n.useRef(null),{focus:r}=ie(),o=n.useCallback(c=>{var l,a;!((l=c.current)===null||l===void 0)&&l.disabled?r():(a=c.current)===null||a===void 0||a.focus()},[r]),i=n.useCallback(()=>o(e),[o]),s=n.useCallback(()=>o(t),[o]);return n.createElement(n.Fragment,null,n.createElement(jt,{zoomIn:!0,ref:e,onLoseFocus:s}),n.createElement(jt,{ref:t,onLoseFocus:i}))}function Cr(){const{render:e}=U(),t=Ct();return e.buttonZoom?n.createElement(n.Fragment,null,e.buttonZoom(t)):n.createElement(wr,null)}function xr(e){var t;return(((t=e.srcSet)===null||t===void 0?void 0:t.length)||0)>0}function _r({current:e,preload:t},{type:r,source:o}){switch(r){case"fetch":return e?{current:e,preload:o}:{current:o};case"done":return o===t?{current:o}:{current:e,preload:t};default:throw new Error(cn)}}function Pr(e){var t,r;const[{current:o,preload:i},s]=n.useReducer(_r,{}),{slide:c,rect:l,imageFit:a,render:u,interactive:d}=e,h=c.srcSet.sort((C,N)=>C.width-N.width),v=(t=c.width)!==null&&t!==void 0?t:h[h.length-1].width,m=(r=c.height)!==null&&r!==void 0?r:h[h.length-1].height,p=ht(c,a),g=Math.max(...h.map(C=>C.width)),L=Math.min((p?Math.max:Math.min)(l.width,v*(l.height/m)),g),w=oo(),y=D(()=>{var C;const N=(C=h.find(T=>T.width>=L*w))!==null&&C!==void 0?C:h[h.length-1];(!o||h.findIndex(T=>T.src===o)<h.findIndex(T=>T===N))&&s({type:"fetch",source:N.src})});ne(y,[l.width,l.height,w,y]);const O=D(C=>s({type:"done",source:C})),$={WebkitTransform:d?"initial":"translateZ(0)"};return p||Object.assign($,l.width/l.height<v/m?{width:"100%",height:"auto"}:{width:"auto",height:"100%"}),n.createElement(n.Fragment,null,i&&i!==o&&n.createElement(de,{key:"preload",...e,offset:void 0,slide:{...c,src:i,srcSet:void 0},style:{position:"absolute",visibility:"hidden",...$},onLoad:()=>O(i),render:{...u,iconLoading:()=>null,iconError:()=>null}}),o&&n.createElement(de,{key:"current",...e,slide:{...c,src:o,srcSet:void 0},style:$}))}function Mr({render:e,slide:t,offset:r,rect:o}){var i;const[s,c]=n.useState(),l=n.useRef(null),{zoom:a,maxZoom:u,offsetX:d,offsetY:h,setZoomWrapper:v}=Ct(),m=a>1,{carousel:p,on:g}=U(),{currentIndex:L}=se();ne(()=>r===0?(v({zoomWrapperRef:l,imageDimensions:s}),()=>v(void 0)):()=>{},[r,s,v]);let w=(i=e.slide)===null||i===void 0?void 0:i.call(e,{slide:t,offset:r,rect:o,zoom:a,maxZoom:u});if(!w&&pe(t)){const y={slide:t,offset:r,rect:o,render:e,imageFit:p.imageFit,imageProps:p.imageProps,onClick:r===0?()=>{var O;return(O=g.click)===null||O===void 0?void 0:O.call(g,{index:L})}:void 0};w=xr(t)?n.createElement(Pr,{...y,slide:t,interactive:m,rect:r===0?{width:o.width*a,height:o.height*a}:o}):n.createElement(de,{onLoad:O=>c({width:O.naturalWidth,height:O.naturalHeight}),...y})}return w?n.createElement("div",{ref:l,className:B(P(Bn),P(Ee),P(Jt),m&&P(jn)),style:r===0?{transform:`scale(${a}) translateX(${d}px) translateY(${h}px)`}:void 0},w):null}const Tr=({augment:e,addModule:t})=>{e(({zoom:r,toolbar:o,render:i,controller:s,...c})=>{const l=kn(r);return{zoom:l,toolbar:vt(o,Nt,n.createElement(Cr,null)),render:{...i,slide:a=>{var u;return pe(a.slide)?n.createElement(Mr,{render:i,...a}):(u=i.slide)===null||u===void 0?void 0:u.call(i,a)}},controller:{...s,preventDefaultWheelY:l.scrollToZoom},...c}}),t(re(Nt,gr))};export{Lr as C,yr as L,Ir as T,Tr as Z};
