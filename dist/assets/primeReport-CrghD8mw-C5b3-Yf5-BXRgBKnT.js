import{s as sb,S as S$5,T as T$1,i as ix,R as Rd}from"./index-CkfK2x5R.js";var Io=Object.defineProperty,ha=W=>{throw TypeError(W)},Do=(W,G,Y)=>G in W?Io(W,G,{enumerable:!0,configurable:!0,writable:!0,value:Y}):W[G]=Y,$n=(W,G,Y)=>Do(W,typeof G!="symbol"?G+"":G,Y),fi=(W,G,Y)=>G.has(W)||ha("Cannot "+Y),V=(W,G,Y)=>(fi(W,G,"read from private field"),Y?Y.call(W):G.get(W)),it=(W,G,Y)=>G.has(W)?ha("Cannot add the same private member more than once"):G instanceof WeakSet?G.add(W):G.set(W,Y),at=(W,G,Y,q)=>(fi(W,G,"write to private field"),G.set(W,Y),Y),Ue=(W,G,Y)=>(fi(W,G,"access private method"),Y),Cr=(W,G,Y,q)=>({set _(X){at(W,G,X)},get _(){return V(W,G,q)}}),lib$h={exports:{}},core_min={},pdf={exports:{}};const __viteBrowserExternal={},__viteBrowserExternal$1=Object.freeze(Object.defineProperty({__proto__:null,default:__viteBrowserExternal},Symbol.toStringTag,{value:"Module"})),require$$5=sb(__viteBrowserExternal$1);(function(module,exports){(function(W,G){module.exports=W.pdfjsLib=G()})(globalThis,()=>(()=>{var __webpack_modules__=[,(W,G)=>{var Y;Object.defineProperty(G,"__esModule",{value:!0}),G.VerbosityLevel=G.Util=G.UnknownErrorException=G.UnexpectedResponseException=G.TextRenderingMode=G.RenderingIntentFlag=G.PromiseCapability=G.PermissionFlag=G.PasswordResponses=G.PasswordException=G.PageActionEventType=G.OPS=G.MissingPDFException=G.MAX_IMAGE_SIZE_TO_CACHE=G.LINE_FACTOR=G.LINE_DESCENT_FACTOR=G.InvalidPDFException=G.ImageKind=G.IDENTITY_MATRIX=G.FormatError=G.FeatureTest=G.FONT_IDENTITY_MATRIX=G.DocumentActionEventType=G.CMapCompressionType=G.BaseException=G.BASELINE_FACTOR=G.AnnotationType=G.AnnotationReplyType=G.AnnotationPrefix=G.AnnotationMode=G.AnnotationFlag=G.AnnotationFieldFlag=G.AnnotationEditorType=G.AnnotationEditorPrefix=G.AnnotationEditorParamsType=G.AnnotationBorderStyleType=G.AnnotationActionEventType=G.AbortException=void 0,G.assert=nt,G.bytesToString=kt,G.createValidAbsoluteUrl=Ve,G.getModificationDate=Bt,G.getUuid=In,G.getVerbosityLevel=xt,G.info=pt,G.isArrayBuffer=Jt,G.isArrayEqual=Yt,G.isNodeJS=void 0,G.normalizeUnicode=Fn,G.objectFromMap=De,G.objectSize=Ot,G.setVerbosityLevel=Be,G.shadow=_e,G.string32=Mt,G.stringToBytes=dt,G.stringToPDFString=_t,G.stringToUTF8String=Tt,G.unreachable=Ne,G.utf8StringToString=jt,G.warn=Et;const q=typeof process=="object"&&process+""=="[object process]"&&!process.versions.nw&&!(process.versions.electron&&process.type&&process.type!=="browser");G.isNodeJS=q;const X=[1,0,0,1,0,0];G.IDENTITY_MATRIX=X;const K=[.001,0,0,.001,0,0];G.FONT_IDENTITY_MATRIX=K;const B=1e7;G.MAX_IMAGE_SIZE_TO_CACHE=B;const he=1.35;G.LINE_FACTOR=he;const ke=.35;G.LINE_DESCENT_FACTOR=ke;const Ae=ke/he;G.BASELINE_FACTOR=Ae;const ae={ANY:1,DISPLAY:2,PRINT:4,SAVE:8,ANNOTATIONS_FORMS:16,ANNOTATIONS_STORAGE:32,ANNOTATIONS_DISABLE:64,OPLIST:256};G.RenderingIntentFlag=ae;const Re={DISABLE:0,ENABLE:1,ENABLE_FORMS:2,ENABLE_STORAGE:3};G.AnnotationMode=Re;const ge="pdfjs_internal_editor_";G.AnnotationEditorPrefix=ge;const ve={DISABLE:-1,NONE:0,FREETEXT:3,STAMP:13,INK:15};G.AnnotationEditorType=ve;const xe={RESIZE:1,CREATE:2,FREETEXT_SIZE:11,FREETEXT_COLOR:12,FREETEXT_OPACITY:13,INK_COLOR:21,INK_THICKNESS:22,INK_OPACITY:23};G.AnnotationEditorParamsType=xe;const Se={PRINT:4,MODIFY_CONTENTS:8,COPY:16,MODIFY_ANNOTATIONS:32,FILL_INTERACTIVE_FORMS:256,COPY_FOR_ACCESSIBILITY:512,ASSEMBLE:1024,PRINT_HIGH_QUALITY:2048};G.PermissionFlag=Se;const pe={FILL:0,STROKE:1,FILL_STROKE:2,INVISIBLE:3,FILL_ADD_TO_PATH:4,STROKE_ADD_TO_PATH:5,FILL_STROKE_ADD_TO_PATH:6,ADD_TO_PATH:7,FILL_STROKE_MASK:3,ADD_TO_PATH_FLAG:4};G.TextRenderingMode=pe;const ne={GRAYSCALE_1BPP:1,RGB_24BPP:2,RGBA_32BPP:3};G.ImageKind=ne;const we={TEXT:1,LINK:2,FREETEXT:3,LINE:4,SQUARE:5,CIRCLE:6,POLYGON:7,POLYLINE:8,HIGHLIGHT:9,UNDERLINE:10,SQUIGGLY:11,STRIKEOUT:12,STAMP:13,CARET:14,INK:15,POPUP:16,FILEATTACHMENT:17,SOUND:18,MOVIE:19,WIDGET:20,SCREEN:21,PRINTERMARK:22,TRAPNET:23,WATERMARK:24,THREED:25,REDACT:26};G.AnnotationType=we;const Ie={GROUP:"Group",REPLY:"R"};G.AnnotationReplyType=Ie;const Pe={INVISIBLE:1,HIDDEN:2,PRINT:4,NOZOOM:8,NOROTATE:16,NOVIEW:32,READONLY:64,LOCKED:128,TOGGLENOVIEW:256,LOCKEDCONTENTS:512};G.AnnotationFlag=Pe;const Ee={READONLY:1,REQUIRED:2,NOEXPORT:4,MULTILINE:4096,PASSWORD:8192,NOTOGGLETOOFF:16384,RADIO:32768,PUSHBUTTON:65536,COMBO:131072,EDIT:262144,SORT:524288,FILESELECT:1048576,MULTISELECT:2097152,DONOTSPELLCHECK:4194304,DONOTSCROLL:8388608,COMB:16777216,RICHTEXT:33554432,RADIOSINUNISON:33554432,COMMITONSELCHANGE:67108864};G.AnnotationFieldFlag=Ee;const Ce={SOLID:1,DASHED:2,BEVELED:3,INSET:4,UNDERLINE:5};G.AnnotationBorderStyleType=Ce;const Oe={E:"Mouse Enter",X:"Mouse Exit",D:"Mouse Down",U:"Mouse Up",Fo:"Focus",Bl:"Blur",PO:"PageOpen",PC:"PageClose",PV:"PageVisible",PI:"PageInvisible",K:"Keystroke",F:"Format",V:"Validate",C:"Calculate"};G.AnnotationActionEventType=Oe;const qe={WC:"WillClose",WS:"WillSave",DS:"DidSave",WP:"WillPrint",DP:"DidPrint"};G.DocumentActionEventType=qe;const ze={O:"PageOpen",C:"PageClose"};G.PageActionEventType=ze;const rt={ERRORS:0,WARNINGS:1,INFOS:5};G.VerbosityLevel=rt;const ye={NONE:0,BINARY:1};G.CMapCompressionType=ye;const ot={dependency:1,setLineWidth:2,setLineCap:3,setLineJoin:4,setMiterLimit:5,setDash:6,setRenderingIntent:7,setFlatness:8,setGState:9,save:10,restore:11,transform:12,moveTo:13,lineTo:14,curveTo:15,curveTo2:16,curveTo3:17,closePath:18,rectangle:19,stroke:20,closeStroke:21,fill:22,eoFill:23,fillStroke:24,eoFillStroke:25,closeFillStroke:26,closeEOFillStroke:27,endPath:28,clip:29,eoClip:30,beginText:31,endText:32,setCharSpacing:33,setWordSpacing:34,setHScale:35,setLeading:36,setFont:37,setTextRenderingMode:38,setTextRise:39,moveText:40,setLeadingMoveText:41,setTextMatrix:42,nextLine:43,showText:44,showSpacedText:45,nextLineShowText:46,nextLineSetSpacingShowText:47,setCharWidth:48,setCharWidthAndBounds:49,setStrokeColorSpace:50,setFillColorSpace:51,setStrokeColor:52,setStrokeColorN:53,setFillColor:54,setFillColorN:55,setStrokeGray:56,setFillGray:57,setStrokeRGBColor:58,setFillRGBColor:59,setStrokeCMYKColor:60,setFillCMYKColor:61,shadingFill:62,beginInlineImage:63,beginImageData:64,endInlineImage:65,paintXObject:66,markPoint:67,markPointProps:68,beginMarkedContent:69,beginMarkedContentProps:70,endMarkedContent:71,beginCompat:72,endCompat:73,paintFormXObjectBegin:74,paintFormXObjectEnd:75,beginGroup:76,endGroup:77,beginAnnotation:80,endAnnotation:81,paintImageMaskXObject:83,paintImageMaskXObjectGroup:84,paintImageXObject:85,paintInlineImageXObject:86,paintInlineImageXObjectGroup:87,paintImageXObjectRepeat:88,paintImageMaskXObjectRepeat:89,paintSolidColorImageMask:90,constructPath:91};G.OPS=ot;const He={NEED_PASSWORD:1,INCORRECT_PASSWORD:2};G.PasswordResponses=He;let Ge=rt.WARNINGS;function Be(Lt){Number.isInteger(Lt)&&(Ge=Lt)}function xt(){return Ge}function pt(Lt){Ge>=rt.INFOS&&console.log(`Info: ${Lt}`)}function Et(Lt){Ge>=rt.WARNINGS&&console.log(`Warning: ${Lt}`)}function Ne(Lt){throw new Error(Lt)}function nt(Lt,yt){Lt||Ne(yt)}function ut(Lt){switch(Lt==null?void 0:Lt.protocol){case"http:":case"https:":case"ftp:":case"mailto:":case"tel:":return!0;default:return!1}}function Ve(Lt,yt=null,ft=null){if(!Lt)return null;try{if(ft&&typeof Lt=="string"){if(ft.addDefaultProtocol&&Lt.startsWith("www.")){const qt=Lt.match(/\./g);(qt==null?void 0:qt.length)>=2&&(Lt=`http://${Lt}`)}if(ft.tryConvertEncoding)try{Lt=Tt(Lt)}catch{}}const Qt=yt?new URL(Lt,yt):new URL(Lt);if(ut(Qt))return Qt}catch{}return null}function _e(Lt,yt,ft,Qt=!1){return Object.defineProperty(Lt,yt,{value:ft,enumerable:!Qt,configurable:!0,writable:!1}),ft}const fe=function(){function Lt(yt,ft){this.constructor===Lt&&Ne("Cannot initialize BaseException."),this.message=yt,this.name=ft}return Lt.prototype=new Error,Lt.constructor=Lt,Lt}();G.BaseException=fe;class Le extends fe{constructor(yt,ft){super(yt,"PasswordException"),this.code=ft}}G.PasswordException=Le;class je extends fe{constructor(yt,ft){super(yt,"UnknownErrorException"),this.details=ft}}G.UnknownErrorException=je;class Fe extends fe{constructor(yt){super(yt,"InvalidPDFException")}}G.InvalidPDFException=Fe;class Xe extends fe{constructor(yt){super(yt,"MissingPDFException")}}G.MissingPDFException=Xe;class Ye extends fe{constructor(yt,ft){super(yt,"UnexpectedResponseException"),this.status=ft}}G.UnexpectedResponseException=Ye;class gt extends fe{constructor(yt){super(yt,"FormatError")}}G.FormatError=gt;class Ct extends fe{constructor(yt){super(yt,"AbortException")}}G.AbortException=Ct;function kt(Lt){(typeof Lt!="object"||(Lt==null?void 0:Lt.length)===void 0)&&Ne("Invalid argument for bytesToString");const yt=Lt.length,ft=8192;if(yt<ft)return String.fromCharCode.apply(null,Lt);const Qt=[];for(let qt=0;qt<yt;qt+=ft){const Ht=Math.min(qt+ft,yt),Qe=Lt.subarray(qt,Ht);Qt.push(String.fromCharCode.apply(null,Qe))}return Qt.join("")}function dt(Lt){typeof Lt!="string"&&Ne("Invalid argument for stringToBytes");const yt=Lt.length,ft=new Uint8Array(yt);for(let Qt=0;Qt<yt;++Qt)ft[Qt]=Lt.charCodeAt(Qt)&255;return ft}function Mt(Lt){return String.fromCharCode(Lt>>24&255,Lt>>16&255,Lt>>8&255,Lt&255)}function Ot(Lt){return Object.keys(Lt).length}function De(Lt){const yt=Object.create(null);for(const[ft,Qt]of Lt)yt[ft]=Qt;return yt}function Te(){const Lt=new Uint8Array(4);return Lt[0]=1,new Uint32Array(Lt.buffer,0,1)[0]===1}function We(){try{return new Function(""),!0}catch{return!1}}class Ze{static get isLittleEndian(){return _e(this,"isLittleEndian",Te())}static get isEvalSupported(){return _e(this,"isEvalSupported",We())}static get isOffscreenCanvasSupported(){return _e(this,"isOffscreenCanvasSupported",typeof OffscreenCanvas<"u")}static get platform(){return typeof navigator>"u"?_e(this,"platform",{isWin:!1,isMac:!1}):_e(this,"platform",{isWin:navigator.platform.includes("Win"),isMac:navigator.platform.includes("Mac")})}static get isCSSRoundSupported(){var yt,ft;return _e(this,"isCSSRoundSupported",(ft=(yt=globalThis.CSS)==null?void 0:yt.supports)==null?void 0:ft.call(yt,"width: round(1.5px, 1px)"))}}G.FeatureTest=Ze;const ct=[...Array(256).keys()].map(Lt=>Lt.toString(16).padStart(2,"0"));class Pt{static makeHexColor(yt,ft,Qt){return`#${ct[yt]}${ct[ft]}${ct[Qt]}`}static scaleMinMax(yt,ft){let Qt;yt[0]?(yt[0]<0&&(Qt=ft[0],ft[0]=ft[1],ft[1]=Qt),ft[0]*=yt[0],ft[1]*=yt[0],yt[3]<0&&(Qt=ft[2],ft[2]=ft[3],ft[3]=Qt),ft[2]*=yt[3],ft[3]*=yt[3]):(Qt=ft[0],ft[0]=ft[2],ft[2]=Qt,Qt=ft[1],ft[1]=ft[3],ft[3]=Qt,yt[1]<0&&(Qt=ft[2],ft[2]=ft[3],ft[3]=Qt),ft[2]*=yt[1],ft[3]*=yt[1],yt[2]<0&&(Qt=ft[0],ft[0]=ft[1],ft[1]=Qt),ft[0]*=yt[2],ft[1]*=yt[2]),ft[0]+=yt[4],ft[1]+=yt[4],ft[2]+=yt[5],ft[3]+=yt[5]}static transform(yt,ft){return[yt[0]*ft[0]+yt[2]*ft[1],yt[1]*ft[0]+yt[3]*ft[1],yt[0]*ft[2]+yt[2]*ft[3],yt[1]*ft[2]+yt[3]*ft[3],yt[0]*ft[4]+yt[2]*ft[5]+yt[4],yt[1]*ft[4]+yt[3]*ft[5]+yt[5]]}static applyTransform(yt,ft){const Qt=yt[0]*ft[0]+yt[1]*ft[2]+ft[4],qt=yt[0]*ft[1]+yt[1]*ft[3]+ft[5];return[Qt,qt]}static applyInverseTransform(yt,ft){const Qt=ft[0]*ft[3]-ft[1]*ft[2],qt=(yt[0]*ft[3]-yt[1]*ft[2]+ft[2]*ft[5]-ft[4]*ft[3])/Qt,Ht=(-yt[0]*ft[1]+yt[1]*ft[0]+ft[4]*ft[1]-ft[5]*ft[0])/Qt;return[qt,Ht]}static getAxialAlignedBoundingBox(yt,ft){const Qt=this.applyTransform(yt,ft),qt=this.applyTransform(yt.slice(2,4),ft),Ht=this.applyTransform([yt[0],yt[3]],ft),Qe=this.applyTransform([yt[2],yt[1]],ft);return[Math.min(Qt[0],qt[0],Ht[0],Qe[0]),Math.min(Qt[1],qt[1],Ht[1],Qe[1]),Math.max(Qt[0],qt[0],Ht[0],Qe[0]),Math.max(Qt[1],qt[1],Ht[1],Qe[1])]}static inverseTransform(yt){const ft=yt[0]*yt[3]-yt[1]*yt[2];return[yt[3]/ft,-yt[1]/ft,-yt[2]/ft,yt[0]/ft,(yt[2]*yt[5]-yt[4]*yt[3])/ft,(yt[4]*yt[1]-yt[5]*yt[0])/ft]}static singularValueDecompose2dScale(yt){const ft=[yt[0],yt[2],yt[1],yt[3]],Qt=yt[0]*ft[0]+yt[1]*ft[2],qt=yt[0]*ft[1]+yt[1]*ft[3],Ht=yt[2]*ft[0]+yt[3]*ft[2],Qe=yt[2]*ft[1]+yt[3]*ft[3],Rt=(Qt+Qe)/2,Zt=Math.sqrt((Qt+Qe)**2-4*(Qt*Qe-Ht*qt))/2,pn=Rt+Zt||1,an=Rt-Zt||1;return[Math.sqrt(pn),Math.sqrt(an)]}static normalizeRect(yt){const ft=yt.slice(0);return yt[0]>yt[2]&&(ft[0]=yt[2],ft[2]=yt[0]),yt[1]>yt[3]&&(ft[1]=yt[3],ft[3]=yt[1]),ft}static intersect(yt,ft){const Qt=Math.max(Math.min(yt[0],yt[2]),Math.min(ft[0],ft[2])),qt=Math.min(Math.max(yt[0],yt[2]),Math.max(ft[0],ft[2]));if(Qt>qt)return null;const Ht=Math.max(Math.min(yt[1],yt[3]),Math.min(ft[1],ft[3])),Qe=Math.min(Math.max(yt[1],yt[3]),Math.max(ft[1],ft[3]));return Ht>Qe?null:[Qt,Ht,qt,Qe]}static bezierBoundingBox(yt,ft,Qt,qt,Ht,Qe,Rt,Zt){const pn=[],an=[[],[]];let Nt,$e,Je,vt,At,wt,It,Gt;for(let gn=0;gn<2;++gn){if(gn===0?($e=6*yt-12*Qt+6*Ht,Nt=-3*yt+9*Qt-9*Ht+3*Rt,Je=3*Qt-3*yt):($e=6*ft-12*qt+6*Qe,Nt=-3*ft+9*qt-9*Qe+3*Zt,Je=3*qt-3*ft),Math.abs(Nt)<1e-12){if(Math.abs($e)<1e-12)continue;vt=-Je/$e,0<vt&&vt<1&&pn.push(vt);continue}It=$e*$e-4*Je*Nt,Gt=Math.sqrt(It),!(It<0)&&(At=(-$e+Gt)/(2*Nt),0<At&&At<1&&pn.push(At),wt=(-$e-Gt)/(2*Nt),0<wt&&wt<1&&pn.push(wt))}let on=pn.length,en;const Xt=on;for(;on--;)vt=pn[on],en=1-vt,an[0][on]=en*en*en*yt+3*en*en*vt*Qt+3*en*vt*vt*Ht+vt*vt*vt*Rt,an[1][on]=en*en*en*ft+3*en*en*vt*qt+3*en*vt*vt*Qe+vt*vt*vt*Zt;return an[0][Xt]=yt,an[1][Xt]=ft,an[0][Xt+1]=Rt,an[1][Xt+1]=Zt,an[0].length=an[1].length=Xt+2,[Math.min(...an[0]),Math.min(...an[1]),Math.max(...an[0]),Math.max(...an[1])]}}G.Util=Pt;const $t=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,728,711,710,729,733,731,730,732,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,8226,8224,8225,8230,8212,8211,402,8260,8249,8250,8722,8240,8222,8220,8221,8216,8217,8218,8482,64257,64258,321,338,352,376,381,305,322,339,353,382,0,8364];function _t(Lt){if(Lt[0]>="ï"){let ft;if(Lt[0]==="þ"&&Lt[1]==="ÿ"?ft="utf-16be":Lt[0]==="ÿ"&&Lt[1]==="þ"?ft="utf-16le":Lt[0]==="ï"&&Lt[1]==="»"&&Lt[2]==="¿"&&(ft="utf-8"),ft)try{const Qt=new TextDecoder(ft,{fatal:!0}),qt=dt(Lt);return Qt.decode(qt)}catch(Qt){Et(`stringToPDFString: "${Qt}".`)}}const yt=[];for(let ft=0,Qt=Lt.length;ft<Qt;ft++){const qt=$t[Lt.charCodeAt(ft)];yt.push(qt?String.fromCharCode(qt):Lt.charAt(ft))}return yt.join("")}function Tt(Lt){return decodeURIComponent(escape(Lt))}function jt(Lt){return unescape(encodeURIComponent(Lt))}function Jt(Lt){return typeof Lt=="object"&&(Lt==null?void 0:Lt.byteLength)!==void 0}function Yt(Lt,yt){if(Lt.length!==yt.length)return!1;for(let ft=0,Qt=Lt.length;ft<Qt;ft++)if(Lt[ft]!==yt[ft])return!1;return!0}function Bt(Lt=new Date){return[Lt.getUTCFullYear().toString(),(Lt.getUTCMonth()+1).toString().padStart(2,"0"),Lt.getUTCDate().toString().padStart(2,"0"),Lt.getUTCHours().toString().padStart(2,"0"),Lt.getUTCMinutes().toString().padStart(2,"0"),Lt.getUTCSeconds().toString().padStart(2,"0")].join("")}class cn{constructor(){it(this,Y,!1),this.promise=new Promise((yt,ft)=>{this.resolve=Qt=>{at(this,Y,!0),yt(Qt)},this.reject=Qt=>{at(this,Y,!0),ft(Qt)}})}get settled(){return V(this,Y)}}Y=new WeakMap,G.PromiseCapability=cn;let sn=null,rn=null;function Fn(Lt){return sn||(sn=/([\u00a0\u00b5\u037e\u0eb3\u2000-\u200a\u202f\u2126\ufb00-\ufb04\ufb06\ufb20-\ufb36\ufb38-\ufb3c\ufb3e\ufb40-\ufb41\ufb43-\ufb44\ufb46-\ufba1\ufba4-\ufba9\ufbae-\ufbb1\ufbd3-\ufbdc\ufbde-\ufbe7\ufbea-\ufbf8\ufbfc-\ufbfd\ufc00-\ufc5d\ufc64-\ufcf1\ufcf5-\ufd3d\ufd88\ufdf4\ufdfa-\ufdfb\ufe71\ufe77\ufe79\ufe7b\ufe7d]+)|(\ufb05+)/gu,rn=new Map([["ﬅ","ſt"]])),Lt.replaceAll(sn,(yt,ft,Qt)=>ft?ft.normalize("NFKC"):rn.get(Qt))}function In(){if(typeof crypto<"u"&&typeof(crypto==null?void 0:crypto.randomUUID)=="function")return crypto.randomUUID();const Lt=new Uint8Array(32);if(typeof crypto<"u"&&typeof(crypto==null?void 0:crypto.getRandomValues)=="function")crypto.getRandomValues(Lt);else for(let yt=0;yt<32;yt++)Lt[yt]=Math.floor(Math.random()*255);return kt(Lt)}const Nn="pdfjs_internal_id_";G.AnnotationPrefix=Nn},(__unused_webpack_module,exports,__w_pdfjs_require__)=>{var A,H,R,O,br,zr,me,ue,le,U,be,ce,J,re,Q,Hr,ee,ie,pi,de,te;Object.defineProperty(exports,"__esModule",{value:!0}),exports.RenderTask=exports.PDFWorkerUtil=exports.PDFWorker=exports.PDFPageProxy=exports.PDFDocumentProxy=exports.PDFDocumentLoadingTask=exports.PDFDataRangeTransport=exports.LoopbackPort=exports.DefaultStandardFontDataFactory=exports.DefaultFilterFactory=exports.DefaultCanvasFactory=exports.DefaultCMapReaderFactory=void 0,Object.defineProperty(exports,"SVGGraphics",{enumerable:!0,get:function(){return _displaySvg.SVGGraphics}}),exports.build=void 0,exports.getDocument=getDocument,exports.version=void 0;var _util=__w_pdfjs_require__(1),_annotation_storage=__w_pdfjs_require__(3),_display_utils=__w_pdfjs_require__(6),_font_loader=__w_pdfjs_require__(9),_displayNode_utils=__w_pdfjs_require__(10),_canvas=__w_pdfjs_require__(11),_worker_options=__w_pdfjs_require__(14),_message_handler=__w_pdfjs_require__(15),_metadata=__w_pdfjs_require__(16),_optional_content_config=__w_pdfjs_require__(17),_transport_stream=__w_pdfjs_require__(18),_displayFetch_stream=__w_pdfjs_require__(19),_displayNetwork=__w_pdfjs_require__(22),_displayNode_stream=__w_pdfjs_require__(23),_displaySvg=__w_pdfjs_require__(24),_xfa_text=__w_pdfjs_require__(25);const DEFAULT_RANGE_CHUNK_SIZE=65536,RENDERING_CANCELLED_TIMEOUT=100,DELAYED_CLEANUP_TIMEOUT=5e3,DefaultCanvasFactory=_util.isNodeJS?_displayNode_utils.NodeCanvasFactory:_display_utils.DOMCanvasFactory;exports.DefaultCanvasFactory=DefaultCanvasFactory;const DefaultCMapReaderFactory=_util.isNodeJS?_displayNode_utils.NodeCMapReaderFactory:_display_utils.DOMCMapReaderFactory;exports.DefaultCMapReaderFactory=DefaultCMapReaderFactory;const DefaultFilterFactory=_util.isNodeJS?_displayNode_utils.NodeFilterFactory:_display_utils.DOMFilterFactory;exports.DefaultFilterFactory=DefaultFilterFactory;const DefaultStandardFontDataFactory=_util.isNodeJS?_displayNode_utils.NodeStandardFontDataFactory:_display_utils.DOMStandardFontDataFactory;exports.DefaultStandardFontDataFactory=DefaultStandardFontDataFactory;function getDocument(W){if(typeof W=="string"||W instanceof URL?W={url:W}:(0,_util.isArrayBuffer)(W)&&(W={data:W}),typeof W!="object")throw new Error("Invalid parameter in getDocument, need parameter object.");if(!W.url&&!W.data&&!W.range)throw new Error("Invalid parameter object: need either .data, .range or .url");const G=new PDFDocumentLoadingTask,{docId:Y}=G,q=W.url?getUrlProp(W.url):null,X=W.data?getDataProp(W.data):null,K=W.httpHeaders||null,B=W.withCredentials===!0,he=W.password??null,ke=W.range instanceof PDFDataRangeTransport?W.range:null,Ae=Number.isInteger(W.rangeChunkSize)&&W.rangeChunkSize>0?W.rangeChunkSize:DEFAULT_RANGE_CHUNK_SIZE;let ae=W.worker instanceof PDFWorker?W.worker:null;const Re=W.verbosity,ge=typeof W.docBaseUrl=="string"&&!(0,_display_utils.isDataScheme)(W.docBaseUrl)?W.docBaseUrl:null,ve=typeof W.cMapUrl=="string"?W.cMapUrl:null,xe=W.cMapPacked!==!1,Se=W.CMapReaderFactory||DefaultCMapReaderFactory,pe=typeof W.standardFontDataUrl=="string"?W.standardFontDataUrl:null,ne=W.StandardFontDataFactory||DefaultStandardFontDataFactory,we=W.stopAtErrors!==!0,Ie=Number.isInteger(W.maxImageSize)&&W.maxImageSize>-1?W.maxImageSize:-1,Pe=W.isEvalSupported!==!1,Ee=typeof W.isOffscreenCanvasSupported=="boolean"?W.isOffscreenCanvasSupported:!_util.isNodeJS,Ce=Number.isInteger(W.canvasMaxAreaInBytes)?W.canvasMaxAreaInBytes:-1,Oe=typeof W.disableFontFace=="boolean"?W.disableFontFace:_util.isNodeJS,qe=W.fontExtraProperties===!0,ze=W.enableXfa===!0,rt=W.ownerDocument||globalThis.document,ye=W.disableRange===!0,ot=W.disableStream===!0,He=W.disableAutoFetch===!0,Ge=W.pdfBug===!0,Be=ke?ke.length:W.length??NaN,xt=typeof W.useSystemFonts=="boolean"?W.useSystemFonts:!_util.isNodeJS&&!Oe,pt=typeof W.useWorkerFetch=="boolean"?W.useWorkerFetch:Se===_display_utils.DOMCMapReaderFactory&&ne===_display_utils.DOMStandardFontDataFactory&&ve&&pe&&(0,_display_utils.isValidFetchUrl)(ve,document.baseURI)&&(0,_display_utils.isValidFetchUrl)(pe,document.baseURI),Et=W.canvasFactory||new DefaultCanvasFactory({ownerDocument:rt}),Ne=W.filterFactory||new DefaultFilterFactory({docId:Y,ownerDocument:rt}),nt=null;(0,_util.setVerbosityLevel)(Re);const ut={canvasFactory:Et,filterFactory:Ne};if(pt||(ut.cMapReaderFactory=new Se({baseUrl:ve,isCompressed:xe}),ut.standardFontDataFactory=new ne({baseUrl:pe})),!ae){const fe={verbosity:Re,port:_worker_options.GlobalWorkerOptions.workerPort};ae=fe.port?PDFWorker.fromPort(fe):new PDFWorker(fe),G._worker=ae}const Ve={docId:Y,apiVersion:"3.11.174",data:X,password:he,disableAutoFetch:He,rangeChunkSize:Ae,length:Be,docBaseUrl:ge,enableXfa:ze,evaluatorOptions:{maxImageSize:Ie,disableFontFace:Oe,ignoreErrors:we,isEvalSupported:Pe,isOffscreenCanvasSupported:Ee,canvasMaxAreaInBytes:Ce,fontExtraProperties:qe,useSystemFonts:xt,cMapUrl:pt?ve:null,standardFontDataUrl:pt?pe:null}},_e={ignoreErrors:we,isEvalSupported:Pe,disableFontFace:Oe,fontExtraProperties:qe,enableXfa:ze,ownerDocument:rt,disableAutoFetch:He,pdfBug:Ge,styleElement:nt};return ae.promise.then(function(){if(G.destroyed)throw new Error("Loading aborted");const fe=_fetchDocument(ae,Ve),Le=new Promise(function(je){let Fe;ke?Fe=new _transport_stream.PDFDataTransportStream({length:Be,initialData:ke.initialData,progressiveDone:ke.progressiveDone,contentDispositionFilename:ke.contentDispositionFilename,disableRange:ye,disableStream:ot},ke):X||(Fe=(Xe=>_util.isNodeJS?new _displayNode_stream.PDFNodeStream(Xe):(0,_display_utils.isValidFetchUrl)(Xe.url)?new _displayFetch_stream.PDFFetchStream(Xe):new _displayNetwork.PDFNetworkStream(Xe))({url:q,length:Be,httpHeaders:K,withCredentials:B,rangeChunkSize:Ae,disableRange:ye,disableStream:ot})),je(Fe)});return Promise.all([fe,Le]).then(function([je,Fe]){if(G.destroyed)throw new Error("Loading aborted");const Xe=new _message_handler.MessageHandler(Y,je,ae.port),Ye=new WorkerTransport(Xe,G,Fe,_e,ut);G._transport=Ye,Xe.send("Ready",null)})}).catch(G._capability.reject),G}async function _fetchDocument(W,G){if(W.destroyed)throw new Error("Worker was destroyed");const Y=await W.messageHandler.sendWithPromise("GetDocRequest",G,G.data?[G.data.buffer]:null);if(W.destroyed)throw new Error("Worker was destroyed");return Y}function getUrlProp(W){if(W instanceof URL)return W.href;try{return new URL(W,window.location).href}catch{if(_util.isNodeJS&&typeof W=="string")return W}throw new Error("Invalid PDF url data: either string or URL-object is expected in the url property.")}function getDataProp(W){if(_util.isNodeJS&&typeof Buffer<"u"&&W instanceof Buffer)throw new Error("Please provide binary data as `Uint8Array`, rather than `Buffer`.");if(W instanceof Uint8Array&&W.byteLength===W.buffer.byteLength)return W;if(typeof W=="string")return(0,_util.stringToBytes)(W);if(typeof W=="object"&&!isNaN(W==null?void 0:W.length)||(0,_util.isArrayBuffer)(W))return new Uint8Array(W);throw new Error("Invalid PDF binary data: either TypedArray, string, or array-like object is expected in the data property.")}const $=class Ri{constructor(){this._capability=new _util.PromiseCapability,this._transport=null,this._worker=null,this.docId=`d${Cr(Ri,A)._++}`,this.destroyed=!1,this.onPassword=null,this.onProgress=null}get promise(){return this._capability.promise}async destroy(){var G,Y,q;this.destroyed=!0;try{(G=this._worker)!=null&&G.port&&(this._worker._pendingDestroy=!0),await((Y=this._transport)==null?void 0:Y.destroy())}catch(X){throw(q=this._worker)!=null&&q.port&&delete this._worker._pendingDestroy,X}this._transport=null,this._worker&&(this._worker.destroy(),this._worker=null)}};A=new WeakMap,it($,A,0);let PDFDocumentLoadingTask=$;exports.PDFDocumentLoadingTask=PDFDocumentLoadingTask;class PDFDataRangeTransport{constructor(G,Y,q=!1,X=null){this.length=G,this.initialData=Y,this.progressiveDone=q,this.contentDispositionFilename=X,this._rangeListeners=[],this._progressListeners=[],this._progressiveReadListeners=[],this._progressiveDoneListeners=[],this._readyCapability=new _util.PromiseCapability}addRangeListener(G){this._rangeListeners.push(G)}addProgressListener(G){this._progressListeners.push(G)}addProgressiveReadListener(G){this._progressiveReadListeners.push(G)}addProgressiveDoneListener(G){this._progressiveDoneListeners.push(G)}onDataRange(G,Y){for(const q of this._rangeListeners)q(G,Y)}onDataProgress(G,Y){this._readyCapability.promise.then(()=>{for(const q of this._progressListeners)q(G,Y)})}onDataProgressiveRead(G){this._readyCapability.promise.then(()=>{for(const Y of this._progressiveReadListeners)Y(G)})}onDataProgressiveDone(){this._readyCapability.promise.then(()=>{for(const G of this._progressiveDoneListeners)G()})}transportReady(){this._readyCapability.resolve()}requestDataRange(G,Y){(0,_util.unreachable)("Abstract method PDFDataRangeTransport.requestDataRange")}abort(){}}exports.PDFDataRangeTransport=PDFDataRangeTransport;class PDFDocumentProxy{constructor(G,Y){this._pdfInfo=G,this._transport=Y,Object.defineProperty(this,"getJavaScript",{value:()=>((0,_display_utils.deprecated)("`PDFDocumentProxy.getJavaScript`, please use `PDFDocumentProxy.getJSActions` instead."),this.getJSActions().then(q=>{if(!q)return q;const X=[];for(const K in q)X.push(...q[K]);return X}))})}get annotationStorage(){return this._transport.annotationStorage}get filterFactory(){return this._transport.filterFactory}get numPages(){return this._pdfInfo.numPages}get fingerprints(){return this._pdfInfo.fingerprints}get isPureXfa(){return(0,_util.shadow)(this,"isPureXfa",!!this._transport._htmlForXfa)}get allXfaHtml(){return this._transport._htmlForXfa}getPage(G){return this._transport.getPage(G)}getPageIndex(G){return this._transport.getPageIndex(G)}getDestinations(){return this._transport.getDestinations()}getDestination(G){return this._transport.getDestination(G)}getPageLabels(){return this._transport.getPageLabels()}getPageLayout(){return this._transport.getPageLayout()}getPageMode(){return this._transport.getPageMode()}getViewerPreferences(){return this._transport.getViewerPreferences()}getOpenAction(){return this._transport.getOpenAction()}getAttachments(){return this._transport.getAttachments()}getJSActions(){return this._transport.getDocJSActions()}getOutline(){return this._transport.getOutline()}getOptionalContentConfig(){return this._transport.getOptionalContentConfig()}getPermissions(){return this._transport.getPermissions()}getMetadata(){return this._transport.getMetadata()}getMarkInfo(){return this._transport.getMarkInfo()}getData(){return this._transport.getData()}saveDocument(){return this._transport.saveDocument()}getDownloadInfo(){return this._transport.downloadInfoCapability.promise}cleanup(G=!1){return this._transport.startCleanup(G||this.isPureXfa)}destroy(){return this.loadingTask.destroy()}get loadingParams(){return this._transport.loadingParams}get loadingTask(){return this._transport.loadingTask}getFieldObjects(){return this._transport.getFieldObjects()}hasJSActions(){return this._transport.hasJSActions()}getCalculationOrderIds(){return this._transport.getCalculationOrderIds()}}exports.PDFDocumentProxy=PDFDocumentProxy;class PDFPageProxy{constructor(G,Y,q,X=!1){it(this,O),it(this,H,null),it(this,R,!1),this._pageIndex=G,this._pageInfo=Y,this._transport=q,this._stats=X?new _display_utils.StatTimer:null,this._pdfBug=X,this.commonObjs=q.commonObjs,this.objs=new PDFObjects,this._maybeCleanupAfterRender=!1,this._intentStates=new Map,this.destroyed=!1}get pageNumber(){return this._pageIndex+1}get rotate(){return this._pageInfo.rotate}get ref(){return this._pageInfo.ref}get userUnit(){return this._pageInfo.userUnit}get view(){return this._pageInfo.view}getViewport({scale:G,rotation:Y=this.rotate,offsetX:q=0,offsetY:X=0,dontFlip:K=!1}={}){return new _display_utils.PageViewport({viewBox:this.view,scale:G,rotation:Y,offsetX:q,offsetY:X,dontFlip:K})}getAnnotations({intent:G="display"}={}){const Y=this._transport.getRenderingIntent(G);return this._transport.getAnnotations(this._pageIndex,Y.renderingIntent)}getJSActions(){return this._transport.getPageJSActions(this._pageIndex)}get filterFactory(){return this._transport.filterFactory}get isPureXfa(){return(0,_util.shadow)(this,"isPureXfa",!!this._transport._htmlForXfa)}async getXfa(){var G;return((G=this._transport._htmlForXfa)==null?void 0:G.children[this._pageIndex])||null}render({canvasContext:G,viewport:Y,intent:q="display",annotationMode:X=_util.AnnotationMode.ENABLE,transform:K=null,background:B=null,optionalContentConfigPromise:he=null,annotationCanvasMap:ke=null,pageColors:Ae=null,printAnnotationStorage:ae=null}){var Re,ge;(Re=this._stats)==null||Re.time("Overall");const ve=this._transport.getRenderingIntent(q,X,ae);at(this,R,!1),Ue(this,O,zr).call(this),he||(he=this._transport.getOptionalContentConfig());let xe=this._intentStates.get(ve.cacheKey);xe||(xe=Object.create(null),this._intentStates.set(ve.cacheKey,xe)),xe.streamReaderCancelTimeout&&(clearTimeout(xe.streamReaderCancelTimeout),xe.streamReaderCancelTimeout=null);const Se=!!(ve.renderingIntent&_util.RenderingIntentFlag.PRINT);xe.displayReadyCapability||(xe.displayReadyCapability=new _util.PromiseCapability,xe.operatorList={fnArray:[],argsArray:[],lastChunk:!1,separateAnnots:null},(ge=this._stats)==null||ge.time("Page Request"),this._pumpOperatorList(ve));const pe=Ie=>{var Pe,Ee;xe.renderTasks.delete(ne),(this._maybeCleanupAfterRender||Se)&&at(this,R,!0),Ue(this,O,br).call(this,!Se),Ie?(ne.capability.reject(Ie),this._abortOperatorList({intentState:xe,reason:Ie instanceof Error?Ie:new Error(Ie)})):ne.capability.resolve(),(Pe=this._stats)==null||Pe.timeEnd("Rendering"),(Ee=this._stats)==null||Ee.timeEnd("Overall")},ne=new InternalRenderTask({callback:pe,params:{canvasContext:G,viewport:Y,transform:K,background:B},objs:this.objs,commonObjs:this.commonObjs,annotationCanvasMap:ke,operatorList:xe.operatorList,pageIndex:this._pageIndex,canvasFactory:this._transport.canvasFactory,filterFactory:this._transport.filterFactory,useRequestAnimationFrame:!Se,pdfBug:this._pdfBug,pageColors:Ae});(xe.renderTasks||(xe.renderTasks=new Set)).add(ne);const we=ne.task;return Promise.all([xe.displayReadyCapability.promise,he]).then(([Ie,Pe])=>{var Ee;if(this.destroyed){pe();return}(Ee=this._stats)==null||Ee.time("Rendering"),ne.initializeGraphics({transparency:Ie,optionalContentConfig:Pe}),ne.operatorListChanged()}).catch(pe),we}getOperatorList({intent:G="display",annotationMode:Y=_util.AnnotationMode.ENABLE,printAnnotationStorage:q=null}={}){var X;function K(){he.operatorList.lastChunk&&(he.opListReadCapability.resolve(he.operatorList),he.renderTasks.delete(ke))}const B=this._transport.getRenderingIntent(G,Y,q,!0);let he=this._intentStates.get(B.cacheKey);he||(he=Object.create(null),this._intentStates.set(B.cacheKey,he));let ke;return he.opListReadCapability||(ke=Object.create(null),ke.operatorListChanged=K,he.opListReadCapability=new _util.PromiseCapability,(he.renderTasks||(he.renderTasks=new Set)).add(ke),he.operatorList={fnArray:[],argsArray:[],lastChunk:!1,separateAnnots:null},(X=this._stats)==null||X.time("Page Request"),this._pumpOperatorList(B)),he.opListReadCapability.promise}streamTextContent({includeMarkedContent:G=!1,disableNormalization:Y=!1}={}){return this._transport.messageHandler.sendWithStream("GetTextContent",{pageIndex:this._pageIndex,includeMarkedContent:G===!0,disableNormalization:Y===!0},{highWaterMark:100,size(q){return q.items.length}})}getTextContent(G={}){if(this._transport._htmlForXfa)return this.getXfa().then(q=>_xfa_text.XfaText.textContent(q));const Y=this.streamTextContent(G);return new Promise(function(q,X){function K(){B.read().then(function({value:ke,done:Ae}){if(Ae){q(he);return}Object.assign(he.styles,ke.styles),he.items.push(...ke.items),K()},X)}const B=Y.getReader(),he={items:[],styles:Object.create(null)};K()})}getStructTree(){return this._transport.getStructTree(this._pageIndex)}_destroy(){this.destroyed=!0;const G=[];for(const Y of this._intentStates.values())if(this._abortOperatorList({intentState:Y,reason:new Error("Page was destroyed."),force:!0}),!Y.opListReadCapability)for(const q of Y.renderTasks)G.push(q.completed),q.cancel();return this.objs.clear(),at(this,R,!1),Ue(this,O,zr).call(this),Promise.all(G)}cleanup(G=!1){at(this,R,!0);const Y=Ue(this,O,br).call(this,!1);return G&&Y&&this._stats&&(this._stats=new _display_utils.StatTimer),Y}_startRenderPage(G,Y){var q,X;const K=this._intentStates.get(Y);K&&((q=this._stats)==null||q.timeEnd("Page Request"),(X=K.displayReadyCapability)==null||X.resolve(G))}_renderPageChunk(G,Y){for(let q=0,X=G.length;q<X;q++)Y.operatorList.fnArray.push(G.fnArray[q]),Y.operatorList.argsArray.push(G.argsArray[q]);Y.operatorList.lastChunk=G.lastChunk,Y.operatorList.separateAnnots=G.separateAnnots;for(const q of Y.renderTasks)q.operatorListChanged();G.lastChunk&&Ue(this,O,br).call(this,!0)}_pumpOperatorList({renderingIntent:G,cacheKey:Y,annotationStorageSerializable:q}){const{map:X,transfers:K}=q,B=this._transport.messageHandler.sendWithStream("GetOperatorList",{pageIndex:this._pageIndex,intent:G,cacheKey:Y,annotationStorage:X},K).getReader(),he=this._intentStates.get(Y);he.streamReader=B;const ke=()=>{B.read().then(({value:Ae,done:ae})=>{if(ae){he.streamReader=null;return}this._transport.destroyed||(this._renderPageChunk(Ae,he),ke())},Ae=>{if(he.streamReader=null,!this._transport.destroyed){if(he.operatorList){he.operatorList.lastChunk=!0;for(const ae of he.renderTasks)ae.operatorListChanged();Ue(this,O,br).call(this,!0)}if(he.displayReadyCapability)he.displayReadyCapability.reject(Ae);else if(he.opListReadCapability)he.opListReadCapability.reject(Ae);else throw Ae}})};ke()}_abortOperatorList({intentState:G,reason:Y,force:q=!1}){if(G.streamReader){if(G.streamReaderCancelTimeout&&(clearTimeout(G.streamReaderCancelTimeout),G.streamReaderCancelTimeout=null),!q){if(G.renderTasks.size>0)return;if(Y instanceof _display_utils.RenderingCancelledException){let X=RENDERING_CANCELLED_TIMEOUT;Y.extraDelay>0&&Y.extraDelay<1e3&&(X+=Y.extraDelay),G.streamReaderCancelTimeout=setTimeout(()=>{G.streamReaderCancelTimeout=null,this._abortOperatorList({intentState:G,reason:Y,force:!0})},X);return}}if(G.streamReader.cancel(new _util.AbortException(Y.message)).catch(()=>{}),G.streamReader=null,!this._transport.destroyed){for(const[X,K]of this._intentStates)if(K===G){this._intentStates.delete(X);break}this.cleanup()}}}get stats(){return this._stats}}H=new WeakMap,R=new WeakMap,O=new WeakSet,br=function(W=!1){if(Ue(this,O,zr).call(this),!V(this,R)||this.destroyed)return!1;if(W)return at(this,H,setTimeout(()=>{at(this,H,null),Ue(this,O,br).call(this,!1)},DELAYED_CLEANUP_TIMEOUT)),!1;for(const{renderTasks:G,operatorList:Y}of this._intentStates.values())if(G.size>0||!Y.lastChunk)return!1;return this._intentStates.clear(),this.objs.clear(),at(this,R,!1),!0},zr=function(){V(this,H)&&(clearTimeout(V(this,H)),at(this,H,null))},exports.PDFPageProxy=PDFPageProxy;class LoopbackPort{constructor(){it(this,me,new Set),it(this,ue,Promise.resolve())}postMessage(G,Y){const q={data:structuredClone(G,Y?{transfer:Y}:null)};V(this,ue).then(()=>{for(const X of V(this,me))X.call(this,q)})}addEventListener(G,Y){V(this,me).add(Y)}removeEventListener(G,Y){V(this,me).delete(Y)}terminate(){V(this,me).clear()}}me=new WeakMap,ue=new WeakMap,exports.LoopbackPort=LoopbackPort;const PDFWorkerUtil={isWorkerDisabled:!1,fallbackWorkerSrc:null,fakeWorkerId:0};exports.PDFWorkerUtil=PDFWorkerUtil;{if(_util.isNodeJS&&typeof ix=="function")PDFWorkerUtil.isWorkerDisabled=!0,PDFWorkerUtil.fallbackWorkerSrc="./pdf.worker.js";else if(typeof document=="object"){const W=(le=document==null?void 0:document.currentScript)==null?void 0:le.src;W&&(PDFWorkerUtil.fallbackWorkerSrc=W.replace(/(\.(?:min\.)?js)(\?.*)?$/i,".worker$1$2"))}PDFWorkerUtil.isSameOrigin=function(W,G){let Y;try{if(Y=new URL(W),!Y.origin||Y.origin==="null")return!1}catch{return!1}const q=new URL(G,Y);return Y.origin===q.origin},PDFWorkerUtil.createCDNWrapper=function(W){const G=`importScripts("${W}");`;return URL.createObjectURL(new Blob([G]))}}const _PDFWorker=class ___PDFWorker{constructor({name:W=null,port:G=null,verbosity:Y=(0,_util.getVerbosityLevel)()}={}){var q;if(this.name=W,this.destroyed=!1,this.verbosity=Y,this._readyCapability=new _util.PromiseCapability,this._port=null,this._webWorker=null,this._messageHandler=null,G){if((q=V(___PDFWorker,U))!=null&&q.has(G))throw new Error("Cannot use more than one PDFWorker per port.");(V(___PDFWorker,U)||at(___PDFWorker,U,new WeakMap)).set(G,this),this._initializeFromPort(G);return}this._initialize()}get promise(){return this._readyCapability.promise}get port(){return this._port}get messageHandler(){return this._messageHandler}_initializeFromPort(W){this._port=W,this._messageHandler=new _message_handler.MessageHandler("main","worker",W),this._messageHandler.on("ready",function(){}),this._readyCapability.resolve(),this._messageHandler.send("configure",{verbosity:this.verbosity})}_initialize(){if(!PDFWorkerUtil.isWorkerDisabled&&!___PDFWorker._mainThreadWorkerMessageHandler){let{workerSrc:W}=___PDFWorker;try{PDFWorkerUtil.isSameOrigin(window.location.href,W)||(W=PDFWorkerUtil.createCDNWrapper(new URL(W,window.location).href));const G=new Worker(W),Y=new _message_handler.MessageHandler("main","worker",G),q=()=>{G.removeEventListener("error",X),Y.destroy(),G.terminate(),this.destroyed?this._readyCapability.reject(new Error("Worker was destroyed")):this._setupFakeWorker()},X=()=>{this._webWorker||q()};G.addEventListener("error",X),Y.on("test",B=>{if(G.removeEventListener("error",X),this.destroyed){q();return}B?(this._messageHandler=Y,this._port=G,this._webWorker=G,this._readyCapability.resolve(),Y.send("configure",{verbosity:this.verbosity})):(this._setupFakeWorker(),Y.destroy(),G.terminate())}),Y.on("ready",B=>{if(G.removeEventListener("error",X),this.destroyed){q();return}try{K()}catch{this._setupFakeWorker()}});const K=()=>{const B=new Uint8Array;Y.send("test",B,[B.buffer])};K();return}catch{(0,_util.info)("The worker has been disabled.")}}this._setupFakeWorker()}_setupFakeWorker(){PDFWorkerUtil.isWorkerDisabled||((0,_util.warn)("Setting up fake worker."),PDFWorkerUtil.isWorkerDisabled=!0),___PDFWorker._setupFakeWorkerGlobal.then(W=>{if(this.destroyed){this._readyCapability.reject(new Error("Worker was destroyed"));return}const G=new LoopbackPort;this._port=G;const Y=`fake${PDFWorkerUtil.fakeWorkerId++}`,q=new _message_handler.MessageHandler(Y+"_worker",Y,G);W.setup(q,G);const X=new _message_handler.MessageHandler(Y,Y+"_worker",G);this._messageHandler=X,this._readyCapability.resolve(),X.send("configure",{verbosity:this.verbosity})}).catch(W=>{this._readyCapability.reject(new Error(`Setting up fake worker failed: "${W.message}".`))})}destroy(){var W;this.destroyed=!0,this._webWorker&&(this._webWorker.terminate(),this._webWorker=null),(W=V(___PDFWorker,U))==null||W.delete(this._port),this._port=null,this._messageHandler&&(this._messageHandler.destroy(),this._messageHandler=null)}static fromPort(W){var G;if(!(W!=null&&W.port))throw new Error("PDFWorker.fromPort - invalid method signature.");const Y=(G=V(this,U))==null?void 0:G.get(W.port);if(Y){if(Y._pendingDestroy)throw new Error("PDFWorker.fromPort - the worker is being destroyed.\nPlease remember to await `PDFDocumentLoadingTask.destroy()`-calls.");return Y}return new ___PDFWorker(W)}static get workerSrc(){if(_worker_options.GlobalWorkerOptions.workerSrc)return _worker_options.GlobalWorkerOptions.workerSrc;if(PDFWorkerUtil.fallbackWorkerSrc!==null)return _util.isNodeJS||(0,_display_utils.deprecated)('No "GlobalWorkerOptions.workerSrc" specified.'),PDFWorkerUtil.fallbackWorkerSrc;throw new Error('No "GlobalWorkerOptions.workerSrc" specified.')}static get _mainThreadWorkerMessageHandler(){var W;try{return((W=globalThis.pdfjsWorker)==null?void 0:W.WorkerMessageHandler)||null}catch{return null}}static get _setupFakeWorkerGlobal(){const loader=async()=>{const mainWorkerMessageHandler=this._mainThreadWorkerMessageHandler;if(mainWorkerMessageHandler)return mainWorkerMessageHandler;if(_util.isNodeJS&&typeof ix=="function"){const worker=eval("require")(this.workerSrc);return worker.WorkerMessageHandler}return await(0,_display_utils.loadScript)(this.workerSrc),window.pdfjsWorker.WorkerMessageHandler};return(0,_util.shadow)(this,"_setupFakeWorkerGlobal",loader())}};U=new WeakMap,it(_PDFWorker,U);let PDFWorker=_PDFWorker;exports.PDFWorker=PDFWorker;class WorkerTransport{constructor(G,Y,q,X,K){it(this,Q),it(this,be,new Map),it(this,ce,new Map),it(this,J,new Map),it(this,re,null),this.messageHandler=G,this.loadingTask=Y,this.commonObjs=new PDFObjects,this.fontLoader=new _font_loader.FontLoader({ownerDocument:X.ownerDocument,styleElement:X.styleElement}),this._params=X,this.canvasFactory=K.canvasFactory,this.filterFactory=K.filterFactory,this.cMapReaderFactory=K.cMapReaderFactory,this.standardFontDataFactory=K.standardFontDataFactory,this.destroyed=!1,this.destroyCapability=null,this._networkStream=q,this._fullReader=null,this._lastProgress=null,this.downloadInfoCapability=new _util.PromiseCapability,this.setupMessageHandler()}get annotationStorage(){return(0,_util.shadow)(this,"annotationStorage",new _annotation_storage.AnnotationStorage)}getRenderingIntent(G,Y=_util.AnnotationMode.ENABLE,q=null,X=!1){let K=_util.RenderingIntentFlag.DISPLAY,B=_annotation_storage.SerializableEmpty;switch(G){case"any":K=_util.RenderingIntentFlag.ANY;break;case"display":break;case"print":K=_util.RenderingIntentFlag.PRINT;break;default:(0,_util.warn)(`getRenderingIntent - invalid intent: ${G}`)}switch(Y){case _util.AnnotationMode.DISABLE:K+=_util.RenderingIntentFlag.ANNOTATIONS_DISABLE;break;case _util.AnnotationMode.ENABLE:break;case _util.AnnotationMode.ENABLE_FORMS:K+=_util.RenderingIntentFlag.ANNOTATIONS_FORMS;break;case _util.AnnotationMode.ENABLE_STORAGE:K+=_util.RenderingIntentFlag.ANNOTATIONS_STORAGE,B=(K&_util.RenderingIntentFlag.PRINT&&q instanceof _annotation_storage.PrintAnnotationStorage?q:this.annotationStorage).serializable;break;default:(0,_util.warn)(`getRenderingIntent - invalid annotationMode: ${Y}`)}return X&&(K+=_util.RenderingIntentFlag.OPLIST),{renderingIntent:K,cacheKey:`${K}_${B.hash}`,annotationStorageSerializable:B}}destroy(){var G;if(this.destroyCapability)return this.destroyCapability.promise;this.destroyed=!0,this.destroyCapability=new _util.PromiseCapability,(G=V(this,re))==null||G.reject(new Error("Worker was destroyed during onPassword callback"));const Y=[];for(const X of V(this,ce).values())Y.push(X._destroy());V(this,ce).clear(),V(this,J).clear(),this.hasOwnProperty("annotationStorage")&&this.annotationStorage.resetModified();const q=this.messageHandler.sendWithPromise("Terminate",null);return Y.push(q),Promise.all(Y).then(()=>{var X;this.commonObjs.clear(),this.fontLoader.clear(),V(this,be).clear(),this.filterFactory.destroy(),(X=this._networkStream)==null||X.cancelAllRequests(new _util.AbortException("Worker was terminated.")),this.messageHandler&&(this.messageHandler.destroy(),this.messageHandler=null),this.destroyCapability.resolve()},this.destroyCapability.reject),this.destroyCapability.promise}setupMessageHandler(){const{messageHandler:G,loadingTask:Y}=this;G.on("GetReader",(q,X)=>{(0,_util.assert)(this._networkStream,"GetReader - no `IPDFStream` instance available."),this._fullReader=this._networkStream.getFullReader(),this._fullReader.onProgress=K=>{this._lastProgress={loaded:K.loaded,total:K.total}},X.onPull=()=>{this._fullReader.read().then(function({value:K,done:B}){if(B){X.close();return}(0,_util.assert)(K instanceof ArrayBuffer,"GetReader - expected an ArrayBuffer."),X.enqueue(new Uint8Array(K),1,[K])}).catch(K=>{X.error(K)})},X.onCancel=K=>{this._fullReader.cancel(K),X.ready.catch(B=>{if(!this.destroyed)throw B})}}),G.on("ReaderHeadersReady",q=>{const X=new _util.PromiseCapability,K=this._fullReader;return K.headersReady.then(()=>{var B;(!K.isStreamingSupported||!K.isRangeSupported)&&(this._lastProgress&&((B=Y.onProgress)==null||B.call(Y,this._lastProgress)),K.onProgress=he=>{var ke;(ke=Y.onProgress)==null||ke.call(Y,{loaded:he.loaded,total:he.total})}),X.resolve({isStreamingSupported:K.isStreamingSupported,isRangeSupported:K.isRangeSupported,contentLength:K.contentLength})},X.reject),X.promise}),G.on("GetRangeReader",(q,X)=>{(0,_util.assert)(this._networkStream,"GetRangeReader - no `IPDFStream` instance available.");const K=this._networkStream.getRangeReader(q.begin,q.end);if(!K){X.close();return}X.onPull=()=>{K.read().then(function({value:B,done:he}){if(he){X.close();return}(0,_util.assert)(B instanceof ArrayBuffer,"GetRangeReader - expected an ArrayBuffer."),X.enqueue(new Uint8Array(B),1,[B])}).catch(B=>{X.error(B)})},X.onCancel=B=>{K.cancel(B),X.ready.catch(he=>{if(!this.destroyed)throw he})}}),G.on("GetDoc",({pdfInfo:q})=>{this._numPages=q.numPages,this._htmlForXfa=q.htmlForXfa,delete q.htmlForXfa,Y._capability.resolve(new PDFDocumentProxy(q,this))}),G.on("DocException",function(q){let X;switch(q.name){case"PasswordException":X=new _util.PasswordException(q.message,q.code);break;case"InvalidPDFException":X=new _util.InvalidPDFException(q.message);break;case"MissingPDFException":X=new _util.MissingPDFException(q.message);break;case"UnexpectedResponseException":X=new _util.UnexpectedResponseException(q.message,q.status);break;case"UnknownErrorException":X=new _util.UnknownErrorException(q.message,q.details);break;default:(0,_util.unreachable)("DocException - expected a valid Error.")}Y._capability.reject(X)}),G.on("PasswordRequest",q=>{if(at(this,re,new _util.PromiseCapability),Y.onPassword){const X=K=>{K instanceof Error?V(this,re).reject(K):V(this,re).resolve({password:K})};try{Y.onPassword(X,q.code)}catch(K){V(this,re).reject(K)}}else V(this,re).reject(new _util.PasswordException(q.message,q.code));return V(this,re).promise}),G.on("DataLoaded",q=>{var X;(X=Y.onProgress)==null||X.call(Y,{loaded:q.length,total:q.length}),this.downloadInfoCapability.resolve(q)}),G.on("StartRenderPage",q=>{this.destroyed||V(this,ce).get(q.pageIndex)._startRenderPage(q.transparency,q.cacheKey)}),G.on("commonobj",([q,X,K])=>{var B;if(!this.destroyed&&!this.commonObjs.has(q))switch(X){case"Font":const he=this._params;if("error"in K){const ae=K.error;(0,_util.warn)(`Error during font loading: ${ae}`),this.commonObjs.resolve(q,ae);break}const ke=he.pdfBug&&(B=globalThis.FontInspector)!=null&&B.enabled?(ae,Re)=>globalThis.FontInspector.fontAdded(ae,Re):null,Ae=new _font_loader.FontFaceObject(K,{isEvalSupported:he.isEvalSupported,disableFontFace:he.disableFontFace,ignoreErrors:he.ignoreErrors,inspectFont:ke});this.fontLoader.bind(Ae).catch(ae=>G.sendWithPromise("FontFallback",{id:q})).finally(()=>{!he.fontExtraProperties&&Ae.data&&(Ae.data=null),this.commonObjs.resolve(q,Ae)});break;case"FontPath":case"Image":case"Pattern":this.commonObjs.resolve(q,K);break;default:throw new Error(`Got unknown common object type ${X}`)}}),G.on("obj",([q,X,K,B])=>{var he;if(this.destroyed)return;const ke=V(this,ce).get(X);if(!ke.objs.has(q))switch(K){case"Image":if(ke.objs.resolve(q,B),B){let Ae;if(B.bitmap){const{width:ae,height:Re}=B;Ae=ae*Re*4}else Ae=((he=B.data)==null?void 0:he.length)||0;Ae>_util.MAX_IMAGE_SIZE_TO_CACHE&&(ke._maybeCleanupAfterRender=!0)}break;case"Pattern":ke.objs.resolve(q,B);break;default:throw new Error(`Got unknown object type ${K}`)}}),G.on("DocProgress",q=>{var X;this.destroyed||(X=Y.onProgress)==null||X.call(Y,{loaded:q.loaded,total:q.total})}),G.on("FetchBuiltInCMap",q=>this.destroyed?Promise.reject(new Error("Worker was destroyed.")):this.cMapReaderFactory?this.cMapReaderFactory.fetch(q):Promise.reject(new Error("CMapReaderFactory not initialized, see the `useWorkerFetch` parameter."))),G.on("FetchStandardFontData",q=>this.destroyed?Promise.reject(new Error("Worker was destroyed.")):this.standardFontDataFactory?this.standardFontDataFactory.fetch(q):Promise.reject(new Error("StandardFontDataFactory not initialized, see the `useWorkerFetch` parameter.")))}getData(){return this.messageHandler.sendWithPromise("GetData",null)}saveDocument(){var G;this.annotationStorage.size<=0&&(0,_util.warn)("saveDocument called while `annotationStorage` is empty, please use the getData-method instead.");const{map:Y,transfers:q}=this.annotationStorage.serializable;return this.messageHandler.sendWithPromise("SaveDocument",{isPureXfa:!!this._htmlForXfa,numPages:this._numPages,annotationStorage:Y,filename:((G=this._fullReader)==null?void 0:G.filename)??null},q).finally(()=>{this.annotationStorage.resetModified()})}getPage(G){if(!Number.isInteger(G)||G<=0||G>this._numPages)return Promise.reject(new Error("Invalid page request."));const Y=G-1,q=V(this,J).get(Y);if(q)return q;const X=this.messageHandler.sendWithPromise("GetPage",{pageIndex:Y}).then(K=>{if(this.destroyed)throw new Error("Transport destroyed");const B=new PDFPageProxy(Y,K,this,this._params.pdfBug);return V(this,ce).set(Y,B),B});return V(this,J).set(Y,X),X}getPageIndex(G){return typeof G!="object"||G===null||!Number.isInteger(G.num)||G.num<0||!Number.isInteger(G.gen)||G.gen<0?Promise.reject(new Error("Invalid pageIndex request.")):this.messageHandler.sendWithPromise("GetPageIndex",{num:G.num,gen:G.gen})}getAnnotations(G,Y){return this.messageHandler.sendWithPromise("GetAnnotations",{pageIndex:G,intent:Y})}getFieldObjects(){return Ue(this,Q,Hr).call(this,"GetFieldObjects")}hasJSActions(){return Ue(this,Q,Hr).call(this,"HasJSActions")}getCalculationOrderIds(){return this.messageHandler.sendWithPromise("GetCalculationOrderIds",null)}getDestinations(){return this.messageHandler.sendWithPromise("GetDestinations",null)}getDestination(G){return typeof G!="string"?Promise.reject(new Error("Invalid destination request.")):this.messageHandler.sendWithPromise("GetDestination",{id:G})}getPageLabels(){return this.messageHandler.sendWithPromise("GetPageLabels",null)}getPageLayout(){return this.messageHandler.sendWithPromise("GetPageLayout",null)}getPageMode(){return this.messageHandler.sendWithPromise("GetPageMode",null)}getViewerPreferences(){return this.messageHandler.sendWithPromise("GetViewerPreferences",null)}getOpenAction(){return this.messageHandler.sendWithPromise("GetOpenAction",null)}getAttachments(){return this.messageHandler.sendWithPromise("GetAttachments",null)}getDocJSActions(){return Ue(this,Q,Hr).call(this,"GetDocJSActions")}getPageJSActions(G){return this.messageHandler.sendWithPromise("GetPageJSActions",{pageIndex:G})}getStructTree(G){return this.messageHandler.sendWithPromise("GetStructTree",{pageIndex:G})}getOutline(){return this.messageHandler.sendWithPromise("GetOutline",null)}getOptionalContentConfig(){return this.messageHandler.sendWithPromise("GetOptionalContentConfig",null).then(G=>new _optional_content_config.OptionalContentConfig(G))}getPermissions(){return this.messageHandler.sendWithPromise("GetPermissions",null)}getMetadata(){const G="GetMetadata",Y=V(this,be).get(G);if(Y)return Y;const q=this.messageHandler.sendWithPromise(G,null).then(X=>{var K,B;return{info:X[0],metadata:X[1]?new _metadata.Metadata(X[1]):null,contentDispositionFilename:((K=this._fullReader)==null?void 0:K.filename)??null,contentLength:((B=this._fullReader)==null?void 0:B.contentLength)??null}});return V(this,be).set(G,q),q}getMarkInfo(){return this.messageHandler.sendWithPromise("GetMarkInfo",null)}async startCleanup(G=!1){if(!this.destroyed){await this.messageHandler.sendWithPromise("Cleanup",null);for(const Y of V(this,ce).values())if(!Y.cleanup())throw new Error(`startCleanup: Page ${Y.pageNumber} is currently rendering.`);this.commonObjs.clear(),G||this.fontLoader.clear(),V(this,be).clear(),this.filterFactory.destroy(!0)}}get loadingParams(){const{disableAutoFetch:G,enableXfa:Y}=this._params;return(0,_util.shadow)(this,"loadingParams",{disableAutoFetch:G,enableXfa:Y})}}be=new WeakMap,ce=new WeakMap,J=new WeakMap,re=new WeakMap,Q=new WeakSet,Hr=function(W,G=null){const Y=V(this,be).get(W);if(Y)return Y;const q=this.messageHandler.sendWithPromise(W,G);return V(this,be).set(W,q),q};class PDFObjects{constructor(){it(this,ie),it(this,ee,Object.create(null))}get(G,Y=null){if(Y){const X=Ue(this,ie,pi).call(this,G);return X.capability.promise.then(()=>Y(X.data)),null}const q=V(this,ee)[G];if(!(q!=null&&q.capability.settled))throw new Error(`Requesting object that isn't resolved yet ${G}.`);return q.data}has(G){const Y=V(this,ee)[G];return(Y==null?void 0:Y.capability.settled)||!1}resolve(G,Y=null){const q=Ue(this,ie,pi).call(this,G);q.data=Y,q.capability.resolve()}clear(){var G;for(const Y in V(this,ee)){const{data:q}=V(this,ee)[Y];(G=q==null?void 0:q.bitmap)==null||G.close()}at(this,ee,Object.create(null))}}ee=new WeakMap,ie=new WeakSet,pi=function(W){var G;return(G=V(this,ee))[W]||(G[W]={capability:new _util.PromiseCapability,data:null})};class RenderTask{constructor(G){it(this,de,null),at(this,de,G),this.onContinue=null}get promise(){return V(this,de).capability.promise}cancel(G=0){V(this,de).cancel(null,G)}get separateAnnots(){const{separateAnnots:G}=V(this,de).operatorList;if(!G)return!1;const{annotationCanvasMap:Y}=V(this,de);return G.form||G.canvas&&(Y==null?void 0:Y.size)>0}}de=new WeakMap,exports.RenderTask=RenderTask;const se=class jr{constructor({callback:G,params:Y,objs:q,commonObjs:X,annotationCanvasMap:K,operatorList:B,pageIndex:he,canvasFactory:ke,filterFactory:Ae,useRequestAnimationFrame:ae=!1,pdfBug:Re=!1,pageColors:ge=null}){this.callback=G,this.params=Y,this.objs=q,this.commonObjs=X,this.annotationCanvasMap=K,this.operatorListIdx=null,this.operatorList=B,this._pageIndex=he,this.canvasFactory=ke,this.filterFactory=Ae,this._pdfBug=Re,this.pageColors=ge,this.running=!1,this.graphicsReadyCallback=null,this.graphicsReady=!1,this._useRequestAnimationFrame=ae===!0&&typeof window<"u",this.cancelled=!1,this.capability=new _util.PromiseCapability,this.task=new RenderTask(this),this._cancelBound=this.cancel.bind(this),this._continueBound=this._continue.bind(this),this._scheduleNextBound=this._scheduleNext.bind(this),this._nextBound=this._next.bind(this),this._canvas=Y.canvasContext.canvas}get completed(){return this.capability.promise.catch(function(){})}initializeGraphics({transparency:G=!1,optionalContentConfig:Y}){var q,X;if(this.cancelled)return;if(this._canvas){if(V(jr,te).has(this._canvas))throw new Error("Cannot use the same canvas during multiple render() operations. Use different canvas or ensure previous operations were cancelled or completed.");V(jr,te).add(this._canvas)}this._pdfBug&&(q=globalThis.StepperManager)!=null&&q.enabled&&(this.stepper=globalThis.StepperManager.create(this._pageIndex),this.stepper.init(this.operatorList),this.stepper.nextBreakPoint=this.stepper.getNextBreakPoint());const{canvasContext:K,viewport:B,transform:he,background:ke}=this.params;this.gfx=new _canvas.CanvasGraphics(K,this.commonObjs,this.objs,this.canvasFactory,this.filterFactory,{optionalContentConfig:Y},this.annotationCanvasMap,this.pageColors),this.gfx.beginDrawing({transform:he,viewport:B,transparency:G,background:ke}),this.operatorListIdx=0,this.graphicsReady=!0,(X=this.graphicsReadyCallback)==null||X.call(this)}cancel(G=null,Y=0){var q;this.running=!1,this.cancelled=!0,(q=this.gfx)==null||q.endDrawing(),V(jr,te).delete(this._canvas),this.callback(G||new _display_utils.RenderingCancelledException(`Rendering cancelled, page ${this._pageIndex+1}`,Y))}operatorListChanged(){var G;if(!this.graphicsReady){this.graphicsReadyCallback||(this.graphicsReadyCallback=this._continueBound);return}(G=this.stepper)==null||G.updateOperatorList(this.operatorList),!this.running&&this._continue()}_continue(){this.running=!0,!this.cancelled&&(this.task.onContinue?this.task.onContinue(this._scheduleNextBound):this._scheduleNext())}_scheduleNext(){this._useRequestAnimationFrame?window.requestAnimationFrame(()=>{this._nextBound().catch(this._cancelBound)}):Promise.resolve().then(this._nextBound).catch(this._cancelBound)}async _next(){this.cancelled||(this.operatorListIdx=this.gfx.executeOperatorList(this.operatorList,this.operatorListIdx,this._continueBound,this.stepper),this.operatorListIdx===this.operatorList.argsArray.length&&(this.running=!1,this.operatorList.lastChunk&&(this.gfx.endDrawing(),V(jr,te).delete(this._canvas),this.callback())))}};te=new WeakMap,it(se,te,new WeakSet);let InternalRenderTask=se;const version="3.11.174";exports.version=version;const build="ce8716743";exports.build=build},(W,G,Y)=>{var q,X,K,B,he;Object.defineProperty(G,"__esModule",{value:!0}),G.SerializableEmpty=G.PrintAnnotationStorage=G.AnnotationStorage=void 0;var ke=Y(1),Ae=Y(4),ae=Y(8);const Re=Object.freeze({map:null,hash:"",transfers:void 0});G.SerializableEmpty=Re;class ge{constructor(){it(this,K),it(this,q,!1),it(this,X,new Map),this.onSetModified=null,this.onResetModified=null,this.onAnnotationEditor=null}getValue(Se,pe){const ne=V(this,X).get(Se);return ne===void 0?pe:Object.assign(pe,ne)}getRawValue(Se){return V(this,X).get(Se)}remove(Se){if(V(this,X).delete(Se),V(this,X).size===0&&this.resetModified(),typeof this.onAnnotationEditor=="function"){for(const pe of V(this,X).values())if(pe instanceof Ae.AnnotationEditor)return;this.onAnnotationEditor(null)}}setValue(Se,pe){const ne=V(this,X).get(Se);let we=!1;if(ne!==void 0)for(const[Ie,Pe]of Object.entries(pe))ne[Ie]!==Pe&&(we=!0,ne[Ie]=Pe);else we=!0,V(this,X).set(Se,pe);we&&Ue(this,K,B).call(this),pe instanceof Ae.AnnotationEditor&&typeof this.onAnnotationEditor=="function"&&this.onAnnotationEditor(pe.constructor._type)}has(Se){return V(this,X).has(Se)}getAll(){return V(this,X).size>0?(0,ke.objectFromMap)(V(this,X)):null}setAll(Se){for(const[pe,ne]of Object.entries(Se))this.setValue(pe,ne)}get size(){return V(this,X).size}resetModified(){V(this,q)&&(at(this,q,!1),typeof this.onResetModified=="function"&&this.onResetModified())}get print(){return new ve(this)}get serializable(){if(V(this,X).size===0)return Re;const Se=new Map,pe=new ae.MurmurHash3_64,ne=[],we=Object.create(null);let Ie=!1;for(const[Pe,Ee]of V(this,X)){const Ce=Ee instanceof Ae.AnnotationEditor?Ee.serialize(!1,we):Ee;Ce&&(Se.set(Pe,Ce),pe.update(`${Pe}:${JSON.stringify(Ce)}`),Ie||(Ie=!!Ce.bitmap))}if(Ie)for(const Pe of Se.values())Pe.bitmap&&ne.push(Pe.bitmap);return Se.size>0?{map:Se,hash:pe.hexdigest(),transfers:ne}:Re}}q=new WeakMap,X=new WeakMap,K=new WeakSet,B=function(){V(this,q)||(at(this,q,!0),typeof this.onSetModified=="function"&&this.onSetModified())},G.AnnotationStorage=ge;class ve extends ge{constructor(Se){super(),it(this,he);const{map:pe,hash:ne,transfers:we}=Se.serializable,Ie=structuredClone(pe,we?{transfer:we}:null);at(this,he,{map:Ie,hash:ne,transfers:we})}get print(){(0,ke.unreachable)("Should not call PrintAnnotationStorage.print")}get serializable(){return V(this,he)}}he=new WeakMap,G.PrintAnnotationStorage=ve},(W,G,Y)=>{var q,X,K,B,he,ke,Ae,ae,Re,ge,ve,xe,Se,pe,ne,we,Ie,Pe,Ee,Ce,Oe,qe,ze,rt,ye;Object.defineProperty(G,"__esModule",{value:!0}),G.AnnotationEditor=void 0;var ot=Y(5),He=Y(1),Ge=Y(6);const Be=class mr{constructor(Ne){it(this,ne),it(this,q,""),it(this,X,!1),it(this,K,null),it(this,B,null),it(this,he,null),it(this,ke,!1),it(this,Ae,null),it(this,ae,this.focusin.bind(this)),it(this,Re,this.focusout.bind(this)),it(this,ge,!1),it(this,ve,!1),it(this,xe,!1),$n(this,"_initialOptions",Object.create(null)),$n(this,"_uiManager",null),$n(this,"_focusEventsAllowed",!0),$n(this,"_l10nPromise",null),it(this,Se,!1),it(this,pe,mr._zIndex++),this.constructor===mr&&(0,He.unreachable)("Cannot initialize AnnotationEditor."),this.parent=Ne.parent,this.id=Ne.id,this.width=this.height=null,this.pageIndex=Ne.parent.pageIndex,this.name=Ne.name,this.div=null,this._uiManager=Ne.uiManager,this.annotationElementId=null,this._willKeepAspectRatio=!1,this._initialOptions.isCentered=Ne.isCentered,this._structTreeParentId=null;const{rotation:nt,rawDims:{pageWidth:ut,pageHeight:Ve,pageX:_e,pageY:fe}}=this.parent.viewport;this.rotation=nt,this.pageRotation=(360+nt-this._uiManager.viewParameters.rotation)%360,this.pageDimensions=[ut,Ve],this.pageTranslation=[_e,fe];const[Le,je]=this.parentDimensions;this.x=Ne.x/Le,this.y=Ne.y/je,this.isAttachedToDOM=!1,this.deleted=!1}get editorType(){return Object.getPrototypeOf(this).constructor._type}static get _defaultLineColor(){return(0,He.shadow)(this,"_defaultLineColor",this._colorManager.getHexCode("CanvasText"))}static deleteAnnotationElement(Ne){const nt=new pt({id:Ne.parent.getNextId(),parent:Ne.parent,uiManager:Ne._uiManager});nt.annotationElementId=Ne.annotationElementId,nt.deleted=!0,nt._uiManager.addToAnnotationStorage(nt)}static initialize(Ne,nt=null){if(mr._l10nPromise||(mr._l10nPromise=new Map(["editor_alt_text_button_label","editor_alt_text_edit_button_label","editor_alt_text_decorative_tooltip"].map(Ve=>[Ve,Ne.get(Ve)]))),nt!=null&&nt.strings)for(const Ve of nt.strings)mr._l10nPromise.set(Ve,Ne.get(Ve));if(mr._borderLineWidth!==-1)return;const ut=getComputedStyle(document.documentElement);mr._borderLineWidth=parseFloat(ut.getPropertyValue("--outline-width"))||0}static updateDefaultParams(Ne,nt){}static get defaultPropertiesToUpdate(){return[]}static isHandlingMimeForPasting(Ne){return!1}static paste(Ne,nt){(0,He.unreachable)("Not implemented")}get propertiesToUpdate(){return[]}get _isDraggable(){return V(this,Se)}set _isDraggable(Ne){var nt;at(this,Se,Ne),(nt=this.div)==null||nt.classList.toggle("draggable",Ne)}center(){const[Ne,nt]=this.pageDimensions;switch(this.parentRotation){case 90:this.x-=this.height*nt/(Ne*2),this.y+=this.width*Ne/(nt*2);break;case 180:this.x+=this.width/2,this.y+=this.height/2;break;case 270:this.x+=this.height*nt/(Ne*2),this.y-=this.width*Ne/(nt*2);break;default:this.x-=this.width/2,this.y-=this.height/2;break}this.fixAndSetPosition()}addCommands(Ne){this._uiManager.addCommands(Ne)}get currentLayer(){return this._uiManager.currentLayer}setInBackground(){this.div.style.zIndex=0}setInForeground(){this.div.style.zIndex=V(this,pe)}setParent(Ne){Ne!==null&&(this.pageIndex=Ne.pageIndex,this.pageDimensions=Ne.pageDimensions),this.parent=Ne}focusin(Ne){this._focusEventsAllowed&&(V(this,ge)?at(this,ge,!1):this.parent.setSelected(this))}focusout(Ne){var nt;if(!this._focusEventsAllowed||!this.isAttachedToDOM)return;const ut=Ne.relatedTarget;ut!=null&&ut.closest(`#${this.id}`)||(Ne.preventDefault(),(nt=this.parent)!=null&&nt.isMultipleSelection||this.commitOrRemove())}commitOrRemove(){this.isEmpty()?this.remove():this.commit()}commit(){this.addToAnnotationStorage()}addToAnnotationStorage(){this._uiManager.addToAnnotationStorage(this)}setAt(Ne,nt,ut,Ve){const[_e,fe]=this.parentDimensions;[ut,Ve]=this.screenToPageTranslation(ut,Ve),this.x=(Ne+ut)/_e,this.y=(nt+Ve)/fe,this.fixAndSetPosition()}translate(Ne,nt){Ue(this,ne,we).call(this,this.parentDimensions,Ne,nt)}translateInPage(Ne,nt){Ue(this,ne,we).call(this,this.pageDimensions,Ne,nt),this.div.scrollIntoView({block:"nearest"})}drag(Ne,nt){const[ut,Ve]=this.parentDimensions;if(this.x+=Ne/ut,this.y+=nt/Ve,this.parent&&(this.x<0||this.x>1||this.y<0||this.y>1)){const{x:Fe,y:Xe}=this.div.getBoundingClientRect();this.parent.findNewParent(this,Fe,Xe)&&(this.x-=Math.floor(this.x),this.y-=Math.floor(this.y))}let{x:_e,y:fe}=this;const[Le,je]=Ue(this,ne,Ie).call(this);_e+=Le,fe+=je,this.div.style.left=`${(100*_e).toFixed(2)}%`,this.div.style.top=`${(100*fe).toFixed(2)}%`,this.div.scrollIntoView({block:"nearest"})}fixAndSetPosition(){const[Ne,nt]=this.pageDimensions;let{x:ut,y:Ve,width:_e,height:fe}=this;switch(_e*=Ne,fe*=nt,ut*=Ne,Ve*=nt,this.rotation){case 0:ut=Math.max(0,Math.min(Ne-_e,ut)),Ve=Math.max(0,Math.min(nt-fe,Ve));break;case 90:ut=Math.max(0,Math.min(Ne-fe,ut)),Ve=Math.min(nt,Math.max(_e,Ve));break;case 180:ut=Math.min(Ne,Math.max(_e,ut)),Ve=Math.min(nt,Math.max(fe,Ve));break;case 270:ut=Math.min(Ne,Math.max(fe,ut)),Ve=Math.max(0,Math.min(nt-_e,Ve));break}this.x=ut/=Ne,this.y=Ve/=nt;const[Le,je]=Ue(this,ne,Ie).call(this);ut+=Le,Ve+=je;const{style:Fe}=this.div;Fe.left=`${(100*ut).toFixed(2)}%`,Fe.top=`${(100*Ve).toFixed(2)}%`,this.moveInDOM()}screenToPageTranslation(Ne,nt){var ut;return Ue(ut=mr,Pe,Ee).call(ut,Ne,nt,this.parentRotation)}pageTranslationToScreen(Ne,nt){var ut;return Ue(ut=mr,Pe,Ee).call(ut,Ne,nt,360-this.parentRotation)}get parentScale(){return this._uiManager.viewParameters.realScale}get parentRotation(){return(this._uiManager.viewParameters.rotation+this.pageRotation)%360}get parentDimensions(){const{parentScale:Ne,pageDimensions:[nt,ut]}=this,Ve=nt*Ne,_e=ut*Ne;return He.FeatureTest.isCSSRoundSupported?[Math.round(Ve),Math.round(_e)]:[Ve,_e]}setDims(Ne,nt){var ut;const[Ve,_e]=this.parentDimensions;this.div.style.width=`${(100*Ne/Ve).toFixed(2)}%`,V(this,ke)||(this.div.style.height=`${(100*nt/_e).toFixed(2)}%`),(ut=V(this,K))==null||ut.classList.toggle("small",Ne<mr.SMALL_EDITOR_SIZE||nt<mr.SMALL_EDITOR_SIZE)}fixDims(){const{style:Ne}=this.div,{height:nt,width:ut}=Ne,Ve=ut.endsWith("%"),_e=!V(this,ke)&&nt.endsWith("%");if(Ve&&_e)return;const[fe,Le]=this.parentDimensions;Ve||(Ne.width=`${(100*parseFloat(ut)/fe).toFixed(2)}%`),!V(this,ke)&&!_e&&(Ne.height=`${(100*parseFloat(nt)/Le).toFixed(2)}%`)}getInitialTranslation(){return[0,0]}async addAltTextButton(){if(V(this,K))return;const Ne=at(this,K,document.createElement("button"));Ne.className="altText";const nt=await mr._l10nPromise.get("editor_alt_text_button_label");Ne.textContent=nt,Ne.setAttribute("aria-label",nt),Ne.tabIndex="0",Ne.addEventListener("contextmenu",Ge.noContextMenu),Ne.addEventListener("pointerdown",ut=>ut.stopPropagation()),Ne.addEventListener("click",ut=>{ut.preventDefault(),this._uiManager.editAltText(this)},{capture:!0}),Ne.addEventListener("keydown",ut=>{ut.target===Ne&&ut.key==="Enter"&&(ut.preventDefault(),this._uiManager.editAltText(this))}),Ue(this,ne,rt).call(this),this.div.append(Ne),mr.SMALL_EDITOR_SIZE||(mr.SMALL_EDITOR_SIZE=Math.min(128,Math.round(Ne.getBoundingClientRect().width*1.4)))}getClientDimensions(){return this.div.getBoundingClientRect()}get altTextData(){return{altText:V(this,q),decorative:V(this,X)}}set altTextData({altText:Ne,decorative:nt}){V(this,q)===Ne&&V(this,X)===nt||(at(this,q,Ne),at(this,X,nt),Ue(this,ne,rt).call(this))}render(){this.div=document.createElement("div"),this.div.setAttribute("data-editor-rotation",(360-this.rotation)%360),this.div.className=this.name,this.div.setAttribute("id",this.id),this.div.setAttribute("tabIndex",0),this.setInForeground(),this.div.addEventListener("focusin",V(this,ae)),this.div.addEventListener("focusout",V(this,Re));const[Ne,nt]=this.parentDimensions;this.parentRotation%180!==0&&(this.div.style.maxWidth=`${(100*nt/Ne).toFixed(2)}%`,this.div.style.maxHeight=`${(100*Ne/nt).toFixed(2)}%`);const[ut,Ve]=this.getInitialTranslation();return this.translate(ut,Ve),(0,ot.bindEvents)(this,this.div,["pointerdown"]),this.div}pointerdown(Ne){const{isMac:nt}=He.FeatureTest.platform;if(Ne.button!==0||Ne.ctrlKey&&nt){Ne.preventDefault();return}at(this,ge,!0),Ue(this,ne,ye).call(this,Ne)}moveInDOM(){var Ne;(Ne=this.parent)==null||Ne.moveEditorInDOM(this)}_setParentAndPosition(Ne,nt,ut){Ne.changeParent(this),this.x=nt,this.y=ut,this.fixAndSetPosition()}getRect(Ne,nt){const ut=this.parentScale,[Ve,_e]=this.pageDimensions,[fe,Le]=this.pageTranslation,je=Ne/ut,Fe=nt/ut,Xe=this.x*Ve,Ye=this.y*_e,gt=this.width*Ve,Ct=this.height*_e;switch(this.rotation){case 0:return[Xe+je+fe,_e-Ye-Fe-Ct+Le,Xe+je+gt+fe,_e-Ye-Fe+Le];case 90:return[Xe+Fe+fe,_e-Ye+je+Le,Xe+Fe+Ct+fe,_e-Ye+je+gt+Le];case 180:return[Xe-je-gt+fe,_e-Ye+Fe+Le,Xe-je+fe,_e-Ye+Fe+Ct+Le];case 270:return[Xe-Fe-Ct+fe,_e-Ye-je-gt+Le,Xe-Fe+fe,_e-Ye-je+Le];default:throw new Error("Invalid rotation")}}getRectInCurrentCoords(Ne,nt){const[ut,Ve,_e,fe]=Ne,Le=_e-ut,je=fe-Ve;switch(this.rotation){case 0:return[ut,nt-fe,Le,je];case 90:return[ut,nt-Ve,je,Le];case 180:return[_e,nt-Ve,Le,je];case 270:return[_e,nt-fe,je,Le];default:throw new Error("Invalid rotation")}}onceAdded(){}isEmpty(){return!1}enableEditMode(){at(this,xe,!0)}disableEditMode(){at(this,xe,!1)}isInEditMode(){return V(this,xe)}shouldGetKeyboardEvents(){return!1}needsToBeRebuilt(){return this.div&&!this.isAttachedToDOM}rebuild(){var Ne,nt;(Ne=this.div)==null||Ne.addEventListener("focusin",V(this,ae)),(nt=this.div)==null||nt.addEventListener("focusout",V(this,Re))}serialize(Ne=!1,nt=null){(0,He.unreachable)("An editor must be serializable")}static deserialize(Ne,nt,ut){const Ve=new this.prototype.constructor({parent:nt,id:nt.getNextId(),uiManager:ut});Ve.rotation=Ne.rotation;const[_e,fe]=Ve.pageDimensions,[Le,je,Fe,Xe]=Ve.getRectInCurrentCoords(Ne.rect,fe);return Ve.x=Le/_e,Ve.y=je/fe,Ve.width=Fe/_e,Ve.height=Xe/fe,Ve}remove(){var Ne;this.div.removeEventListener("focusin",V(this,ae)),this.div.removeEventListener("focusout",V(this,Re)),this.isEmpty()||this.commit(),this.parent?this.parent.remove(this):this._uiManager.removeEditor(this),(Ne=V(this,K))==null||Ne.remove(),at(this,K,null),at(this,B,null)}get isResizable(){return!1}makeResizable(){this.isResizable&&(Ue(this,ne,Oe).call(this),V(this,Ae).classList.remove("hidden"))}select(){var Ne;this.makeResizable(),(Ne=this.div)==null||Ne.classList.add("selectedEditor")}unselect(){var Ne,nt,ut;(Ne=V(this,Ae))==null||Ne.classList.add("hidden"),(nt=this.div)==null||nt.classList.remove("selectedEditor"),(ut=this.div)!=null&&ut.contains(document.activeElement)&&this._uiManager.currentLayer.div.focus()}updateParams(Ne,nt){}disableEditing(){V(this,K)&&(V(this,K).hidden=!0)}enableEditing(){V(this,K)&&(V(this,K).hidden=!1)}enterInEditMode(){}get contentDiv(){return this.div}get isEditing(){return V(this,ve)}set isEditing(Ne){at(this,ve,Ne),this.parent&&(Ne?(this.parent.setSelected(this),this.parent.setActiveEditor(this)):this.parent.setActiveEditor(null))}setAspectRatio(Ne,nt){at(this,ke,!0);const ut=Ne/nt,{style:Ve}=this.div;Ve.aspectRatio=ut,Ve.height="auto"}static get MIN_SIZE(){return 16}};q=new WeakMap,X=new WeakMap,K=new WeakMap,B=new WeakMap,he=new WeakMap,ke=new WeakMap,Ae=new WeakMap,ae=new WeakMap,Re=new WeakMap,ge=new WeakMap,ve=new WeakMap,xe=new WeakMap,Se=new WeakMap,pe=new WeakMap,ne=new WeakSet,we=function([Et,Ne],nt,ut){[nt,ut]=this.screenToPageTranslation(nt,ut),this.x+=nt/Et,this.y+=ut/Ne,this.fixAndSetPosition()},Ie=function(){const[Et,Ne]=this.parentDimensions,{_borderLineWidth:nt}=Be,ut=nt/Et,Ve=nt/Ne;switch(this.rotation){case 90:return[-ut,Ve];case 180:return[ut,Ve];case 270:return[ut,-Ve];default:return[-ut,-Ve]}},Pe=new WeakSet,Ee=function(Et,Ne,nt){switch(nt){case 90:return[Ne,-Et];case 180:return[-Et,-Ne];case 270:return[-Ne,Et];default:return[Et,Ne]}},Ce=function(Et){switch(Et){case 90:{const[Ne,nt]=this.pageDimensions;return[0,-Ne/nt,nt/Ne,0]}case 180:return[-1,0,0,-1];case 270:{const[Ne,nt]=this.pageDimensions;return[0,Ne/nt,-nt/Ne,0]}default:return[1,0,0,1]}},Oe=function(){if(V(this,Ae))return;at(this,Ae,document.createElement("div")),V(this,Ae).classList.add("resizers");const Et=["topLeft","topRight","bottomRight","bottomLeft"];this._willKeepAspectRatio||Et.push("topMiddle","middleRight","bottomMiddle","middleLeft");for(const Ne of Et){const nt=document.createElement("div");V(this,Ae).append(nt),nt.classList.add("resizer",Ne),nt.addEventListener("pointerdown",Ue(this,ne,qe).bind(this,Ne)),nt.addEventListener("contextmenu",Ge.noContextMenu)}this.div.prepend(V(this,Ae))},qe=function(Et,Ne){Ne.preventDefault();const{isMac:nt}=He.FeatureTest.platform;if(Ne.button!==0||Ne.ctrlKey&&nt)return;const ut=Ue(this,ne,ze).bind(this,Et),Ve=this._isDraggable;this._isDraggable=!1;const _e={passive:!0,capture:!0};window.addEventListener("pointermove",ut,_e);const fe=this.x,Le=this.y,je=this.width,Fe=this.height,Xe=this.parent.div.style.cursor,Ye=this.div.style.cursor;this.div.style.cursor=this.parent.div.style.cursor=window.getComputedStyle(Ne.target).cursor;const gt=()=>{this._isDraggable=Ve,window.removeEventListener("pointerup",gt),window.removeEventListener("blur",gt),window.removeEventListener("pointermove",ut,_e),this.parent.div.style.cursor=Xe,this.div.style.cursor=Ye;const Ct=this.x,kt=this.y,dt=this.width,Mt=this.height;Ct===fe&&kt===Le&&dt===je&&Mt===Fe||this.addCommands({cmd:()=>{this.width=dt,this.height=Mt,this.x=Ct,this.y=kt;const[Ot,De]=this.parentDimensions;this.setDims(Ot*dt,De*Mt),this.fixAndSetPosition()},undo:()=>{this.width=je,this.height=Fe,this.x=fe,this.y=Le;const[Ot,De]=this.parentDimensions;this.setDims(Ot*je,De*Fe),this.fixAndSetPosition()},mustExec:!0})};window.addEventListener("pointerup",gt),window.addEventListener("blur",gt)},ze=function(Et,Ne){const[nt,ut]=this.parentDimensions,Ve=this.x,_e=this.y,fe=this.width,Le=this.height,je=Be.MIN_SIZE/nt,Fe=Be.MIN_SIZE/ut,Xe=sn=>Math.round(sn*1e4)/1e4,Ye=Ue(this,ne,Ce).call(this,this.rotation),gt=(sn,rn)=>[Ye[0]*sn+Ye[2]*rn,Ye[1]*sn+Ye[3]*rn],Ct=Ue(this,ne,Ce).call(this,360-this.rotation),kt=(sn,rn)=>[Ct[0]*sn+Ct[2]*rn,Ct[1]*sn+Ct[3]*rn];let dt,Mt,Ot=!1,De=!1;switch(Et){case"topLeft":Ot=!0,dt=(sn,rn)=>[0,0],Mt=(sn,rn)=>[sn,rn];break;case"topMiddle":dt=(sn,rn)=>[sn/2,0],Mt=(sn,rn)=>[sn/2,rn];break;case"topRight":Ot=!0,dt=(sn,rn)=>[sn,0],Mt=(sn,rn)=>[0,rn];break;case"middleRight":De=!0,dt=(sn,rn)=>[sn,rn/2],Mt=(sn,rn)=>[0,rn/2];break;case"bottomRight":Ot=!0,dt=(sn,rn)=>[sn,rn],Mt=(sn,rn)=>[0,0];break;case"bottomMiddle":dt=(sn,rn)=>[sn/2,rn],Mt=(sn,rn)=>[sn/2,0];break;case"bottomLeft":Ot=!0,dt=(sn,rn)=>[0,rn],Mt=(sn,rn)=>[sn,0];break;case"middleLeft":De=!0,dt=(sn,rn)=>[0,rn/2],Mt=(sn,rn)=>[sn,rn/2];break}const Te=dt(fe,Le),We=Mt(fe,Le);let Ze=gt(...We);const ct=Xe(Ve+Ze[0]),Pt=Xe(_e+Ze[1]);let $t=1,_t=1,[Tt,jt]=this.screenToPageTranslation(Ne.movementX,Ne.movementY);if([Tt,jt]=kt(Tt/nt,jt/ut),Ot){const sn=Math.hypot(fe,Le);$t=_t=Math.max(Math.min(Math.hypot(We[0]-Te[0]-Tt,We[1]-Te[1]-jt)/sn,1/fe,1/Le),je/fe,Fe/Le)}else De?$t=Math.max(je,Math.min(1,Math.abs(We[0]-Te[0]-Tt)))/fe:_t=Math.max(Fe,Math.min(1,Math.abs(We[1]-Te[1]-jt)))/Le;const Jt=Xe(fe*$t),Yt=Xe(Le*_t);Ze=gt(...Mt(Jt,Yt));const Bt=ct-Ze[0],cn=Pt-Ze[1];this.width=Jt,this.height=Yt,this.x=Bt,this.y=cn,this.setDims(nt*Jt,ut*Yt),this.fixAndSetPosition()},rt=async function(){var Et;const Ne=V(this,K);if(!Ne)return;if(!V(this,q)&&!V(this,X)){Ne.classList.remove("done"),(Et=V(this,B))==null||Et.remove();return}Be._l10nPromise.get("editor_alt_text_edit_button_label").then(ut=>{Ne.setAttribute("aria-label",ut)});let nt=V(this,B);if(!nt){at(this,B,nt=document.createElement("span")),nt.className="tooltip",nt.setAttribute("role","tooltip");const ut=nt.id=`alt-text-tooltip-${this.id}`;Ne.setAttribute("aria-describedby",ut);const Ve=100;Ne.addEventListener("mouseenter",()=>{at(this,he,setTimeout(()=>{at(this,he,null),V(this,B).classList.add("show"),this._uiManager._eventBus.dispatch("reporttelemetry",{source:this,details:{type:"editing",subtype:this.editorType,data:{action:"alt_text_tooltip"}}})},Ve))}),Ne.addEventListener("mouseleave",()=>{var _e;clearTimeout(V(this,he)),at(this,he,null),(_e=V(this,B))==null||_e.classList.remove("show")})}Ne.classList.add("done"),nt.innerText=V(this,X)?await Be._l10nPromise.get("editor_alt_text_decorative_tooltip"):V(this,q),nt.parentNode||Ne.append(nt)},ye=function(Et){if(!this._isDraggable)return;const Ne=this._uiManager.isSelected(this);this._uiManager.setUpDragSession();let nt,ut;Ne&&(nt={passive:!0,capture:!0},ut=_e=>{const[fe,Le]=this.screenToPageTranslation(_e.movementX,_e.movementY);this._uiManager.dragSelectedEditors(fe,Le)},window.addEventListener("pointermove",ut,nt));const Ve=()=>{if(window.removeEventListener("pointerup",Ve),window.removeEventListener("blur",Ve),Ne&&window.removeEventListener("pointermove",ut,nt),at(this,ge,!1),!this._uiManager.endDragSession()){const{isMac:_e}=He.FeatureTest.platform;Et.ctrlKey&&!_e||Et.shiftKey||Et.metaKey&&_e?this.parent.toggleSelected(this):this.parent.setSelected(this)}};window.addEventListener("pointerup",Ve),window.addEventListener("blur",Ve)},it(Be,Pe),$n(Be,"_borderLineWidth",-1),$n(Be,"_colorManager",new ot.ColorManager),$n(Be,"_zIndex",1),$n(Be,"SMALL_EDITOR_SIZE",0);let xt=Be;G.AnnotationEditor=xt;class pt extends xt{constructor(Ne){super(Ne),this.annotationElementId=Ne.annotationElementId,this.deleted=!0}serialize(){return{id:this.annotationElementId,deleted:!0,pageIndex:this.pageIndex}}}},(W,G,Y)=>{var q,X,K,B,he,ke,Ae,ae,Re,ge,ve,xe,Se,pe,ne,we,Ie,Pe,Ee,Ce,Oe,qe,ze,rt,ye,ot,He,Ge,Be,xt,pt,Et,Ne,nt,ut,Ve,_e,fe,Le,je,Fe,Xe,Ye,gt,Ct,kt,dt,Mt,Ot,De,Te,We,Ze,ct,Pt,$t,_t,Tt,jt,Jt;Object.defineProperty(G,"__esModule",{value:!0}),G.KeyboardManager=G.CommandManager=G.ColorManager=G.AnnotationEditorUIManager=void 0,G.bindEvents=cn,G.opacityToHex=sn;var Yt=Y(1),Bt=Y(6);function cn(Ht,Qe,Rt){for(const Zt of Rt)Qe.addEventListener(Zt,Ht[Zt].bind(Ht))}function sn(Ht){return Math.round(Math.min(255,Math.max(1,255*Ht))).toString(16).padStart(2,"0")}class rn{constructor(){it(this,q,0)}getId(){return`${Yt.AnnotationEditorPrefix}${Cr(this,q)._++}`}}q=new WeakMap;const Fn=class{constructor(){it(this,he),it(this,X,(0,Yt.getUuid)()),it(this,K,0),it(this,B,null)}static get _isSVGFittingCanvas(){const Ht='data:image/svg+xml;charset=UTF-8,<svg viewBox="0 0 1 1" width="1" height="1" xmlns="http://www.w3.org/2000/svg"><rect width="1" height="1" style="fill:red;"/></svg>',Qe=new OffscreenCanvas(1,3).getContext("2d"),Rt=new Image;Rt.src=Ht;const Zt=Rt.decode().then(()=>(Qe.drawImage(Rt,0,0,1,1,0,0,1,3),new Uint32Array(Qe.getImageData(0,0,1,1).data.buffer)[0]===0));return(0,Yt.shadow)(this,"_isSVGFittingCanvas",Zt)}async getFromFile(Ht){const{lastModified:Qe,name:Rt,size:Zt,type:pn}=Ht;return Ue(this,he,ke).call(this,`${Qe}_${Rt}_${Zt}_${pn}`,Ht)}async getFromUrl(Ht){return Ue(this,he,ke).call(this,Ht,Ht)}async getFromId(Ht){V(this,B)||at(this,B,new Map);const Qe=V(this,B).get(Ht);return Qe?Qe.bitmap?(Qe.refCounter+=1,Qe):Qe.file?this.getFromFile(Qe.file):this.getFromUrl(Qe.url):null}getSvgUrl(Ht){const Qe=V(this,B).get(Ht);return Qe!=null&&Qe.isSvg?Qe.svgUrl:null}deleteId(Ht){V(this,B)||at(this,B,new Map);const Qe=V(this,B).get(Ht);Qe&&(Qe.refCounter-=1,Qe.refCounter===0&&(Qe.bitmap=null))}isValidId(Ht){return Ht.startsWith(`image_${V(this,X)}_`)}};X=new WeakMap,K=new WeakMap,B=new WeakMap,he=new WeakSet,ke=async function(Ht,Qe){V(this,B)||at(this,B,new Map);let Rt=V(this,B).get(Ht);if(Rt===null)return null;if(Rt!=null&&Rt.bitmap)return Rt.refCounter+=1,Rt;try{Rt||(Rt={bitmap:null,id:`image_${V(this,X)}_${Cr(this,K)._++}`,refCounter:0,isSvg:!1});let Zt;if(typeof Qe=="string"){Rt.url=Qe;const pn=await fetch(Qe);if(!pn.ok)throw new Error(pn.statusText);Zt=await pn.blob()}else Zt=Rt.file=Qe;if(Zt.type==="image/svg+xml"){const pn=Fn._isSVGFittingCanvas,an=new FileReader,Nt=new Image,$e=new Promise((Je,vt)=>{Nt.onload=()=>{Rt.bitmap=Nt,Rt.isSvg=!0,Je()},an.onload=async()=>{const At=Rt.svgUrl=an.result;Nt.src=await pn?`${At}#svgView(preserveAspectRatio(none))`:At},Nt.onerror=an.onerror=vt});an.readAsDataURL(Zt),await $e}else Rt.bitmap=await createImageBitmap(Zt);Rt.refCounter=1}catch(Zt){console.error(Zt),Rt=null}return V(this,B).set(Ht,Rt),Rt&&V(this,B).set(Rt.id,Rt),Rt};let In=Fn;class Nn{constructor(Qe=128){it(this,Ae,[]),it(this,ae,!1),it(this,Re),it(this,ge,-1),at(this,Re,Qe)}add({cmd:Qe,undo:Rt,mustExec:Zt,type:pn=NaN,overwriteIfSameType:an=!1,keepUndo:Nt=!1}){if(Zt&&Qe(),V(this,ae))return;const $e={cmd:Qe,undo:Rt,type:pn};if(V(this,ge)===-1){V(this,Ae).length>0&&(V(this,Ae).length=0),at(this,ge,0),V(this,Ae).push($e);return}if(an&&V(this,Ae)[V(this,ge)].type===pn){Nt&&($e.undo=V(this,Ae)[V(this,ge)].undo),V(this,Ae)[V(this,ge)]=$e;return}const Je=V(this,ge)+1;Je===V(this,Re)?V(this,Ae).splice(0,1):(at(this,ge,Je),Je<V(this,Ae).length&&V(this,Ae).splice(Je)),V(this,Ae).push($e)}undo(){V(this,ge)!==-1&&(at(this,ae,!0),V(this,Ae)[V(this,ge)].undo(),at(this,ae,!1),at(this,ge,V(this,ge)-1))}redo(){V(this,ge)<V(this,Ae).length-1&&(at(this,ge,V(this,ge)+1),at(this,ae,!0),V(this,Ae)[V(this,ge)].cmd(),at(this,ae,!1))}hasSomethingToUndo(){return V(this,ge)!==-1}hasSomethingToRedo(){return V(this,ge)<V(this,Ae).length-1}destroy(){at(this,Ae,null)}}Ae=new WeakMap,ae=new WeakMap,Re=new WeakMap,ge=new WeakMap,G.CommandManager=Nn;class Lt{constructor(Qe){it(this,ve),this.buffer=[],this.callbacks=new Map,this.allKeys=new Set;const{isMac:Rt}=Yt.FeatureTest.platform;for(const[Zt,pn,an={}]of Qe)for(const Nt of Zt){const $e=Nt.startsWith("mac+");Rt&&$e?(this.callbacks.set(Nt.slice(4),{callback:pn,options:an}),this.allKeys.add(Nt.split("+").at(-1))):!Rt&&!$e&&(this.callbacks.set(Nt,{callback:pn,options:an}),this.allKeys.add(Nt.split("+").at(-1)))}}exec(Qe,Rt){if(!this.allKeys.has(Rt.key))return;const Zt=this.callbacks.get(Ue(this,ve,xe).call(this,Rt));if(!Zt)return;const{callback:pn,options:{bubbles:an=!1,args:Nt=[],checker:$e=null}}=Zt;$e&&!$e(Qe,Rt)||(pn.bind(Qe,...Nt)(),an||(Rt.stopPropagation(),Rt.preventDefault()))}}ve=new WeakSet,xe=function(Ht){Ht.altKey&&this.buffer.push("alt"),Ht.ctrlKey&&this.buffer.push("ctrl"),Ht.metaKey&&this.buffer.push("meta"),Ht.shiftKey&&this.buffer.push("shift"),this.buffer.push(Ht.key);const Qe=this.buffer.join("+");return this.buffer.length=0,Qe},G.KeyboardManager=Lt;const yt=class Ii{get _colors(){const Qe=new Map([["CanvasText",null],["Canvas",null]]);return(0,Bt.getColorValues)(Qe),(0,Yt.shadow)(this,"_colors",Qe)}convert(Qe){const Rt=(0,Bt.getRGB)(Qe);if(!window.matchMedia("(forced-colors: active)").matches)return Rt;for(const[Zt,pn]of this._colors)if(pn.every((an,Nt)=>an===Rt[Nt]))return Ii._colorsMapping.get(Zt);return Rt}getHexCode(Qe){const Rt=this._colors.get(Qe);return Rt?Yt.Util.makeHexColor(...Rt):Qe}};$n(yt,"_colorsMapping",new Map([["CanvasText",[0,0,0]],["Canvas",[255,255,255]]]));let ft=yt;G.ColorManager=ft;const Qt=class ui{constructor(Qe,Rt,Zt,pn,an,Nt){it(this,dt),it(this,Se,null),it(this,pe,new Map),it(this,ne,new Map),it(this,we,null),it(this,Ie,null),it(this,Pe,new Nn),it(this,Ee,0),it(this,Ce,new Set),it(this,Oe,null),it(this,qe,null),it(this,ze,new Set),it(this,rt,null),it(this,ye,new rn),it(this,ot,!1),it(this,He,!1),it(this,Ge,null),it(this,Be,Yt.AnnotationEditorType.NONE),it(this,xt,new Set),it(this,pt,null),it(this,Et,this.blur.bind(this)),it(this,Ne,this.focus.bind(this)),it(this,nt,this.copy.bind(this)),it(this,ut,this.cut.bind(this)),it(this,Ve,this.paste.bind(this)),it(this,_e,this.keydown.bind(this)),it(this,fe,this.onEditingAction.bind(this)),it(this,Le,this.onPageChanging.bind(this)),it(this,je,this.onScaleChanging.bind(this)),it(this,Fe,this.onRotationChanging.bind(this)),it(this,Xe,{isEditing:!1,isEmpty:!0,hasSomethingToUndo:!1,hasSomethingToRedo:!1,hasSelectedEditor:!1}),it(this,Ye,[0,0]),it(this,gt,null),it(this,Ct,null),it(this,kt,null),at(this,Ct,Qe),at(this,kt,Rt),at(this,we,Zt),this._eventBus=pn,this._eventBus._on("editingaction",V(this,fe)),this._eventBus._on("pagechanging",V(this,Le)),this._eventBus._on("scalechanging",V(this,je)),this._eventBus._on("rotationchanging",V(this,Fe)),at(this,Ie,an.annotationStorage),at(this,rt,an.filterFactory),at(this,pt,Nt),this.viewParameters={realScale:Bt.PixelsPerInch.PDF_TO_CSS_UNITS,rotation:0}}static get _keyboardManager(){const Qe=ui.prototype,Rt=an=>{const{activeElement:Nt}=document;return Nt&&V(an,Ct).contains(Nt)&&an.hasSomethingToControl()},Zt=this.TRANSLATE_SMALL,pn=this.TRANSLATE_BIG;return(0,Yt.shadow)(this,"_keyboardManager",new Lt([[["ctrl+a","mac+meta+a"],Qe.selectAll],[["ctrl+z","mac+meta+z"],Qe.undo],[["ctrl+y","ctrl+shift+z","mac+meta+shift+z","ctrl+shift+Z","mac+meta+shift+Z"],Qe.redo],[["Backspace","alt+Backspace","ctrl+Backspace","shift+Backspace","mac+Backspace","mac+alt+Backspace","mac+ctrl+Backspace","Delete","ctrl+Delete","shift+Delete","mac+Delete"],Qe.delete],[["Escape","mac+Escape"],Qe.unselectAll],[["ArrowLeft","mac+ArrowLeft"],Qe.translateSelectedEditors,{args:[-Zt,0],checker:Rt}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],Qe.translateSelectedEditors,{args:[-pn,0],checker:Rt}],[["ArrowRight","mac+ArrowRight"],Qe.translateSelectedEditors,{args:[Zt,0],checker:Rt}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],Qe.translateSelectedEditors,{args:[pn,0],checker:Rt}],[["ArrowUp","mac+ArrowUp"],Qe.translateSelectedEditors,{args:[0,-Zt],checker:Rt}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],Qe.translateSelectedEditors,{args:[0,-pn],checker:Rt}],[["ArrowDown","mac+ArrowDown"],Qe.translateSelectedEditors,{args:[0,Zt],checker:Rt}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],Qe.translateSelectedEditors,{args:[0,pn],checker:Rt}]]))}destroy(){Ue(this,dt,Te).call(this),Ue(this,dt,Ot).call(this),this._eventBus._off("editingaction",V(this,fe)),this._eventBus._off("pagechanging",V(this,Le)),this._eventBus._off("scalechanging",V(this,je)),this._eventBus._off("rotationchanging",V(this,Fe));for(const Qe of V(this,ne).values())Qe.destroy();V(this,ne).clear(),V(this,pe).clear(),V(this,ze).clear(),at(this,Se,null),V(this,xt).clear(),V(this,Pe).destroy(),V(this,we).destroy()}get hcmFilter(){return(0,Yt.shadow)(this,"hcmFilter",V(this,pt)?V(this,rt).addHCMFilter(V(this,pt).foreground,V(this,pt).background):"none")}get direction(){return(0,Yt.shadow)(this,"direction",getComputedStyle(V(this,Ct)).direction)}editAltText(Qe){var Rt;(Rt=V(this,we))==null||Rt.editAltText(this,Qe)}onPageChanging({pageNumber:Qe}){at(this,Ee,Qe-1)}focusMainContainer(){V(this,Ct).focus()}findParent(Qe,Rt){for(const Zt of V(this,ne).values()){const{x:pn,y:an,width:Nt,height:$e}=Zt.div.getBoundingClientRect();if(Qe>=pn&&Qe<=pn+Nt&&Rt>=an&&Rt<=an+$e)return Zt}return null}disableUserSelect(Qe=!1){V(this,kt).classList.toggle("noUserSelect",Qe)}addShouldRescale(Qe){V(this,ze).add(Qe)}removeShouldRescale(Qe){V(this,ze).delete(Qe)}onScaleChanging({scale:Qe}){this.commitOrRemove(),this.viewParameters.realScale=Qe*Bt.PixelsPerInch.PDF_TO_CSS_UNITS;for(const Rt of V(this,ze))Rt.onScaleChanging()}onRotationChanging({pagesRotation:Qe}){this.commitOrRemove(),this.viewParameters.rotation=Qe}addToAnnotationStorage(Qe){!Qe.isEmpty()&&V(this,Ie)&&!V(this,Ie).has(Qe.id)&&V(this,Ie).setValue(Qe.id,Qe)}blur(){if(!this.hasSelection)return;const{activeElement:Qe}=document;for(const Rt of V(this,xt))if(Rt.div.contains(Qe)){at(this,Ge,[Rt,Qe]),Rt._focusEventsAllowed=!1;break}}focus(){if(!V(this,Ge))return;const[Qe,Rt]=V(this,Ge);at(this,Ge,null),Rt.addEventListener("focusin",()=>{Qe._focusEventsAllowed=!0},{once:!0}),Rt.focus()}addEditListeners(){Ue(this,dt,De).call(this),Ue(this,dt,We).call(this)}removeEditListeners(){Ue(this,dt,Te).call(this),Ue(this,dt,Ze).call(this)}copy(Qe){var Rt;if(Qe.preventDefault(),(Rt=V(this,Se))==null||Rt.commitOrRemove(),!this.hasSelection)return;const Zt=[];for(const pn of V(this,xt)){const an=pn.serialize(!0);an&&Zt.push(an)}Zt.length!==0&&Qe.clipboardData.setData("application/pdfjs",JSON.stringify(Zt))}cut(Qe){this.copy(Qe),this.delete()}paste(Qe){Qe.preventDefault();const{clipboardData:Rt}=Qe;for(const an of Rt.items)for(const Nt of V(this,qe))if(Nt.isHandlingMimeForPasting(an.type)){Nt.paste(an,this.currentLayer);return}let Zt=Rt.getData("application/pdfjs");if(!Zt)return;try{Zt=JSON.parse(Zt)}catch(an){(0,Yt.warn)(`paste: "${an.message}".`);return}if(!Array.isArray(Zt))return;this.unselectAll();const pn=this.currentLayer;try{const an=[];for(const Je of Zt){const vt=pn.deserialize(Je);if(!vt)return;an.push(vt)}const Nt=()=>{for(const Je of an)Ue(this,dt,Tt).call(this,Je);Ue(this,dt,Jt).call(this,an)},$e=()=>{for(const Je of an)Je.remove()};this.addCommands({cmd:Nt,undo:$e,mustExec:!0})}catch(an){(0,Yt.warn)(`paste: "${an.message}".`)}}keydown(Qe){var Rt;(Rt=this.getActive())!=null&&Rt.shouldGetKeyboardEvents()||ui._keyboardManager.exec(this,Qe)}onEditingAction(Qe){["undo","redo","delete","selectAll"].includes(Qe.name)&&this[Qe.name]()}setEditingState(Qe){Qe?(Ue(this,dt,Mt).call(this),Ue(this,dt,De).call(this),Ue(this,dt,We).call(this),Ue(this,dt,ct).call(this,{isEditing:V(this,Be)!==Yt.AnnotationEditorType.NONE,isEmpty:Ue(this,dt,jt).call(this),hasSomethingToUndo:V(this,Pe).hasSomethingToUndo(),hasSomethingToRedo:V(this,Pe).hasSomethingToRedo(),hasSelectedEditor:!1})):(Ue(this,dt,Ot).call(this),Ue(this,dt,Te).call(this),Ue(this,dt,Ze).call(this),Ue(this,dt,ct).call(this,{isEditing:!1}),this.disableUserSelect(!1))}registerEditorTypes(Qe){if(!V(this,qe)){at(this,qe,Qe);for(const Rt of V(this,qe))Ue(this,dt,Pt).call(this,Rt.defaultPropertiesToUpdate)}}getId(){return V(this,ye).getId()}get currentLayer(){return V(this,ne).get(V(this,Ee))}getLayer(Qe){return V(this,ne).get(Qe)}get currentPageIndex(){return V(this,Ee)}addLayer(Qe){V(this,ne).set(Qe.pageIndex,Qe),V(this,ot)?Qe.enable():Qe.disable()}removeLayer(Qe){V(this,ne).delete(Qe.pageIndex)}updateMode(Qe,Rt=null){if(V(this,Be)!==Qe){if(at(this,Be,Qe),Qe===Yt.AnnotationEditorType.NONE){this.setEditingState(!1),Ue(this,dt,_t).call(this);return}this.setEditingState(!0),Ue(this,dt,$t).call(this),this.unselectAll();for(const Zt of V(this,ne).values())Zt.updateMode(Qe);if(Rt){for(const Zt of V(this,pe).values())if(Zt.annotationElementId===Rt){this.setSelected(Zt),Zt.enterInEditMode();break}}}}updateToolbar(Qe){Qe!==V(this,Be)&&this._eventBus.dispatch("switchannotationeditormode",{source:this,mode:Qe})}updateParams(Qe,Rt){if(V(this,qe)){if(Qe===Yt.AnnotationEditorParamsType.CREATE){this.currentLayer.addNewEditor(Qe);return}for(const Zt of V(this,xt))Zt.updateParams(Qe,Rt);for(const Zt of V(this,qe))Zt.updateDefaultParams(Qe,Rt)}}enableWaiting(Qe=!1){if(V(this,He)!==Qe){at(this,He,Qe);for(const Rt of V(this,ne).values())Qe?Rt.disableClick():Rt.enableClick(),Rt.div.classList.toggle("waiting",Qe)}}getEditors(Qe){const Rt=[];for(const Zt of V(this,pe).values())Zt.pageIndex===Qe&&Rt.push(Zt);return Rt}getEditor(Qe){return V(this,pe).get(Qe)}addEditor(Qe){V(this,pe).set(Qe.id,Qe)}removeEditor(Qe){var Rt;V(this,pe).delete(Qe.id),this.unselect(Qe),(!Qe.annotationElementId||!V(this,Ce).has(Qe.annotationElementId))&&((Rt=V(this,Ie))==null||Rt.remove(Qe.id))}addDeletedAnnotationElement(Qe){V(this,Ce).add(Qe.annotationElementId),Qe.deleted=!0}isDeletedAnnotationElement(Qe){return V(this,Ce).has(Qe)}removeDeletedAnnotationElement(Qe){V(this,Ce).delete(Qe.annotationElementId),Qe.deleted=!1}setActiveEditor(Qe){V(this,Se)!==Qe&&(at(this,Se,Qe),Qe&&Ue(this,dt,Pt).call(this,Qe.propertiesToUpdate))}toggleSelected(Qe){if(V(this,xt).has(Qe)){V(this,xt).delete(Qe),Qe.unselect(),Ue(this,dt,ct).call(this,{hasSelectedEditor:this.hasSelection});return}V(this,xt).add(Qe),Qe.select(),Ue(this,dt,Pt).call(this,Qe.propertiesToUpdate),Ue(this,dt,ct).call(this,{hasSelectedEditor:!0})}setSelected(Qe){for(const Rt of V(this,xt))Rt!==Qe&&Rt.unselect();V(this,xt).clear(),V(this,xt).add(Qe),Qe.select(),Ue(this,dt,Pt).call(this,Qe.propertiesToUpdate),Ue(this,dt,ct).call(this,{hasSelectedEditor:!0})}isSelected(Qe){return V(this,xt).has(Qe)}unselect(Qe){Qe.unselect(),V(this,xt).delete(Qe),Ue(this,dt,ct).call(this,{hasSelectedEditor:this.hasSelection})}get hasSelection(){return V(this,xt).size!==0}undo(){V(this,Pe).undo(),Ue(this,dt,ct).call(this,{hasSomethingToUndo:V(this,Pe).hasSomethingToUndo(),hasSomethingToRedo:!0,isEmpty:Ue(this,dt,jt).call(this)})}redo(){V(this,Pe).redo(),Ue(this,dt,ct).call(this,{hasSomethingToUndo:!0,hasSomethingToRedo:V(this,Pe).hasSomethingToRedo(),isEmpty:Ue(this,dt,jt).call(this)})}addCommands(Qe){V(this,Pe).add(Qe),Ue(this,dt,ct).call(this,{hasSomethingToUndo:!0,hasSomethingToRedo:!1,isEmpty:Ue(this,dt,jt).call(this)})}delete(){if(this.commitOrRemove(),!this.hasSelection)return;const Qe=[...V(this,xt)],Rt=()=>{for(const pn of Qe)pn.remove()},Zt=()=>{for(const pn of Qe)Ue(this,dt,Tt).call(this,pn)};this.addCommands({cmd:Rt,undo:Zt,mustExec:!0})}commitOrRemove(){var Qe;(Qe=V(this,Se))==null||Qe.commitOrRemove()}hasSomethingToControl(){return V(this,Se)||this.hasSelection}selectAll(){for(const Qe of V(this,xt))Qe.commit();Ue(this,dt,Jt).call(this,V(this,pe).values())}unselectAll(){if(V(this,Se)){V(this,Se).commitOrRemove();return}if(this.hasSelection){for(const Qe of V(this,xt))Qe.unselect();V(this,xt).clear(),Ue(this,dt,ct).call(this,{hasSelectedEditor:!1})}}translateSelectedEditors(Qe,Rt,Zt=!1){if(Zt||this.commitOrRemove(),!this.hasSelection)return;V(this,Ye)[0]+=Qe,V(this,Ye)[1]+=Rt;const[pn,an]=V(this,Ye),Nt=[...V(this,xt)];V(this,gt)&&clearTimeout(V(this,gt)),at(this,gt,setTimeout(()=>{at(this,gt,null),V(this,Ye)[0]=V(this,Ye)[1]=0,this.addCommands({cmd:()=>{for(const $e of Nt)V(this,pe).has($e.id)&&$e.translateInPage(pn,an)},undo:()=>{for(const $e of Nt)V(this,pe).has($e.id)&&$e.translateInPage(-pn,-an)},mustExec:!1})},1e3));for(const $e of Nt)$e.translateInPage(Qe,Rt)}setUpDragSession(){if(this.hasSelection){this.disableUserSelect(!0),at(this,Oe,new Map);for(const Qe of V(this,xt))V(this,Oe).set(Qe,{savedX:Qe.x,savedY:Qe.y,savedPageIndex:Qe.pageIndex,newX:0,newY:0,newPageIndex:-1})}}endDragSession(){if(!V(this,Oe))return!1;this.disableUserSelect(!1);const Qe=V(this,Oe);at(this,Oe,null);let Rt=!1;for(const[{x:pn,y:an,pageIndex:Nt},$e]of Qe)$e.newX=pn,$e.newY=an,$e.newPageIndex=Nt,Rt||(Rt=pn!==$e.savedX||an!==$e.savedY||Nt!==$e.savedPageIndex);if(!Rt)return!1;const Zt=(pn,an,Nt,$e)=>{if(V(this,pe).has(pn.id)){const Je=V(this,ne).get($e);Je?pn._setParentAndPosition(Je,an,Nt):(pn.pageIndex=$e,pn.x=an,pn.y=Nt)}};return this.addCommands({cmd:()=>{for(const[pn,{newX:an,newY:Nt,newPageIndex:$e}]of Qe)Zt(pn,an,Nt,$e)},undo:()=>{for(const[pn,{savedX:an,savedY:Nt,savedPageIndex:$e}]of Qe)Zt(pn,an,Nt,$e)},mustExec:!0}),!0}dragSelectedEditors(Qe,Rt){if(V(this,Oe))for(const Zt of V(this,Oe).keys())Zt.drag(Qe,Rt)}rebuild(Qe){if(Qe.parent===null){const Rt=this.getLayer(Qe.pageIndex);Rt?(Rt.changeParent(Qe),Rt.addOrRebuild(Qe)):(this.addEditor(Qe),this.addToAnnotationStorage(Qe),Qe.rebuild())}else Qe.parent.addOrRebuild(Qe)}isActive(Qe){return V(this,Se)===Qe}getActive(){return V(this,Se)}getMode(){return V(this,Be)}get imageManager(){return(0,Yt.shadow)(this,"imageManager",new In)}};Se=new WeakMap,pe=new WeakMap,ne=new WeakMap,we=new WeakMap,Ie=new WeakMap,Pe=new WeakMap,Ee=new WeakMap,Ce=new WeakMap,Oe=new WeakMap,qe=new WeakMap,ze=new WeakMap,rt=new WeakMap,ye=new WeakMap,ot=new WeakMap,He=new WeakMap,Ge=new WeakMap,Be=new WeakMap,xt=new WeakMap,pt=new WeakMap,Et=new WeakMap,Ne=new WeakMap,nt=new WeakMap,ut=new WeakMap,Ve=new WeakMap,_e=new WeakMap,fe=new WeakMap,Le=new WeakMap,je=new WeakMap,Fe=new WeakMap,Xe=new WeakMap,Ye=new WeakMap,gt=new WeakMap,Ct=new WeakMap,kt=new WeakMap,dt=new WeakSet,Mt=function(){window.addEventListener("focus",V(this,Ne)),window.addEventListener("blur",V(this,Et))},Ot=function(){window.removeEventListener("focus",V(this,Ne)),window.removeEventListener("blur",V(this,Et))},De=function(){window.addEventListener("keydown",V(this,_e),{capture:!0})},Te=function(){window.removeEventListener("keydown",V(this,_e),{capture:!0})},We=function(){document.addEventListener("copy",V(this,nt)),document.addEventListener("cut",V(this,ut)),document.addEventListener("paste",V(this,Ve))},Ze=function(){document.removeEventListener("copy",V(this,nt)),document.removeEventListener("cut",V(this,ut)),document.removeEventListener("paste",V(this,Ve))},ct=function(Ht){Object.entries(Ht).some(([Qe,Rt])=>V(this,Xe)[Qe]!==Rt)&&this._eventBus.dispatch("annotationeditorstateschanged",{source:this,details:Object.assign(V(this,Xe),Ht)})},Pt=function(Ht){this._eventBus.dispatch("annotationeditorparamschanged",{source:this,details:Ht})},$t=function(){if(!V(this,ot)){at(this,ot,!0);for(const Ht of V(this,ne).values())Ht.enable()}},_t=function(){if(this.unselectAll(),V(this,ot)){at(this,ot,!1);for(const Ht of V(this,ne).values())Ht.disable()}},Tt=function(Ht){const Qe=V(this,ne).get(Ht.pageIndex);Qe?Qe.addOrRebuild(Ht):this.addEditor(Ht)},jt=function(){if(V(this,pe).size===0)return!0;if(V(this,pe).size===1)for(const Ht of V(this,pe).values())return Ht.isEmpty();return!1},Jt=function(Ht){V(this,xt).clear();for(const Qe of Ht)Qe.isEmpty()||(V(this,xt).add(Qe),Qe.select());Ue(this,dt,ct).call(this,{hasSelectedEditor:!0})},$n(Qt,"TRANSLATE_SMALL",1),$n(Qt,"TRANSLATE_BIG",10);let qt=Qt;G.AnnotationEditorUIManager=qt},(W,G,Y)=>{var q,X,K,B,he,ke,Ae,ae,Re,ge,ve,xe,Se,pe,ne,we,Ie,Pe,Ee;Object.defineProperty(G,"__esModule",{value:!0}),G.StatTimer=G.RenderingCancelledException=G.PixelsPerInch=G.PageViewport=G.PDFDateString=G.DOMStandardFontDataFactory=G.DOMSVGFactory=G.DOMFilterFactory=G.DOMCanvasFactory=G.DOMCMapReaderFactory=void 0,G.deprecated=Fe,G.getColorValues=kt,G.getCurrentTransform=dt,G.getCurrentTransformInverse=Mt,G.getFilenameFromUrl=ut,G.getPdfFilenameFromUrl=Ve,G.getRGB=Ct,G.getXfaPageViewport=gt,G.isDataScheme=Ne,G.isPdfFile=nt,G.isValidFetchUrl=fe,G.loadScript=je,G.noContextMenu=Le,G.setLayerDimensions=Ot;var Ce=Y(7),Oe=Y(1);const qe="http://www.w3.org/2000/svg",ze=class{};$n(ze,"CSS",96),$n(ze,"PDF",72),$n(ze,"PDF_TO_CSS_UNITS",ze.CSS/ze.PDF);let rt=ze;G.PixelsPerInch=rt;class ye extends Ce.BaseFilterFactory{constructor({docId:Te,ownerDocument:We=globalThis.document}={}){super(),it(this,xe),it(this,q),it(this,X),it(this,K),it(this,B),it(this,he),it(this,ke),it(this,Ae),it(this,ae),it(this,Re),it(this,ge),it(this,ve,0),at(this,K,Te),at(this,B,We)}addFilter(Te){if(!Te)return"none";let We=V(this,xe,Se).get(Te);if(We)return We;let Ze,ct,Pt,$t;if(Te.length===1){const Jt=Te[0],Yt=new Array(256);for(let Bt=0;Bt<256;Bt++)Yt[Bt]=Jt[Bt]/255;$t=Ze=ct=Pt=Yt.join(",")}else{const[Jt,Yt,Bt]=Te,cn=new Array(256),sn=new Array(256),rn=new Array(256);for(let Fn=0;Fn<256;Fn++)cn[Fn]=Jt[Fn]/255,sn[Fn]=Yt[Fn]/255,rn[Fn]=Bt[Fn]/255;Ze=cn.join(","),ct=sn.join(","),Pt=rn.join(","),$t=`${Ze}${ct}${Pt}`}if(We=V(this,xe,Se).get($t),We)return V(this,xe,Se).set(Te,We),We;const _t=`g_${V(this,K)}_transfer_map_${Cr(this,ve)._++}`,Tt=`url(#${_t})`;V(this,xe,Se).set(Te,Tt),V(this,xe,Se).set($t,Tt);const jt=Ue(this,xe,we).call(this,_t);return Ue(this,xe,Pe).call(this,Ze,ct,Pt,jt),Tt}addHCMFilter(Te,We){var Ze;const ct=`${Te}-${We}`;if(V(this,ke)===ct)return V(this,Ae);if(at(this,ke,ct),at(this,Ae,"none"),(Ze=V(this,he))==null||Ze.remove(),!Te||!We)return V(this,Ae);const Pt=Ue(this,xe,Ee).call(this,Te);Te=Oe.Util.makeHexColor(...Pt);const $t=Ue(this,xe,Ee).call(this,We);if(We=Oe.Util.makeHexColor(...$t),V(this,xe,pe).style.color="",Te==="#000000"&&We==="#ffffff"||Te===We)return V(this,Ae);const _t=new Array(256);for(let Bt=0;Bt<=255;Bt++){const cn=Bt/255;_t[Bt]=cn<=.03928?cn/12.92:((cn+.055)/1.055)**2.4}const Tt=_t.join(","),jt=`g_${V(this,K)}_hcm_filter`,Jt=at(this,ae,Ue(this,xe,we).call(this,jt));Ue(this,xe,Pe).call(this,Tt,Tt,Tt,Jt),Ue(this,xe,ne).call(this,Jt);const Yt=(Bt,cn)=>{const sn=Pt[Bt]/255,rn=$t[Bt]/255,Fn=new Array(cn+1);for(let In=0;In<=cn;In++)Fn[In]=sn+In/cn*(rn-sn);return Fn.join(",")};return Ue(this,xe,Pe).call(this,Yt(0,5),Yt(1,5),Yt(2,5),Jt),at(this,Ae,`url(#${jt})`),V(this,Ae)}addHighlightHCMFilter(Te,We,Ze,ct){var Pt;const $t=`${Te}-${We}-${Ze}-${ct}`;if(V(this,Re)===$t)return V(this,ge);if(at(this,Re,$t),at(this,ge,"none"),(Pt=V(this,ae))==null||Pt.remove(),!Te||!We)return V(this,ge);const[_t,Tt]=[Te,We].map(Ue(this,xe,Ee).bind(this));let jt=Math.round(.2126*_t[0]+.7152*_t[1]+.0722*_t[2]),Jt=Math.round(.2126*Tt[0]+.7152*Tt[1]+.0722*Tt[2]),[Yt,Bt]=[Ze,ct].map(Ue(this,xe,Ee).bind(this));Jt<jt&&([jt,Jt,Yt,Bt]=[Jt,jt,Bt,Yt]),V(this,xe,pe).style.color="";const cn=(Fn,In,Nn)=>{const Lt=new Array(256),yt=(Jt-jt)/Nn,ft=Fn/255,Qt=(In-Fn)/(255*Nn);let qt=0;for(let Ht=0;Ht<=Nn;Ht++){const Qe=Math.round(jt+Ht*yt),Rt=ft+Ht*Qt;for(let Zt=qt;Zt<=Qe;Zt++)Lt[Zt]=Rt;qt=Qe+1}for(let Ht=qt;Ht<256;Ht++)Lt[Ht]=Lt[qt-1];return Lt.join(",")},sn=`g_${V(this,K)}_hcm_highlight_filter`,rn=at(this,ae,Ue(this,xe,we).call(this,sn));return Ue(this,xe,ne).call(this,rn),Ue(this,xe,Pe).call(this,cn(Yt[0],Bt[0],5),cn(Yt[1],Bt[1],5),cn(Yt[2],Bt[2],5),rn),at(this,ge,`url(#${sn})`),V(this,ge)}destroy(Te=!1){Te&&(V(this,Ae)||V(this,ge))||(V(this,X)&&(V(this,X).parentNode.parentNode.remove(),at(this,X,null)),V(this,q)&&(V(this,q).clear(),at(this,q,null)),at(this,ve,0))}}q=new WeakMap,X=new WeakMap,K=new WeakMap,B=new WeakMap,he=new WeakMap,ke=new WeakMap,Ae=new WeakMap,ae=new WeakMap,Re=new WeakMap,ge=new WeakMap,ve=new WeakMap,xe=new WeakSet,Se=function(){return V(this,q)||at(this,q,new Map)},pe=function(){if(!V(this,X)){const De=V(this,B).createElement("div"),{style:Te}=De;Te.visibility="hidden",Te.contain="strict",Te.width=Te.height=0,Te.position="absolute",Te.top=Te.left=0,Te.zIndex=-1;const We=V(this,B).createElementNS(qe,"svg");We.setAttribute("width",0),We.setAttribute("height",0),at(this,X,V(this,B).createElementNS(qe,"defs")),De.append(We),We.append(V(this,X)),V(this,B).body.append(De)}return V(this,X)},ne=function(De){const Te=V(this,B).createElementNS(qe,"feColorMatrix");Te.setAttribute("type","matrix"),Te.setAttribute("values","0.2126 0.7152 0.0722 0 0 0.2126 0.7152 0.0722 0 0 0.2126 0.7152 0.0722 0 0 0 0 0 1 0"),De.append(Te)},we=function(De){const Te=V(this,B).createElementNS(qe,"filter");return Te.setAttribute("color-interpolation-filters","sRGB"),Te.setAttribute("id",De),V(this,xe,pe).append(Te),Te},Ie=function(De,Te,We){const Ze=V(this,B).createElementNS(qe,Te);Ze.setAttribute("type","discrete"),Ze.setAttribute("tableValues",We),De.append(Ze)},Pe=function(De,Te,We,Ze){const ct=V(this,B).createElementNS(qe,"feComponentTransfer");Ze.append(ct),Ue(this,xe,Ie).call(this,ct,"feFuncR",De),Ue(this,xe,Ie).call(this,ct,"feFuncG",Te),Ue(this,xe,Ie).call(this,ct,"feFuncB",We)},Ee=function(De){return V(this,xe,pe).style.color=De,Ct(getComputedStyle(V(this,xe,pe)).getPropertyValue("color"))},G.DOMFilterFactory=ye;class ot extends Ce.BaseCanvasFactory{constructor({ownerDocument:Te=globalThis.document}={}){super(),this._document=Te}_createCanvas(Te,We){const Ze=this._document.createElement("canvas");return Ze.width=Te,Ze.height=We,Ze}}G.DOMCanvasFactory=ot;async function He(De,Te=!1){if(fe(De,document.baseURI)){const We=await fetch(De);if(!We.ok)throw new Error(We.statusText);return Te?new Uint8Array(await We.arrayBuffer()):(0,Oe.stringToBytes)(await We.text())}return new Promise((We,Ze)=>{const ct=new XMLHttpRequest;ct.open("GET",De,!0),Te&&(ct.responseType="arraybuffer"),ct.onreadystatechange=()=>{if(ct.readyState===XMLHttpRequest.DONE){if(ct.status===200||ct.status===0){let Pt;if(Te&&ct.response?Pt=new Uint8Array(ct.response):!Te&&ct.responseText&&(Pt=(0,Oe.stringToBytes)(ct.responseText)),Pt){We(Pt);return}}Ze(new Error(ct.statusText))}},ct.send(null)})}class Ge extends Ce.BaseCMapReaderFactory{_fetchData(Te,We){return He(Te,this.isCompressed).then(Ze=>({cMapData:Ze,compressionType:We}))}}G.DOMCMapReaderFactory=Ge;class Be extends Ce.BaseStandardFontDataFactory{_fetchData(Te){return He(Te,!0)}}G.DOMStandardFontDataFactory=Be;class xt extends Ce.BaseSVGFactory{_createSVG(Te){return document.createElementNS(qe,Te)}}G.DOMSVGFactory=xt;class pt{constructor({viewBox:Te,scale:We,rotation:Ze,offsetX:ct=0,offsetY:Pt=0,dontFlip:$t=!1}){this.viewBox=Te,this.scale=We,this.rotation=Ze,this.offsetX=ct,this.offsetY=Pt;const _t=(Te[2]+Te[0])/2,Tt=(Te[3]+Te[1])/2;let jt,Jt,Yt,Bt;switch(Ze%=360,Ze<0&&(Ze+=360),Ze){case 180:jt=-1,Jt=0,Yt=0,Bt=1;break;case 90:jt=0,Jt=1,Yt=1,Bt=0;break;case 270:jt=0,Jt=-1,Yt=-1,Bt=0;break;case 0:jt=1,Jt=0,Yt=0,Bt=-1;break;default:throw new Error("PageViewport: Invalid rotation, must be a multiple of 90 degrees.")}$t&&(Yt=-Yt,Bt=-Bt);let cn,sn,rn,Fn;jt===0?(cn=Math.abs(Tt-Te[1])*We+ct,sn=Math.abs(_t-Te[0])*We+Pt,rn=(Te[3]-Te[1])*We,Fn=(Te[2]-Te[0])*We):(cn=Math.abs(_t-Te[0])*We+ct,sn=Math.abs(Tt-Te[1])*We+Pt,rn=(Te[2]-Te[0])*We,Fn=(Te[3]-Te[1])*We),this.transform=[jt*We,Jt*We,Yt*We,Bt*We,cn-jt*We*_t-Yt*We*Tt,sn-Jt*We*_t-Bt*We*Tt],this.width=rn,this.height=Fn}get rawDims(){const{viewBox:Te}=this;return(0,Oe.shadow)(this,"rawDims",{pageWidth:Te[2]-Te[0],pageHeight:Te[3]-Te[1],pageX:Te[0],pageY:Te[1]})}clone({scale:Te=this.scale,rotation:We=this.rotation,offsetX:Ze=this.offsetX,offsetY:ct=this.offsetY,dontFlip:Pt=!1}={}){return new pt({viewBox:this.viewBox.slice(),scale:Te,rotation:We,offsetX:Ze,offsetY:ct,dontFlip:Pt})}convertToViewportPoint(Te,We){return Oe.Util.applyTransform([Te,We],this.transform)}convertToViewportRectangle(Te){const We=Oe.Util.applyTransform([Te[0],Te[1]],this.transform),Ze=Oe.Util.applyTransform([Te[2],Te[3]],this.transform);return[We[0],We[1],Ze[0],Ze[1]]}convertToPdfPoint(Te,We){return Oe.Util.applyInverseTransform([Te,We],this.transform)}}G.PageViewport=pt;class Et extends Oe.BaseException{constructor(Te,We=0){super(Te,"RenderingCancelledException"),this.extraDelay=We}}G.RenderingCancelledException=Et;function Ne(De){const Te=De.length;let We=0;for(;We<Te&&De[We].trim()==="";)We++;return De.substring(We,We+5).toLowerCase()==="data:"}function nt(De){return typeof De=="string"&&/\.pdf$/i.test(De)}function ut(De,Te=!1){return Te||([De]=De.split(/[#?]/,1)),De.substring(De.lastIndexOf("/")+1)}function Ve(De,Te="document.pdf"){if(typeof De!="string")return Te;if(Ne(De))return(0,Oe.warn)('getPdfFilenameFromUrl: ignore "data:"-URL for performance reasons.'),Te;const We=/^(?:(?:[^:]+:)?\/\/[^/]+)?([^?#]*)(\?[^#]*)?(#.*)?$/,Ze=/[^/?#=]+\.pdf\b(?!.*\.pdf\b)/i,ct=We.exec(De);let Pt=Ze.exec(ct[1])||Ze.exec(ct[2])||Ze.exec(ct[3]);if(Pt&&(Pt=Pt[0],Pt.includes("%")))try{Pt=Ze.exec(decodeURIComponent(Pt))[0]}catch{}return Pt||Te}class _e{constructor(){$n(this,"started",Object.create(null)),$n(this,"times",[])}time(Te){Te in this.started&&(0,Oe.warn)(`Timer is already running for ${Te}`),this.started[Te]=Date.now()}timeEnd(Te){Te in this.started||(0,Oe.warn)(`Timer has not been started for ${Te}`),this.times.push({name:Te,start:this.started[Te],end:Date.now()}),delete this.started[Te]}toString(){const Te=[];let We=0;for(const{name:Ze}of this.times)We=Math.max(Ze.length,We);for(const{name:Ze,start:ct,end:Pt}of this.times)Te.push(`${Ze.padEnd(We)} ${Pt-ct}ms
`);return Te.join("")}}G.StatTimer=_e;function fe(De,Te){try{const{protocol:We}=Te?new URL(De,Te):new URL(De);return We==="http:"||We==="https:"}catch{return!1}}function Le(De){De.preventDefault()}function je(De,Te=!1){return new Promise((We,Ze)=>{const ct=document.createElement("script");ct.src=De,ct.onload=function(Pt){Te&&ct.remove(),We(Pt)},ct.onerror=function(){Ze(new Error(`Cannot load script at: ${ct.src}`))},(document.head||document.documentElement).append(ct)})}function Fe(De){console.log("Deprecated API usage: "+De)}let Xe;class Ye{static toDateObject(Te){if(!Te||typeof Te!="string")return null;Xe||(Xe=new RegExp("^D:(\\d{4})(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?([Z|+|-])?(\\d{2})?'?(\\d{2})?'?"));const We=Xe.exec(Te);if(!We)return null;const Ze=parseInt(We[1],10);let ct=parseInt(We[2],10);ct=ct>=1&&ct<=12?ct-1:0;let Pt=parseInt(We[3],10);Pt=Pt>=1&&Pt<=31?Pt:1;let $t=parseInt(We[4],10);$t=$t>=0&&$t<=23?$t:0;let _t=parseInt(We[5],10);_t=_t>=0&&_t<=59?_t:0;let Tt=parseInt(We[6],10);Tt=Tt>=0&&Tt<=59?Tt:0;const jt=We[7]||"Z";let Jt=parseInt(We[8],10);Jt=Jt>=0&&Jt<=23?Jt:0;let Yt=parseInt(We[9],10)||0;return Yt=Yt>=0&&Yt<=59?Yt:0,jt==="-"?($t+=Jt,_t+=Yt):jt==="+"&&($t-=Jt,_t-=Yt),new Date(Date.UTC(Ze,ct,Pt,$t,_t,Tt))}}G.PDFDateString=Ye;function gt(De,{scale:Te=1,rotation:We=0}){const{width:Ze,height:ct}=De.attributes.style,Pt=[0,0,parseInt(Ze),parseInt(ct)];return new pt({viewBox:Pt,scale:Te,rotation:We})}function Ct(De){if(De.startsWith("#")){const Te=parseInt(De.slice(1),16);return[(Te&16711680)>>16,(Te&65280)>>8,Te&255]}return De.startsWith("rgb(")?De.slice(4,-1).split(",").map(Te=>parseInt(Te)):De.startsWith("rgba(")?De.slice(5,-1).split(",").map(Te=>parseInt(Te)).slice(0,3):((0,Oe.warn)(`Not a valid color format: "${De}"`),[0,0,0])}function kt(De){const Te=document.createElement("span");Te.style.visibility="hidden",document.body.append(Te);for(const We of De.keys()){Te.style.color=We;const Ze=window.getComputedStyle(Te).color;De.set(We,Ct(Ze))}Te.remove()}function dt(De){const{a:Te,b:We,c:Ze,d:ct,e:Pt,f:$t}=De.getTransform();return[Te,We,Ze,ct,Pt,$t]}function Mt(De){const{a:Te,b:We,c:Ze,d:ct,e:Pt,f:$t}=De.getTransform().invertSelf();return[Te,We,Ze,ct,Pt,$t]}function Ot(De,Te,We=!1,Ze=!0){if(Te instanceof pt){const{pageWidth:ct,pageHeight:Pt}=Te.rawDims,{style:$t}=De,_t=Oe.FeatureTest.isCSSRoundSupported,Tt=`var(--scale-factor) * ${ct}px`,jt=`var(--scale-factor) * ${Pt}px`,Jt=_t?`round(${Tt}, 1px)`:`calc(${Tt})`,Yt=_t?`round(${jt}, 1px)`:`calc(${jt})`;!We||Te.rotation%180===0?($t.width=Jt,$t.height=Yt):($t.width=Yt,$t.height=Jt)}Ze&&De.setAttribute("data-main-rotation",Te.rotation)}},(W,G,Y)=>{Object.defineProperty(G,"__esModule",{value:!0}),G.BaseStandardFontDataFactory=G.BaseSVGFactory=G.BaseFilterFactory=G.BaseCanvasFactory=G.BaseCMapReaderFactory=void 0;var q=Y(1);class X{constructor(){this.constructor===X&&(0,q.unreachable)("Cannot initialize BaseFilterFactory.")}addFilter(ae){return"none"}addHCMFilter(ae,Re){return"none"}addHighlightHCMFilter(ae,Re,ge,ve){return"none"}destroy(ae=!1){}}G.BaseFilterFactory=X;class K{constructor(){this.constructor===K&&(0,q.unreachable)("Cannot initialize BaseCanvasFactory.")}create(ae,Re){if(ae<=0||Re<=0)throw new Error("Invalid canvas size");const ge=this._createCanvas(ae,Re);return{canvas:ge,context:ge.getContext("2d")}}reset(ae,Re,ge){if(!ae.canvas)throw new Error("Canvas is not specified");if(Re<=0||ge<=0)throw new Error("Invalid canvas size");ae.canvas.width=Re,ae.canvas.height=ge}destroy(ae){if(!ae.canvas)throw new Error("Canvas is not specified");ae.canvas.width=0,ae.canvas.height=0,ae.canvas=null,ae.context=null}_createCanvas(ae,Re){(0,q.unreachable)("Abstract method `_createCanvas` called.")}}G.BaseCanvasFactory=K;class B{constructor({baseUrl:ae=null,isCompressed:Re=!0}){this.constructor===B&&(0,q.unreachable)("Cannot initialize BaseCMapReaderFactory."),this.baseUrl=ae,this.isCompressed=Re}async fetch({name:ae}){if(!this.baseUrl)throw new Error('The CMap "baseUrl" parameter must be specified, ensure that the "cMapUrl" and "cMapPacked" API parameters are provided.');if(!ae)throw new Error("CMap name must be specified.");const Re=this.baseUrl+ae+(this.isCompressed?".bcmap":""),ge=this.isCompressed?q.CMapCompressionType.BINARY:q.CMapCompressionType.NONE;return this._fetchData(Re,ge).catch(ve=>{throw new Error(`Unable to load ${this.isCompressed?"binary ":""}CMap at: ${Re}`)})}_fetchData(ae,Re){(0,q.unreachable)("Abstract method `_fetchData` called.")}}G.BaseCMapReaderFactory=B;class he{constructor({baseUrl:ae=null}){this.constructor===he&&(0,q.unreachable)("Cannot initialize BaseStandardFontDataFactory."),this.baseUrl=ae}async fetch({filename:ae}){if(!this.baseUrl)throw new Error('The standard font "baseUrl" parameter must be specified, ensure that the "standardFontDataUrl" API parameter is provided.');if(!ae)throw new Error("Font filename must be specified.");const Re=`${this.baseUrl}${ae}`;return this._fetchData(Re).catch(ge=>{throw new Error(`Unable to load font data at: ${Re}`)})}_fetchData(ae){(0,q.unreachable)("Abstract method `_fetchData` called.")}}G.BaseStandardFontDataFactory=he;class ke{constructor(){this.constructor===ke&&(0,q.unreachable)("Cannot initialize BaseSVGFactory.")}create(ae,Re,ge=!1){if(ae<=0||Re<=0)throw new Error("Invalid SVG dimensions");const ve=this._createSVG("svg:svg");return ve.setAttribute("version","1.1"),ge||(ve.setAttribute("width",`${ae}px`),ve.setAttribute("height",`${Re}px`)),ve.setAttribute("preserveAspectRatio","none"),ve.setAttribute("viewBox",`0 0 ${ae} ${Re}`),ve}createElement(ae){if(typeof ae!="string")throw new Error("Invalid SVG element type");return this._createSVG(ae)}_createSVG(ae){(0,q.unreachable)("Abstract method `_createSVG` called.")}}G.BaseSVGFactory=ke},(W,G,Y)=>{Object.defineProperty(G,"__esModule",{value:!0}),G.MurmurHash3_64=void 0;var q=Y(1);const X=3285377520,K=4294901760,B=65535;class he{constructor(Ae){this.h1=Ae?Ae&4294967295:X,this.h2=Ae?Ae&4294967295:X}update(Ae){let ae,Re;if(typeof Ae=="string"){ae=new Uint8Array(Ae.length*2),Re=0;for(let Oe=0,qe=Ae.length;Oe<qe;Oe++){const ze=Ae.charCodeAt(Oe);ze<=255?ae[Re++]=ze:(ae[Re++]=ze>>>8,ae[Re++]=ze&255)}}else if((0,q.isArrayBuffer)(Ae))ae=Ae.slice(),Re=ae.byteLength;else throw new Error("Wrong data format in MurmurHash3_64_update. Input must be a string or array.");const ge=Re>>2,ve=Re-ge*4,xe=new Uint32Array(ae.buffer,0,ge);let Se=0,pe=0,ne=this.h1,we=this.h2;const Ie=3432918353,Pe=461845907,Ee=Ie&B,Ce=Pe&B;for(let Oe=0;Oe<ge;Oe++)Oe&1?(Se=xe[Oe],Se=Se*Ie&K|Se*Ee&B,Se=Se<<15|Se>>>17,Se=Se*Pe&K|Se*Ce&B,ne^=Se,ne=ne<<13|ne>>>19,ne=ne*5+3864292196):(pe=xe[Oe],pe=pe*Ie&K|pe*Ee&B,pe=pe<<15|pe>>>17,pe=pe*Pe&K|pe*Ce&B,we^=pe,we=we<<13|we>>>19,we=we*5+3864292196);switch(Se=0,ve){case 3:Se^=ae[ge*4+2]<<16;case 2:Se^=ae[ge*4+1]<<8;case 1:Se^=ae[ge*4],Se=Se*Ie&K|Se*Ee&B,Se=Se<<15|Se>>>17,Se=Se*Pe&K|Se*Ce&B,ge&1?ne^=Se:we^=Se}this.h1=ne,this.h2=we}hexdigest(){let Ae=this.h1,ae=this.h2;return Ae^=ae>>>1,Ae=Ae*3981806797&K|Ae*36045&B,ae=ae*4283543511&K|((ae<<16|Ae>>>16)*2950163797&K)>>>16,Ae^=ae>>>1,Ae=Ae*444984403&K|Ae*60499&B,ae=ae*3301882366&K|((ae<<16|Ae>>>16)*3120437893&K)>>>16,Ae^=ae>>>1,(Ae>>>0).toString(16).padStart(8,"0")+(ae>>>0).toString(16).padStart(8,"0")}}G.MurmurHash3_64=he},(W,G,Y)=>{var q;Object.defineProperty(G,"__esModule",{value:!0}),G.FontLoader=G.FontFaceObject=void 0;var X=Y(1);class K{constructor({ownerDocument:ke=globalThis.document,styleElement:Ae=null}){it(this,q,new Set),this._document=ke,this.nativeFontFaces=new Set,this.styleElement=null,this.loadingRequests=[],this.loadTestFontId=0}addNativeFontFace(ke){this.nativeFontFaces.add(ke),this._document.fonts.add(ke)}removeNativeFontFace(ke){this.nativeFontFaces.delete(ke),this._document.fonts.delete(ke)}insertRule(ke){this.styleElement||(this.styleElement=this._document.createElement("style"),this._document.documentElement.getElementsByTagName("head")[0].append(this.styleElement));const Ae=this.styleElement.sheet;Ae.insertRule(ke,Ae.cssRules.length)}clear(){for(const ke of this.nativeFontFaces)this._document.fonts.delete(ke);this.nativeFontFaces.clear(),V(this,q).clear(),this.styleElement&&(this.styleElement.remove(),this.styleElement=null)}async loadSystemFont(ke){if(!(!ke||V(this,q).has(ke.loadedName))){if((0,X.assert)(!this.disableFontFace,"loadSystemFont shouldn't be called when `disableFontFace` is set."),this.isFontLoadingAPISupported){const{loadedName:Ae,src:ae,style:Re}=ke,ge=new FontFace(Ae,ae,Re);this.addNativeFontFace(ge);try{await ge.load(),V(this,q).add(Ae)}catch{(0,X.warn)(`Cannot load system font: ${ke.baseFontName}, installing it could help to improve PDF rendering.`),this.removeNativeFontFace(ge)}return}(0,X.unreachable)("Not implemented: loadSystemFont without the Font Loading API.")}}async bind(ke){if(ke.attached||ke.missingFile&&!ke.systemFontInfo)return;if(ke.attached=!0,ke.systemFontInfo){await this.loadSystemFont(ke.systemFontInfo);return}if(this.isFontLoadingAPISupported){const ae=ke.createNativeFontFace();if(ae){this.addNativeFontFace(ae);try{await ae.loaded}catch(Re){throw(0,X.warn)(`Failed to load font '${ae.family}': '${Re}'.`),ke.disableFontFace=!0,Re}}return}const Ae=ke.createFontFaceRule();if(Ae){if(this.insertRule(Ae),this.isSyncFontLoadingSupported)return;await new Promise(ae=>{const Re=this._queueLoadingCallback(ae);this._prepareFontLoadEvent(ke,Re)})}}get isFontLoadingAPISupported(){var ke;const Ae=!!((ke=this._document)!=null&&ke.fonts);return(0,X.shadow)(this,"isFontLoadingAPISupported",Ae)}get isSyncFontLoadingSupported(){let ke=!1;return(X.isNodeJS||typeof navigator<"u"&&/Mozilla\/5.0.*?rv:\d+.*? Gecko/.test(navigator.userAgent))&&(ke=!0),(0,X.shadow)(this,"isSyncFontLoadingSupported",ke)}_queueLoadingCallback(ke){function Ae(){for((0,X.assert)(!Re.done,"completeRequest() cannot be called twice."),Re.done=!0;ae.length>0&&ae[0].done;){const ge=ae.shift();setTimeout(ge.callback,0)}}const{loadingRequests:ae}=this,Re={done:!1,complete:Ae,callback:ke};return ae.push(Re),Re}get _loadTestFont(){const ke=atob("T1RUTwALAIAAAwAwQ0ZGIDHtZg4AAAOYAAAAgUZGVE1lkzZwAAAEHAAAABxHREVGABQAFQAABDgAAAAeT1MvMlYNYwkAAAEgAAAAYGNtYXABDQLUAAACNAAAAUJoZWFk/xVFDQAAALwAAAA2aGhlYQdkA+oAAAD0AAAAJGhtdHgD6AAAAAAEWAAAAAZtYXhwAAJQAAAAARgAAAAGbmFtZVjmdH4AAAGAAAAAsXBvc3T/hgAzAAADeAAAACAAAQAAAAEAALZRFsRfDzz1AAsD6AAAAADOBOTLAAAAAM4KHDwAAAAAA+gDIQAAAAgAAgAAAAAAAAABAAADIQAAAFoD6AAAAAAD6AABAAAAAAAAAAAAAAAAAAAAAQAAUAAAAgAAAAQD6AH0AAUAAAKKArwAAACMAooCvAAAAeAAMQECAAACAAYJAAAAAAAAAAAAAQAAAAAAAAAAAAAAAFBmRWQAwAAuAC4DIP84AFoDIQAAAAAAAQAAAAAAAAAAACAAIAABAAAADgCuAAEAAAAAAAAAAQAAAAEAAAAAAAEAAQAAAAEAAAAAAAIAAQAAAAEAAAAAAAMAAQAAAAEAAAAAAAQAAQAAAAEAAAAAAAUAAQAAAAEAAAAAAAYAAQAAAAMAAQQJAAAAAgABAAMAAQQJAAEAAgABAAMAAQQJAAIAAgABAAMAAQQJAAMAAgABAAMAAQQJAAQAAgABAAMAAQQJAAUAAgABAAMAAQQJAAYAAgABWABYAAAAAAAAAwAAAAMAAAAcAAEAAAAAADwAAwABAAAAHAAEACAAAAAEAAQAAQAAAC7//wAAAC7////TAAEAAAAAAAABBgAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAMAAAAAAAD/gwAyAAAAAQAAAAAAAAAAAAAAAAAAAAABAAQEAAEBAQJYAAEBASH4DwD4GwHEAvgcA/gXBIwMAYuL+nz5tQXkD5j3CBLnEQACAQEBIVhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYAAABAQAADwACAQEEE/t3Dov6fAH6fAT+fPp8+nwHDosMCvm1Cvm1DAz6fBQAAAAAAAABAAAAAMmJbzEAAAAAzgTjFQAAAADOBOQpAAEAAAAAAAAADAAUAAQAAAABAAAAAgABAAAAAAAAAAAD6AAAAAAAAA==");return(0,X.shadow)(this,"_loadTestFont",ke)}_prepareFontLoadEvent(ke,Ae){function ae(rt,ye){return rt.charCodeAt(ye)<<24|rt.charCodeAt(ye+1)<<16|rt.charCodeAt(ye+2)<<8|rt.charCodeAt(ye+3)&255}function Re(rt,ye,ot,He){const Ge=rt.substring(0,ye),Be=rt.substring(ye+ot);return Ge+He+Be}let ge,ve;const xe=this._document.createElement("canvas");xe.width=1,xe.height=1;const Se=xe.getContext("2d");let pe=0;function ne(rt,ye){if(++pe>30){(0,X.warn)("Load test font never loaded."),ye();return}if(Se.font="30px "+rt,Se.fillText(".",0,20),Se.getImageData(0,0,1,1).data[3]>0){ye();return}setTimeout(ne.bind(null,rt,ye))}const we=`lt${Date.now()}${this.loadTestFontId++}`;let Ie=this._loadTestFont;Ie=Re(Ie,976,we.length,we);const Pe=16,Ee=1482184792;let Ce=ae(Ie,Pe);for(ge=0,ve=we.length-3;ge<ve;ge+=4)Ce=Ce-Ee+ae(we,ge)|0;ge<we.length&&(Ce=Ce-Ee+ae(we+"XXX",ge)|0),Ie=Re(Ie,Pe,4,(0,X.string32)(Ce));const Oe=`url(data:font/opentype;base64,${btoa(Ie)});`,qe=`@font-face {font-family:"${we}";src:${Oe}}`;this.insertRule(qe);const ze=this._document.createElement("div");ze.style.visibility="hidden",ze.style.width=ze.style.height="10px",ze.style.position="absolute",ze.style.top=ze.style.left="0px";for(const rt of[ke.loadedName,we]){const ye=this._document.createElement("span");ye.textContent="Hi",ye.style.fontFamily=rt,ze.append(ye)}this._document.body.append(ze),ne(we,()=>{ze.remove(),Ae.complete()})}}q=new WeakMap,G.FontLoader=K;class B{constructor(ke,{isEvalSupported:Ae=!0,disableFontFace:ae=!1,ignoreErrors:Re=!1,inspectFont:ge=null}){this.compiledGlyphs=Object.create(null);for(const ve in ke)this[ve]=ke[ve];this.isEvalSupported=Ae!==!1,this.disableFontFace=ae===!0,this.ignoreErrors=Re===!0,this._inspectFont=ge}createNativeFontFace(){var ke;if(!this.data||this.disableFontFace)return null;let Ae;if(!this.cssFontInfo)Ae=new FontFace(this.loadedName,this.data,{});else{const ae={weight:this.cssFontInfo.fontWeight};this.cssFontInfo.italicAngle&&(ae.style=`oblique ${this.cssFontInfo.italicAngle}deg`),Ae=new FontFace(this.cssFontInfo.fontFamily,this.data,ae)}return(ke=this._inspectFont)==null||ke.call(this,this),Ae}createFontFaceRule(){var ke;if(!this.data||this.disableFontFace)return null;const Ae=(0,X.bytesToString)(this.data),ae=`url(data:${this.mimetype};base64,${btoa(Ae)});`;let Re;if(!this.cssFontInfo)Re=`@font-face {font-family:"${this.loadedName}";src:${ae}}`;else{let ge=`font-weight: ${this.cssFontInfo.fontWeight};`;this.cssFontInfo.italicAngle&&(ge+=`font-style: oblique ${this.cssFontInfo.italicAngle}deg;`),Re=`@font-face {font-family:"${this.cssFontInfo.fontFamily}";${ge}src:${ae}}`}return(ke=this._inspectFont)==null||ke.call(this,this,ae),Re}getPathGenerator(ke,Ae){if(this.compiledGlyphs[Ae]!==void 0)return this.compiledGlyphs[Ae];let ae;try{ae=ke.get(this.loadedName+"_path_"+Ae)}catch(Re){if(!this.ignoreErrors)throw Re;return(0,X.warn)(`getPathGenerator - ignoring character: "${Re}".`),this.compiledGlyphs[Ae]=function(ge,ve){}}if(this.isEvalSupported&&X.FeatureTest.isEvalSupported){const Re=[];for(const ge of ae){const ve=ge.args!==void 0?ge.args.join(","):"";Re.push("c.",ge.cmd,"(",ve,`);
`)}return this.compiledGlyphs[Ae]=new Function("c","size",Re.join(""))}return this.compiledGlyphs[Ae]=function(Re,ge){for(const ve of ae)ve.cmd==="scale"&&(ve.args=[ge,-ge]),Re[ve.cmd].apply(Re,ve.args)}}}G.FontFaceObject=B},(W,G,Y)=>{Object.defineProperty(G,"__esModule",{value:!0}),G.NodeStandardFontDataFactory=G.NodeFilterFactory=G.NodeCanvasFactory=G.NodeCMapReaderFactory=void 0;var q=Y(7);Y(1);const X=function(Ae){return new Promise((ae,Re)=>{require$$5.readFile(Ae,(ge,ve)=>{if(ge||!ve){Re(new Error(ge));return}ae(new Uint8Array(ve))})})};class K extends q.BaseFilterFactory{}G.NodeFilterFactory=K;class B extends q.BaseCanvasFactory{_createCanvas(ae,Re){return require$$5.createCanvas(ae,Re)}}G.NodeCanvasFactory=B;class he extends q.BaseCMapReaderFactory{_fetchData(ae,Re){return X(ae).then(ge=>({cMapData:ge,compressionType:Re}))}}G.NodeCMapReaderFactory=he;class ke extends q.BaseStandardFontDataFactory{_fetchData(ae){return X(ae)}}G.NodeStandardFontDataFactory=ke},(W,G,Y)=>{var q,X,K;Object.defineProperty(G,"__esModule",{value:!0}),G.CanvasGraphics=void 0;var B=Y(1),he=Y(6),ke=Y(12),Ae=Y(13);const ae=16,Re=100,ge=4096,ve=15,xe=10,Se=1e3,pe=16;function ne(Ve,_e){if(Ve._removeMirroring)throw new Error("Context is already forwarding operations.");Ve.__originalSave=Ve.save,Ve.__originalRestore=Ve.restore,Ve.__originalRotate=Ve.rotate,Ve.__originalScale=Ve.scale,Ve.__originalTranslate=Ve.translate,Ve.__originalTransform=Ve.transform,Ve.__originalSetTransform=Ve.setTransform,Ve.__originalResetTransform=Ve.resetTransform,Ve.__originalClip=Ve.clip,Ve.__originalMoveTo=Ve.moveTo,Ve.__originalLineTo=Ve.lineTo,Ve.__originalBezierCurveTo=Ve.bezierCurveTo,Ve.__originalRect=Ve.rect,Ve.__originalClosePath=Ve.closePath,Ve.__originalBeginPath=Ve.beginPath,Ve._removeMirroring=()=>{Ve.save=Ve.__originalSave,Ve.restore=Ve.__originalRestore,Ve.rotate=Ve.__originalRotate,Ve.scale=Ve.__originalScale,Ve.translate=Ve.__originalTranslate,Ve.transform=Ve.__originalTransform,Ve.setTransform=Ve.__originalSetTransform,Ve.resetTransform=Ve.__originalResetTransform,Ve.clip=Ve.__originalClip,Ve.moveTo=Ve.__originalMoveTo,Ve.lineTo=Ve.__originalLineTo,Ve.bezierCurveTo=Ve.__originalBezierCurveTo,Ve.rect=Ve.__originalRect,Ve.closePath=Ve.__originalClosePath,Ve.beginPath=Ve.__originalBeginPath,delete Ve._removeMirroring},Ve.save=function(){_e.save(),this.__originalSave()},Ve.restore=function(){_e.restore(),this.__originalRestore()},Ve.translate=function(fe,Le){_e.translate(fe,Le),this.__originalTranslate(fe,Le)},Ve.scale=function(fe,Le){_e.scale(fe,Le),this.__originalScale(fe,Le)},Ve.transform=function(fe,Le,je,Fe,Xe,Ye){_e.transform(fe,Le,je,Fe,Xe,Ye),this.__originalTransform(fe,Le,je,Fe,Xe,Ye)},Ve.setTransform=function(fe,Le,je,Fe,Xe,Ye){_e.setTransform(fe,Le,je,Fe,Xe,Ye),this.__originalSetTransform(fe,Le,je,Fe,Xe,Ye)},Ve.resetTransform=function(){_e.resetTransform(),this.__originalResetTransform()},Ve.rotate=function(fe){_e.rotate(fe),this.__originalRotate(fe)},Ve.clip=function(fe){_e.clip(fe),this.__originalClip(fe)},Ve.moveTo=function(fe,Le){_e.moveTo(fe,Le),this.__originalMoveTo(fe,Le)},Ve.lineTo=function(fe,Le){_e.lineTo(fe,Le),this.__originalLineTo(fe,Le)},Ve.bezierCurveTo=function(fe,Le,je,Fe,Xe,Ye){_e.bezierCurveTo(fe,Le,je,Fe,Xe,Ye),this.__originalBezierCurveTo(fe,Le,je,Fe,Xe,Ye)},Ve.rect=function(fe,Le,je,Fe){_e.rect(fe,Le,je,Fe),this.__originalRect(fe,Le,je,Fe)},Ve.closePath=function(){_e.closePath(),this.__originalClosePath()},Ve.beginPath=function(){_e.beginPath(),this.__originalBeginPath()}}class we{constructor(_e){this.canvasFactory=_e,this.cache=Object.create(null)}getCanvas(_e,fe,Le){let je;return this.cache[_e]!==void 0?(je=this.cache[_e],this.canvasFactory.reset(je,fe,Le)):(je=this.canvasFactory.create(fe,Le),this.cache[_e]=je),je}delete(_e){delete this.cache[_e]}clear(){for(const _e in this.cache){const fe=this.cache[_e];this.canvasFactory.destroy(fe),delete this.cache[_e]}}}function Ie(Ve,_e,fe,Le,je,Fe,Xe,Ye,gt,Ct){const[kt,dt,Mt,Ot,De,Te]=(0,he.getCurrentTransform)(Ve);if(dt===0&&Mt===0){const ct=Xe*kt+De,Pt=Math.round(ct),$t=Ye*Ot+Te,_t=Math.round($t),Tt=(Xe+gt)*kt+De,jt=Math.abs(Math.round(Tt)-Pt)||1,Jt=(Ye+Ct)*Ot+Te,Yt=Math.abs(Math.round(Jt)-_t)||1;return Ve.setTransform(Math.sign(kt),0,0,Math.sign(Ot),Pt,_t),Ve.drawImage(_e,fe,Le,je,Fe,0,0,jt,Yt),Ve.setTransform(kt,dt,Mt,Ot,De,Te),[jt,Yt]}if(kt===0&&Ot===0){const ct=Ye*Mt+De,Pt=Math.round(ct),$t=Xe*dt+Te,_t=Math.round($t),Tt=(Ye+Ct)*Mt+De,jt=Math.abs(Math.round(Tt)-Pt)||1,Jt=(Xe+gt)*dt+Te,Yt=Math.abs(Math.round(Jt)-_t)||1;return Ve.setTransform(0,Math.sign(dt),Math.sign(Mt),0,Pt,_t),Ve.drawImage(_e,fe,Le,je,Fe,0,0,Yt,jt),Ve.setTransform(kt,dt,Mt,Ot,De,Te),[Yt,jt]}Ve.drawImage(_e,fe,Le,je,Fe,Xe,Ye,gt,Ct);const We=Math.hypot(kt,dt),Ze=Math.hypot(Mt,Ot);return[We*gt,Ze*Ct]}function Pe(Ve){const{width:_e,height:fe}=Ve;if(_e>Se||fe>Se)return null;const Le=1e3,je=new Uint8Array([0,2,4,0,1,0,5,4,8,10,0,8,0,2,1,0]),Fe=_e+1;let Xe=new Uint8Array(Fe*(fe+1)),Ye,gt,Ct;const kt=_e+7&-8;let dt=new Uint8Array(kt*fe),Mt=0;for(const We of Ve.data){let Ze=128;for(;Ze>0;)dt[Mt++]=We&Ze?0:255,Ze>>=1}let Ot=0;for(Mt=0,dt[Mt]!==0&&(Xe[0]=1,++Ot),gt=1;gt<_e;gt++)dt[Mt]!==dt[Mt+1]&&(Xe[gt]=dt[Mt]?2:1,++Ot),Mt++;for(dt[Mt]!==0&&(Xe[gt]=2,++Ot),Ye=1;Ye<fe;Ye++){Mt=Ye*kt,Ct=Ye*Fe,dt[Mt-kt]!==dt[Mt]&&(Xe[Ct]=dt[Mt]?1:8,++Ot);let We=(dt[Mt]?4:0)+(dt[Mt-kt]?8:0);for(gt=1;gt<_e;gt++)We=(We>>2)+(dt[Mt+1]?4:0)+(dt[Mt-kt+1]?8:0),je[We]&&(Xe[Ct+gt]=je[We],++Ot),Mt++;if(dt[Mt-kt]!==dt[Mt]&&(Xe[Ct+gt]=dt[Mt]?2:4,++Ot),Ot>Le)return null}for(Mt=kt*(fe-1),Ct=Ye*Fe,dt[Mt]!==0&&(Xe[Ct]=8,++Ot),gt=1;gt<_e;gt++)dt[Mt]!==dt[Mt+1]&&(Xe[Ct+gt]=dt[Mt]?4:8,++Ot),Mt++;if(dt[Mt]!==0&&(Xe[Ct+gt]=4,++Ot),Ot>Le)return null;const De=new Int32Array([0,Fe,-1,0,-Fe,0,0,0,1]),Te=new Path2D;for(Ye=0;Ot&&Ye<=fe;Ye++){let We=Ye*Fe;const Ze=We+_e;for(;We<Ze&&!Xe[We];)We++;if(We===Ze)continue;Te.moveTo(We%Fe,Ye);const ct=We;let Pt=Xe[We];do{const $t=De[Pt];do We+=$t;while(!Xe[We]);const _t=Xe[We];_t!==5&&_t!==10?(Pt=_t,Xe[We]=0):(Pt=_t&51*Pt>>4,Xe[We]&=Pt>>2|Pt<<2),Te.lineTo(We%Fe,We/Fe|0),Xe[We]||--Ot}while(ct!==We);--Ye}return dt=null,Xe=null,function(We){We.save(),We.scale(1/_e,-1/fe),We.translate(0,-fe),We.fill(Te),We.beginPath(),We.restore()}}class Ee{constructor(_e,fe){this.alphaIsShape=!1,this.fontSize=0,this.fontSizeScale=1,this.textMatrix=B.IDENTITY_MATRIX,this.textMatrixScale=1,this.fontMatrix=B.FONT_IDENTITY_MATRIX,this.leading=0,this.x=0,this.y=0,this.lineX=0,this.lineY=0,this.charSpacing=0,this.wordSpacing=0,this.textHScale=1,this.textRenderingMode=B.TextRenderingMode.FILL,this.textRise=0,this.fillColor="#000000",this.strokeColor="#000000",this.patternFill=!1,this.fillAlpha=1,this.strokeAlpha=1,this.lineWidth=1,this.activeSMask=null,this.transferMaps="none",this.startNewPathAndClipBox([0,0,_e,fe])}clone(){const _e=Object.create(this);return _e.clipBox=this.clipBox.slice(),_e}setCurrentPoint(_e,fe){this.x=_e,this.y=fe}updatePathMinMax(_e,fe,Le){[fe,Le]=B.Util.applyTransform([fe,Le],_e),this.minX=Math.min(this.minX,fe),this.minY=Math.min(this.minY,Le),this.maxX=Math.max(this.maxX,fe),this.maxY=Math.max(this.maxY,Le)}updateRectMinMax(_e,fe){const Le=B.Util.applyTransform(fe,_e),je=B.Util.applyTransform(fe.slice(2),_e);this.minX=Math.min(this.minX,Le[0],je[0]),this.minY=Math.min(this.minY,Le[1],je[1]),this.maxX=Math.max(this.maxX,Le[0],je[0]),this.maxY=Math.max(this.maxY,Le[1],je[1])}updateScalingPathMinMax(_e,fe){B.Util.scaleMinMax(_e,fe),this.minX=Math.min(this.minX,fe[0]),this.maxX=Math.max(this.maxX,fe[1]),this.minY=Math.min(this.minY,fe[2]),this.maxY=Math.max(this.maxY,fe[3])}updateCurvePathMinMax(_e,fe,Le,je,Fe,Xe,Ye,gt,Ct,kt){const dt=B.Util.bezierBoundingBox(fe,Le,je,Fe,Xe,Ye,gt,Ct);if(kt){kt[0]=Math.min(kt[0],dt[0],dt[2]),kt[1]=Math.max(kt[1],dt[0],dt[2]),kt[2]=Math.min(kt[2],dt[1],dt[3]),kt[3]=Math.max(kt[3],dt[1],dt[3]);return}this.updateRectMinMax(_e,dt)}getPathBoundingBox(_e=ke.PathType.FILL,fe=null){const Le=[this.minX,this.minY,this.maxX,this.maxY];if(_e===ke.PathType.STROKE){fe||(0,B.unreachable)("Stroke bounding box must include transform.");const je=B.Util.singularValueDecompose2dScale(fe),Fe=je[0]*this.lineWidth/2,Xe=je[1]*this.lineWidth/2;Le[0]-=Fe,Le[1]-=Xe,Le[2]+=Fe,Le[3]+=Xe}return Le}updateClipFromPath(){const _e=B.Util.intersect(this.clipBox,this.getPathBoundingBox());this.startNewPathAndClipBox(_e||[0,0,0,0])}isEmptyClip(){return this.minX===1/0}startNewPathAndClipBox(_e){this.clipBox=_e,this.minX=1/0,this.minY=1/0,this.maxX=0,this.maxY=0}getClippedPathBoundingBox(_e=ke.PathType.FILL,fe=null){return B.Util.intersect(this.clipBox,this.getPathBoundingBox(_e,fe))}}function Ce(Ve,_e){if(typeof ImageData<"u"&&_e instanceof ImageData){Ve.putImageData(_e,0,0);return}const fe=_e.height,Le=_e.width,je=fe%pe,Fe=(fe-je)/pe,Xe=je===0?Fe:Fe+1,Ye=Ve.createImageData(Le,pe);let gt=0,Ct;const kt=_e.data,dt=Ye.data;let Mt,Ot,De,Te;if(_e.kind===B.ImageKind.GRAYSCALE_1BPP){const We=kt.byteLength,Ze=new Uint32Array(dt.buffer,0,dt.byteLength>>2),ct=Ze.length,Pt=Le+7>>3,$t=4294967295,_t=B.FeatureTest.isLittleEndian?4278190080:255;for(Mt=0;Mt<Xe;Mt++){for(De=Mt<Fe?pe:je,Ct=0,Ot=0;Ot<De;Ot++){const Tt=We-gt;let jt=0;const Jt=Tt>Pt?Le:Tt*8-7,Yt=Jt&-8;let Bt=0,cn=0;for(;jt<Yt;jt+=8)cn=kt[gt++],Ze[Ct++]=cn&128?$t:_t,Ze[Ct++]=cn&64?$t:_t,Ze[Ct++]=cn&32?$t:_t,Ze[Ct++]=cn&16?$t:_t,Ze[Ct++]=cn&8?$t:_t,Ze[Ct++]=cn&4?$t:_t,Ze[Ct++]=cn&2?$t:_t,Ze[Ct++]=cn&1?$t:_t;for(;jt<Jt;jt++)Bt===0&&(cn=kt[gt++],Bt=128),Ze[Ct++]=cn&Bt?$t:_t,Bt>>=1}for(;Ct<ct;)Ze[Ct++]=0;Ve.putImageData(Ye,0,Mt*pe)}}else if(_e.kind===B.ImageKind.RGBA_32BPP){for(Ot=0,Te=Le*pe*4,Mt=0;Mt<Fe;Mt++)dt.set(kt.subarray(gt,gt+Te)),gt+=Te,Ve.putImageData(Ye,0,Ot),Ot+=pe;Mt<Xe&&(Te=Le*je*4,dt.set(kt.subarray(gt,gt+Te)),Ve.putImageData(Ye,0,Ot))}else if(_e.kind===B.ImageKind.RGB_24BPP)for(De=pe,Te=Le*De,Mt=0;Mt<Xe;Mt++){for(Mt>=Fe&&(De=je,Te=Le*De),Ct=0,Ot=Te;Ot--;)dt[Ct++]=kt[gt++],dt[Ct++]=kt[gt++],dt[Ct++]=kt[gt++],dt[Ct++]=255;Ve.putImageData(Ye,0,Mt*pe)}else throw new Error(`bad image kind: ${_e.kind}`)}function Oe(Ve,_e){if(_e.bitmap){Ve.drawImage(_e.bitmap,0,0);return}const fe=_e.height,Le=_e.width,je=fe%pe,Fe=(fe-je)/pe,Xe=je===0?Fe:Fe+1,Ye=Ve.createImageData(Le,pe);let gt=0;const Ct=_e.data,kt=Ye.data;for(let dt=0;dt<Xe;dt++){const Mt=dt<Fe?pe:je;({srcPos:gt}=(0,Ae.convertBlackAndWhiteToRGBA)({src:Ct,srcPos:gt,dest:kt,width:Le,height:Mt,nonBlackColor:0})),Ve.putImageData(Ye,0,dt*pe)}}function qe(Ve,_e){const fe=["strokeStyle","fillStyle","fillRule","globalAlpha","lineWidth","lineCap","lineJoin","miterLimit","globalCompositeOperation","font","filter"];for(const Le of fe)Ve[Le]!==void 0&&(_e[Le]=Ve[Le]);Ve.setLineDash!==void 0&&(_e.setLineDash(Ve.getLineDash()),_e.lineDashOffset=Ve.lineDashOffset)}function ze(Ve){if(Ve.strokeStyle=Ve.fillStyle="#000000",Ve.fillRule="nonzero",Ve.globalAlpha=1,Ve.lineWidth=1,Ve.lineCap="butt",Ve.lineJoin="miter",Ve.miterLimit=10,Ve.globalCompositeOperation="source-over",Ve.font="10px sans-serif",Ve.setLineDash!==void 0&&(Ve.setLineDash([]),Ve.lineDashOffset=0),!B.isNodeJS){const{filter:_e}=Ve;_e!=="none"&&_e!==""&&(Ve.filter="none")}}function rt(Ve,_e,fe,Le){const je=Ve.length;for(let Fe=3;Fe<je;Fe+=4){const Xe=Ve[Fe];if(Xe===0)Ve[Fe-3]=_e,Ve[Fe-2]=fe,Ve[Fe-1]=Le;else if(Xe<255){const Ye=255-Xe;Ve[Fe-3]=Ve[Fe-3]*Xe+_e*Ye>>8,Ve[Fe-2]=Ve[Fe-2]*Xe+fe*Ye>>8,Ve[Fe-1]=Ve[Fe-1]*Xe+Le*Ye>>8}}}function ye(Ve,_e,fe){const Le=Ve.length,je=1/255;for(let Fe=3;Fe<Le;Fe+=4){const Xe=fe?fe[Ve[Fe]]:Ve[Fe];_e[Fe]=_e[Fe]*Xe*je|0}}function ot(Ve,_e,fe){const Le=Ve.length;for(let je=3;je<Le;je+=4){const Fe=Ve[je-3]*77+Ve[je-2]*152+Ve[je-1]*28;_e[je]=fe?_e[je]*fe[Fe>>8]>>8:_e[je]*Fe>>16}}function He(Ve,_e,fe,Le,je,Fe,Xe,Ye,gt,Ct,kt){const dt=!!Fe,Mt=dt?Fe[0]:0,Ot=dt?Fe[1]:0,De=dt?Fe[2]:0,Te=je==="Luminosity"?ot:ye,We=Math.min(Le,Math.ceil(1048576/fe));for(let Ze=0;Ze<Le;Ze+=We){const ct=Math.min(We,Le-Ze),Pt=Ve.getImageData(Ye-Ct,Ze+(gt-kt),fe,ct),$t=_e.getImageData(Ye,Ze+gt,fe,ct);dt&&rt(Pt.data,Mt,Ot,De),Te(Pt.data,$t.data,Xe),_e.putImageData($t,Ye,Ze+gt)}}function Ge(Ve,_e,fe,Le){const je=Le[0],Fe=Le[1],Xe=Le[2]-je,Ye=Le[3]-Fe;Xe===0||Ye===0||(He(_e.context,fe,Xe,Ye,_e.subtype,_e.backdrop,_e.transferMap,je,Fe,_e.offsetX,_e.offsetY),Ve.save(),Ve.globalAlpha=1,Ve.globalCompositeOperation="source-over",Ve.setTransform(1,0,0,1,0,0),Ve.drawImage(fe.canvas,0,0),Ve.restore())}function Be(Ve,_e){const fe=B.Util.singularValueDecompose2dScale(Ve);fe[0]=Math.fround(fe[0]),fe[1]=Math.fround(fe[1]);const Le=Math.fround((globalThis.devicePixelRatio||1)*he.PixelsPerInch.PDF_TO_CSS_UNITS);return _e!==void 0?_e:fe[0]<=Le||fe[1]<=Le}const xt=["butt","round","square"],pt=["miter","round","bevel"],Et={},Ne={},nt=class Li{constructor(_e,fe,Le,je,Fe,{optionalContentConfig:Xe,markedContentStack:Ye=null},gt,Ct){it(this,q),this.ctx=_e,this.current=new Ee(this.ctx.canvas.width,this.ctx.canvas.height),this.stateStack=[],this.pendingClip=null,this.pendingEOFill=!1,this.res=null,this.xobjs=null,this.commonObjs=fe,this.objs=Le,this.canvasFactory=je,this.filterFactory=Fe,this.groupStack=[],this.processingType3=null,this.baseTransform=null,this.baseTransformStack=[],this.groupLevel=0,this.smaskStack=[],this.smaskCounter=0,this.tempSMask=null,this.suspendedCtx=null,this.contentVisible=!0,this.markedContentStack=Ye||[],this.optionalContentConfig=Xe,this.cachedCanvases=new we(this.canvasFactory),this.cachedPatterns=new Map,this.annotationCanvasMap=gt,this.viewportScale=1,this.outputScaleX=1,this.outputScaleY=1,this.pageColors=Ct,this._cachedScaleForStroking=[-1,0],this._cachedGetSinglePixelWidth=null,this._cachedBitmapsMap=new Map}getObject(_e,fe=null){return typeof _e=="string"?_e.startsWith("g_")?this.commonObjs.get(_e):this.objs.get(_e):fe}beginDrawing({transform:_e,viewport:fe,transparency:Le=!1,background:je=null}){const Fe=this.ctx.canvas.width,Xe=this.ctx.canvas.height,Ye=this.ctx.fillStyle;if(this.ctx.fillStyle=je||"#ffffff",this.ctx.fillRect(0,0,Fe,Xe),this.ctx.fillStyle=Ye,Le){const gt=this.cachedCanvases.getCanvas("transparent",Fe,Xe);this.compositeCtx=this.ctx,this.transparentCanvas=gt.canvas,this.ctx=gt.context,this.ctx.save(),this.ctx.transform(...(0,he.getCurrentTransform)(this.compositeCtx))}this.ctx.save(),ze(this.ctx),_e&&(this.ctx.transform(..._e),this.outputScaleX=_e[0],this.outputScaleY=_e[0]),this.ctx.transform(...fe.transform),this.viewportScale=fe.scale,this.baseTransform=(0,he.getCurrentTransform)(this.ctx)}executeOperatorList(_e,fe,Le,je){const Fe=_e.argsArray,Xe=_e.fnArray;let Ye=fe||0;const gt=Fe.length;if(gt===Ye)return Ye;const Ct=gt-Ye>xe&&typeof Le=="function",kt=Ct?Date.now()+ve:0;let dt=0;const Mt=this.commonObjs,Ot=this.objs;let De;for(;;){if(je!==void 0&&Ye===je.nextBreakPoint)return je.breakIt(Ye,Le),Ye;if(De=Xe[Ye],De!==B.OPS.dependency)this[De].apply(this,Fe[Ye]);else for(const Te of Fe[Ye]){const We=Te.startsWith("g_")?Mt:Ot;if(!We.has(Te))return We.get(Te,Le),Ye}if(Ye++,Ye===gt)return Ye;if(Ct&&++dt>xe){if(Date.now()>kt)return Le(),Ye;dt=0}}}endDrawing(){Ue(this,q,X).call(this),this.cachedCanvases.clear(),this.cachedPatterns.clear();for(const _e of this._cachedBitmapsMap.values()){for(const fe of _e.values())typeof HTMLCanvasElement<"u"&&fe instanceof HTMLCanvasElement&&(fe.width=fe.height=0);_e.clear()}this._cachedBitmapsMap.clear(),Ue(this,q,K).call(this)}_scaleImage(_e,fe){const Le=_e.width,je=_e.height;let Fe=Math.max(Math.hypot(fe[0],fe[1]),1),Xe=Math.max(Math.hypot(fe[2],fe[3]),1),Ye=Le,gt=je,Ct="prescale1",kt,dt;for(;Fe>2&&Ye>1||Xe>2&&gt>1;){let Mt=Ye,Ot=gt;Fe>2&&Ye>1&&(Mt=Ye>=16384?Math.floor(Ye/2)-1||1:Math.ceil(Ye/2),Fe/=Ye/Mt),Xe>2&&gt>1&&(Ot=gt>=16384?Math.floor(gt/2)-1||1:Math.ceil(gt)/2,Xe/=gt/Ot),kt=this.cachedCanvases.getCanvas(Ct,Mt,Ot),dt=kt.context,dt.clearRect(0,0,Mt,Ot),dt.drawImage(_e,0,0,Ye,gt,0,0,Mt,Ot),_e=kt.canvas,Ye=Mt,gt=Ot,Ct=Ct==="prescale1"?"prescale2":"prescale1"}return{img:_e,paintWidth:Ye,paintHeight:gt}}_createMaskCanvas(_e){const fe=this.ctx,{width:Le,height:je}=_e,Fe=this.current.fillColor,Xe=this.current.patternFill,Ye=(0,he.getCurrentTransform)(fe);let gt,Ct,kt,dt;if((_e.bitmap||_e.data)&&_e.count>1){const jt=_e.bitmap||_e.data.buffer;Ct=JSON.stringify(Xe?Ye:[Ye.slice(0,4),Fe]),gt=this._cachedBitmapsMap.get(jt),gt||(gt=new Map,this._cachedBitmapsMap.set(jt,gt));const Jt=gt.get(Ct);if(Jt&&!Xe){const Yt=Math.round(Math.min(Ye[0],Ye[2])+Ye[4]),Bt=Math.round(Math.min(Ye[1],Ye[3])+Ye[5]);return{canvas:Jt,offsetX:Yt,offsetY:Bt}}kt=Jt}kt||(dt=this.cachedCanvases.getCanvas("maskCanvas",Le,je),Oe(dt.context,_e));let Mt=B.Util.transform(Ye,[1/Le,0,0,-1/je,0,0]);Mt=B.Util.transform(Mt,[1,0,0,1,0,-je]);const Ot=B.Util.applyTransform([0,0],Mt),De=B.Util.applyTransform([Le,je],Mt),Te=B.Util.normalizeRect([Ot[0],Ot[1],De[0],De[1]]),We=Math.round(Te[2]-Te[0])||1,Ze=Math.round(Te[3]-Te[1])||1,ct=this.cachedCanvases.getCanvas("fillCanvas",We,Ze),Pt=ct.context,$t=Math.min(Ot[0],De[0]),_t=Math.min(Ot[1],De[1]);Pt.translate(-$t,-_t),Pt.transform(...Mt),kt||(kt=this._scaleImage(dt.canvas,(0,he.getCurrentTransformInverse)(Pt)),kt=kt.img,gt&&Xe&&gt.set(Ct,kt)),Pt.imageSmoothingEnabled=Be((0,he.getCurrentTransform)(Pt),_e.interpolate),Ie(Pt,kt,0,0,kt.width,kt.height,0,0,Le,je),Pt.globalCompositeOperation="source-in";const Tt=B.Util.transform((0,he.getCurrentTransformInverse)(Pt),[1,0,0,1,-$t,-_t]);return Pt.fillStyle=Xe?Fe.getPattern(fe,this,Tt,ke.PathType.FILL):Fe,Pt.fillRect(0,0,Le,je),gt&&!Xe&&(this.cachedCanvases.delete("fillCanvas"),gt.set(Ct,ct.canvas)),{canvas:ct.canvas,offsetX:Math.round($t),offsetY:Math.round(_t)}}setLineWidth(_e){_e!==this.current.lineWidth&&(this._cachedScaleForStroking[0]=-1),this.current.lineWidth=_e,this.ctx.lineWidth=_e}setLineCap(_e){this.ctx.lineCap=xt[_e]}setLineJoin(_e){this.ctx.lineJoin=pt[_e]}setMiterLimit(_e){this.ctx.miterLimit=_e}setDash(_e,fe){const Le=this.ctx;Le.setLineDash!==void 0&&(Le.setLineDash(_e),Le.lineDashOffset=fe)}setRenderingIntent(_e){}setFlatness(_e){}setGState(_e){for(const[fe,Le]of _e)switch(fe){case"LW":this.setLineWidth(Le);break;case"LC":this.setLineCap(Le);break;case"LJ":this.setLineJoin(Le);break;case"ML":this.setMiterLimit(Le);break;case"D":this.setDash(Le[0],Le[1]);break;case"RI":this.setRenderingIntent(Le);break;case"FL":this.setFlatness(Le);break;case"Font":this.setFont(Le[0],Le[1]);break;case"CA":this.current.strokeAlpha=Le;break;case"ca":this.current.fillAlpha=Le,this.ctx.globalAlpha=Le;break;case"BM":this.ctx.globalCompositeOperation=Le;break;case"SMask":this.current.activeSMask=Le?this.tempSMask:null,this.tempSMask=null,this.checkSMaskState();break;case"TR":this.ctx.filter=this.current.transferMaps=this.filterFactory.addFilter(Le);break}}get inSMaskMode(){return!!this.suspendedCtx}checkSMaskState(){const _e=this.inSMaskMode;this.current.activeSMask&&!_e?this.beginSMaskMode():!this.current.activeSMask&&_e&&this.endSMaskMode()}beginSMaskMode(){if(this.inSMaskMode)throw new Error("beginSMaskMode called while already in smask mode");const _e=this.ctx.canvas.width,fe=this.ctx.canvas.height,Le="smaskGroupAt"+this.groupLevel,je=this.cachedCanvases.getCanvas(Le,_e,fe);this.suspendedCtx=this.ctx,this.ctx=je.context;const Fe=this.ctx;Fe.setTransform(...(0,he.getCurrentTransform)(this.suspendedCtx)),qe(this.suspendedCtx,Fe),ne(Fe,this.suspendedCtx),this.setGState([["BM","source-over"],["ca",1],["CA",1]])}endSMaskMode(){if(!this.inSMaskMode)throw new Error("endSMaskMode called while not in smask mode");this.ctx._removeMirroring(),qe(this.ctx,this.suspendedCtx),this.ctx=this.suspendedCtx,this.suspendedCtx=null}compose(_e){if(!this.current.activeSMask)return;_e?(_e[0]=Math.floor(_e[0]),_e[1]=Math.floor(_e[1]),_e[2]=Math.ceil(_e[2]),_e[3]=Math.ceil(_e[3])):_e=[0,0,this.ctx.canvas.width,this.ctx.canvas.height];const fe=this.current.activeSMask,Le=this.suspendedCtx;Ge(Le,fe,this.ctx,_e),this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.clearRect(0,0,this.ctx.canvas.width,this.ctx.canvas.height),this.ctx.restore()}save(){this.inSMaskMode?(qe(this.ctx,this.suspendedCtx),this.suspendedCtx.save()):this.ctx.save();const _e=this.current;this.stateStack.push(_e),this.current=_e.clone()}restore(){this.stateStack.length===0&&this.inSMaskMode&&this.endSMaskMode(),this.stateStack.length!==0&&(this.current=this.stateStack.pop(),this.inSMaskMode?(this.suspendedCtx.restore(),qe(this.suspendedCtx,this.ctx)):this.ctx.restore(),this.checkSMaskState(),this.pendingClip=null,this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null)}transform(_e,fe,Le,je,Fe,Xe){this.ctx.transform(_e,fe,Le,je,Fe,Xe),this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null}constructPath(_e,fe,Le){const je=this.ctx,Fe=this.current;let Xe=Fe.x,Ye=Fe.y,gt,Ct;const kt=(0,he.getCurrentTransform)(je),dt=kt[0]===0&&kt[3]===0||kt[1]===0&&kt[2]===0,Mt=dt?Le.slice(0):null;for(let Ot=0,De=0,Te=_e.length;Ot<Te;Ot++)switch(_e[Ot]|0){case B.OPS.rectangle:Xe=fe[De++],Ye=fe[De++];const We=fe[De++],Ze=fe[De++],ct=Xe+We,Pt=Ye+Ze;je.moveTo(Xe,Ye),We===0||Ze===0?je.lineTo(ct,Pt):(je.lineTo(ct,Ye),je.lineTo(ct,Pt),je.lineTo(Xe,Pt)),dt||Fe.updateRectMinMax(kt,[Xe,Ye,ct,Pt]),je.closePath();break;case B.OPS.moveTo:Xe=fe[De++],Ye=fe[De++],je.moveTo(Xe,Ye),dt||Fe.updatePathMinMax(kt,Xe,Ye);break;case B.OPS.lineTo:Xe=fe[De++],Ye=fe[De++],je.lineTo(Xe,Ye),dt||Fe.updatePathMinMax(kt,Xe,Ye);break;case B.OPS.curveTo:gt=Xe,Ct=Ye,Xe=fe[De+4],Ye=fe[De+5],je.bezierCurveTo(fe[De],fe[De+1],fe[De+2],fe[De+3],Xe,Ye),Fe.updateCurvePathMinMax(kt,gt,Ct,fe[De],fe[De+1],fe[De+2],fe[De+3],Xe,Ye,Mt),De+=6;break;case B.OPS.curveTo2:gt=Xe,Ct=Ye,je.bezierCurveTo(Xe,Ye,fe[De],fe[De+1],fe[De+2],fe[De+3]),Fe.updateCurvePathMinMax(kt,gt,Ct,Xe,Ye,fe[De],fe[De+1],fe[De+2],fe[De+3],Mt),Xe=fe[De+2],Ye=fe[De+3],De+=4;break;case B.OPS.curveTo3:gt=Xe,Ct=Ye,Xe=fe[De+2],Ye=fe[De+3],je.bezierCurveTo(fe[De],fe[De+1],Xe,Ye,Xe,Ye),Fe.updateCurvePathMinMax(kt,gt,Ct,fe[De],fe[De+1],Xe,Ye,Xe,Ye,Mt),De+=4;break;case B.OPS.closePath:je.closePath();break}dt&&Fe.updateScalingPathMinMax(kt,Mt),Fe.setCurrentPoint(Xe,Ye)}closePath(){this.ctx.closePath()}stroke(_e=!0){const fe=this.ctx,Le=this.current.strokeColor;fe.globalAlpha=this.current.strokeAlpha,this.contentVisible&&(typeof Le=="object"&&Le!=null&&Le.getPattern?(fe.save(),fe.strokeStyle=Le.getPattern(fe,this,(0,he.getCurrentTransformInverse)(fe),ke.PathType.STROKE),this.rescaleAndStroke(!1),fe.restore()):this.rescaleAndStroke(!0)),_e&&this.consumePath(this.current.getClippedPathBoundingBox()),fe.globalAlpha=this.current.fillAlpha}closeStroke(){this.closePath(),this.stroke()}fill(_e=!0){const fe=this.ctx,Le=this.current.fillColor,je=this.current.patternFill;let Fe=!1;je&&(fe.save(),fe.fillStyle=Le.getPattern(fe,this,(0,he.getCurrentTransformInverse)(fe),ke.PathType.FILL),Fe=!0);const Xe=this.current.getClippedPathBoundingBox();this.contentVisible&&Xe!==null&&(this.pendingEOFill?(fe.fill("evenodd"),this.pendingEOFill=!1):fe.fill()),Fe&&fe.restore(),_e&&this.consumePath(Xe)}eoFill(){this.pendingEOFill=!0,this.fill()}fillStroke(){this.fill(!1),this.stroke(!1),this.consumePath()}eoFillStroke(){this.pendingEOFill=!0,this.fillStroke()}closeFillStroke(){this.closePath(),this.fillStroke()}closeEOFillStroke(){this.pendingEOFill=!0,this.closePath(),this.fillStroke()}endPath(){this.consumePath()}clip(){this.pendingClip=Et}eoClip(){this.pendingClip=Ne}beginText(){this.current.textMatrix=B.IDENTITY_MATRIX,this.current.textMatrixScale=1,this.current.x=this.current.lineX=0,this.current.y=this.current.lineY=0}endText(){const _e=this.pendingTextPaths,fe=this.ctx;if(_e===void 0){fe.beginPath();return}fe.save(),fe.beginPath();for(const Le of _e)fe.setTransform(...Le.transform),fe.translate(Le.x,Le.y),Le.addToPath(fe,Le.fontSize);fe.restore(),fe.clip(),fe.beginPath(),delete this.pendingTextPaths}setCharSpacing(_e){this.current.charSpacing=_e}setWordSpacing(_e){this.current.wordSpacing=_e}setHScale(_e){this.current.textHScale=_e/100}setLeading(_e){this.current.leading=-_e}setFont(_e,fe){var Le;const je=this.commonObjs.get(_e),Fe=this.current;if(!je)throw new Error(`Can't find font for ${_e}`);if(Fe.fontMatrix=je.fontMatrix||B.FONT_IDENTITY_MATRIX,(Fe.fontMatrix[0]===0||Fe.fontMatrix[3]===0)&&(0,B.warn)("Invalid font matrix for font "+_e),fe<0?(fe=-fe,Fe.fontDirection=-1):Fe.fontDirection=1,this.current.font=je,this.current.fontSize=fe,je.isType3Font)return;const Xe=je.loadedName||"sans-serif",Ye=((Le=je.systemFontInfo)==null?void 0:Le.css)||`"${Xe}", ${je.fallbackName}`;let gt="normal";je.black?gt="900":je.bold&&(gt="bold");const Ct=je.italic?"italic":"normal";let kt=fe;fe<ae?kt=ae:fe>Re&&(kt=Re),this.current.fontSizeScale=fe/kt,this.ctx.font=`${Ct} ${gt} ${kt}px ${Ye}`}setTextRenderingMode(_e){this.current.textRenderingMode=_e}setTextRise(_e){this.current.textRise=_e}moveText(_e,fe){this.current.x=this.current.lineX+=_e,this.current.y=this.current.lineY+=fe}setLeadingMoveText(_e,fe){this.setLeading(-fe),this.moveText(_e,fe)}setTextMatrix(_e,fe,Le,je,Fe,Xe){this.current.textMatrix=[_e,fe,Le,je,Fe,Xe],this.current.textMatrixScale=Math.hypot(_e,fe),this.current.x=this.current.lineX=0,this.current.y=this.current.lineY=0}nextLine(){this.moveText(0,this.current.leading)}paintChar(_e,fe,Le,je){const Fe=this.ctx,Xe=this.current,Ye=Xe.font,gt=Xe.textRenderingMode,Ct=Xe.fontSize/Xe.fontSizeScale,kt=gt&B.TextRenderingMode.FILL_STROKE_MASK,dt=!!(gt&B.TextRenderingMode.ADD_TO_PATH_FLAG),Mt=Xe.patternFill&&!Ye.missingFile;let Ot;(Ye.disableFontFace||dt||Mt)&&(Ot=Ye.getPathGenerator(this.commonObjs,_e)),Ye.disableFontFace||Mt?(Fe.save(),Fe.translate(fe,Le),Fe.beginPath(),Ot(Fe,Ct),je&&Fe.setTransform(...je),(kt===B.TextRenderingMode.FILL||kt===B.TextRenderingMode.FILL_STROKE)&&Fe.fill(),(kt===B.TextRenderingMode.STROKE||kt===B.TextRenderingMode.FILL_STROKE)&&Fe.stroke(),Fe.restore()):((kt===B.TextRenderingMode.FILL||kt===B.TextRenderingMode.FILL_STROKE)&&Fe.fillText(_e,fe,Le),(kt===B.TextRenderingMode.STROKE||kt===B.TextRenderingMode.FILL_STROKE)&&Fe.strokeText(_e,fe,Le)),dt&&(this.pendingTextPaths||(this.pendingTextPaths=[])).push({transform:(0,he.getCurrentTransform)(Fe),x:fe,y:Le,fontSize:Ct,addToPath:Ot})}get isFontSubpixelAAEnabled(){const{context:_e}=this.cachedCanvases.getCanvas("isFontSubpixelAAEnabled",10,10);_e.scale(1.5,1),_e.fillText("I",0,10);const fe=_e.getImageData(0,0,10,10).data;let Le=!1;for(let je=3;je<fe.length;je+=4)if(fe[je]>0&&fe[je]<255){Le=!0;break}return(0,B.shadow)(this,"isFontSubpixelAAEnabled",Le)}showText(_e){const fe=this.current,Le=fe.font;if(Le.isType3Font)return this.showType3Text(_e);const je=fe.fontSize;if(je===0)return;const Fe=this.ctx,Xe=fe.fontSizeScale,Ye=fe.charSpacing,gt=fe.wordSpacing,Ct=fe.fontDirection,kt=fe.textHScale*Ct,dt=_e.length,Mt=Le.vertical,Ot=Mt?1:-1,De=Le.defaultVMetrics,Te=je*fe.fontMatrix[0],We=fe.textRenderingMode===B.TextRenderingMode.FILL&&!Le.disableFontFace&&!fe.patternFill;Fe.save(),Fe.transform(...fe.textMatrix),Fe.translate(fe.x,fe.y+fe.textRise),Ct>0?Fe.scale(kt,-1):Fe.scale(kt,1);let Ze;if(fe.patternFill){Fe.save();const Tt=fe.fillColor.getPattern(Fe,this,(0,he.getCurrentTransformInverse)(Fe),ke.PathType.FILL);Ze=(0,he.getCurrentTransform)(Fe),Fe.restore(),Fe.fillStyle=Tt}let ct=fe.lineWidth;const Pt=fe.textMatrixScale;if(Pt===0||ct===0){const Tt=fe.textRenderingMode&B.TextRenderingMode.FILL_STROKE_MASK;(Tt===B.TextRenderingMode.STROKE||Tt===B.TextRenderingMode.FILL_STROKE)&&(ct=this.getSinglePixelWidth())}else ct/=Pt;if(Xe!==1&&(Fe.scale(Xe,Xe),ct/=Xe),Fe.lineWidth=ct,Le.isInvalidPDFjsFont){const Tt=[];let jt=0;for(const Jt of _e)Tt.push(Jt.unicode),jt+=Jt.width;Fe.fillText(Tt.join(""),0,0),fe.x+=jt*Te*kt,Fe.restore(),this.compose();return}let $t=0,_t;for(_t=0;_t<dt;++_t){const Tt=_e[_t];if(typeof Tt=="number"){$t+=Ot*Tt*je/1e3;continue}let jt=!1;const Jt=(Tt.isSpace?gt:0)+Ye,Yt=Tt.fontChar,Bt=Tt.accent;let cn,sn,rn=Tt.width;if(Mt){const In=Tt.vmetric||De,Nn=-(Tt.vmetric?In[1]:rn*.5)*Te,Lt=In[2]*Te;rn=In?-In[0]:rn,cn=Nn/Xe,sn=($t+Lt)/Xe}else cn=$t/Xe,sn=0;if(Le.remeasure&&rn>0){const In=Fe.measureText(Yt).width*1e3/je*Xe;if(rn<In&&this.isFontSubpixelAAEnabled){const Nn=rn/In;jt=!0,Fe.save(),Fe.scale(Nn,1),cn/=Nn}else rn!==In&&(cn+=(rn-In)/2e3*je/Xe)}if(this.contentVisible&&(Tt.isInFont||Le.missingFile)){if(We&&!Bt)Fe.fillText(Yt,cn,sn);else if(this.paintChar(Yt,cn,sn,Ze),Bt){const In=cn+je*Bt.offset.x/Xe,Nn=sn-je*Bt.offset.y/Xe;this.paintChar(Bt.fontChar,In,Nn,Ze)}}const Fn=Mt?rn*Te-Jt*Ct:rn*Te+Jt*Ct;$t+=Fn,jt&&Fe.restore()}Mt?fe.y-=$t:fe.x+=$t*kt,Fe.restore(),this.compose()}showType3Text(_e){const fe=this.ctx,Le=this.current,je=Le.font,Fe=Le.fontSize,Xe=Le.fontDirection,Ye=je.vertical?1:-1,gt=Le.charSpacing,Ct=Le.wordSpacing,kt=Le.textHScale*Xe,dt=Le.fontMatrix||B.FONT_IDENTITY_MATRIX,Mt=_e.length,Ot=Le.textRenderingMode===B.TextRenderingMode.INVISIBLE;let De,Te,We,Ze;if(!(Ot||Fe===0)){for(this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null,fe.save(),fe.transform(...Le.textMatrix),fe.translate(Le.x,Le.y),fe.scale(kt,Xe),De=0;De<Mt;++De){if(Te=_e[De],typeof Te=="number"){Ze=Ye*Te*Fe/1e3,this.ctx.translate(Ze,0),Le.x+=Ze*kt;continue}const ct=(Te.isSpace?Ct:0)+gt,Pt=je.charProcOperatorList[Te.operatorListId];if(!Pt){(0,B.warn)(`Type3 character "${Te.operatorListId}" is not available.`);continue}this.contentVisible&&(this.processingType3=Te,this.save(),fe.scale(Fe,Fe),fe.transform(...dt),this.executeOperatorList(Pt),this.restore()),We=B.Util.applyTransform([Te.width,0],dt)[0]*Fe+ct,fe.translate(We,0),Le.x+=We*kt}fe.restore(),this.processingType3=null}}setCharWidth(_e,fe){}setCharWidthAndBounds(_e,fe,Le,je,Fe,Xe){this.ctx.rect(Le,je,Fe-Le,Xe-je),this.ctx.clip(),this.endPath()}getColorN_Pattern(_e){let fe;if(_e[0]==="TilingPattern"){const Le=_e[1],je=this.baseTransform||(0,he.getCurrentTransform)(this.ctx),Fe={createCanvasGraphics:Xe=>new Li(Xe,this.commonObjs,this.objs,this.canvasFactory,this.filterFactory,{optionalContentConfig:this.optionalContentConfig,markedContentStack:this.markedContentStack})};fe=new ke.TilingPattern(_e,Le,this.ctx,Fe,je)}else fe=this._getPattern(_e[1],_e[2]);return fe}setStrokeColorN(){this.current.strokeColor=this.getColorN_Pattern(arguments)}setFillColorN(){this.current.fillColor=this.getColorN_Pattern(arguments),this.current.patternFill=!0}setStrokeRGBColor(_e,fe,Le){const je=B.Util.makeHexColor(_e,fe,Le);this.ctx.strokeStyle=je,this.current.strokeColor=je}setFillRGBColor(_e,fe,Le){const je=B.Util.makeHexColor(_e,fe,Le);this.ctx.fillStyle=je,this.current.fillColor=je,this.current.patternFill=!1}_getPattern(_e,fe=null){let Le;return this.cachedPatterns.has(_e)?Le=this.cachedPatterns.get(_e):(Le=(0,ke.getShadingPattern)(this.getObject(_e)),this.cachedPatterns.set(_e,Le)),fe&&(Le.matrix=fe),Le}shadingFill(_e){if(!this.contentVisible)return;const fe=this.ctx;this.save();const Le=this._getPattern(_e);fe.fillStyle=Le.getPattern(fe,this,(0,he.getCurrentTransformInverse)(fe),ke.PathType.SHADING);const je=(0,he.getCurrentTransformInverse)(fe);if(je){const{width:Fe,height:Xe}=fe.canvas,[Ye,gt,Ct,kt]=B.Util.getAxialAlignedBoundingBox([0,0,Fe,Xe],je);this.ctx.fillRect(Ye,gt,Ct-Ye,kt-gt)}else this.ctx.fillRect(-1e10,-1e10,2e10,2e10);this.compose(this.current.getClippedPathBoundingBox()),this.restore()}beginInlineImage(){(0,B.unreachable)("Should not call beginInlineImage")}beginImageData(){(0,B.unreachable)("Should not call beginImageData")}paintFormXObjectBegin(_e,fe){if(this.contentVisible&&(this.save(),this.baseTransformStack.push(this.baseTransform),Array.isArray(_e)&&_e.length===6&&this.transform(..._e),this.baseTransform=(0,he.getCurrentTransform)(this.ctx),fe)){const Le=fe[2]-fe[0],je=fe[3]-fe[1];this.ctx.rect(fe[0],fe[1],Le,je),this.current.updateRectMinMax((0,he.getCurrentTransform)(this.ctx),fe),this.clip(),this.endPath()}}paintFormXObjectEnd(){this.contentVisible&&(this.restore(),this.baseTransform=this.baseTransformStack.pop())}beginGroup(_e){if(!this.contentVisible)return;this.save(),this.inSMaskMode&&(this.endSMaskMode(),this.current.activeSMask=null);const fe=this.ctx;_e.isolated||(0,B.info)("TODO: Support non-isolated groups."),_e.knockout&&(0,B.warn)("Knockout groups not supported.");const Le=(0,he.getCurrentTransform)(fe);if(_e.matrix&&fe.transform(..._e.matrix),!_e.bbox)throw new Error("Bounding box is required.");let je=B.Util.getAxialAlignedBoundingBox(_e.bbox,(0,he.getCurrentTransform)(fe));const Fe=[0,0,fe.canvas.width,fe.canvas.height];je=B.Util.intersect(je,Fe)||[0,0,0,0];const Xe=Math.floor(je[0]),Ye=Math.floor(je[1]);let gt=Math.max(Math.ceil(je[2])-Xe,1),Ct=Math.max(Math.ceil(je[3])-Ye,1),kt=1,dt=1;gt>ge&&(kt=gt/ge,gt=ge),Ct>ge&&(dt=Ct/ge,Ct=ge),this.current.startNewPathAndClipBox([0,0,gt,Ct]);let Mt="groupAt"+this.groupLevel;_e.smask&&(Mt+="_smask_"+this.smaskCounter++%2);const Ot=this.cachedCanvases.getCanvas(Mt,gt,Ct),De=Ot.context;De.scale(1/kt,1/dt),De.translate(-Xe,-Ye),De.transform(...Le),_e.smask?this.smaskStack.push({canvas:Ot.canvas,context:De,offsetX:Xe,offsetY:Ye,scaleX:kt,scaleY:dt,subtype:_e.smask.subtype,backdrop:_e.smask.backdrop,transferMap:_e.smask.transferMap||null,startTransformInverse:null}):(fe.setTransform(1,0,0,1,0,0),fe.translate(Xe,Ye),fe.scale(kt,dt),fe.save()),qe(fe,De),this.ctx=De,this.setGState([["BM","source-over"],["ca",1],["CA",1]]),this.groupStack.push(fe),this.groupLevel++}endGroup(_e){if(!this.contentVisible)return;this.groupLevel--;const fe=this.ctx,Le=this.groupStack.pop();if(this.ctx=Le,this.ctx.imageSmoothingEnabled=!1,_e.smask)this.tempSMask=this.smaskStack.pop(),this.restore();else{this.ctx.restore();const je=(0,he.getCurrentTransform)(this.ctx);this.restore(),this.ctx.save(),this.ctx.setTransform(...je);const Fe=B.Util.getAxialAlignedBoundingBox([0,0,fe.canvas.width,fe.canvas.height],je);this.ctx.drawImage(fe.canvas,0,0),this.ctx.restore(),this.compose(Fe)}}beginAnnotation(_e,fe,Le,je,Fe){if(Ue(this,q,X).call(this),ze(this.ctx),this.ctx.save(),this.save(),this.baseTransform&&this.ctx.setTransform(...this.baseTransform),Array.isArray(fe)&&fe.length===4){const Xe=fe[2]-fe[0],Ye=fe[3]-fe[1];if(Fe&&this.annotationCanvasMap){Le=Le.slice(),Le[4]-=fe[0],Le[5]-=fe[1],fe=fe.slice(),fe[0]=fe[1]=0,fe[2]=Xe,fe[3]=Ye;const[gt,Ct]=B.Util.singularValueDecompose2dScale((0,he.getCurrentTransform)(this.ctx)),{viewportScale:kt}=this,dt=Math.ceil(Xe*this.outputScaleX*kt),Mt=Math.ceil(Ye*this.outputScaleY*kt);this.annotationCanvas=this.canvasFactory.create(dt,Mt);const{canvas:Ot,context:De}=this.annotationCanvas;this.annotationCanvasMap.set(_e,Ot),this.annotationCanvas.savedCtx=this.ctx,this.ctx=De,this.ctx.save(),this.ctx.setTransform(gt,0,0,-Ct,0,Ye*Ct),ze(this.ctx)}else ze(this.ctx),this.ctx.rect(fe[0],fe[1],Xe,Ye),this.ctx.clip(),this.endPath()}this.current=new Ee(this.ctx.canvas.width,this.ctx.canvas.height),this.transform(...Le),this.transform(...je)}endAnnotation(){this.annotationCanvas&&(this.ctx.restore(),Ue(this,q,K).call(this),this.ctx=this.annotationCanvas.savedCtx,delete this.annotationCanvas.savedCtx,delete this.annotationCanvas)}paintImageMaskXObject(_e){if(!this.contentVisible)return;const fe=_e.count;_e=this.getObject(_e.data,_e),_e.count=fe;const Le=this.ctx,je=this.processingType3;if(je&&(je.compiled===void 0&&(je.compiled=Pe(_e)),je.compiled)){je.compiled(Le);return}const Fe=this._createMaskCanvas(_e),Xe=Fe.canvas;Le.save(),Le.setTransform(1,0,0,1,0,0),Le.drawImage(Xe,Fe.offsetX,Fe.offsetY),Le.restore(),this.compose()}paintImageMaskXObjectRepeat(_e,fe,Le=0,je=0,Fe,Xe){if(!this.contentVisible)return;_e=this.getObject(_e.data,_e);const Ye=this.ctx;Ye.save();const gt=(0,he.getCurrentTransform)(Ye);Ye.transform(fe,Le,je,Fe,0,0);const Ct=this._createMaskCanvas(_e);Ye.setTransform(1,0,0,1,Ct.offsetX-gt[4],Ct.offsetY-gt[5]);for(let kt=0,dt=Xe.length;kt<dt;kt+=2){const Mt=B.Util.transform(gt,[fe,Le,je,Fe,Xe[kt],Xe[kt+1]]),[Ot,De]=B.Util.applyTransform([0,0],Mt);Ye.drawImage(Ct.canvas,Ot,De)}Ye.restore(),this.compose()}paintImageMaskXObjectGroup(_e){if(!this.contentVisible)return;const fe=this.ctx,Le=this.current.fillColor,je=this.current.patternFill;for(const Fe of _e){const{data:Xe,width:Ye,height:gt,transform:Ct}=Fe,kt=this.cachedCanvases.getCanvas("maskCanvas",Ye,gt),dt=kt.context;dt.save();const Mt=this.getObject(Xe,Fe);Oe(dt,Mt),dt.globalCompositeOperation="source-in",dt.fillStyle=je?Le.getPattern(dt,this,(0,he.getCurrentTransformInverse)(fe),ke.PathType.FILL):Le,dt.fillRect(0,0,Ye,gt),dt.restore(),fe.save(),fe.transform(...Ct),fe.scale(1,-1),Ie(fe,kt.canvas,0,0,Ye,gt,0,-1,1,1),fe.restore()}this.compose()}paintImageXObject(_e){if(!this.contentVisible)return;const fe=this.getObject(_e);if(!fe){(0,B.warn)("Dependent image isn't ready yet");return}this.paintInlineImageXObject(fe)}paintImageXObjectRepeat(_e,fe,Le,je){if(!this.contentVisible)return;const Fe=this.getObject(_e);if(!Fe){(0,B.warn)("Dependent image isn't ready yet");return}const Xe=Fe.width,Ye=Fe.height,gt=[];for(let Ct=0,kt=je.length;Ct<kt;Ct+=2)gt.push({transform:[fe,0,0,Le,je[Ct],je[Ct+1]],x:0,y:0,w:Xe,h:Ye});this.paintInlineImageXObjectGroup(Fe,gt)}applyTransferMapsToCanvas(_e){return this.current.transferMaps!=="none"&&(_e.filter=this.current.transferMaps,_e.drawImage(_e.canvas,0,0),_e.filter="none"),_e.canvas}applyTransferMapsToBitmap(_e){if(this.current.transferMaps==="none")return _e.bitmap;const{bitmap:fe,width:Le,height:je}=_e,Fe=this.cachedCanvases.getCanvas("inlineImage",Le,je),Xe=Fe.context;return Xe.filter=this.current.transferMaps,Xe.drawImage(fe,0,0),Xe.filter="none",Fe.canvas}paintInlineImageXObject(_e){if(!this.contentVisible)return;const fe=_e.width,Le=_e.height,je=this.ctx;if(this.save(),!B.isNodeJS){const{filter:Ye}=je;Ye!=="none"&&Ye!==""&&(je.filter="none")}je.scale(1/fe,-1/Le);let Fe;if(_e.bitmap)Fe=this.applyTransferMapsToBitmap(_e);else if(typeof HTMLElement=="function"&&_e instanceof HTMLElement||!_e.data)Fe=_e;else{const Ye=this.cachedCanvases.getCanvas("inlineImage",fe,Le).context;Ce(Ye,_e),Fe=this.applyTransferMapsToCanvas(Ye)}const Xe=this._scaleImage(Fe,(0,he.getCurrentTransformInverse)(je));je.imageSmoothingEnabled=Be((0,he.getCurrentTransform)(je),_e.interpolate),Ie(je,Xe.img,0,0,Xe.paintWidth,Xe.paintHeight,0,-Le,fe,Le),this.compose(),this.restore()}paintInlineImageXObjectGroup(_e,fe){if(!this.contentVisible)return;const Le=this.ctx;let je;if(_e.bitmap)je=_e.bitmap;else{const Fe=_e.width,Xe=_e.height,Ye=this.cachedCanvases.getCanvas("inlineImage",Fe,Xe).context;Ce(Ye,_e),je=this.applyTransferMapsToCanvas(Ye)}for(const Fe of fe)Le.save(),Le.transform(...Fe.transform),Le.scale(1,-1),Ie(Le,je,Fe.x,Fe.y,Fe.w,Fe.h,0,-1,1,1),Le.restore();this.compose()}paintSolidColorImageMask(){this.contentVisible&&(this.ctx.fillRect(0,0,1,1),this.compose())}markPoint(_e){}markPointProps(_e,fe){}beginMarkedContent(_e){this.markedContentStack.push({visible:!0})}beginMarkedContentProps(_e,fe){_e==="OC"?this.markedContentStack.push({visible:this.optionalContentConfig.isVisible(fe)}):this.markedContentStack.push({visible:!0}),this.contentVisible=this.isContentVisible()}endMarkedContent(){this.markedContentStack.pop(),this.contentVisible=this.isContentVisible()}beginCompat(){}endCompat(){}consumePath(_e){const fe=this.current.isEmptyClip();this.pendingClip&&this.current.updateClipFromPath(),this.pendingClip||this.compose(_e);const Le=this.ctx;this.pendingClip&&(fe||(this.pendingClip===Ne?Le.clip("evenodd"):Le.clip()),this.pendingClip=null),this.current.startNewPathAndClipBox(this.current.clipBox),Le.beginPath()}getSinglePixelWidth(){if(!this._cachedGetSinglePixelWidth){const _e=(0,he.getCurrentTransform)(this.ctx);if(_e[1]===0&&_e[2]===0)this._cachedGetSinglePixelWidth=1/Math.min(Math.abs(_e[0]),Math.abs(_e[3]));else{const fe=Math.abs(_e[0]*_e[3]-_e[2]*_e[1]),Le=Math.hypot(_e[0],_e[2]),je=Math.hypot(_e[1],_e[3]);this._cachedGetSinglePixelWidth=Math.max(Le,je)/fe}}return this._cachedGetSinglePixelWidth}getScaleForStroking(){if(this._cachedScaleForStroking[0]===-1){const{lineWidth:_e}=this.current,{a:fe,b:Le,c:je,d:Fe}=this.ctx.getTransform();let Xe,Ye;if(Le===0&&je===0){const gt=Math.abs(fe),Ct=Math.abs(Fe);if(gt===Ct)if(_e===0)Xe=Ye=1/gt;else{const kt=gt*_e;Xe=Ye=kt<1?1/kt:1}else if(_e===0)Xe=1/gt,Ye=1/Ct;else{const kt=gt*_e,dt=Ct*_e;Xe=kt<1?1/kt:1,Ye=dt<1?1/dt:1}}else{const gt=Math.abs(fe*Fe-Le*je),Ct=Math.hypot(fe,Le),kt=Math.hypot(je,Fe);if(_e===0)Xe=kt/gt,Ye=Ct/gt;else{const dt=_e*gt;Xe=kt>dt?kt/dt:1,Ye=Ct>dt?Ct/dt:1}}this._cachedScaleForStroking[0]=Xe,this._cachedScaleForStroking[1]=Ye}return this._cachedScaleForStroking}rescaleAndStroke(_e){const{ctx:fe}=this,{lineWidth:Le}=this.current,[je,Fe]=this.getScaleForStroking();if(fe.lineWidth=Le||1,je===1&&Fe===1){fe.stroke();return}const Xe=fe.getLineDash();if(_e&&fe.save(),fe.scale(je,Fe),Xe.length>0){const Ye=Math.max(je,Fe);fe.setLineDash(Xe.map(gt=>gt/Ye)),fe.lineDashOffset/=Ye}fe.stroke(),_e&&fe.restore()}isContentVisible(){for(let _e=this.markedContentStack.length-1;_e>=0;_e--)if(!this.markedContentStack[_e].visible)return!1;return!0}};q=new WeakSet,X=function(){for(;this.stateStack.length||this.inSMaskMode;)this.restore();this.ctx.restore(),this.transparentCanvas&&(this.ctx=this.compositeCtx,this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.drawImage(this.transparentCanvas,0,0),this.ctx.restore(),this.transparentCanvas=null)},K=function(){if(this.pageColors){const Ve=this.filterFactory.addHCMFilter(this.pageColors.foreground,this.pageColors.background);if(Ve!=="none"){const _e=this.ctx.filter;this.ctx.filter=Ve,this.ctx.drawImage(this.ctx.canvas,0,0),this.ctx.filter=_e}}};let ut=nt;G.CanvasGraphics=ut;for(const Ve in B.OPS)ut.prototype[Ve]!==void 0&&(ut.prototype[B.OPS[Ve]]=ut.prototype[Ve])},(W,G,Y)=>{Object.defineProperty(G,"__esModule",{value:!0}),G.TilingPattern=G.PathType=void 0,G.getShadingPattern=ve;var q=Y(1),X=Y(6);const K={FILL:"Fill",STROKE:"Stroke",SHADING:"Shading"};G.PathType=K;function B(ne,we){if(!we)return;const Ie=we[2]-we[0],Pe=we[3]-we[1],Ee=new Path2D;Ee.rect(we[0],we[1],Ie,Pe),ne.clip(Ee)}class he{constructor(){this.constructor===he&&(0,q.unreachable)("Cannot initialize BaseShadingPattern.")}getPattern(){(0,q.unreachable)("Abstract method `getPattern` called.")}}class ke extends he{constructor(we){super(),this._type=we[1],this._bbox=we[2],this._colorStops=we[3],this._p0=we[4],this._p1=we[5],this._r0=we[6],this._r1=we[7],this.matrix=null}_createGradient(we){let Ie;this._type==="axial"?Ie=we.createLinearGradient(this._p0[0],this._p0[1],this._p1[0],this._p1[1]):this._type==="radial"&&(Ie=we.createRadialGradient(this._p0[0],this._p0[1],this._r0,this._p1[0],this._p1[1],this._r1));for(const Pe of this._colorStops)Ie.addColorStop(Pe[0],Pe[1]);return Ie}getPattern(we,Ie,Pe,Ee){let Ce;if(Ee===K.STROKE||Ee===K.FILL){const Oe=Ie.current.getClippedPathBoundingBox(Ee,(0,X.getCurrentTransform)(we))||[0,0,0,0],qe=Math.ceil(Oe[2]-Oe[0])||1,ze=Math.ceil(Oe[3]-Oe[1])||1,rt=Ie.cachedCanvases.getCanvas("pattern",qe,ze,!0),ye=rt.context;ye.clearRect(0,0,ye.canvas.width,ye.canvas.height),ye.beginPath(),ye.rect(0,0,ye.canvas.width,ye.canvas.height),ye.translate(-Oe[0],-Oe[1]),Pe=q.Util.transform(Pe,[1,0,0,1,Oe[0],Oe[1]]),ye.transform(...Ie.baseTransform),this.matrix&&ye.transform(...this.matrix),B(ye,this._bbox),ye.fillStyle=this._createGradient(ye),ye.fill(),Ce=we.createPattern(rt.canvas,"no-repeat");const ot=new DOMMatrix(Pe);Ce.setTransform(ot)}else B(we,this._bbox),Ce=this._createGradient(we);return Ce}}function Ae(ne,we,Ie,Pe,Ee,Ce,Oe,qe){const ze=we.coords,rt=we.colors,ye=ne.data,ot=ne.width*4;let He;ze[Ie+1]>ze[Pe+1]&&(He=Ie,Ie=Pe,Pe=He,He=Ce,Ce=Oe,Oe=He),ze[Pe+1]>ze[Ee+1]&&(He=Pe,Pe=Ee,Ee=He,He=Oe,Oe=qe,qe=He),ze[Ie+1]>ze[Pe+1]&&(He=Ie,Ie=Pe,Pe=He,He=Ce,Ce=Oe,Oe=He);const Ge=(ze[Ie]+we.offsetX)*we.scaleX,Be=(ze[Ie+1]+we.offsetY)*we.scaleY,xt=(ze[Pe]+we.offsetX)*we.scaleX,pt=(ze[Pe+1]+we.offsetY)*we.scaleY,Et=(ze[Ee]+we.offsetX)*we.scaleX,Ne=(ze[Ee+1]+we.offsetY)*we.scaleY;if(Be>=Ne)return;const nt=rt[Ce],ut=rt[Ce+1],Ve=rt[Ce+2],_e=rt[Oe],fe=rt[Oe+1],Le=rt[Oe+2],je=rt[qe],Fe=rt[qe+1],Xe=rt[qe+2],Ye=Math.round(Be),gt=Math.round(Ne);let Ct,kt,dt,Mt,Ot,De,Te,We;for(let Ze=Ye;Ze<=gt;Ze++){if(Ze<pt){const Tt=Ze<Be?0:(Be-Ze)/(Be-pt);Ct=Ge-(Ge-xt)*Tt,kt=nt-(nt-_e)*Tt,dt=ut-(ut-fe)*Tt,Mt=Ve-(Ve-Le)*Tt}else{let Tt;Ze>Ne?Tt=1:pt===Ne?Tt=0:Tt=(pt-Ze)/(pt-Ne),Ct=xt-(xt-Et)*Tt,kt=_e-(_e-je)*Tt,dt=fe-(fe-Fe)*Tt,Mt=Le-(Le-Xe)*Tt}let ct;Ze<Be?ct=0:Ze>Ne?ct=1:ct=(Be-Ze)/(Be-Ne),Ot=Ge-(Ge-Et)*ct,De=nt-(nt-je)*ct,Te=ut-(ut-Fe)*ct,We=Ve-(Ve-Xe)*ct;const Pt=Math.round(Math.min(Ct,Ot)),$t=Math.round(Math.max(Ct,Ot));let _t=ot*Ze+Pt*4;for(let Tt=Pt;Tt<=$t;Tt++)ct=(Ct-Tt)/(Ct-Ot),ct<0?ct=0:ct>1&&(ct=1),ye[_t++]=kt-(kt-De)*ct|0,ye[_t++]=dt-(dt-Te)*ct|0,ye[_t++]=Mt-(Mt-We)*ct|0,ye[_t++]=255}}function ae(ne,we,Ie){const Pe=we.coords,Ee=we.colors;let Ce,Oe;switch(we.type){case"lattice":const qe=we.verticesPerRow,ze=Math.floor(Pe.length/qe)-1,rt=qe-1;for(Ce=0;Ce<ze;Ce++){let ye=Ce*qe;for(let ot=0;ot<rt;ot++,ye++)Ae(ne,Ie,Pe[ye],Pe[ye+1],Pe[ye+qe],Ee[ye],Ee[ye+1],Ee[ye+qe]),Ae(ne,Ie,Pe[ye+qe+1],Pe[ye+1],Pe[ye+qe],Ee[ye+qe+1],Ee[ye+1],Ee[ye+qe])}break;case"triangles":for(Ce=0,Oe=Pe.length;Ce<Oe;Ce+=3)Ae(ne,Ie,Pe[Ce],Pe[Ce+1],Pe[Ce+2],Ee[Ce],Ee[Ce+1],Ee[Ce+2]);break;default:throw new Error("illegal figure")}}class Re extends he{constructor(we){super(),this._coords=we[2],this._colors=we[3],this._figures=we[4],this._bounds=we[5],this._bbox=we[7],this._background=we[8],this.matrix=null}_createMeshCanvas(we,Ie,Pe){const Ee=Math.floor(this._bounds[0]),Ce=Math.floor(this._bounds[1]),Oe=Math.ceil(this._bounds[2])-Ee,qe=Math.ceil(this._bounds[3])-Ce,ze=Math.min(Math.ceil(Math.abs(Oe*we[0]*1.1)),3e3),rt=Math.min(Math.ceil(Math.abs(qe*we[1]*1.1)),3e3),ye=Oe/ze,ot=qe/rt,He={coords:this._coords,colors:this._colors,offsetX:-Ee,offsetY:-Ce,scaleX:1/ye,scaleY:1/ot},Ge=ze+2*2,Be=rt+2*2,xt=Pe.getCanvas("mesh",Ge,Be,!1),pt=xt.context,Et=pt.createImageData(ze,rt);if(Ie){const Ne=Et.data;for(let nt=0,ut=Ne.length;nt<ut;nt+=4)Ne[nt]=Ie[0],Ne[nt+1]=Ie[1],Ne[nt+2]=Ie[2],Ne[nt+3]=255}for(const Ne of this._figures)ae(Et,Ne,He);return pt.putImageData(Et,2,2),{canvas:xt.canvas,offsetX:Ee-2*ye,offsetY:Ce-2*ot,scaleX:ye,scaleY:ot}}getPattern(we,Ie,Pe,Ee){B(we,this._bbox);let Ce;if(Ee===K.SHADING)Ce=q.Util.singularValueDecompose2dScale((0,X.getCurrentTransform)(we));else if(Ce=q.Util.singularValueDecompose2dScale(Ie.baseTransform),this.matrix){const qe=q.Util.singularValueDecompose2dScale(this.matrix);Ce=[Ce[0]*qe[0],Ce[1]*qe[1]]}const Oe=this._createMeshCanvas(Ce,Ee===K.SHADING?null:this._background,Ie.cachedCanvases);return Ee!==K.SHADING&&(we.setTransform(...Ie.baseTransform),this.matrix&&we.transform(...this.matrix)),we.translate(Oe.offsetX,Oe.offsetY),we.scale(Oe.scaleX,Oe.scaleY),we.createPattern(Oe.canvas,"no-repeat")}}class ge extends he{getPattern(){return"hotpink"}}function ve(ne){switch(ne[0]){case"RadialAxial":return new ke(ne);case"Mesh":return new Re(ne);case"Dummy":return new ge}throw new Error(`Unknown IR type: ${ne[0]}`)}const xe={COLORED:1,UNCOLORED:2},Se=class Fi{constructor(we,Ie,Pe,Ee,Ce){this.operatorList=we[2],this.matrix=we[3]||[1,0,0,1,0,0],this.bbox=we[4],this.xstep=we[5],this.ystep=we[6],this.paintType=we[7],this.tilingType=we[8],this.color=Ie,this.ctx=Pe,this.canvasGraphicsFactory=Ee,this.baseTransform=Ce}createPatternCanvas(we){const Ie=this.operatorList,Pe=this.bbox,Ee=this.xstep,Ce=this.ystep,Oe=this.paintType,qe=this.tilingType,ze=this.color,rt=this.canvasGraphicsFactory;(0,q.info)("TilingType: "+qe);const ye=Pe[0],ot=Pe[1],He=Pe[2],Ge=Pe[3],Be=q.Util.singularValueDecompose2dScale(this.matrix),xt=q.Util.singularValueDecompose2dScale(this.baseTransform),pt=[Be[0]*xt[0],Be[1]*xt[1]],Et=this.getSizeAndScale(Ee,this.ctx.canvas.width,pt[0]),Ne=this.getSizeAndScale(Ce,this.ctx.canvas.height,pt[1]),nt=we.cachedCanvases.getCanvas("pattern",Et.size,Ne.size,!0),ut=nt.context,Ve=rt.createCanvasGraphics(ut);Ve.groupLevel=we.groupLevel,this.setFillAndStrokeStyleToContext(Ve,Oe,ze);let _e=ye,fe=ot,Le=He,je=Ge;return ye<0&&(_e=0,Le+=Math.abs(ye)),ot<0&&(fe=0,je+=Math.abs(ot)),ut.translate(-(Et.scale*_e),-(Ne.scale*fe)),Ve.transform(Et.scale,0,0,Ne.scale,0,0),ut.save(),this.clipBbox(Ve,_e,fe,Le,je),Ve.baseTransform=(0,X.getCurrentTransform)(Ve.ctx),Ve.executeOperatorList(Ie),Ve.endDrawing(),{canvas:nt.canvas,scaleX:Et.scale,scaleY:Ne.scale,offsetX:_e,offsetY:fe}}getSizeAndScale(we,Ie,Pe){we=Math.abs(we);const Ee=Math.max(Fi.MAX_PATTERN_SIZE,Ie);let Ce=Math.ceil(we*Pe);return Ce>=Ee?Ce=Ee:Pe=Ce/we,{scale:Pe,size:Ce}}clipBbox(we,Ie,Pe,Ee,Ce){const Oe=Ee-Ie,qe=Ce-Pe;we.ctx.rect(Ie,Pe,Oe,qe),we.current.updateRectMinMax((0,X.getCurrentTransform)(we.ctx),[Ie,Pe,Ee,Ce]),we.clip(),we.endPath()}setFillAndStrokeStyleToContext(we,Ie,Pe){const Ee=we.ctx,Ce=we.current;switch(Ie){case xe.COLORED:const Oe=this.ctx;Ee.fillStyle=Oe.fillStyle,Ee.strokeStyle=Oe.strokeStyle,Ce.fillColor=Oe.fillStyle,Ce.strokeColor=Oe.strokeStyle;break;case xe.UNCOLORED:const qe=q.Util.makeHexColor(Pe[0],Pe[1],Pe[2]);Ee.fillStyle=qe,Ee.strokeStyle=qe,Ce.fillColor=qe,Ce.strokeColor=qe;break;default:throw new q.FormatError(`Unsupported paint type: ${Ie}`)}}getPattern(we,Ie,Pe,Ee){let Ce=Pe;Ee!==K.SHADING&&(Ce=q.Util.transform(Ce,Ie.baseTransform),this.matrix&&(Ce=q.Util.transform(Ce,this.matrix)));const Oe=this.createPatternCanvas(Ie);let qe=new DOMMatrix(Ce);qe=qe.translate(Oe.offsetX,Oe.offsetY),qe=qe.scale(1/Oe.scaleX,1/Oe.scaleY);const ze=we.createPattern(Oe.canvas,"repeat");return ze.setTransform(qe),ze}};$n(Se,"MAX_PATTERN_SIZE",3e3);let pe=Se;G.TilingPattern=pe},(W,G,Y)=>{Object.defineProperty(G,"__esModule",{value:!0}),G.convertBlackAndWhiteToRGBA=K,G.convertToRGBA=X,G.grayToRGBA=he;var q=Y(1);function X(ke){switch(ke.kind){case q.ImageKind.GRAYSCALE_1BPP:return K(ke);case q.ImageKind.RGB_24BPP:return B(ke)}return null}function K({src:ke,srcPos:Ae=0,dest:ae,width:Re,height:ge,nonBlackColor:ve=4294967295,inverseDecode:xe=!1}){const Se=q.FeatureTest.isLittleEndian?4278190080:255,[pe,ne]=xe?[ve,Se]:[Se,ve],we=Re>>3,Ie=Re&7,Pe=ke.length;ae=new Uint32Array(ae.buffer);let Ee=0;for(let Ce=0;Ce<ge;Ce++){for(const qe=Ae+we;Ae<qe;Ae++){const ze=Ae<Pe?ke[Ae]:255;ae[Ee++]=ze&128?ne:pe,ae[Ee++]=ze&64?ne:pe,ae[Ee++]=ze&32?ne:pe,ae[Ee++]=ze&16?ne:pe,ae[Ee++]=ze&8?ne:pe,ae[Ee++]=ze&4?ne:pe,ae[Ee++]=ze&2?ne:pe,ae[Ee++]=ze&1?ne:pe}if(Ie===0)continue;const Oe=Ae<Pe?ke[Ae++]:255;for(let qe=0;qe<Ie;qe++)ae[Ee++]=Oe&1<<7-qe?ne:pe}return{srcPos:Ae,destPos:Ee}}function B({src:ke,srcPos:Ae=0,dest:ae,destPos:Re=0,width:ge,height:ve}){let xe=0;const Se=ke.length>>2,pe=new Uint32Array(ke.buffer,Ae,Se);if(q.FeatureTest.isLittleEndian){for(;xe<Se-2;xe+=3,Re+=4){const ne=pe[xe],we=pe[xe+1],Ie=pe[xe+2];ae[Re]=ne|4278190080,ae[Re+1]=ne>>>24|we<<8|4278190080,ae[Re+2]=we>>>16|Ie<<16|4278190080,ae[Re+3]=Ie>>>8|4278190080}for(let ne=xe*4,we=ke.length;ne<we;ne+=3)ae[Re++]=ke[ne]|ke[ne+1]<<8|ke[ne+2]<<16|4278190080}else{for(;xe<Se-2;xe+=3,Re+=4){const ne=pe[xe],we=pe[xe+1],Ie=pe[xe+2];ae[Re]=ne|255,ae[Re+1]=ne<<24|we>>>8|255,ae[Re+2]=we<<16|Ie>>>16|255,ae[Re+3]=Ie<<8|255}for(let ne=xe*4,we=ke.length;ne<we;ne+=3)ae[Re++]=ke[ne]<<24|ke[ne+1]<<16|ke[ne+2]<<8|255}return{srcPos:Ae,destPos:Re}}function he(ke,Ae){if(q.FeatureTest.isLittleEndian)for(let ae=0,Re=ke.length;ae<Re;ae++)Ae[ae]=ke[ae]*65793|4278190080;else for(let ae=0,Re=ke.length;ae<Re;ae++)Ae[ae]=ke[ae]*16843008|255}},(W,G)=>{Object.defineProperty(G,"__esModule",{value:!0}),G.GlobalWorkerOptions=void 0;const Y=Object.create(null);G.GlobalWorkerOptions=Y,Y.workerPort=null,Y.workerSrc=""},(W,G,Y)=>{var q,X,K,B;Object.defineProperty(G,"__esModule",{value:!0}),G.MessageHandler=void 0;var he=Y(1);const ke={UNKNOWN:0,DATA:1,ERROR:2},Ae={UNKNOWN:0,CANCEL:1,CANCEL_COMPLETE:2,CLOSE:3,ENQUEUE:4,ERROR:5,PULL:6,PULL_COMPLETE:7,START_COMPLETE:8};function ae(ge){switch(ge instanceof Error||typeof ge=="object"&&ge!==null||(0,he.unreachable)('wrapReason: Expected "reason" to be a (possibly cloned) Error.'),ge.name){case"AbortException":return new he.AbortException(ge.message);case"MissingPDFException":return new he.MissingPDFException(ge.message);case"PasswordException":return new he.PasswordException(ge.message,ge.code);case"UnexpectedResponseException":return new he.UnexpectedResponseException(ge.message,ge.status);case"UnknownErrorException":return new he.UnknownErrorException(ge.message,ge.details);default:return new he.UnknownErrorException(ge.message,ge.toString())}}class Re{constructor(ve,xe,Se){it(this,q),this.sourceName=ve,this.targetName=xe,this.comObj=Se,this.callbackId=1,this.streamId=1,this.streamSinks=Object.create(null),this.streamControllers=Object.create(null),this.callbackCapabilities=Object.create(null),this.actionHandler=Object.create(null),this._onComObjOnMessage=pe=>{const ne=pe.data;if(ne.targetName!==this.sourceName)return;if(ne.stream){Ue(this,q,K).call(this,ne);return}if(ne.callback){const Ie=ne.callbackId,Pe=this.callbackCapabilities[Ie];if(!Pe)throw new Error(`Cannot resolve callback ${Ie}`);if(delete this.callbackCapabilities[Ie],ne.callback===ke.DATA)Pe.resolve(ne.data);else if(ne.callback===ke.ERROR)Pe.reject(ae(ne.reason));else throw new Error("Unexpected callback case");return}const we=this.actionHandler[ne.action];if(!we)throw new Error(`Unknown action from worker: ${ne.action}`);if(ne.callbackId){const Ie=this.sourceName,Pe=ne.sourceName;new Promise(function(Ee){Ee(we(ne.data))}).then(function(Ee){Se.postMessage({sourceName:Ie,targetName:Pe,callback:ke.DATA,callbackId:ne.callbackId,data:Ee})},function(Ee){Se.postMessage({sourceName:Ie,targetName:Pe,callback:ke.ERROR,callbackId:ne.callbackId,reason:ae(Ee)})});return}if(ne.streamId){Ue(this,q,X).call(this,ne);return}we(ne.data)},Se.addEventListener("message",this._onComObjOnMessage)}on(ve,xe){const Se=this.actionHandler;if(Se[ve])throw new Error(`There is already an actionName called "${ve}"`);Se[ve]=xe}send(ve,xe,Se){this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:ve,data:xe},Se)}sendWithPromise(ve,xe,Se){const pe=this.callbackId++,ne=new he.PromiseCapability;this.callbackCapabilities[pe]=ne;try{this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:ve,callbackId:pe,data:xe},Se)}catch(we){ne.reject(we)}return ne.promise}sendWithStream(ve,xe,Se,pe){const ne=this.streamId++,we=this.sourceName,Ie=this.targetName,Pe=this.comObj;return new ReadableStream({start:Ee=>{const Ce=new he.PromiseCapability;return this.streamControllers[ne]={controller:Ee,startCall:Ce,pullCall:null,cancelCall:null,isClosed:!1},Pe.postMessage({sourceName:we,targetName:Ie,action:ve,streamId:ne,data:xe,desiredSize:Ee.desiredSize},pe),Ce.promise},pull:Ee=>{const Ce=new he.PromiseCapability;return this.streamControllers[ne].pullCall=Ce,Pe.postMessage({sourceName:we,targetName:Ie,stream:Ae.PULL,streamId:ne,desiredSize:Ee.desiredSize}),Ce.promise},cancel:Ee=>{(0,he.assert)(Ee instanceof Error,"cancel must have a valid reason");const Ce=new he.PromiseCapability;return this.streamControllers[ne].cancelCall=Ce,this.streamControllers[ne].isClosed=!0,Pe.postMessage({sourceName:we,targetName:Ie,stream:Ae.CANCEL,streamId:ne,reason:ae(Ee)}),Ce.promise}},Se)}destroy(){this.comObj.removeEventListener("message",this._onComObjOnMessage)}}q=new WeakSet,X=function(ge){const ve=ge.streamId,xe=this.sourceName,Se=ge.sourceName,pe=this.comObj,ne=this,we=this.actionHandler[ge.action],Ie={enqueue(Pe,Ee=1,Ce){if(this.isCancelled)return;const Oe=this.desiredSize;this.desiredSize-=Ee,Oe>0&&this.desiredSize<=0&&(this.sinkCapability=new he.PromiseCapability,this.ready=this.sinkCapability.promise),pe.postMessage({sourceName:xe,targetName:Se,stream:Ae.ENQUEUE,streamId:ve,chunk:Pe},Ce)},close(){this.isCancelled||(this.isCancelled=!0,pe.postMessage({sourceName:xe,targetName:Se,stream:Ae.CLOSE,streamId:ve}),delete ne.streamSinks[ve])},error(Pe){(0,he.assert)(Pe instanceof Error,"error must have a valid reason"),!this.isCancelled&&(this.isCancelled=!0,pe.postMessage({sourceName:xe,targetName:Se,stream:Ae.ERROR,streamId:ve,reason:ae(Pe)}))},sinkCapability:new he.PromiseCapability,onPull:null,onCancel:null,isCancelled:!1,desiredSize:ge.desiredSize,ready:null};Ie.sinkCapability.resolve(),Ie.ready=Ie.sinkCapability.promise,this.streamSinks[ve]=Ie,new Promise(function(Pe){Pe(we(ge.data,Ie))}).then(function(){pe.postMessage({sourceName:xe,targetName:Se,stream:Ae.START_COMPLETE,streamId:ve,success:!0})},function(Pe){pe.postMessage({sourceName:xe,targetName:Se,stream:Ae.START_COMPLETE,streamId:ve,reason:ae(Pe)})})},K=function(ge){const ve=ge.streamId,xe=this.sourceName,Se=ge.sourceName,pe=this.comObj,ne=this.streamControllers[ve],we=this.streamSinks[ve];switch(ge.stream){case Ae.START_COMPLETE:ge.success?ne.startCall.resolve():ne.startCall.reject(ae(ge.reason));break;case Ae.PULL_COMPLETE:ge.success?ne.pullCall.resolve():ne.pullCall.reject(ae(ge.reason));break;case Ae.PULL:if(!we){pe.postMessage({sourceName:xe,targetName:Se,stream:Ae.PULL_COMPLETE,streamId:ve,success:!0});break}we.desiredSize<=0&&ge.desiredSize>0&&we.sinkCapability.resolve(),we.desiredSize=ge.desiredSize,new Promise(function(Ie){var Pe;Ie((Pe=we.onPull)==null?void 0:Pe.call(we))}).then(function(){pe.postMessage({sourceName:xe,targetName:Se,stream:Ae.PULL_COMPLETE,streamId:ve,success:!0})},function(Ie){pe.postMessage({sourceName:xe,targetName:Se,stream:Ae.PULL_COMPLETE,streamId:ve,reason:ae(Ie)})});break;case Ae.ENQUEUE:if((0,he.assert)(ne,"enqueue should have stream controller"),ne.isClosed)break;ne.controller.enqueue(ge.chunk);break;case Ae.CLOSE:if((0,he.assert)(ne,"close should have stream controller"),ne.isClosed)break;ne.isClosed=!0,ne.controller.close(),Ue(this,q,B).call(this,ne,ve);break;case Ae.ERROR:(0,he.assert)(ne,"error should have stream controller"),ne.controller.error(ae(ge.reason)),Ue(this,q,B).call(this,ne,ve);break;case Ae.CANCEL_COMPLETE:ge.success?ne.cancelCall.resolve():ne.cancelCall.reject(ae(ge.reason)),Ue(this,q,B).call(this,ne,ve);break;case Ae.CANCEL:if(!we)break;new Promise(function(Ie){var Pe;Ie((Pe=we.onCancel)==null?void 0:Pe.call(we,ae(ge.reason)))}).then(function(){pe.postMessage({sourceName:xe,targetName:Se,stream:Ae.CANCEL_COMPLETE,streamId:ve,success:!0})},function(Ie){pe.postMessage({sourceName:xe,targetName:Se,stream:Ae.CANCEL_COMPLETE,streamId:ve,reason:ae(Ie)})}),we.sinkCapability.reject(ae(ge.reason)),we.isCancelled=!0,delete this.streamSinks[ve];break;default:throw new Error("Unexpected stream case")}},B=async function(ge,ve){var xe,Se,pe;await Promise.allSettled([(xe=ge.startCall)==null?void 0:xe.promise,(Se=ge.pullCall)==null?void 0:Se.promise,(pe=ge.cancelCall)==null?void 0:pe.promise]),delete this.streamControllers[ve]},G.MessageHandler=Re},(W,G,Y)=>{var q,X;Object.defineProperty(G,"__esModule",{value:!0}),G.Metadata=void 0;var K=Y(1);class B{constructor({parsedData:ke,rawData:Ae}){it(this,q),it(this,X),at(this,q,ke),at(this,X,Ae)}getRaw(){return V(this,X)}get(ke){return V(this,q).get(ke)??null}getAll(){return(0,K.objectFromMap)(V(this,q))}has(ke){return V(this,q).has(ke)}}q=new WeakMap,X=new WeakMap,G.Metadata=B},(W,G,Y)=>{var q,X,K,B,he,ke,Ae;Object.defineProperty(G,"__esModule",{value:!0}),G.OptionalContentConfig=void 0;var ae=Y(1),Re=Y(8);const ge=Symbol("INTERNAL");class ve{constructor(pe,ne){it(this,q,!0),this.name=pe,this.intent=ne}get visible(){return V(this,q)}_setVisible(pe,ne){pe!==ge&&(0,ae.unreachable)("Internal method `_setVisible` called."),at(this,q,ne)}}q=new WeakMap;class xe{constructor(pe){if(it(this,ke),it(this,X,null),it(this,K,new Map),it(this,B,null),it(this,he,null),this.name=null,this.creator=null,pe!==null){this.name=pe.name,this.creator=pe.creator,at(this,he,pe.order);for(const ne of pe.groups)V(this,K).set(ne.id,new ve(ne.name,ne.intent));if(pe.baseState==="OFF")for(const ne of V(this,K).values())ne._setVisible(ge,!1);for(const ne of pe.on)V(this,K).get(ne)._setVisible(ge,!0);for(const ne of pe.off)V(this,K).get(ne)._setVisible(ge,!1);at(this,B,this.getHash())}}isVisible(pe){if(V(this,K).size===0)return!0;if(!pe)return(0,ae.warn)("Optional content group not defined."),!0;if(pe.type==="OCG")return V(this,K).has(pe.id)?V(this,K).get(pe.id).visible:((0,ae.warn)(`Optional content group not found: ${pe.id}`),!0);if(pe.type==="OCMD"){if(pe.expression)return Ue(this,ke,Ae).call(this,pe.expression);if(!pe.policy||pe.policy==="AnyOn"){for(const ne of pe.ids){if(!V(this,K).has(ne))return(0,ae.warn)(`Optional content group not found: ${ne}`),!0;if(V(this,K).get(ne).visible)return!0}return!1}else if(pe.policy==="AllOn"){for(const ne of pe.ids){if(!V(this,K).has(ne))return(0,ae.warn)(`Optional content group not found: ${ne}`),!0;if(!V(this,K).get(ne).visible)return!1}return!0}else if(pe.policy==="AnyOff"){for(const ne of pe.ids){if(!V(this,K).has(ne))return(0,ae.warn)(`Optional content group not found: ${ne}`),!0;if(!V(this,K).get(ne).visible)return!0}return!1}else if(pe.policy==="AllOff"){for(const ne of pe.ids){if(!V(this,K).has(ne))return(0,ae.warn)(`Optional content group not found: ${ne}`),!0;if(V(this,K).get(ne).visible)return!1}return!0}return(0,ae.warn)(`Unknown optional content policy ${pe.policy}.`),!0}return(0,ae.warn)(`Unknown group type ${pe.type}.`),!0}setVisibility(pe,ne=!0){if(!V(this,K).has(pe)){(0,ae.warn)(`Optional content group not found: ${pe}`);return}V(this,K).get(pe)._setVisible(ge,!!ne),at(this,X,null)}get hasInitialVisibility(){return V(this,B)===null||this.getHash()===V(this,B)}getOrder(){return V(this,K).size?V(this,he)?V(this,he).slice():[...V(this,K).keys()]:null}getGroups(){return V(this,K).size>0?(0,ae.objectFromMap)(V(this,K)):null}getGroup(pe){return V(this,K).get(pe)||null}getHash(){if(V(this,X)!==null)return V(this,X);const pe=new Re.MurmurHash3_64;for(const[ne,we]of V(this,K))pe.update(`${ne}:${we.visible}`);return at(this,X,pe.hexdigest())}}X=new WeakMap,K=new WeakMap,B=new WeakMap,he=new WeakMap,ke=new WeakSet,Ae=function(Se){const pe=Se.length;if(pe<2)return!0;const ne=Se[0];for(let we=1;we<pe;we++){const Ie=Se[we];let Pe;if(Array.isArray(Ie))Pe=Ue(this,ke,Ae).call(this,Ie);else if(V(this,K).has(Ie))Pe=V(this,K).get(Ie).visible;else return(0,ae.warn)(`Optional content group not found: ${Ie}`),!0;switch(ne){case"And":if(!Pe)return!1;break;case"Or":if(Pe)return!0;break;case"Not":return!Pe;default:return!0}}return ne==="And"},G.OptionalContentConfig=xe},(W,G,Y)=>{Object.defineProperty(G,"__esModule",{value:!0}),G.PDFDataTransportStream=void 0;var q=Y(1),X=Y(6);class K{constructor({length:Ae,initialData:ae,progressiveDone:Re=!1,contentDispositionFilename:ge=null,disableRange:ve=!1,disableStream:xe=!1},Se){if((0,q.assert)(Se,'PDFDataTransportStream - missing required "pdfDataRangeTransport" argument.'),this._queuedChunks=[],this._progressiveDone=Re,this._contentDispositionFilename=ge,(ae==null?void 0:ae.length)>0){const pe=ae instanceof Uint8Array&&ae.byteLength===ae.buffer.byteLength?ae.buffer:new Uint8Array(ae).buffer;this._queuedChunks.push(pe)}this._pdfDataRangeTransport=Se,this._isStreamingSupported=!xe,this._isRangeSupported=!ve,this._contentLength=Ae,this._fullRequestReader=null,this._rangeReaders=[],this._pdfDataRangeTransport.addRangeListener((pe,ne)=>{this._onReceiveData({begin:pe,chunk:ne})}),this._pdfDataRangeTransport.addProgressListener((pe,ne)=>{this._onProgress({loaded:pe,total:ne})}),this._pdfDataRangeTransport.addProgressiveReadListener(pe=>{this._onReceiveData({chunk:pe})}),this._pdfDataRangeTransport.addProgressiveDoneListener(()=>{this._onProgressiveDone()}),this._pdfDataRangeTransport.transportReady()}_onReceiveData({begin:Ae,chunk:ae}){const Re=ae instanceof Uint8Array&&ae.byteLength===ae.buffer.byteLength?ae.buffer:new Uint8Array(ae).buffer;if(Ae===void 0)this._fullRequestReader?this._fullRequestReader._enqueue(Re):this._queuedChunks.push(Re);else{const ge=this._rangeReaders.some(function(ve){return ve._begin!==Ae?!1:(ve._enqueue(Re),!0)});(0,q.assert)(ge,"_onReceiveData - no `PDFDataTransportStreamRangeReader` instance found.")}}get _progressiveDataLength(){var Ae;return((Ae=this._fullRequestReader)==null?void 0:Ae._loaded)??0}_onProgress(Ae){var ae,Re,ge,ve;Ae.total===void 0?(Re=(ae=this._rangeReaders[0])==null?void 0:ae.onProgress)==null||Re.call(ae,{loaded:Ae.loaded}):(ve=(ge=this._fullRequestReader)==null?void 0:ge.onProgress)==null||ve.call(ge,{loaded:Ae.loaded,total:Ae.total})}_onProgressiveDone(){var Ae;(Ae=this._fullRequestReader)==null||Ae.progressiveDone(),this._progressiveDone=!0}_removeRangeReader(Ae){const ae=this._rangeReaders.indexOf(Ae);ae>=0&&this._rangeReaders.splice(ae,1)}getFullReader(){(0,q.assert)(!this._fullRequestReader,"PDFDataTransportStream.getFullReader can only be called once.");const Ae=this._queuedChunks;return this._queuedChunks=null,new B(this,Ae,this._progressiveDone,this._contentDispositionFilename)}getRangeReader(Ae,ae){if(ae<=this._progressiveDataLength)return null;const Re=new he(this,Ae,ae);return this._pdfDataRangeTransport.requestDataRange(Ae,ae),this._rangeReaders.push(Re),Re}cancelAllRequests(Ae){var ae;(ae=this._fullRequestReader)==null||ae.cancel(Ae);for(const Re of this._rangeReaders.slice(0))Re.cancel(Ae);this._pdfDataRangeTransport.abort()}}G.PDFDataTransportStream=K;class B{constructor(Ae,ae,Re=!1,ge=null){this._stream=Ae,this._done=Re||!1,this._filename=(0,X.isPdfFile)(ge)?ge:null,this._queuedChunks=ae||[],this._loaded=0;for(const ve of this._queuedChunks)this._loaded+=ve.byteLength;this._requests=[],this._headersReady=Promise.resolve(),Ae._fullRequestReader=this,this.onProgress=null}_enqueue(Ae){this._done||(this._requests.length>0?this._requests.shift().resolve({value:Ae,done:!1}):this._queuedChunks.push(Ae),this._loaded+=Ae.byteLength)}get headersReady(){return this._headersReady}get filename(){return this._filename}get isRangeSupported(){return this._stream._isRangeSupported}get isStreamingSupported(){return this._stream._isStreamingSupported}get contentLength(){return this._stream._contentLength}async read(){if(this._queuedChunks.length>0)return{value:this._queuedChunks.shift(),done:!1};if(this._done)return{value:void 0,done:!0};const Ae=new q.PromiseCapability;return this._requests.push(Ae),Ae.promise}cancel(Ae){this._done=!0;for(const ae of this._requests)ae.resolve({value:void 0,done:!0});this._requests.length=0}progressiveDone(){this._done||(this._done=!0)}}class he{constructor(Ae,ae,Re){this._stream=Ae,this._begin=ae,this._end=Re,this._queuedChunk=null,this._requests=[],this._done=!1,this.onProgress=null}_enqueue(Ae){if(!this._done){if(this._requests.length===0)this._queuedChunk=Ae;else{this._requests.shift().resolve({value:Ae,done:!1});for(const ae of this._requests)ae.resolve({value:void 0,done:!0});this._requests.length=0}this._done=!0,this._stream._removeRangeReader(this)}}get isStreamingSupported(){return!1}async read(){if(this._queuedChunk){const ae=this._queuedChunk;return this._queuedChunk=null,{value:ae,done:!1}}if(this._done)return{value:void 0,done:!0};const Ae=new q.PromiseCapability;return this._requests.push(Ae),Ae.promise}cancel(Ae){this._done=!0;for(const ae of this._requests)ae.resolve({value:void 0,done:!0});this._requests.length=0,this._stream._removeRangeReader(this)}}},(W,G,Y)=>{Object.defineProperty(G,"__esModule",{value:!0}),G.PDFFetchStream=void 0;var q=Y(1),X=Y(20);function K(Re,ge,ve){return{method:"GET",headers:Re,signal:ve.signal,mode:"cors",credentials:ge?"include":"same-origin",redirect:"follow"}}function B(Re){const ge=new Headers;for(const ve in Re){const xe=Re[ve];xe!==void 0&&ge.append(ve,xe)}return ge}function he(Re){return Re instanceof Uint8Array?Re.buffer:Re instanceof ArrayBuffer?Re:((0,q.warn)(`getArrayBuffer - unexpected data format: ${Re}`),new Uint8Array(Re).buffer)}class ke{constructor(ge){this.source=ge,this.isHttp=/^https?:/i.test(ge.url),this.httpHeaders=this.isHttp&&ge.httpHeaders||{},this._fullRequestReader=null,this._rangeRequestReaders=[]}get _progressiveDataLength(){var ge;return((ge=this._fullRequestReader)==null?void 0:ge._loaded)??0}getFullReader(){return(0,q.assert)(!this._fullRequestReader,"PDFFetchStream.getFullReader can only be called once."),this._fullRequestReader=new Ae(this),this._fullRequestReader}getRangeReader(ge,ve){if(ve<=this._progressiveDataLength)return null;const xe=new ae(this,ge,ve);return this._rangeRequestReaders.push(xe),xe}cancelAllRequests(ge){var ve;(ve=this._fullRequestReader)==null||ve.cancel(ge);for(const xe of this._rangeRequestReaders.slice(0))xe.cancel(ge)}}G.PDFFetchStream=ke;class Ae{constructor(ge){this._stream=ge,this._reader=null,this._loaded=0,this._filename=null;const ve=ge.source;this._withCredentials=ve.withCredentials||!1,this._contentLength=ve.length,this._headersCapability=new q.PromiseCapability,this._disableRange=ve.disableRange||!1,this._rangeChunkSize=ve.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._abortController=new AbortController,this._isStreamingSupported=!ve.disableStream,this._isRangeSupported=!ve.disableRange,this._headers=B(this._stream.httpHeaders);const xe=ve.url;fetch(xe,K(this._headers,this._withCredentials,this._abortController)).then(Se=>{if(!(0,X.validateResponseStatus)(Se.status))throw(0,X.createResponseStatusError)(Se.status,xe);this._reader=Se.body.getReader(),this._headersCapability.resolve();const pe=Ie=>Se.headers.get(Ie),{allowRangeRequests:ne,suggestedLength:we}=(0,X.validateRangeRequestCapabilities)({getResponseHeader:pe,isHttp:this._stream.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});this._isRangeSupported=ne,this._contentLength=we||this._contentLength,this._filename=(0,X.extractFilenameFromHeader)(pe),!this._isStreamingSupported&&this._isRangeSupported&&this.cancel(new q.AbortException("Streaming is disabled."))}).catch(this._headersCapability.reject),this.onProgress=null}get headersReady(){return this._headersCapability.promise}get filename(){return this._filename}get contentLength(){return this._contentLength}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}async read(){var ge;await this._headersCapability.promise;const{value:ve,done:xe}=await this._reader.read();return xe?{value:ve,done:xe}:(this._loaded+=ve.byteLength,(ge=this.onProgress)==null||ge.call(this,{loaded:this._loaded,total:this._contentLength}),{value:he(ve),done:!1})}cancel(ge){var ve;(ve=this._reader)==null||ve.cancel(ge),this._abortController.abort()}}class ae{constructor(ge,ve,xe){this._stream=ge,this._reader=null,this._loaded=0;const Se=ge.source;this._withCredentials=Se.withCredentials||!1,this._readCapability=new q.PromiseCapability,this._isStreamingSupported=!Se.disableStream,this._abortController=new AbortController,this._headers=B(this._stream.httpHeaders),this._headers.append("Range",`bytes=${ve}-${xe-1}`);const pe=Se.url;fetch(pe,K(this._headers,this._withCredentials,this._abortController)).then(ne=>{if(!(0,X.validateResponseStatus)(ne.status))throw(0,X.createResponseStatusError)(ne.status,pe);this._readCapability.resolve(),this._reader=ne.body.getReader()}).catch(this._readCapability.reject),this.onProgress=null}get isStreamingSupported(){return this._isStreamingSupported}async read(){var ge;await this._readCapability.promise;const{value:ve,done:xe}=await this._reader.read();return xe?{value:ve,done:xe}:(this._loaded+=ve.byteLength,(ge=this.onProgress)==null||ge.call(this,{loaded:this._loaded}),{value:he(ve),done:!1})}cancel(ge){var ve;(ve=this._reader)==null||ve.cancel(ge),this._abortController.abort()}}},(W,G,Y)=>{Object.defineProperty(G,"__esModule",{value:!0}),G.createResponseStatusError=ke,G.extractFilenameFromHeader=he,G.validateRangeRequestCapabilities=B,G.validateResponseStatus=Ae;var q=Y(1),X=Y(21),K=Y(6);function B({getResponseHeader:ae,isHttp:Re,rangeChunkSize:ge,disableRange:ve}){const xe={allowRangeRequests:!1,suggestedLength:void 0},Se=parseInt(ae("Content-Length"),10);return!Number.isInteger(Se)||(xe.suggestedLength=Se,Se<=2*ge)||ve||!Re||ae("Accept-Ranges")!=="bytes"||(ae("Content-Encoding")||"identity")!=="identity"||(xe.allowRangeRequests=!0),xe}function he(ae){const Re=ae("Content-Disposition");if(Re){let ge=(0,X.getFilenameFromContentDispositionHeader)(Re);if(ge.includes("%"))try{ge=decodeURIComponent(ge)}catch{}if((0,K.isPdfFile)(ge))return ge}return null}function ke(ae,Re){return ae===404||ae===0&&Re.startsWith("file:")?new q.MissingPDFException('Missing PDF "'+Re+'".'):new q.UnexpectedResponseException(`Unexpected server response (${ae}) while retrieving PDF "${Re}".`,ae)}function Ae(ae){return ae===200||ae===206}},(W,G,Y)=>{Object.defineProperty(G,"__esModule",{value:!0}),G.getFilenameFromContentDispositionHeader=X;var q=Y(1);function X(K){let B=!0,he=ke("filename\\*","i").exec(K);if(he){he=he[1];let Se=ge(he);return Se=unescape(Se),Se=ve(Se),Se=xe(Se),ae(Se)}if(he=Re(K),he){const Se=xe(he);return ae(Se)}if(he=ke("filename","i").exec(K),he){he=he[1];let Se=ge(he);return Se=xe(Se),ae(Se)}function ke(Se,pe){return new RegExp("(?:^|;)\\s*"+Se+'\\s*=\\s*([^";\\s][^;\\s]*|"(?:[^"\\\\]|\\\\"?)+"?)',pe)}function Ae(Se,pe){if(Se){if(!/^[\x00-\xFF]+$/.test(pe))return pe;try{const ne=new TextDecoder(Se,{fatal:!0}),we=(0,q.stringToBytes)(pe);pe=ne.decode(we),B=!1}catch{}}return pe}function ae(Se){return B&&/[\x80-\xff]/.test(Se)&&(Se=Ae("utf-8",Se),B&&(Se=Ae("iso-8859-1",Se))),Se}function Re(Se){const pe=[];let ne;const we=ke("filename\\*((?!0\\d)\\d+)(\\*?)","ig");for(;(ne=we.exec(Se))!==null;){let[,Pe,Ee,Ce]=ne;if(Pe=parseInt(Pe,10),Pe in pe){if(Pe===0)break;continue}pe[Pe]=[Ee,Ce]}const Ie=[];for(let Pe=0;Pe<pe.length&&Pe in pe;++Pe){let[Ee,Ce]=pe[Pe];Ce=ge(Ce),Ee&&(Ce=unescape(Ce),Pe===0&&(Ce=ve(Ce))),Ie.push(Ce)}return Ie.join("")}function ge(Se){if(Se.startsWith('"')){const pe=Se.slice(1).split('\\"');for(let ne=0;ne<pe.length;++ne){const we=pe[ne].indexOf('"');we!==-1&&(pe[ne]=pe[ne].slice(0,we),pe.length=ne+1),pe[ne]=pe[ne].replaceAll(/\\(.)/g,"$1")}Se=pe.join('"')}return Se}function ve(Se){const pe=Se.indexOf("'");if(pe===-1)return Se;const ne=Se.slice(0,pe),we=Se.slice(pe+1).replace(/^[^']*'/,"");return Ae(ne,we)}function xe(Se){return!Se.startsWith("=?")||/[\x00-\x19\x80-\xff]/.test(Se)?Se:Se.replaceAll(/=\?([\w-]*)\?([QqBb])\?((?:[^?]|\?(?!=))*)\?=/g,function(pe,ne,we,Ie){if(we==="q"||we==="Q")return Ie=Ie.replaceAll("_"," "),Ie=Ie.replaceAll(/=([0-9a-fA-F]{2})/g,function(Pe,Ee){return String.fromCharCode(parseInt(Ee,16))}),Ae(ne,Ie);try{Ie=atob(Ie)}catch{}return Ae(ne,Ie)})}return""}},(W,G,Y)=>{Object.defineProperty(G,"__esModule",{value:!0}),G.PDFNetworkStream=void 0;var q=Y(1),X=Y(20);const K=200,B=206;function he(ge){const ve=ge.response;return typeof ve!="string"?ve:(0,q.stringToBytes)(ve).buffer}class ke{constructor(ve,xe={}){this.url=ve,this.isHttp=/^https?:/i.test(ve),this.httpHeaders=this.isHttp&&xe.httpHeaders||Object.create(null),this.withCredentials=xe.withCredentials||!1,this.currXhrId=0,this.pendingRequests=Object.create(null)}requestRange(ve,xe,Se){const pe={begin:ve,end:xe};for(const ne in Se)pe[ne]=Se[ne];return this.request(pe)}requestFull(ve){return this.request(ve)}request(ve){const xe=new XMLHttpRequest,Se=this.currXhrId++,pe=this.pendingRequests[Se]={xhr:xe};xe.open("GET",this.url),xe.withCredentials=this.withCredentials;for(const ne in this.httpHeaders){const we=this.httpHeaders[ne];we!==void 0&&xe.setRequestHeader(ne,we)}return this.isHttp&&"begin"in ve&&"end"in ve?(xe.setRequestHeader("Range",`bytes=${ve.begin}-${ve.end-1}`),pe.expectedStatus=B):pe.expectedStatus=K,xe.responseType="arraybuffer",ve.onError&&(xe.onerror=function(ne){ve.onError(xe.status)}),xe.onreadystatechange=this.onStateChange.bind(this,Se),xe.onprogress=this.onProgress.bind(this,Se),pe.onHeadersReceived=ve.onHeadersReceived,pe.onDone=ve.onDone,pe.onError=ve.onError,pe.onProgress=ve.onProgress,xe.send(null),Se}onProgress(ve,xe){var Se;const pe=this.pendingRequests[ve];pe&&((Se=pe.onProgress)==null||Se.call(pe,xe))}onStateChange(ve,xe){var Se,pe,ne;const we=this.pendingRequests[ve];if(!we)return;const Ie=we.xhr;if(Ie.readyState>=2&&we.onHeadersReceived&&(we.onHeadersReceived(),delete we.onHeadersReceived),Ie.readyState!==4||!(ve in this.pendingRequests))return;if(delete this.pendingRequests[ve],Ie.status===0&&this.isHttp){(Se=we.onError)==null||Se.call(we,Ie.status);return}const Pe=Ie.status||K;if(!(Pe===K&&we.expectedStatus===B)&&Pe!==we.expectedStatus){(pe=we.onError)==null||pe.call(we,Ie.status);return}const Ee=he(Ie);if(Pe===B){const Ce=Ie.getResponseHeader("Content-Range"),Oe=/bytes (\d+)-(\d+)\/(\d+)/.exec(Ce);we.onDone({begin:parseInt(Oe[1],10),chunk:Ee})}else Ee?we.onDone({begin:0,chunk:Ee}):(ne=we.onError)==null||ne.call(we,Ie.status)}getRequestXhr(ve){return this.pendingRequests[ve].xhr}isPendingRequest(ve){return ve in this.pendingRequests}abortRequest(ve){const xe=this.pendingRequests[ve].xhr;delete this.pendingRequests[ve],xe.abort()}}class Ae{constructor(ve){this._source=ve,this._manager=new ke(ve.url,{httpHeaders:ve.httpHeaders,withCredentials:ve.withCredentials}),this._rangeChunkSize=ve.rangeChunkSize,this._fullRequestReader=null,this._rangeRequestReaders=[]}_onRangeRequestReaderClosed(ve){const xe=this._rangeRequestReaders.indexOf(ve);xe>=0&&this._rangeRequestReaders.splice(xe,1)}getFullReader(){return(0,q.assert)(!this._fullRequestReader,"PDFNetworkStream.getFullReader can only be called once."),this._fullRequestReader=new ae(this._manager,this._source),this._fullRequestReader}getRangeReader(ve,xe){const Se=new Re(this._manager,ve,xe);return Se.onClosed=this._onRangeRequestReaderClosed.bind(this),this._rangeRequestReaders.push(Se),Se}cancelAllRequests(ve){var xe;(xe=this._fullRequestReader)==null||xe.cancel(ve);for(const Se of this._rangeRequestReaders.slice(0))Se.cancel(ve)}}G.PDFNetworkStream=Ae;class ae{constructor(ve,xe){this._manager=ve;const Se={onHeadersReceived:this._onHeadersReceived.bind(this),onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)};this._url=xe.url,this._fullRequestId=ve.requestFull(Se),this._headersReceivedCapability=new q.PromiseCapability,this._disableRange=xe.disableRange||!1,this._contentLength=xe.length,this._rangeChunkSize=xe.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._isStreamingSupported=!1,this._isRangeSupported=!1,this._cachedChunks=[],this._requests=[],this._done=!1,this._storedError=void 0,this._filename=null,this.onProgress=null}_onHeadersReceived(){const ve=this._fullRequestId,xe=this._manager.getRequestXhr(ve),Se=we=>xe.getResponseHeader(we),{allowRangeRequests:pe,suggestedLength:ne}=(0,X.validateRangeRequestCapabilities)({getResponseHeader:Se,isHttp:this._manager.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});pe&&(this._isRangeSupported=!0),this._contentLength=ne||this._contentLength,this._filename=(0,X.extractFilenameFromHeader)(Se),this._isRangeSupported&&this._manager.abortRequest(ve),this._headersReceivedCapability.resolve()}_onDone(ve){if(ve&&(this._requests.length>0?this._requests.shift().resolve({value:ve.chunk,done:!1}):this._cachedChunks.push(ve.chunk)),this._done=!0,!(this._cachedChunks.length>0)){for(const xe of this._requests)xe.resolve({value:void 0,done:!0});this._requests.length=0}}_onError(ve){this._storedError=(0,X.createResponseStatusError)(ve,this._url),this._headersReceivedCapability.reject(this._storedError);for(const xe of this._requests)xe.reject(this._storedError);this._requests.length=0,this._cachedChunks.length=0}_onProgress(ve){var xe;(xe=this.onProgress)==null||xe.call(this,{loaded:ve.loaded,total:ve.lengthComputable?ve.total:this._contentLength})}get filename(){return this._filename}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}get contentLength(){return this._contentLength}get headersReady(){return this._headersReceivedCapability.promise}async read(){if(this._storedError)throw this._storedError;if(this._cachedChunks.length>0)return{value:this._cachedChunks.shift(),done:!1};if(this._done)return{value:void 0,done:!0};const ve=new q.PromiseCapability;return this._requests.push(ve),ve.promise}cancel(ve){this._done=!0,this._headersReceivedCapability.reject(ve);for(const xe of this._requests)xe.resolve({value:void 0,done:!0});this._requests.length=0,this._manager.isPendingRequest(this._fullRequestId)&&this._manager.abortRequest(this._fullRequestId),this._fullRequestReader=null}}class Re{constructor(ve,xe,Se){this._manager=ve;const pe={onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)};this._url=ve.url,this._requestId=ve.requestRange(xe,Se,pe),this._requests=[],this._queuedChunk=null,this._done=!1,this._storedError=void 0,this.onProgress=null,this.onClosed=null}_close(){var ve;(ve=this.onClosed)==null||ve.call(this,this)}_onDone(ve){const xe=ve.chunk;this._requests.length>0?this._requests.shift().resolve({value:xe,done:!1}):this._queuedChunk=xe,this._done=!0;for(const Se of this._requests)Se.resolve({value:void 0,done:!0});this._requests.length=0,this._close()}_onError(ve){this._storedError=(0,X.createResponseStatusError)(ve,this._url);for(const xe of this._requests)xe.reject(this._storedError);this._requests.length=0,this._queuedChunk=null}_onProgress(ve){var xe;this.isStreamingSupported||(xe=this.onProgress)==null||xe.call(this,{loaded:ve.loaded})}get isStreamingSupported(){return!1}async read(){if(this._storedError)throw this._storedError;if(this._queuedChunk!==null){const xe=this._queuedChunk;return this._queuedChunk=null,{value:xe,done:!1}}if(this._done)return{value:void 0,done:!0};const ve=new q.PromiseCapability;return this._requests.push(ve),ve.promise}cancel(ve){this._done=!0;for(const xe of this._requests)xe.resolve({value:void 0,done:!0});this._requests.length=0,this._manager.isPendingRequest(this._requestId)&&this._manager.abortRequest(this._requestId),this._close()}}},(W,G,Y)=>{Object.defineProperty(G,"__esModule",{value:!0}),G.PDFNodeStream=void 0;var q=Y(1),X=Y(20);const K=/^file:\/\/\/[a-zA-Z]:\//;function B(Se){const pe=require$$5,ne=pe.parse(Se);return ne.protocol==="file:"||ne.host?ne:/^[a-z]:[/\\]/i.test(Se)?pe.parse(`file:///${Se}`):(ne.host||(ne.protocol="file:"),ne)}class he{constructor(pe){this.source=pe,this.url=B(pe.url),this.isHttp=this.url.protocol==="http:"||this.url.protocol==="https:",this.isFsUrl=this.url.protocol==="file:",this.httpHeaders=this.isHttp&&pe.httpHeaders||{},this._fullRequestReader=null,this._rangeRequestReaders=[]}get _progressiveDataLength(){var pe;return((pe=this._fullRequestReader)==null?void 0:pe._loaded)??0}getFullReader(){return(0,q.assert)(!this._fullRequestReader,"PDFNodeStream.getFullReader can only be called once."),this._fullRequestReader=this.isFsUrl?new ve(this):new Re(this),this._fullRequestReader}getRangeReader(pe,ne){if(ne<=this._progressiveDataLength)return null;const we=this.isFsUrl?new xe(this,pe,ne):new ge(this,pe,ne);return this._rangeRequestReaders.push(we),we}cancelAllRequests(pe){var ne;(ne=this._fullRequestReader)==null||ne.cancel(pe);for(const we of this._rangeRequestReaders.slice(0))we.cancel(pe)}}G.PDFNodeStream=he;class ke{constructor(pe){this._url=pe.url,this._done=!1,this._storedError=null,this.onProgress=null;const ne=pe.source;this._contentLength=ne.length,this._loaded=0,this._filename=null,this._disableRange=ne.disableRange||!1,this._rangeChunkSize=ne.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._isStreamingSupported=!ne.disableStream,this._isRangeSupported=!ne.disableRange,this._readableStream=null,this._readCapability=new q.PromiseCapability,this._headersCapability=new q.PromiseCapability}get headersReady(){return this._headersCapability.promise}get filename(){return this._filename}get contentLength(){return this._contentLength}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}async read(){var pe;if(await this._readCapability.promise,this._done)return{value:void 0,done:!0};if(this._storedError)throw this._storedError;const ne=this._readableStream.read();return ne===null?(this._readCapability=new q.PromiseCapability,this.read()):(this._loaded+=ne.length,(pe=this.onProgress)==null||pe.call(this,{loaded:this._loaded,total:this._contentLength}),{value:new Uint8Array(ne).buffer,done:!1})}cancel(pe){if(!this._readableStream){this._error(pe);return}this._readableStream.destroy(pe)}_error(pe){this._storedError=pe,this._readCapability.resolve()}_setReadableStream(pe){this._readableStream=pe,pe.on("readable",()=>{this._readCapability.resolve()}),pe.on("end",()=>{pe.destroy(),this._done=!0,this._readCapability.resolve()}),pe.on("error",ne=>{this._error(ne)}),!this._isStreamingSupported&&this._isRangeSupported&&this._error(new q.AbortException("streaming is disabled")),this._storedError&&this._readableStream.destroy(this._storedError)}}class Ae{constructor(pe){this._url=pe.url,this._done=!1,this._storedError=null,this.onProgress=null,this._loaded=0,this._readableStream=null,this._readCapability=new q.PromiseCapability;const ne=pe.source;this._isStreamingSupported=!ne.disableStream}get isStreamingSupported(){return this._isStreamingSupported}async read(){var pe;if(await this._readCapability.promise,this._done)return{value:void 0,done:!0};if(this._storedError)throw this._storedError;const ne=this._readableStream.read();return ne===null?(this._readCapability=new q.PromiseCapability,this.read()):(this._loaded+=ne.length,(pe=this.onProgress)==null||pe.call(this,{loaded:this._loaded}),{value:new Uint8Array(ne).buffer,done:!1})}cancel(pe){if(!this._readableStream){this._error(pe);return}this._readableStream.destroy(pe)}_error(pe){this._storedError=pe,this._readCapability.resolve()}_setReadableStream(pe){this._readableStream=pe,pe.on("readable",()=>{this._readCapability.resolve()}),pe.on("end",()=>{pe.destroy(),this._done=!0,this._readCapability.resolve()}),pe.on("error",ne=>{this._error(ne)}),this._storedError&&this._readableStream.destroy(this._storedError)}}function ae(Se,pe){return{protocol:Se.protocol,auth:Se.auth,host:Se.hostname,port:Se.port,path:Se.path,method:"GET",headers:pe}}class Re extends ke{constructor(pe){super(pe);const ne=we=>{if(we.statusCode===404){const Ce=new q.MissingPDFException(`Missing PDF "${this._url}".`);this._storedError=Ce,this._headersCapability.reject(Ce);return}this._headersCapability.resolve(),this._setReadableStream(we);const Ie=Ce=>this._readableStream.headers[Ce.toLowerCase()],{allowRangeRequests:Pe,suggestedLength:Ee}=(0,X.validateRangeRequestCapabilities)({getResponseHeader:Ie,isHttp:pe.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});this._isRangeSupported=Pe,this._contentLength=Ee||this._contentLength,this._filename=(0,X.extractFilenameFromHeader)(Ie)};if(this._request=null,this._url.protocol==="http:"){const we=require$$5;this._request=we.request(ae(this._url,pe.httpHeaders),ne)}else{const we=require$$5;this._request=we.request(ae(this._url,pe.httpHeaders),ne)}this._request.on("error",we=>{this._storedError=we,this._headersCapability.reject(we)}),this._request.end()}}class ge extends Ae{constructor(pe,ne,we){super(pe),this._httpHeaders={};for(const Pe in pe.httpHeaders){const Ee=pe.httpHeaders[Pe];Ee!==void 0&&(this._httpHeaders[Pe]=Ee)}this._httpHeaders.Range=`bytes=${ne}-${we-1}`;const Ie=Pe=>{if(Pe.statusCode===404){const Ee=new q.MissingPDFException(`Missing PDF "${this._url}".`);this._storedError=Ee;return}this._setReadableStream(Pe)};if(this._request=null,this._url.protocol==="http:"){const Pe=require$$5;this._request=Pe.request(ae(this._url,this._httpHeaders),Ie)}else{const Pe=require$$5;this._request=Pe.request(ae(this._url,this._httpHeaders),Ie)}this._request.on("error",Pe=>{this._storedError=Pe}),this._request.end()}}class ve extends ke{constructor(pe){super(pe);let ne=decodeURIComponent(this._url.path);K.test(this._url.href)&&(ne=ne.replace(/^\//,""));const we=require$$5;we.lstat(ne,(Ie,Pe)=>{if(Ie){Ie.code==="ENOENT"&&(Ie=new q.MissingPDFException(`Missing PDF "${ne}".`)),this._storedError=Ie,this._headersCapability.reject(Ie);return}this._contentLength=Pe.size,this._setReadableStream(we.createReadStream(ne)),this._headersCapability.resolve()})}}class xe extends Ae{constructor(pe,ne,we){super(pe);let Ie=decodeURIComponent(this._url.path);K.test(this._url.href)&&(Ie=Ie.replace(/^\//,""));const Pe=require$$5;this._setReadableStream(Pe.createReadStream(Ie,{start:ne,end:we-1}))}}},(W,G,Y)=>{Object.defineProperty(G,"__esModule",{value:!0}),G.SVGGraphics=void 0;var q=Y(6),X=Y(1);const K={fontStyle:"normal",fontWeight:"normal",fillColor:"#000000"},B="http://www.w3.org/XML/1998/namespace",he="http://www.w3.org/1999/xlink",ke=["butt","round","square"],Ae=["miter","round","bevel"],ae=function(Pe,Ee="",Ce=!1){if(URL.createObjectURL&&typeof Blob<"u"&&!Ce)return URL.createObjectURL(new Blob([Pe],{type:Ee}));const Oe="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";let qe=`data:${Ee};base64,`;for(let ze=0,rt=Pe.length;ze<rt;ze+=3){const ye=Pe[ze]&255,ot=Pe[ze+1]&255,He=Pe[ze+2]&255,Ge=ye>>2,Be=(ye&3)<<4|ot>>4,xt=ze+1<rt?(ot&15)<<2|He>>6:64,pt=ze+2<rt?He&63:64;qe+=Oe[Ge]+Oe[Be]+Oe[xt]+Oe[pt]}return qe},Re=function(){const Pe=new Uint8Array([137,80,78,71,13,10,26,10]),Ee=12,Ce=new Int32Array(256);for(let He=0;He<256;He++){let Ge=He;for(let Be=0;Be<8;Be++)Ge=Ge&1?3988292384^Ge>>1&2147483647:Ge>>1&2147483647;Ce[He]=Ge}function Oe(He,Ge,Be){let xt=-1;for(let pt=Ge;pt<Be;pt++){const Et=(xt^He[pt])&255,Ne=Ce[Et];xt=xt>>>8^Ne}return xt^-1}function qe(He,Ge,Be,xt){let pt=xt;const Et=Ge.length;Be[pt]=Et>>24&255,Be[pt+1]=Et>>16&255,Be[pt+2]=Et>>8&255,Be[pt+3]=Et&255,pt+=4,Be[pt]=He.charCodeAt(0)&255,Be[pt+1]=He.charCodeAt(1)&255,Be[pt+2]=He.charCodeAt(2)&255,Be[pt+3]=He.charCodeAt(3)&255,pt+=4,Be.set(Ge,pt),pt+=Ge.length;const Ne=Oe(Be,xt+4,pt);Be[pt]=Ne>>24&255,Be[pt+1]=Ne>>16&255,Be[pt+2]=Ne>>8&255,Be[pt+3]=Ne&255}function ze(He,Ge,Be){let xt=1,pt=0;for(let Et=Ge;Et<Be;++Et)xt=(xt+(He[Et]&255))%65521,pt=(pt+xt)%65521;return pt<<16|xt}function rt(He){if(!X.isNodeJS)return ye(He);try{const Ge=parseInt(process.versions.node)>=8?He:Buffer.from(He),Be=require$$5.deflateSync(Ge,{level:9});return Be instanceof Uint8Array?Be:new Uint8Array(Be)}catch(Ge){(0,X.warn)("Not compressing PNG because zlib.deflateSync is unavailable: "+Ge)}return ye(He)}function ye(He){let Ge=He.length;const Be=65535,xt=Math.ceil(Ge/Be),pt=new Uint8Array(2+Ge+xt*5+4);let Et=0;pt[Et++]=120,pt[Et++]=156;let Ne=0;for(;Ge>Be;)pt[Et++]=0,pt[Et++]=255,pt[Et++]=255,pt[Et++]=0,pt[Et++]=0,pt.set(He.subarray(Ne,Ne+Be),Et),Et+=Be,Ne+=Be,Ge-=Be;pt[Et++]=1,pt[Et++]=Ge&255,pt[Et++]=Ge>>8&255,pt[Et++]=~Ge&65535&255,pt[Et++]=(~Ge&65535)>>8&255,pt.set(He.subarray(Ne),Et),Et+=He.length-Ne;const nt=ze(He,0,He.length);return pt[Et++]=nt>>24&255,pt[Et++]=nt>>16&255,pt[Et++]=nt>>8&255,pt[Et++]=nt&255,pt}function ot(He,Ge,Be,xt){const pt=He.width,Et=He.height;let Ne,nt,ut;const Ve=He.data;switch(Ge){case X.ImageKind.GRAYSCALE_1BPP:nt=0,Ne=1,ut=pt+7>>3;break;case X.ImageKind.RGB_24BPP:nt=2,Ne=8,ut=pt*3;break;case X.ImageKind.RGBA_32BPP:nt=6,Ne=8,ut=pt*4;break;default:throw new Error("invalid format")}const _e=new Uint8Array((1+ut)*Et);let fe=0,Le=0;for(let Ct=0;Ct<Et;++Ct)_e[fe++]=0,_e.set(Ve.subarray(Le,Le+ut),fe),Le+=ut,fe+=ut;if(Ge===X.ImageKind.GRAYSCALE_1BPP&&xt){fe=0;for(let Ct=0;Ct<Et;Ct++){fe++;for(let kt=0;kt<ut;kt++)_e[fe++]^=255}}const je=new Uint8Array([pt>>24&255,pt>>16&255,pt>>8&255,pt&255,Et>>24&255,Et>>16&255,Et>>8&255,Et&255,Ne,nt,0,0,0]),Fe=rt(_e),Xe=Pe.length+Ee*3+je.length+Fe.length,Ye=new Uint8Array(Xe);let gt=0;return Ye.set(Pe,gt),gt+=Pe.length,qe("IHDR",je,Ye,gt),gt+=Ee+je.length,qe("IDATA",Fe,Ye,gt),gt+=Ee+Fe.length,qe("IEND",new Uint8Array(0),Ye,gt),ae(Ye,"image/png",Be)}return function(He,Ge,Be){const xt=He.kind===void 0?X.ImageKind.GRAYSCALE_1BPP:He.kind;return ot(He,xt,Ge,Be)}}();class ge{constructor(){this.fontSizeScale=1,this.fontWeight=K.fontWeight,this.fontSize=0,this.textMatrix=X.IDENTITY_MATRIX,this.fontMatrix=X.FONT_IDENTITY_MATRIX,this.leading=0,this.textRenderingMode=X.TextRenderingMode.FILL,this.textMatrixScale=1,this.x=0,this.y=0,this.lineX=0,this.lineY=0,this.charSpacing=0,this.wordSpacing=0,this.textHScale=1,this.textRise=0,this.fillColor=K.fillColor,this.strokeColor="#000000",this.fillAlpha=1,this.strokeAlpha=1,this.lineWidth=1,this.lineJoin="",this.lineCap="",this.miterLimit=0,this.dashArray=[],this.dashPhase=0,this.dependencies=[],this.activeClipUrl=null,this.clipGroup=null,this.maskId=""}clone(){return Object.create(this)}setCurrentPoint(Ee,Ce){this.x=Ee,this.y=Ce}}function ve(Pe){let Ee=[];const Ce=[];for(const Oe of Pe){if(Oe.fn==="save"){Ee.push({fnId:92,fn:"group",items:[]}),Ce.push(Ee),Ee=Ee.at(-1).items;continue}Oe.fn==="restore"?Ee=Ce.pop():Ee.push(Oe)}return Ee}function xe(Pe){if(Number.isInteger(Pe))return Pe.toString();const Ee=Pe.toFixed(10);let Ce=Ee.length-1;if(Ee[Ce]!=="0")return Ee;do Ce--;while(Ee[Ce]==="0");return Ee.substring(0,Ee[Ce]==="."?Ce:Ce+1)}function Se(Pe){if(Pe[4]===0&&Pe[5]===0){if(Pe[1]===0&&Pe[2]===0)return Pe[0]===1&&Pe[3]===1?"":`scale(${xe(Pe[0])} ${xe(Pe[3])})`;if(Pe[0]===Pe[3]&&Pe[1]===-Pe[2]){const Ee=Math.acos(Pe[0])*180/Math.PI;return`rotate(${xe(Ee)})`}}else if(Pe[0]===1&&Pe[1]===0&&Pe[2]===0&&Pe[3]===1)return`translate(${xe(Pe[4])} ${xe(Pe[5])})`;return`matrix(${xe(Pe[0])} ${xe(Pe[1])} ${xe(Pe[2])} ${xe(Pe[3])} ${xe(Pe[4])} ${xe(Pe[5])})`}let pe=0,ne=0,we=0;class Ie{constructor(Ee,Ce,Oe=!1){(0,q.deprecated)("The SVG back-end is no longer maintained and *may* be removed in the future."),this.svgFactory=new q.DOMSVGFactory,this.current=new ge,this.transformMatrix=X.IDENTITY_MATRIX,this.transformStack=[],this.extraStack=[],this.commonObjs=Ee,this.objs=Ce,this.pendingClip=null,this.pendingEOFill=!1,this.embedFonts=!1,this.embeddedFonts=Object.create(null),this.cssStyle=null,this.forceDataSchema=!!Oe,this._operatorIdMapping=[];for(const qe in X.OPS)this._operatorIdMapping[X.OPS[qe]]=qe}getObject(Ee,Ce=null){return typeof Ee=="string"?Ee.startsWith("g_")?this.commonObjs.get(Ee):this.objs.get(Ee):Ce}save(){this.transformStack.push(this.transformMatrix);const Ee=this.current;this.extraStack.push(Ee),this.current=Ee.clone()}restore(){this.transformMatrix=this.transformStack.pop(),this.current=this.extraStack.pop(),this.pendingClip=null,this.tgrp=null}group(Ee){this.save(),this.executeOpTree(Ee),this.restore()}loadDependencies(Ee){const Ce=Ee.fnArray,Oe=Ee.argsArray;for(let qe=0,ze=Ce.length;qe<ze;qe++)if(Ce[qe]===X.OPS.dependency)for(const rt of Oe[qe]){const ye=rt.startsWith("g_")?this.commonObjs:this.objs,ot=new Promise(He=>{ye.get(rt,He)});this.current.dependencies.push(ot)}return Promise.all(this.current.dependencies)}transform(Ee,Ce,Oe,qe,ze,rt){const ye=[Ee,Ce,Oe,qe,ze,rt];this.transformMatrix=X.Util.transform(this.transformMatrix,ye),this.tgrp=null}getSVG(Ee,Ce){this.viewport=Ce;const Oe=this._initialize(Ce);return this.loadDependencies(Ee).then(()=>(this.transformMatrix=X.IDENTITY_MATRIX,this.executeOpTree(this.convertOpList(Ee)),Oe))}convertOpList(Ee){const Ce=this._operatorIdMapping,Oe=Ee.argsArray,qe=Ee.fnArray,ze=[];for(let rt=0,ye=qe.length;rt<ye;rt++){const ot=qe[rt];ze.push({fnId:ot,fn:Ce[ot],args:Oe[rt]})}return ve(ze)}executeOpTree(Ee){for(const Ce of Ee){const Oe=Ce.fn,qe=Ce.fnId,ze=Ce.args;switch(qe|0){case X.OPS.beginText:this.beginText();break;case X.OPS.dependency:break;case X.OPS.setLeading:this.setLeading(ze);break;case X.OPS.setLeadingMoveText:this.setLeadingMoveText(ze[0],ze[1]);break;case X.OPS.setFont:this.setFont(ze);break;case X.OPS.showText:this.showText(ze[0]);break;case X.OPS.showSpacedText:this.showText(ze[0]);break;case X.OPS.endText:this.endText();break;case X.OPS.moveText:this.moveText(ze[0],ze[1]);break;case X.OPS.setCharSpacing:this.setCharSpacing(ze[0]);break;case X.OPS.setWordSpacing:this.setWordSpacing(ze[0]);break;case X.OPS.setHScale:this.setHScale(ze[0]);break;case X.OPS.setTextMatrix:this.setTextMatrix(ze[0],ze[1],ze[2],ze[3],ze[4],ze[5]);break;case X.OPS.setTextRise:this.setTextRise(ze[0]);break;case X.OPS.setTextRenderingMode:this.setTextRenderingMode(ze[0]);break;case X.OPS.setLineWidth:this.setLineWidth(ze[0]);break;case X.OPS.setLineJoin:this.setLineJoin(ze[0]);break;case X.OPS.setLineCap:this.setLineCap(ze[0]);break;case X.OPS.setMiterLimit:this.setMiterLimit(ze[0]);break;case X.OPS.setFillRGBColor:this.setFillRGBColor(ze[0],ze[1],ze[2]);break;case X.OPS.setStrokeRGBColor:this.setStrokeRGBColor(ze[0],ze[1],ze[2]);break;case X.OPS.setStrokeColorN:this.setStrokeColorN(ze);break;case X.OPS.setFillColorN:this.setFillColorN(ze);break;case X.OPS.shadingFill:this.shadingFill(ze[0]);break;case X.OPS.setDash:this.setDash(ze[0],ze[1]);break;case X.OPS.setRenderingIntent:this.setRenderingIntent(ze[0]);break;case X.OPS.setFlatness:this.setFlatness(ze[0]);break;case X.OPS.setGState:this.setGState(ze[0]);break;case X.OPS.fill:this.fill();break;case X.OPS.eoFill:this.eoFill();break;case X.OPS.stroke:this.stroke();break;case X.OPS.fillStroke:this.fillStroke();break;case X.OPS.eoFillStroke:this.eoFillStroke();break;case X.OPS.clip:this.clip("nonzero");break;case X.OPS.eoClip:this.clip("evenodd");break;case X.OPS.paintSolidColorImageMask:this.paintSolidColorImageMask();break;case X.OPS.paintImageXObject:this.paintImageXObject(ze[0]);break;case X.OPS.paintInlineImageXObject:this.paintInlineImageXObject(ze[0]);break;case X.OPS.paintImageMaskXObject:this.paintImageMaskXObject(ze[0]);break;case X.OPS.paintFormXObjectBegin:this.paintFormXObjectBegin(ze[0],ze[1]);break;case X.OPS.paintFormXObjectEnd:this.paintFormXObjectEnd();break;case X.OPS.closePath:this.closePath();break;case X.OPS.closeStroke:this.closeStroke();break;case X.OPS.closeFillStroke:this.closeFillStroke();break;case X.OPS.closeEOFillStroke:this.closeEOFillStroke();break;case X.OPS.nextLine:this.nextLine();break;case X.OPS.transform:this.transform(ze[0],ze[1],ze[2],ze[3],ze[4],ze[5]);break;case X.OPS.constructPath:this.constructPath(ze[0],ze[1]);break;case X.OPS.endPath:this.endPath();break;case 92:this.group(Ce.items);break;default:(0,X.warn)(`Unimplemented operator ${Oe}`);break}}}setWordSpacing(Ee){this.current.wordSpacing=Ee}setCharSpacing(Ee){this.current.charSpacing=Ee}nextLine(){this.moveText(0,this.current.leading)}setTextMatrix(Ee,Ce,Oe,qe,ze,rt){const ye=this.current;ye.textMatrix=ye.lineMatrix=[Ee,Ce,Oe,qe,ze,rt],ye.textMatrixScale=Math.hypot(Ee,Ce),ye.x=ye.lineX=0,ye.y=ye.lineY=0,ye.xcoords=[],ye.ycoords=[],ye.tspan=this.svgFactory.createElement("svg:tspan"),ye.tspan.setAttributeNS(null,"font-family",ye.fontFamily),ye.tspan.setAttributeNS(null,"font-size",`${xe(ye.fontSize)}px`),ye.tspan.setAttributeNS(null,"y",xe(-ye.y)),ye.txtElement=this.svgFactory.createElement("svg:text"),ye.txtElement.append(ye.tspan)}beginText(){const Ee=this.current;Ee.x=Ee.lineX=0,Ee.y=Ee.lineY=0,Ee.textMatrix=X.IDENTITY_MATRIX,Ee.lineMatrix=X.IDENTITY_MATRIX,Ee.textMatrixScale=1,Ee.tspan=this.svgFactory.createElement("svg:tspan"),Ee.txtElement=this.svgFactory.createElement("svg:text"),Ee.txtgrp=this.svgFactory.createElement("svg:g"),Ee.xcoords=[],Ee.ycoords=[]}moveText(Ee,Ce){const Oe=this.current;Oe.x=Oe.lineX+=Ee,Oe.y=Oe.lineY+=Ce,Oe.xcoords=[],Oe.ycoords=[],Oe.tspan=this.svgFactory.createElement("svg:tspan"),Oe.tspan.setAttributeNS(null,"font-family",Oe.fontFamily),Oe.tspan.setAttributeNS(null,"font-size",`${xe(Oe.fontSize)}px`),Oe.tspan.setAttributeNS(null,"y",xe(-Oe.y))}showText(Ee){const Ce=this.current,Oe=Ce.font,qe=Ce.fontSize;if(qe===0)return;const ze=Ce.fontSizeScale,rt=Ce.charSpacing,ye=Ce.wordSpacing,ot=Ce.fontDirection,He=Ce.textHScale*ot,Ge=Oe.vertical,Be=Ge?1:-1,xt=Oe.defaultVMetrics,pt=qe*Ce.fontMatrix[0];let Et=0;for(const ut of Ee){if(ut===null){Et+=ot*ye;continue}else if(typeof ut=="number"){Et+=Be*ut*qe/1e3;continue}const Ve=(ut.isSpace?ye:0)+rt,_e=ut.fontChar;let fe,Le,je=ut.width;if(Ge){let Xe;const Ye=ut.vmetric||xt;Xe=ut.vmetric?Ye[1]:je*.5,Xe=-Xe*pt;const gt=Ye[2]*pt;je=Ye?-Ye[0]:je,fe=Xe/ze,Le=(Et+gt)/ze}else fe=Et/ze,Le=0;(ut.isInFont||Oe.missingFile)&&(Ce.xcoords.push(Ce.x+fe),Ge&&Ce.ycoords.push(-Ce.y+Le),Ce.tspan.textContent+=_e);const Fe=Ge?je*pt-Ve*ot:je*pt+Ve*ot;Et+=Fe}Ce.tspan.setAttributeNS(null,"x",Ce.xcoords.map(xe).join(" ")),Ge?Ce.tspan.setAttributeNS(null,"y",Ce.ycoords.map(xe).join(" ")):Ce.tspan.setAttributeNS(null,"y",xe(-Ce.y)),Ge?Ce.y-=Et:Ce.x+=Et*He,Ce.tspan.setAttributeNS(null,"font-family",Ce.fontFamily),Ce.tspan.setAttributeNS(null,"font-size",`${xe(Ce.fontSize)}px`),Ce.fontStyle!==K.fontStyle&&Ce.tspan.setAttributeNS(null,"font-style",Ce.fontStyle),Ce.fontWeight!==K.fontWeight&&Ce.tspan.setAttributeNS(null,"font-weight",Ce.fontWeight);const Ne=Ce.textRenderingMode&X.TextRenderingMode.FILL_STROKE_MASK;if(Ne===X.TextRenderingMode.FILL||Ne===X.TextRenderingMode.FILL_STROKE?(Ce.fillColor!==K.fillColor&&Ce.tspan.setAttributeNS(null,"fill",Ce.fillColor),Ce.fillAlpha<1&&Ce.tspan.setAttributeNS(null,"fill-opacity",Ce.fillAlpha)):Ce.textRenderingMode===X.TextRenderingMode.ADD_TO_PATH?Ce.tspan.setAttributeNS(null,"fill","transparent"):Ce.tspan.setAttributeNS(null,"fill","none"),Ne===X.TextRenderingMode.STROKE||Ne===X.TextRenderingMode.FILL_STROKE){const ut=1/(Ce.textMatrixScale||1);this._setStrokeAttributes(Ce.tspan,ut)}let nt=Ce.textMatrix;Ce.textRise!==0&&(nt=nt.slice(),nt[5]+=Ce.textRise),Ce.txtElement.setAttributeNS(null,"transform",`${Se(nt)} scale(${xe(He)}, -1)`),Ce.txtElement.setAttributeNS(B,"xml:space","preserve"),Ce.txtElement.append(Ce.tspan),Ce.txtgrp.append(Ce.txtElement),this._ensureTransformGroup().append(Ce.txtElement)}setLeadingMoveText(Ee,Ce){this.setLeading(-Ce),this.moveText(Ee,Ce)}addFontStyle(Ee){if(!Ee.data)throw new Error('addFontStyle: No font data available, ensure that the "fontExtraProperties" API parameter is set.');this.cssStyle||(this.cssStyle=this.svgFactory.createElement("svg:style"),this.cssStyle.setAttributeNS(null,"type","text/css"),this.defs.append(this.cssStyle));const Ce=ae(Ee.data,Ee.mimetype,this.forceDataSchema);this.cssStyle.textContent+=`@font-face { font-family: "${Ee.loadedName}"; src: url(${Ce}); }
`}setFont(Ee){const Ce=this.current,Oe=this.commonObjs.get(Ee[0]);let qe=Ee[1];Ce.font=Oe,this.embedFonts&&!Oe.missingFile&&!this.embeddedFonts[Oe.loadedName]&&(this.addFontStyle(Oe),this.embeddedFonts[Oe.loadedName]=Oe),Ce.fontMatrix=Oe.fontMatrix||X.FONT_IDENTITY_MATRIX;let ze="normal";Oe.black?ze="900":Oe.bold&&(ze="bold");const rt=Oe.italic?"italic":"normal";qe<0?(qe=-qe,Ce.fontDirection=-1):Ce.fontDirection=1,Ce.fontSize=qe,Ce.fontFamily=Oe.loadedName,Ce.fontWeight=ze,Ce.fontStyle=rt,Ce.tspan=this.svgFactory.createElement("svg:tspan"),Ce.tspan.setAttributeNS(null,"y",xe(-Ce.y)),Ce.xcoords=[],Ce.ycoords=[]}endText(){var Ee;const Ce=this.current;Ce.textRenderingMode&X.TextRenderingMode.ADD_TO_PATH_FLAG&&(Ee=Ce.txtElement)!=null&&Ee.hasChildNodes()&&(Ce.element=Ce.txtElement,this.clip("nonzero"),this.endPath())}setLineWidth(Ee){Ee>0&&(this.current.lineWidth=Ee)}setLineCap(Ee){this.current.lineCap=ke[Ee]}setLineJoin(Ee){this.current.lineJoin=Ae[Ee]}setMiterLimit(Ee){this.current.miterLimit=Ee}setStrokeAlpha(Ee){this.current.strokeAlpha=Ee}setStrokeRGBColor(Ee,Ce,Oe){this.current.strokeColor=X.Util.makeHexColor(Ee,Ce,Oe)}setFillAlpha(Ee){this.current.fillAlpha=Ee}setFillRGBColor(Ee,Ce,Oe){this.current.fillColor=X.Util.makeHexColor(Ee,Ce,Oe),this.current.tspan=this.svgFactory.createElement("svg:tspan"),this.current.xcoords=[],this.current.ycoords=[]}setStrokeColorN(Ee){this.current.strokeColor=this._makeColorN_Pattern(Ee)}setFillColorN(Ee){this.current.fillColor=this._makeColorN_Pattern(Ee)}shadingFill(Ee){const{width:Ce,height:Oe}=this.viewport,qe=X.Util.inverseTransform(this.transformMatrix),[ze,rt,ye,ot]=X.Util.getAxialAlignedBoundingBox([0,0,Ce,Oe],qe),He=this.svgFactory.createElement("svg:rect");He.setAttributeNS(null,"x",ze),He.setAttributeNS(null,"y",rt),He.setAttributeNS(null,"width",ye-ze),He.setAttributeNS(null,"height",ot-rt),He.setAttributeNS(null,"fill",this._makeShadingPattern(Ee)),this.current.fillAlpha<1&&He.setAttributeNS(null,"fill-opacity",this.current.fillAlpha),this._ensureTransformGroup().append(He)}_makeColorN_Pattern(Ee){return Ee[0]==="TilingPattern"?this._makeTilingPattern(Ee):this._makeShadingPattern(Ee)}_makeTilingPattern(Ee){const Ce=Ee[1],Oe=Ee[2],qe=Ee[3]||X.IDENTITY_MATRIX,[ze,rt,ye,ot]=Ee[4],He=Ee[5],Ge=Ee[6],Be=Ee[7],xt=`shading${we++}`,[pt,Et,Ne,nt]=X.Util.normalizeRect([...X.Util.applyTransform([ze,rt],qe),...X.Util.applyTransform([ye,ot],qe)]),[ut,Ve]=X.Util.singularValueDecompose2dScale(qe),_e=He*ut,fe=Ge*Ve,Le=this.svgFactory.createElement("svg:pattern");Le.setAttributeNS(null,"id",xt),Le.setAttributeNS(null,"patternUnits","userSpaceOnUse"),Le.setAttributeNS(null,"width",_e),Le.setAttributeNS(null,"height",fe),Le.setAttributeNS(null,"x",`${pt}`),Le.setAttributeNS(null,"y",`${Et}`);const je=this.svg,Fe=this.transformMatrix,Xe=this.current.fillColor,Ye=this.current.strokeColor,gt=this.svgFactory.create(Ne-pt,nt-Et);if(this.svg=gt,this.transformMatrix=qe,Be===2){const Ct=X.Util.makeHexColor(...Ce);this.current.fillColor=Ct,this.current.strokeColor=Ct}return this.executeOpTree(this.convertOpList(Oe)),this.svg=je,this.transformMatrix=Fe,this.current.fillColor=Xe,this.current.strokeColor=Ye,Le.append(gt.childNodes[0]),this.defs.append(Le),`url(#${xt})`}_makeShadingPattern(Ee){switch(typeof Ee=="string"&&(Ee=this.objs.get(Ee)),Ee[0]){case"RadialAxial":const Ce=`shading${we++}`,Oe=Ee[3];let qe;switch(Ee[1]){case"axial":const ze=Ee[4],rt=Ee[5];qe=this.svgFactory.createElement("svg:linearGradient"),qe.setAttributeNS(null,"id",Ce),qe.setAttributeNS(null,"gradientUnits","userSpaceOnUse"),qe.setAttributeNS(null,"x1",ze[0]),qe.setAttributeNS(null,"y1",ze[1]),qe.setAttributeNS(null,"x2",rt[0]),qe.setAttributeNS(null,"y2",rt[1]);break;case"radial":const ye=Ee[4],ot=Ee[5],He=Ee[6],Ge=Ee[7];qe=this.svgFactory.createElement("svg:radialGradient"),qe.setAttributeNS(null,"id",Ce),qe.setAttributeNS(null,"gradientUnits","userSpaceOnUse"),qe.setAttributeNS(null,"cx",ot[0]),qe.setAttributeNS(null,"cy",ot[1]),qe.setAttributeNS(null,"r",Ge),qe.setAttributeNS(null,"fx",ye[0]),qe.setAttributeNS(null,"fy",ye[1]),qe.setAttributeNS(null,"fr",He);break;default:throw new Error(`Unknown RadialAxial type: ${Ee[1]}`)}for(const ze of Oe){const rt=this.svgFactory.createElement("svg:stop");rt.setAttributeNS(null,"offset",ze[0]),rt.setAttributeNS(null,"stop-color",ze[1]),qe.append(rt)}return this.defs.append(qe),`url(#${Ce})`;case"Mesh":return(0,X.warn)("Unimplemented pattern Mesh"),null;case"Dummy":return"hotpink";default:throw new Error(`Unknown IR type: ${Ee[0]}`)}}setDash(Ee,Ce){this.current.dashArray=Ee,this.current.dashPhase=Ce}constructPath(Ee,Ce){const Oe=this.current;let qe=Oe.x,ze=Oe.y,rt=[],ye=0;for(const ot of Ee)switch(ot|0){case X.OPS.rectangle:qe=Ce[ye++],ze=Ce[ye++];const He=Ce[ye++],Ge=Ce[ye++],Be=qe+He,xt=ze+Ge;rt.push("M",xe(qe),xe(ze),"L",xe(Be),xe(ze),"L",xe(Be),xe(xt),"L",xe(qe),xe(xt),"Z");break;case X.OPS.moveTo:qe=Ce[ye++],ze=Ce[ye++],rt.push("M",xe(qe),xe(ze));break;case X.OPS.lineTo:qe=Ce[ye++],ze=Ce[ye++],rt.push("L",xe(qe),xe(ze));break;case X.OPS.curveTo:qe=Ce[ye+4],ze=Ce[ye+5],rt.push("C",xe(Ce[ye]),xe(Ce[ye+1]),xe(Ce[ye+2]),xe(Ce[ye+3]),xe(qe),xe(ze)),ye+=6;break;case X.OPS.curveTo2:rt.push("C",xe(qe),xe(ze),xe(Ce[ye]),xe(Ce[ye+1]),xe(Ce[ye+2]),xe(Ce[ye+3])),qe=Ce[ye+2],ze=Ce[ye+3],ye+=4;break;case X.OPS.curveTo3:qe=Ce[ye+2],ze=Ce[ye+3],rt.push("C",xe(Ce[ye]),xe(Ce[ye+1]),xe(qe),xe(ze),xe(qe),xe(ze)),ye+=4;break;case X.OPS.closePath:rt.push("Z");break}rt=rt.join(" "),Oe.path&&Ee.length>0&&Ee[0]!==X.OPS.rectangle&&Ee[0]!==X.OPS.moveTo?rt=Oe.path.getAttributeNS(null,"d")+rt:(Oe.path=this.svgFactory.createElement("svg:path"),this._ensureTransformGroup().append(Oe.path)),Oe.path.setAttributeNS(null,"d",rt),Oe.path.setAttributeNS(null,"fill","none"),Oe.element=Oe.path,Oe.setCurrentPoint(qe,ze)}endPath(){const Ee=this.current;if(Ee.path=null,!this.pendingClip)return;if(!Ee.element){this.pendingClip=null;return}const Ce=`clippath${pe++}`,Oe=this.svgFactory.createElement("svg:clipPath");Oe.setAttributeNS(null,"id",Ce),Oe.setAttributeNS(null,"transform",Se(this.transformMatrix));const qe=Ee.element.cloneNode(!0);if(this.pendingClip==="evenodd"?qe.setAttributeNS(null,"clip-rule","evenodd"):qe.setAttributeNS(null,"clip-rule","nonzero"),this.pendingClip=null,Oe.append(qe),this.defs.append(Oe),Ee.activeClipUrl){Ee.clipGroup=null;for(const ze of this.extraStack)ze.clipGroup=null;Oe.setAttributeNS(null,"clip-path",Ee.activeClipUrl)}Ee.activeClipUrl=`url(#${Ce})`,this.tgrp=null}clip(Ee){this.pendingClip=Ee}closePath(){const Ee=this.current;if(Ee.path){const Ce=`${Ee.path.getAttributeNS(null,"d")}Z`;Ee.path.setAttributeNS(null,"d",Ce)}}setLeading(Ee){this.current.leading=-Ee}setTextRise(Ee){this.current.textRise=Ee}setTextRenderingMode(Ee){this.current.textRenderingMode=Ee}setHScale(Ee){this.current.textHScale=Ee/100}setRenderingIntent(Ee){}setFlatness(Ee){}setGState(Ee){for(const[Ce,Oe]of Ee)switch(Ce){case"LW":this.setLineWidth(Oe);break;case"LC":this.setLineCap(Oe);break;case"LJ":this.setLineJoin(Oe);break;case"ML":this.setMiterLimit(Oe);break;case"D":this.setDash(Oe[0],Oe[1]);break;case"RI":this.setRenderingIntent(Oe);break;case"FL":this.setFlatness(Oe);break;case"Font":this.setFont(Oe);break;case"CA":this.setStrokeAlpha(Oe);break;case"ca":this.setFillAlpha(Oe);break;default:(0,X.warn)(`Unimplemented graphic state operator ${Ce}`);break}}fill(){const Ee=this.current;Ee.element&&(Ee.element.setAttributeNS(null,"fill",Ee.fillColor),Ee.element.setAttributeNS(null,"fill-opacity",Ee.fillAlpha),this.endPath())}stroke(){const Ee=this.current;Ee.element&&(this._setStrokeAttributes(Ee.element),Ee.element.setAttributeNS(null,"fill","none"),this.endPath())}_setStrokeAttributes(Ee,Ce=1){const Oe=this.current;let qe=Oe.dashArray;Ce!==1&&qe.length>0&&(qe=qe.map(function(ze){return Ce*ze})),Ee.setAttributeNS(null,"stroke",Oe.strokeColor),Ee.setAttributeNS(null,"stroke-opacity",Oe.strokeAlpha),Ee.setAttributeNS(null,"stroke-miterlimit",xe(Oe.miterLimit)),Ee.setAttributeNS(null,"stroke-linecap",Oe.lineCap),Ee.setAttributeNS(null,"stroke-linejoin",Oe.lineJoin),Ee.setAttributeNS(null,"stroke-width",xe(Ce*Oe.lineWidth)+"px"),Ee.setAttributeNS(null,"stroke-dasharray",qe.map(xe).join(" ")),Ee.setAttributeNS(null,"stroke-dashoffset",xe(Ce*Oe.dashPhase)+"px")}eoFill(){var Ee;(Ee=this.current.element)==null||Ee.setAttributeNS(null,"fill-rule","evenodd"),this.fill()}fillStroke(){this.stroke(),this.fill()}eoFillStroke(){var Ee;(Ee=this.current.element)==null||Ee.setAttributeNS(null,"fill-rule","evenodd"),this.fillStroke()}closeStroke(){this.closePath(),this.stroke()}closeFillStroke(){this.closePath(),this.fillStroke()}closeEOFillStroke(){this.closePath(),this.eoFillStroke()}paintSolidColorImageMask(){const Ee=this.svgFactory.createElement("svg:rect");Ee.setAttributeNS(null,"x","0"),Ee.setAttributeNS(null,"y","0"),Ee.setAttributeNS(null,"width","1px"),Ee.setAttributeNS(null,"height","1px"),Ee.setAttributeNS(null,"fill",this.current.fillColor),this._ensureTransformGroup().append(Ee)}paintImageXObject(Ee){const Ce=this.getObject(Ee);if(!Ce){(0,X.warn)(`Dependent image with object ID ${Ee} is not ready yet`);return}this.paintInlineImageXObject(Ce)}paintInlineImageXObject(Ee,Ce){const Oe=Ee.width,qe=Ee.height,ze=Re(Ee,this.forceDataSchema,!!Ce),rt=this.svgFactory.createElement("svg:rect");rt.setAttributeNS(null,"x","0"),rt.setAttributeNS(null,"y","0"),rt.setAttributeNS(null,"width",xe(Oe)),rt.setAttributeNS(null,"height",xe(qe)),this.current.element=rt,this.clip("nonzero");const ye=this.svgFactory.createElement("svg:image");ye.setAttributeNS(he,"xlink:href",ze),ye.setAttributeNS(null,"x","0"),ye.setAttributeNS(null,"y",xe(-qe)),ye.setAttributeNS(null,"width",xe(Oe)+"px"),ye.setAttributeNS(null,"height",xe(qe)+"px"),ye.setAttributeNS(null,"transform",`scale(${xe(1/Oe)} ${xe(-1/qe)})`),Ce?Ce.append(ye):this._ensureTransformGroup().append(ye)}paintImageMaskXObject(Ee){const Ce=this.getObject(Ee.data,Ee);if(Ce.bitmap){(0,X.warn)("paintImageMaskXObject: ImageBitmap support is not implemented, ensure that the `isOffscreenCanvasSupported` API parameter is disabled.");return}const Oe=this.current,qe=Ce.width,ze=Ce.height,rt=Oe.fillColor;Oe.maskId=`mask${ne++}`;const ye=this.svgFactory.createElement("svg:mask");ye.setAttributeNS(null,"id",Oe.maskId);const ot=this.svgFactory.createElement("svg:rect");ot.setAttributeNS(null,"x","0"),ot.setAttributeNS(null,"y","0"),ot.setAttributeNS(null,"width",xe(qe)),ot.setAttributeNS(null,"height",xe(ze)),ot.setAttributeNS(null,"fill",rt),ot.setAttributeNS(null,"mask",`url(#${Oe.maskId})`),this.defs.append(ye),this._ensureTransformGroup().append(ot),this.paintInlineImageXObject(Ce,ye)}paintFormXObjectBegin(Ee,Ce){if(Array.isArray(Ee)&&Ee.length===6&&this.transform(Ee[0],Ee[1],Ee[2],Ee[3],Ee[4],Ee[5]),Ce){const Oe=Ce[2]-Ce[0],qe=Ce[3]-Ce[1],ze=this.svgFactory.createElement("svg:rect");ze.setAttributeNS(null,"x",Ce[0]),ze.setAttributeNS(null,"y",Ce[1]),ze.setAttributeNS(null,"width",xe(Oe)),ze.setAttributeNS(null,"height",xe(qe)),this.current.element=ze,this.clip("nonzero"),this.endPath()}}paintFormXObjectEnd(){}_initialize(Ee){const Ce=this.svgFactory.create(Ee.width,Ee.height),Oe=this.svgFactory.createElement("svg:defs");Ce.append(Oe),this.defs=Oe;const qe=this.svgFactory.createElement("svg:g");return qe.setAttributeNS(null,"transform",Se(Ee.transform)),Ce.append(qe),this.svg=qe,Ce}_ensureClipGroup(){if(!this.current.clipGroup){const Ee=this.svgFactory.createElement("svg:g");Ee.setAttributeNS(null,"clip-path",this.current.activeClipUrl),this.svg.append(Ee),this.current.clipGroup=Ee}return this.current.clipGroup}_ensureTransformGroup(){return this.tgrp||(this.tgrp=this.svgFactory.createElement("svg:g"),this.tgrp.setAttributeNS(null,"transform",Se(this.transformMatrix)),this.current.activeClipUrl?this._ensureClipGroup().append(this.tgrp):this.svg.append(this.tgrp)),this.tgrp}}G.SVGGraphics=Ie},(W,G)=>{Object.defineProperty(G,"__esModule",{value:!0}),G.XfaText=void 0;class Y{static textContent(X){const K=[],B={items:K,styles:Object.create(null)};function he(ke){var Ae;if(!ke)return;let ae=null;const Re=ke.name;if(Re==="#text")ae=ke.value;else if(Y.shouldBuildText(Re))(Ae=ke==null?void 0:ke.attributes)!=null&&Ae.textContent?ae=ke.attributes.textContent:ke.value&&(ae=ke.value);else return;if(ae!==null&&K.push({str:ae}),!!ke.children)for(const ge of ke.children)he(ge)}return he(X),B}static shouldBuildText(X){return!(X==="textarea"||X==="input"||X==="option"||X==="select")}}G.XfaText=Y},(W,G,Y)=>{Object.defineProperty(G,"__esModule",{value:!0}),G.TextLayerRenderTask=void 0,G.renderTextLayer=Se,G.updateTextLayer=pe;var q=Y(1),X=Y(6);const K=1e5,B=30,he=.8,ke=new Map;function Ae(ne,we){let Ie;if(we&&q.FeatureTest.isOffscreenCanvasSupported)Ie=new OffscreenCanvas(ne,ne).getContext("2d",{alpha:!1});else{const Pe=document.createElement("canvas");Pe.width=Pe.height=ne,Ie=Pe.getContext("2d",{alpha:!1})}return Ie}function ae(ne,we){const Ie=ke.get(ne);if(Ie)return Ie;const Pe=Ae(B,we);Pe.font=`${B}px ${ne}`;const Ee=Pe.measureText("");let Ce=Ee.fontBoundingBoxAscent,Oe=Math.abs(Ee.fontBoundingBoxDescent);if(Ce){const ze=Ce/(Ce+Oe);return ke.set(ne,ze),Pe.canvas.width=Pe.canvas.height=0,ze}Pe.strokeStyle="red",Pe.clearRect(0,0,B,B),Pe.strokeText("g",0,0);let qe=Pe.getImageData(0,0,B,B).data;Oe=0;for(let ze=qe.length-1-3;ze>=0;ze-=4)if(qe[ze]>0){Oe=Math.ceil(ze/4/B);break}Pe.clearRect(0,0,B,B),Pe.strokeText("A",0,B),qe=Pe.getImageData(0,0,B,B).data,Ce=0;for(let ze=0,rt=qe.length;ze<rt;ze+=4)if(qe[ze]>0){Ce=B-Math.floor(ze/4/B);break}if(Pe.canvas.width=Pe.canvas.height=0,Ce){const ze=Ce/(Ce+Oe);return ke.set(ne,ze),ze}return ke.set(ne,he),he}function Re(ne,we,Ie){const Pe=document.createElement("span"),Ee={angle:0,canvasWidth:0,hasText:we.str!=="",hasEOL:we.hasEOL,fontSize:0};ne._textDivs.push(Pe);const Ce=q.Util.transform(ne._transform,we.transform);let Oe=Math.atan2(Ce[1],Ce[0]);const qe=Ie[we.fontName];qe.vertical&&(Oe+=Math.PI/2);const ze=Math.hypot(Ce[2],Ce[3]),rt=ze*ae(qe.fontFamily,ne._isOffscreenCanvasSupported);let ye,ot;Oe===0?(ye=Ce[4],ot=Ce[5]-rt):(ye=Ce[4]+rt*Math.sin(Oe),ot=Ce[5]-rt*Math.cos(Oe));const He="calc(var(--scale-factor)*",Ge=Pe.style;ne._container===ne._rootContainer?(Ge.left=`${(100*ye/ne._pageWidth).toFixed(2)}%`,Ge.top=`${(100*ot/ne._pageHeight).toFixed(2)}%`):(Ge.left=`${He}${ye.toFixed(2)}px)`,Ge.top=`${He}${ot.toFixed(2)}px)`),Ge.fontSize=`${He}${ze.toFixed(2)}px)`,Ge.fontFamily=qe.fontFamily,Ee.fontSize=ze,Pe.setAttribute("role","presentation"),Pe.textContent=we.str,Pe.dir=we.dir,ne._fontInspectorEnabled&&(Pe.dataset.fontName=we.fontName),Oe!==0&&(Ee.angle=Oe*(180/Math.PI));let Be=!1;if(we.str.length>1)Be=!0;else if(we.str!==" "&&we.transform[0]!==we.transform[3]){const xt=Math.abs(we.transform[0]),pt=Math.abs(we.transform[3]);xt!==pt&&Math.max(xt,pt)/Math.min(xt,pt)>1.5&&(Be=!0)}Be&&(Ee.canvasWidth=qe.vertical?we.height:we.width),ne._textDivProperties.set(Pe,Ee),ne._isReadableStream&&ne._layoutText(Pe)}function ge(ne){const{div:we,scale:Ie,properties:Pe,ctx:Ee,prevFontSize:Ce,prevFontFamily:Oe}=ne,{style:qe}=we;let ze="";if(Pe.canvasWidth!==0&&Pe.hasText){const{fontFamily:rt}=qe,{canvasWidth:ye,fontSize:ot}=Pe;(Ce!==ot||Oe!==rt)&&(Ee.font=`${ot*Ie}px ${rt}`,ne.prevFontSize=ot,ne.prevFontFamily=rt);const{width:He}=Ee.measureText(we.textContent);He>0&&(ze=`scaleX(${ye*Ie/He})`)}Pe.angle!==0&&(ze=`rotate(${Pe.angle}deg) ${ze}`),ze.length>0&&(qe.transform=ze)}function ve(ne){if(ne._canceled)return;const we=ne._textDivs,Ie=ne._capability;if(we.length>K){Ie.resolve();return}if(!ne._isReadableStream)for(const Pe of we)ne._layoutText(Pe);Ie.resolve()}class xe{constructor({textContentSource:we,container:Ie,viewport:Pe,textDivs:Ee,textDivProperties:Ce,textContentItemsStr:Oe,isOffscreenCanvasSupported:qe}){var ze;this._textContentSource=we,this._isReadableStream=we instanceof ReadableStream,this._container=this._rootContainer=Ie,this._textDivs=Ee||[],this._textContentItemsStr=Oe||[],this._isOffscreenCanvasSupported=qe,this._fontInspectorEnabled=!!((ze=globalThis.FontInspector)!=null&&ze.enabled),this._reader=null,this._textDivProperties=Ce||new WeakMap,this._canceled=!1,this._capability=new q.PromiseCapability,this._layoutTextParams={prevFontSize:null,prevFontFamily:null,div:null,scale:Pe.scale*(globalThis.devicePixelRatio||1),properties:null,ctx:Ae(0,qe)};const{pageWidth:rt,pageHeight:ye,pageX:ot,pageY:He}=Pe.rawDims;this._transform=[1,0,0,-1,-ot,He+ye],this._pageWidth=rt,this._pageHeight=ye,(0,X.setLayerDimensions)(Ie,Pe),this._capability.promise.finally(()=>{this._layoutTextParams=null}).catch(()=>{})}get promise(){return this._capability.promise}cancel(){this._canceled=!0,this._reader&&(this._reader.cancel(new q.AbortException("TextLayer task cancelled.")).catch(()=>{}),this._reader=null),this._capability.reject(new q.AbortException("TextLayer task cancelled."))}_processItems(we,Ie){for(const Pe of we){if(Pe.str===void 0){if(Pe.type==="beginMarkedContentProps"||Pe.type==="beginMarkedContent"){const Ee=this._container;this._container=document.createElement("span"),this._container.classList.add("markedContent"),Pe.id!==null&&this._container.setAttribute("id",`${Pe.id}`),Ee.append(this._container)}else Pe.type==="endMarkedContent"&&(this._container=this._container.parentNode);continue}this._textContentItemsStr.push(Pe.str),Re(this,Pe,Ie)}}_layoutText(we){const Ie=this._layoutTextParams.properties=this._textDivProperties.get(we);if(this._layoutTextParams.div=we,ge(this._layoutTextParams),Ie.hasText&&this._container.append(we),Ie.hasEOL){const Pe=document.createElement("br");Pe.setAttribute("role","presentation"),this._container.append(Pe)}}_render(){const we=new q.PromiseCapability;let Ie=Object.create(null);if(this._isReadableStream){const Pe=()=>{this._reader.read().then(({value:Ee,done:Ce})=>{if(Ce){we.resolve();return}Object.assign(Ie,Ee.styles),this._processItems(Ee.items,Ie),Pe()},we.reject)};this._reader=this._textContentSource.getReader(),Pe()}else if(this._textContentSource){const{items:Pe,styles:Ee}=this._textContentSource;this._processItems(Pe,Ee),we.resolve()}else throw new Error('No "textContentSource" parameter specified.');we.promise.then(()=>{Ie=null,ve(this)},this._capability.reject)}}G.TextLayerRenderTask=xe;function Se(ne){!ne.textContentSource&&(ne.textContent||ne.textContentStream)&&((0,X.deprecated)("The TextLayerRender `textContent`/`textContentStream` parameters will be removed in the future, please use `textContentSource` instead."),ne.textContentSource=ne.textContent||ne.textContentStream);const{container:we,viewport:Ie}=ne,Pe=getComputedStyle(we),Ee=Pe.getPropertyValue("visibility"),Ce=parseFloat(Pe.getPropertyValue("--scale-factor"));Ee==="visible"&&(!Ce||Math.abs(Ce-Ie.scale)>1e-5)&&console.error("The `--scale-factor` CSS-variable must be set, to the same value as `viewport.scale`, either on the `container`-element itself or higher up in the DOM.");const Oe=new xe(ne);return Oe._render(),Oe}function pe({container:ne,viewport:we,textDivs:Ie,textDivProperties:Pe,isOffscreenCanvasSupported:Ee,mustRotate:Ce=!0,mustRescale:Oe=!0}){if(Ce&&(0,X.setLayerDimensions)(ne,{rotation:we.rotation}),Oe){const qe=Ae(0,Ee),ze={prevFontSize:null,prevFontFamily:null,div:null,scale:we.scale*(globalThis.devicePixelRatio||1),properties:null,ctx:qe};for(const rt of Ie)ze.properties=Pe.get(rt),ze.div=rt,ge(ze)}}},(W,G,Y)=>{var q,X,K,B,he,ke,Ae,ae,Re,ge,ve,xe,Se,pe,ne;Object.defineProperty(G,"__esModule",{value:!0}),G.AnnotationEditorLayer=void 0;var we=Y(1),Ie=Y(4),Pe=Y(28),Ee=Y(33),Ce=Y(6),Oe=Y(34);const qe=class di{constructor({uiManager:ye,pageIndex:ot,div:He,accessibilityManager:Ge,annotationLayer:Be,viewport:xt,l10n:pt}){it(this,ve),it(this,q),it(this,X,!1),it(this,K,null),it(this,B,this.pointerup.bind(this)),it(this,he,this.pointerdown.bind(this)),it(this,ke,new Map),it(this,Ae,!1),it(this,ae,!1),it(this,Re,!1),it(this,ge);const Et=[Pe.FreeTextEditor,Ee.InkEditor,Oe.StampEditor];if(!di._initialized){di._initialized=!0;for(const Ne of Et)Ne.initialize(pt)}ye.registerEditorTypes(Et),at(this,ge,ye),this.pageIndex=ot,this.div=He,at(this,q,Ge),at(this,K,Be),this.viewport=xt,V(this,ge).addLayer(this)}get isEmpty(){return V(this,ke).size===0}updateToolbar(ye){V(this,ge).updateToolbar(ye)}updateMode(ye=V(this,ge).getMode()){Ue(this,ve,ne).call(this),ye===we.AnnotationEditorType.INK?(this.addInkEditorIfNeeded(!1),this.disableClick()):this.enableClick(),ye!==we.AnnotationEditorType.NONE&&(this.div.classList.toggle("freeTextEditing",ye===we.AnnotationEditorType.FREETEXT),this.div.classList.toggle("inkEditing",ye===we.AnnotationEditorType.INK),this.div.classList.toggle("stampEditing",ye===we.AnnotationEditorType.STAMP),this.div.hidden=!1)}addInkEditorIfNeeded(ye){if(!(!ye&&V(this,ge).getMode()!==we.AnnotationEditorType.INK)){if(!ye){for(const ot of V(this,ke).values())if(ot.isEmpty()){ot.setInBackground();return}}Ue(this,ve,Se).call(this,{offsetX:0,offsetY:0},!1).setInBackground()}}setEditingState(ye){V(this,ge).setEditingState(ye)}addCommands(ye){V(this,ge).addCommands(ye)}enable(){this.div.style.pointerEvents="auto";const ye=new Set;for(const He of V(this,ke).values())He.enableEditing(),He.annotationElementId&&ye.add(He.annotationElementId);if(!V(this,K))return;const ot=V(this,K).getEditableAnnotations();for(const He of ot){if(He.hide(),V(this,ge).isDeletedAnnotationElement(He.data.id)||ye.has(He.data.id))continue;const Ge=this.deserialize(He);Ge&&(this.addOrRebuild(Ge),Ge.enableEditing())}}disable(){var ye;at(this,Re,!0),this.div.style.pointerEvents="none";const ot=new Set;for(const He of V(this,ke).values()){if(He.disableEditing(),!He.annotationElementId||He.serialize()!==null){ot.add(He.annotationElementId);continue}(ye=this.getEditableAnnotation(He.annotationElementId))==null||ye.show(),He.remove()}if(V(this,K)){const He=V(this,K).getEditableAnnotations();for(const Ge of He){const{id:Be}=Ge.data;ot.has(Be)||V(this,ge).isDeletedAnnotationElement(Be)||Ge.show()}}Ue(this,ve,ne).call(this),this.isEmpty&&(this.div.hidden=!0),at(this,Re,!1)}getEditableAnnotation(ye){var ot;return((ot=V(this,K))==null?void 0:ot.getEditableAnnotation(ye))||null}setActiveEditor(ye){V(this,ge).getActive()!==ye&&V(this,ge).setActiveEditor(ye)}enableClick(){this.div.addEventListener("pointerdown",V(this,he)),this.div.addEventListener("pointerup",V(this,B))}disableClick(){this.div.removeEventListener("pointerdown",V(this,he)),this.div.removeEventListener("pointerup",V(this,B))}attach(ye){V(this,ke).set(ye.id,ye);const{annotationElementId:ot}=ye;ot&&V(this,ge).isDeletedAnnotationElement(ot)&&V(this,ge).removeDeletedAnnotationElement(ye)}detach(ye){var ot;V(this,ke).delete(ye.id),(ot=V(this,q))==null||ot.removePointerInTextLayer(ye.contentDiv),!V(this,Re)&&ye.annotationElementId&&V(this,ge).addDeletedAnnotationElement(ye)}remove(ye){this.detach(ye),V(this,ge).removeEditor(ye),ye.div.contains(document.activeElement)&&setTimeout(()=>{V(this,ge).focusMainContainer()},0),ye.div.remove(),ye.isAttachedToDOM=!1,V(this,ae)||this.addInkEditorIfNeeded(!1)}changeParent(ye){var ot;ye.parent!==this&&(ye.annotationElementId&&(V(this,ge).addDeletedAnnotationElement(ye.annotationElementId),Ie.AnnotationEditor.deleteAnnotationElement(ye),ye.annotationElementId=null),this.attach(ye),(ot=ye.parent)==null||ot.detach(ye),ye.setParent(this),ye.div&&ye.isAttachedToDOM&&(ye.div.remove(),this.div.append(ye.div)))}add(ye){if(this.changeParent(ye),V(this,ge).addEditor(ye),this.attach(ye),!ye.isAttachedToDOM){const ot=ye.render();this.div.append(ot),ye.isAttachedToDOM=!0}ye.fixAndSetPosition(),ye.onceAdded(),V(this,ge).addToAnnotationStorage(ye)}moveEditorInDOM(ye){var ot;if(!ye.isAttachedToDOM)return;const{activeElement:He}=document;ye.div.contains(He)&&(ye._focusEventsAllowed=!1,setTimeout(()=>{ye.div.contains(document.activeElement)?ye._focusEventsAllowed=!0:(ye.div.addEventListener("focusin",()=>{ye._focusEventsAllowed=!0},{once:!0}),He.focus())},0)),ye._structTreeParentId=(ot=V(this,q))==null?void 0:ot.moveElementInDOM(this.div,ye.div,ye.contentDiv,!0)}addOrRebuild(ye){ye.needsToBeRebuilt()?ye.rebuild():this.add(ye)}addUndoableEditor(ye){const ot=()=>ye._uiManager.rebuild(ye),He=()=>{ye.remove()};this.addCommands({cmd:ot,undo:He,mustExec:!1})}getNextId(){return V(this,ge).getId()}pasteEditor(ye,ot){V(this,ge).updateToolbar(ye),V(this,ge).updateMode(ye);const{offsetX:He,offsetY:Ge}=Ue(this,ve,pe).call(this),Be=this.getNextId(),xt=Ue(this,ve,xe).call(this,{parent:this,id:Be,x:He,y:Ge,uiManager:V(this,ge),isCentered:!0,...ot});xt&&this.add(xt)}deserialize(ye){switch(ye.annotationType??ye.annotationEditorType){case we.AnnotationEditorType.FREETEXT:return Pe.FreeTextEditor.deserialize(ye,this,V(this,ge));case we.AnnotationEditorType.INK:return Ee.InkEditor.deserialize(ye,this,V(this,ge));case we.AnnotationEditorType.STAMP:return Oe.StampEditor.deserialize(ye,this,V(this,ge))}return null}addNewEditor(){Ue(this,ve,Se).call(this,Ue(this,ve,pe).call(this),!0)}setSelected(ye){V(this,ge).setSelected(ye)}toggleSelected(ye){V(this,ge).toggleSelected(ye)}isSelected(ye){return V(this,ge).isSelected(ye)}unselect(ye){V(this,ge).unselect(ye)}pointerup(ye){const{isMac:ot}=we.FeatureTest.platform;if(!(ye.button!==0||ye.ctrlKey&&ot)&&ye.target===this.div&&V(this,Ae)){if(at(this,Ae,!1),!V(this,X)){at(this,X,!0);return}if(V(this,ge).getMode()===we.AnnotationEditorType.STAMP){V(this,ge).unselectAll();return}Ue(this,ve,Se).call(this,ye,!1)}}pointerdown(ye){if(V(this,Ae)){at(this,Ae,!1);return}const{isMac:ot}=we.FeatureTest.platform;if(ye.button!==0||ye.ctrlKey&&ot||ye.target!==this.div)return;at(this,Ae,!0);const He=V(this,ge).getActive();at(this,X,!He||He.isEmpty())}findNewParent(ye,ot,He){const Ge=V(this,ge).findParent(ot,He);return Ge===null||Ge===this?!1:(Ge.changeParent(ye),!0)}destroy(){var ye,ot;((ye=V(this,ge).getActive())==null?void 0:ye.parent)===this&&(V(this,ge).commitOrRemove(),V(this,ge).setActiveEditor(null));for(const He of V(this,ke).values())(ot=V(this,q))==null||ot.removePointerInTextLayer(He.contentDiv),He.setParent(null),He.isAttachedToDOM=!1,He.div.remove();this.div=null,V(this,ke).clear(),V(this,ge).removeLayer(this)}render({viewport:ye}){this.viewport=ye,(0,Ce.setLayerDimensions)(this.div,ye);for(const ot of V(this,ge).getEditors(this.pageIndex))this.add(ot);this.updateMode()}update({viewport:ye}){V(this,ge).commitOrRemove(),this.viewport=ye,(0,Ce.setLayerDimensions)(this.div,{rotation:ye.rotation}),this.updateMode()}get pageDimensions(){const{pageWidth:ye,pageHeight:ot}=this.viewport.rawDims;return[ye,ot]}};q=new WeakMap,X=new WeakMap,K=new WeakMap,B=new WeakMap,he=new WeakMap,ke=new WeakMap,Ae=new WeakMap,ae=new WeakMap,Re=new WeakMap,ge=new WeakMap,ve=new WeakSet,xe=function(rt){switch(V(this,ge).getMode()){case we.AnnotationEditorType.FREETEXT:return new Pe.FreeTextEditor(rt);case we.AnnotationEditorType.INK:return new Ee.InkEditor(rt);case we.AnnotationEditorType.STAMP:return new Oe.StampEditor(rt)}return null},Se=function(rt,ye){const ot=this.getNextId(),He=Ue(this,ve,xe).call(this,{parent:this,id:ot,x:rt.offsetX,y:rt.offsetY,uiManager:V(this,ge),isCentered:ye});return He&&this.add(He),He},pe=function(){const{x:rt,y:ye,width:ot,height:He}=this.div.getBoundingClientRect(),Ge=Math.max(0,rt),Be=Math.max(0,ye),xt=Math.min(window.innerWidth,rt+ot),pt=Math.min(window.innerHeight,ye+He),Et=(Ge+xt)/2-rt,Ne=(Be+pt)/2-ye,[nt,ut]=this.viewport.rotation%180===0?[Et,Ne]:[Ne,Et];return{offsetX:nt,offsetY:ut}},ne=function(){at(this,ae,!0);for(const rt of V(this,ke).values())rt.isEmpty()&&rt.remove();at(this,ae,!1)},$n(qe,"_initialized",!1);let ze=qe;G.AnnotationEditorLayer=ze},(W,G,Y)=>{var q,X,K,B,he,ke,Ae,ae,Re,ge,ve,xe,Se,pe,ne,we,Ie;Object.defineProperty(G,"__esModule",{value:!0}),G.FreeTextEditor=void 0;var Pe=Y(1),Ee=Y(5),Ce=Y(4),Oe=Y(29);const qe=class Er extends Ce.AnnotationEditor{constructor(ye){super({...ye,name:"freeTextEditor"}),it(this,ge),it(this,q,this.editorDivBlur.bind(this)),it(this,X,this.editorDivFocus.bind(this)),it(this,K,this.editorDivInput.bind(this)),it(this,B,this.editorDivKeydown.bind(this)),it(this,he),it(this,ke,""),it(this,Ae,`${this.id}-editor`),it(this,ae),it(this,Re,null),at(this,he,ye.color||Er._defaultColor||Ce.AnnotationEditor._defaultLineColor),at(this,ae,ye.fontSize||Er._defaultFontSize)}static get _keyboardManager(){const ye=Er.prototype,ot=Be=>Be.isEmpty(),He=Ee.AnnotationEditorUIManager.TRANSLATE_SMALL,Ge=Ee.AnnotationEditorUIManager.TRANSLATE_BIG;return(0,Pe.shadow)(this,"_keyboardManager",new Ee.KeyboardManager([[["ctrl+s","mac+meta+s","ctrl+p","mac+meta+p"],ye.commitOrRemove,{bubbles:!0}],[["ctrl+Enter","mac+meta+Enter","Escape","mac+Escape"],ye.commitOrRemove],[["ArrowLeft","mac+ArrowLeft"],ye._translateEmpty,{args:[-He,0],checker:ot}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],ye._translateEmpty,{args:[-Ge,0],checker:ot}],[["ArrowRight","mac+ArrowRight"],ye._translateEmpty,{args:[He,0],checker:ot}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],ye._translateEmpty,{args:[Ge,0],checker:ot}],[["ArrowUp","mac+ArrowUp"],ye._translateEmpty,{args:[0,-He],checker:ot}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],ye._translateEmpty,{args:[0,-Ge],checker:ot}],[["ArrowDown","mac+ArrowDown"],ye._translateEmpty,{args:[0,He],checker:ot}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],ye._translateEmpty,{args:[0,Ge],checker:ot}]]))}static initialize(ye){Ce.AnnotationEditor.initialize(ye,{strings:["free_text2_default_content","editor_free_text2_aria_label"]});const ot=getComputedStyle(document.documentElement);this._internalPadding=parseFloat(ot.getPropertyValue("--freetext-padding"))}static updateDefaultParams(ye,ot){switch(ye){case Pe.AnnotationEditorParamsType.FREETEXT_SIZE:Er._defaultFontSize=ot;break;case Pe.AnnotationEditorParamsType.FREETEXT_COLOR:Er._defaultColor=ot;break}}updateParams(ye,ot){switch(ye){case Pe.AnnotationEditorParamsType.FREETEXT_SIZE:Ue(this,ge,ve).call(this,ot);break;case Pe.AnnotationEditorParamsType.FREETEXT_COLOR:Ue(this,ge,xe).call(this,ot);break}}static get defaultPropertiesToUpdate(){return[[Pe.AnnotationEditorParamsType.FREETEXT_SIZE,Er._defaultFontSize],[Pe.AnnotationEditorParamsType.FREETEXT_COLOR,Er._defaultColor||Ce.AnnotationEditor._defaultLineColor]]}get propertiesToUpdate(){return[[Pe.AnnotationEditorParamsType.FREETEXT_SIZE,V(this,ae)],[Pe.AnnotationEditorParamsType.FREETEXT_COLOR,V(this,he)]]}_translateEmpty(ye,ot){this._uiManager.translateSelectedEditors(ye,ot,!0)}getInitialTranslation(){const ye=this.parentScale;return[-Er._internalPadding*ye,-(Er._internalPadding+V(this,ae))*ye]}rebuild(){this.parent&&(super.rebuild(),this.div!==null&&(this.isAttachedToDOM||this.parent.add(this)))}enableEditMode(){this.isInEditMode()||(this.parent.setEditingState(!1),this.parent.updateToolbar(Pe.AnnotationEditorType.FREETEXT),super.enableEditMode(),this.overlayDiv.classList.remove("enabled"),this.editorDiv.contentEditable=!0,this._isDraggable=!1,this.div.removeAttribute("aria-activedescendant"),this.editorDiv.addEventListener("keydown",V(this,B)),this.editorDiv.addEventListener("focus",V(this,X)),this.editorDiv.addEventListener("blur",V(this,q)),this.editorDiv.addEventListener("input",V(this,K)))}disableEditMode(){this.isInEditMode()&&(this.parent.setEditingState(!0),super.disableEditMode(),this.overlayDiv.classList.add("enabled"),this.editorDiv.contentEditable=!1,this.div.setAttribute("aria-activedescendant",V(this,Ae)),this._isDraggable=!0,this.editorDiv.removeEventListener("keydown",V(this,B)),this.editorDiv.removeEventListener("focus",V(this,X)),this.editorDiv.removeEventListener("blur",V(this,q)),this.editorDiv.removeEventListener("input",V(this,K)),this.div.focus({preventScroll:!0}),this.isEditing=!1,this.parent.div.classList.add("freeTextEditing"))}focusin(ye){this._focusEventsAllowed&&(super.focusin(ye),ye.target!==this.editorDiv&&this.editorDiv.focus())}onceAdded(){var ye;if(this.width){Ue(this,ge,Ie).call(this);return}this.enableEditMode(),this.editorDiv.focus(),(ye=this._initialOptions)!=null&&ye.isCentered&&this.center(),this._initialOptions=null}isEmpty(){return!this.editorDiv||this.editorDiv.innerText.trim()===""}remove(){this.isEditing=!1,this.parent&&(this.parent.setEditingState(!0),this.parent.div.classList.add("freeTextEditing")),super.remove()}commit(){if(!this.isInEditMode())return;super.commit(),this.disableEditMode();const ye=V(this,ke),ot=at(this,ke,Ue(this,ge,Se).call(this).trimEnd());if(ye===ot)return;const He=Ge=>{if(at(this,ke,Ge),!Ge){this.remove();return}Ue(this,ge,ne).call(this),this._uiManager.rebuild(this),Ue(this,ge,pe).call(this)};this.addCommands({cmd:()=>{He(ot)},undo:()=>{He(ye)},mustExec:!1}),Ue(this,ge,pe).call(this)}shouldGetKeyboardEvents(){return this.isInEditMode()}enterInEditMode(){this.enableEditMode(),this.editorDiv.focus()}dblclick(ye){this.enterInEditMode()}keydown(ye){ye.target===this.div&&ye.key==="Enter"&&(this.enterInEditMode(),ye.preventDefault())}editorDivKeydown(ye){Er._keyboardManager.exec(this,ye)}editorDivFocus(ye){this.isEditing=!0}editorDivBlur(ye){this.isEditing=!1}editorDivInput(ye){this.parent.div.classList.toggle("freeTextEditing",this.isEmpty())}disableEditing(){this.editorDiv.setAttribute("role","comment"),this.editorDiv.removeAttribute("aria-multiline")}enableEditing(){this.editorDiv.setAttribute("role","textbox"),this.editorDiv.setAttribute("aria-multiline",!0)}render(){if(this.div)return this.div;let ye,ot;this.width&&(ye=this.x,ot=this.y),super.render(),this.editorDiv=document.createElement("div"),this.editorDiv.className="internal",this.editorDiv.setAttribute("id",V(this,Ae)),this.enableEditing(),Ce.AnnotationEditor._l10nPromise.get("editor_free_text2_aria_label").then(Ge=>{var Be;return(Be=this.editorDiv)==null?void 0:Be.setAttribute("aria-label",Ge)}),Ce.AnnotationEditor._l10nPromise.get("free_text2_default_content").then(Ge=>{var Be;return(Be=this.editorDiv)==null?void 0:Be.setAttribute("default-content",Ge)}),this.editorDiv.contentEditable=!0;const{style:He}=this.editorDiv;if(He.fontSize=`calc(${V(this,ae)}px * var(--scale-factor))`,He.color=V(this,he),this.div.append(this.editorDiv),this.overlayDiv=document.createElement("div"),this.overlayDiv.classList.add("overlay","enabled"),this.div.append(this.overlayDiv),(0,Ee.bindEvents)(this,this.div,["dblclick","keydown"]),this.width){const[Ge,Be]=this.parentDimensions;if(this.annotationElementId){const{position:xt}=V(this,Re);let[pt,Et]=this.getInitialTranslation();[pt,Et]=this.pageTranslationToScreen(pt,Et);const[Ne,nt]=this.pageDimensions,[ut,Ve]=this.pageTranslation;let _e,fe;switch(this.rotation){case 0:_e=ye+(xt[0]-ut)/Ne,fe=ot+this.height-(xt[1]-Ve)/nt;break;case 90:_e=ye+(xt[0]-ut)/Ne,fe=ot-(xt[1]-Ve)/nt,[pt,Et]=[Et,-pt];break;case 180:_e=ye-this.width+(xt[0]-ut)/Ne,fe=ot-(xt[1]-Ve)/nt,[pt,Et]=[-pt,-Et];break;case 270:_e=ye+(xt[0]-ut-this.height*nt)/Ne,fe=ot+(xt[1]-Ve-this.width*Ne)/nt,[pt,Et]=[-Et,pt];break}this.setAt(_e*Ge,fe*Be,pt,Et)}else this.setAt(ye*Ge,ot*Be,this.width*Ge,this.height*Be);Ue(this,ge,ne).call(this),this._isDraggable=!0,this.editorDiv.contentEditable=!1}else this._isDraggable=!1,this.editorDiv.contentEditable=!0;return this.div}get contentDiv(){return this.editorDiv}static deserialize(ye,ot,He){let Ge=null;if(ye instanceof Oe.FreeTextAnnotationElement){const{data:{defaultAppearanceData:{fontSize:xt,fontColor:pt},rect:Et,rotation:Ne,id:nt},textContent:ut,textPosition:Ve,parent:{page:{pageNumber:_e}}}=ye;if(!ut||ut.length===0)return null;Ge=ye={annotationType:Pe.AnnotationEditorType.FREETEXT,color:Array.from(pt),fontSize:xt,value:ut.join(`
`),position:Ve,pageIndex:_e-1,rect:Et,rotation:Ne,id:nt,deleted:!1}}const Be=super.deserialize(ye,ot,He);return at(Be,ae,ye.fontSize),at(Be,he,Pe.Util.makeHexColor(...ye.color)),at(Be,ke,ye.value),Be.annotationElementId=ye.id||null,at(Be,Re,Ge),Be}serialize(ye=!1){if(this.isEmpty())return null;if(this.deleted)return{pageIndex:this.pageIndex,id:this.annotationElementId,deleted:!0};const ot=Er._internalPadding*this.parentScale,He=this.getRect(ot,ot),Ge=Ce.AnnotationEditor._colorManager.convert(this.isAttachedToDOM?getComputedStyle(this.editorDiv).color:V(this,he)),Be={annotationType:Pe.AnnotationEditorType.FREETEXT,color:Ge,fontSize:V(this,ae),value:V(this,ke),pageIndex:this.pageIndex,rect:He,rotation:this.rotation,structTreeParentId:this._structTreeParentId};return ye?Be:this.annotationElementId&&!Ue(this,ge,we).call(this,Be)?null:(Be.id=this.annotationElementId,Be)}};q=new WeakMap,X=new WeakMap,K=new WeakMap,B=new WeakMap,he=new WeakMap,ke=new WeakMap,Ae=new WeakMap,ae=new WeakMap,Re=new WeakMap,ge=new WeakSet,ve=function(rt){const ye=He=>{this.editorDiv.style.fontSize=`calc(${He}px * var(--scale-factor))`,this.translate(0,-(He-V(this,ae))*this.parentScale),at(this,ae,He),Ue(this,ge,pe).call(this)},ot=V(this,ae);this.addCommands({cmd:()=>{ye(rt)},undo:()=>{ye(ot)},mustExec:!0,type:Pe.AnnotationEditorParamsType.FREETEXT_SIZE,overwriteIfSameType:!0,keepUndo:!0})},xe=function(rt){const ye=V(this,he);this.addCommands({cmd:()=>{at(this,he,this.editorDiv.style.color=rt)},undo:()=>{at(this,he,this.editorDiv.style.color=ye)},mustExec:!0,type:Pe.AnnotationEditorParamsType.FREETEXT_COLOR,overwriteIfSameType:!0,keepUndo:!0})},Se=function(){const rt=this.editorDiv.getElementsByTagName("div");if(rt.length===0)return this.editorDiv.innerText;const ye=[];for(const ot of rt)ye.push(ot.innerText.replace(/\r\n?|\n/,""));return ye.join(`
`)},pe=function(){const[rt,ye]=this.parentDimensions;let ot;if(this.isAttachedToDOM)ot=this.div.getBoundingClientRect();else{const{currentLayer:He,div:Ge}=this,Be=Ge.style.display;Ge.style.display="hidden",He.div.append(this.div),ot=Ge.getBoundingClientRect(),Ge.remove(),Ge.style.display=Be}this.rotation%180===this.parentRotation%180?(this.width=ot.width/rt,this.height=ot.height/ye):(this.width=ot.height/rt,this.height=ot.width/ye),this.fixAndSetPosition()},ne=function(){if(this.editorDiv.replaceChildren(),!!V(this,ke))for(const rt of V(this,ke).split(`
`)){const ye=document.createElement("div");ye.append(rt?document.createTextNode(rt):document.createElement("br")),this.editorDiv.append(ye)}},we=function(rt){const{value:ye,fontSize:ot,color:He,rect:Ge,pageIndex:Be}=V(this,Re);return rt.value!==ye||rt.fontSize!==ot||rt.rect.some((xt,pt)=>Math.abs(xt-Ge[pt])>=1)||rt.color.some((xt,pt)=>xt!==He[pt])||rt.pageIndex!==Be},Ie=function(rt=!1){if(!this.annotationElementId)return;if(Ue(this,ge,pe).call(this),!rt&&(this.width===0||this.height===0)){setTimeout(()=>Ue(this,ge,Ie).call(this,!0),0);return}const ye=qe._internalPadding*this.parentScale;V(this,Re).rect=this.getRect(ye,ye)},$n(qe,"_freeTextDefaultContent",""),$n(qe,"_internalPadding",0),$n(qe,"_defaultColor",null),$n(qe,"_defaultFontSize",10),$n(qe,"_type","freetext");let ze=qe;G.FreeTextEditor=ze},(W,G,Y)=>{var q,X,K,B,he,ke,Ae,ae,Re,ge,ve,xe,Se,pe,ne,we,Ie,Pe,Ee,Ce,Oe,qe,ze,rt,ye,ot,He,Ge,Be,xt,pt,Et,Ne,nt,ut,Ve,_e,fe,Le,je;Object.defineProperty(G,"__esModule",{value:!0}),G.StampAnnotationElement=G.InkAnnotationElement=G.FreeTextAnnotationElement=G.AnnotationLayer=void 0;var Fe=Y(1),Xe=Y(6),Ye=Y(3),gt=Y(30),Ct=Y(31),kt=Y(32);const dt=1e3,Mt=9,Ot=new WeakSet;function De(Nt){return{width:Nt[2]-Nt[0],height:Nt[3]-Nt[1]}}class Te{static create($e){switch($e.data.annotationType){case Fe.AnnotationType.LINK:return new ct($e);case Fe.AnnotationType.TEXT:return new Pt($e);case Fe.AnnotationType.WIDGET:switch($e.data.fieldType){case"Tx":return new _t($e);case"Btn":return $e.data.radioButton?new Jt($e):$e.data.checkBox?new jt($e):new Yt($e);case"Ch":return new Bt($e);case"Sig":return new Tt($e)}return new $t($e);case Fe.AnnotationType.POPUP:return new cn($e);case Fe.AnnotationType.FREETEXT:return new rn($e);case Fe.AnnotationType.LINE:return new Fn($e);case Fe.AnnotationType.SQUARE:return new In($e);case Fe.AnnotationType.CIRCLE:return new Nn($e);case Fe.AnnotationType.POLYLINE:return new Lt($e);case Fe.AnnotationType.CARET:return new ft($e);case Fe.AnnotationType.INK:return new Qt($e);case Fe.AnnotationType.POLYGON:return new yt($e);case Fe.AnnotationType.HIGHLIGHT:return new qt($e);case Fe.AnnotationType.UNDERLINE:return new Ht($e);case Fe.AnnotationType.SQUIGGLY:return new Qe($e);case Fe.AnnotationType.STRIKEOUT:return new Rt($e);case Fe.AnnotationType.STAMP:return new Zt($e);case Fe.AnnotationType.FILEATTACHMENT:return new pn($e);default:return new Ze($e)}}}const We=class Di{constructor($e,{isRenderable:Je=!1,ignoreBorder:vt=!1,createQuadrilaterals:At=!1}={}){it(this,q,!1),this.isRenderable=Je,this.data=$e.data,this.layer=$e.layer,this.linkService=$e.linkService,this.downloadManager=$e.downloadManager,this.imageResourcesPath=$e.imageResourcesPath,this.renderForms=$e.renderForms,this.svgFactory=$e.svgFactory,this.annotationStorage=$e.annotationStorage,this.enableScripting=$e.enableScripting,this.hasJSActions=$e.hasJSActions,this._fieldObjects=$e.fieldObjects,this.parent=$e.parent,Je&&(this.container=this._createContainer(vt)),At&&this._createQuadrilaterals()}static _hasPopupData({titleObj:$e,contentsObj:Je,richText:vt}){return!!($e!=null&&$e.str||Je!=null&&Je.str||vt!=null&&vt.str)}get hasPopupData(){return Di._hasPopupData(this.data)}_createContainer($e){const{data:Je,parent:{page:vt,viewport:At}}=this,wt=document.createElement("section");wt.setAttribute("data-annotation-id",Je.id),this instanceof $t||(wt.tabIndex=dt),wt.style.zIndex=this.parent.zIndex++,this.data.popupRef&&wt.setAttribute("aria-haspopup","dialog"),Je.noRotate&&wt.classList.add("norotate");const{pageWidth:It,pageHeight:Gt,pageX:on,pageY:en}=At.rawDims;if(!Je.rect||this instanceof cn){const{rotation:En}=Je;return!Je.hasOwnCanvas&&En!==0&&this.setRotation(En,wt),wt}const{width:Xt,height:gn}=De(Je.rect),tn=Fe.Util.normalizeRect([Je.rect[0],vt.view[3]-Je.rect[1]+vt.view[1],Je.rect[2],vt.view[3]-Je.rect[3]+vt.view[1]]);if(!$e&&Je.borderStyle.width>0){wt.style.borderWidth=`${Je.borderStyle.width}px`;const En=Je.borderStyle.horizontalCornerRadius,Rn=Je.borderStyle.verticalCornerRadius;if(En>0||Rn>0){const Kn=`calc(${En}px * var(--scale-factor)) / calc(${Rn}px * var(--scale-factor))`;wt.style.borderRadius=Kn}else if(this instanceof Jt){const Kn=`calc(${Xt}px * var(--scale-factor)) / calc(${gn}px * var(--scale-factor))`;wt.style.borderRadius=Kn}switch(Je.borderStyle.style){case Fe.AnnotationBorderStyleType.SOLID:wt.style.borderStyle="solid";break;case Fe.AnnotationBorderStyleType.DASHED:wt.style.borderStyle="dashed";break;case Fe.AnnotationBorderStyleType.BEVELED:(0,Fe.warn)("Unimplemented border style: beveled");break;case Fe.AnnotationBorderStyleType.INSET:(0,Fe.warn)("Unimplemented border style: inset");break;case Fe.AnnotationBorderStyleType.UNDERLINE:wt.style.borderBottomStyle="solid";break}const Wn=Je.borderColor||null;Wn?(at(this,q,!0),wt.style.borderColor=Fe.Util.makeHexColor(Wn[0]|0,Wn[1]|0,Wn[2]|0)):wt.style.borderWidth=0}wt.style.left=`${100*(tn[0]-on)/It}%`,wt.style.top=`${100*(tn[1]-en)/Gt}%`;const{rotation:ln}=Je;return Je.hasOwnCanvas||ln===0?(wt.style.width=`${100*Xt/It}%`,wt.style.height=`${100*gn/Gt}%`):this.setRotation(ln,wt),wt}setRotation($e,Je=this.container){if(!this.data.rect)return;const{pageWidth:vt,pageHeight:At}=this.parent.viewport.rawDims,{width:wt,height:It}=De(this.data.rect);let Gt,on;$e%180===0?(Gt=100*wt/vt,on=100*It/At):(Gt=100*It/vt,on=100*wt/At),Je.style.width=`${Gt}%`,Je.style.height=`${on}%`,Je.setAttribute("data-main-rotation",(360-$e)%360)}get _commonActions(){const $e=(Je,vt,At)=>{const wt=At.detail[Je],It=wt[0],Gt=wt.slice(1);At.target.style[vt]=gt.ColorConverters[`${It}_HTML`](Gt),this.annotationStorage.setValue(this.data.id,{[vt]:gt.ColorConverters[`${It}_rgb`](Gt)})};return(0,Fe.shadow)(this,"_commonActions",{display:Je=>{const{display:vt}=Je.detail,At=vt%2===1;this.container.style.visibility=At?"hidden":"visible",this.annotationStorage.setValue(this.data.id,{noView:At,noPrint:vt===1||vt===2})},print:Je=>{this.annotationStorage.setValue(this.data.id,{noPrint:!Je.detail.print})},hidden:Je=>{const{hidden:vt}=Je.detail;this.container.style.visibility=vt?"hidden":"visible",this.annotationStorage.setValue(this.data.id,{noPrint:vt,noView:vt})},focus:Je=>{setTimeout(()=>Je.target.focus({preventScroll:!1}),0)},userName:Je=>{Je.target.title=Je.detail.userName},readonly:Je=>{Je.target.disabled=Je.detail.readonly},required:Je=>{this._setRequired(Je.target,Je.detail.required)},bgColor:Je=>{$e("bgColor","backgroundColor",Je)},fillColor:Je=>{$e("fillColor","backgroundColor",Je)},fgColor:Je=>{$e("fgColor","color",Je)},textColor:Je=>{$e("textColor","color",Je)},borderColor:Je=>{$e("borderColor","borderColor",Je)},strokeColor:Je=>{$e("strokeColor","borderColor",Je)},rotation:Je=>{const vt=Je.detail.rotation;this.setRotation(vt),this.annotationStorage.setValue(this.data.id,{rotation:vt})}})}_dispatchEventFromSandbox($e,Je){const vt=this._commonActions;for(const At of Object.keys(Je.detail)){const wt=$e[At]||vt[At];wt==null||wt(Je)}}_setDefaultPropertiesFromJS($e){if(!this.enableScripting)return;const Je=this.annotationStorage.getRawValue(this.data.id);if(!Je)return;const vt=this._commonActions;for(const[At,wt]of Object.entries(Je)){const It=vt[At];if(It){const Gt={detail:{[At]:wt},target:$e};It(Gt),delete Je[At]}}}_createQuadrilaterals(){if(!this.container)return;const{quadPoints:$e}=this.data;if(!$e)return;const[Je,vt,At,wt]=this.data.rect;if($e.length===1){const[,{x:Rn,y:Wn},{x:Kn,y:Qn}]=$e[0];if(At===Rn&&wt===Wn&&Je===Kn&&vt===Qn)return}const{style:It}=this.container;let Gt;if(V(this,q)){const{borderColor:Rn,borderWidth:Wn}=It;It.borderWidth=0,Gt=["url('data:image/svg+xml;utf8,",'<svg xmlns="http://www.w3.org/2000/svg"',' preserveAspectRatio="none" viewBox="0 0 1 1">',`<g fill="transparent" stroke="${Rn}" stroke-width="${Wn}">`],this.container.classList.add("hasBorder")}const on=At-Je,en=wt-vt,{svgFactory:Xt}=this,gn=Xt.createElement("svg");gn.classList.add("quadrilateralsContainer"),gn.setAttribute("width",0),gn.setAttribute("height",0);const tn=Xt.createElement("defs");gn.append(tn);const ln=Xt.createElement("clipPath"),En=`clippath_${this.data.id}`;ln.setAttribute("id",En),ln.setAttribute("clipPathUnits","objectBoundingBox"),tn.append(ln);for(const[,{x:Rn,y:Wn},{x:Kn,y:Qn}]of $e){const nr=Xt.createElement("rect"),kr=(Kn-Je)/on,Pr=(wt-Wn)/en,wr=(Rn-Kn)/on,Ur=(Wn-Qn)/en;nr.setAttribute("x",kr),nr.setAttribute("y",Pr),nr.setAttribute("width",wr),nr.setAttribute("height",Ur),ln.append(nr),Gt==null||Gt.push(`<rect vector-effect="non-scaling-stroke" x="${kr}" y="${Pr}" width="${wr}" height="${Ur}"/>`)}V(this,q)&&(Gt.push("</g></svg>')"),It.backgroundImage=Gt.join("")),this.container.append(gn),this.container.style.clipPath=`url(#${En})`}_createPopup(){const{container:$e,data:Je}=this;$e.setAttribute("aria-haspopup","dialog");const vt=new cn({data:{color:Je.color,titleObj:Je.titleObj,modificationDate:Je.modificationDate,contentsObj:Je.contentsObj,richText:Je.richText,parentRect:Je.rect,borderStyle:0,id:`popup_${Je.id}`,rotation:Je.rotation},parent:this.parent,elements:[this]});this.parent.div.append(vt.render())}render(){(0,Fe.unreachable)("Abstract method `AnnotationElement.render` called")}_getElementsByName($e,Je=null){const vt=[];if(this._fieldObjects){const At=this._fieldObjects[$e];if(At)for(const{page:wt,id:It,exportValues:Gt}of At){if(wt===-1||It===Je)continue;const on=typeof Gt=="string"?Gt:null,en=document.querySelector(`[data-element-id="${It}"]`);if(en&&!Ot.has(en)){(0,Fe.warn)(`_getElementsByName - element not allowed: ${It}`);continue}vt.push({id:It,exportValue:on,domElement:en})}return vt}for(const At of document.getElementsByName($e)){const{exportValue:wt}=At,It=At.getAttribute("data-element-id");It!==Je&&Ot.has(At)&&vt.push({id:It,exportValue:wt,domElement:At})}return vt}show(){var $e;this.container&&(this.container.hidden=!1),($e=this.popup)==null||$e.maybeShow()}hide(){var $e;this.container&&(this.container.hidden=!0),($e=this.popup)==null||$e.forceHide()}getElementsToTriggerPopup(){return this.container}addHighlightArea(){const $e=this.getElementsToTriggerPopup();if(Array.isArray($e))for(const Je of $e)Je.classList.add("highlightArea");else $e.classList.add("highlightArea")}_editOnDoubleClick(){const{annotationEditorType:$e,data:{id:Je}}=this;this.container.addEventListener("dblclick",()=>{var vt;(vt=this.linkService.eventBus)==null||vt.dispatch("switchannotationeditormode",{source:this,mode:$e,editId:Je})})}};q=new WeakMap;let Ze=We;class ct extends Ze{constructor($e,Je=null){super($e,{isRenderable:!0,ignoreBorder:!!(Je!=null&&Je.ignoreBorder),createQuadrilaterals:!0}),it(this,X),this.isTooltipOnly=$e.data.isTooltipOnly}render(){const{data:$e,linkService:Je}=this,vt=document.createElement("a");vt.setAttribute("data-element-id",$e.id);let At=!1;return $e.url?(Je.addLinkAttributes(vt,$e.url,$e.newWindow),At=!0):$e.action?(this._bindNamedAction(vt,$e.action),At=!0):$e.attachment?(this._bindAttachment(vt,$e.attachment),At=!0):$e.setOCGState?(Ue(this,X,B).call(this,vt,$e.setOCGState),At=!0):$e.dest?(this._bindLink(vt,$e.dest),At=!0):($e.actions&&($e.actions.Action||$e.actions["Mouse Up"]||$e.actions["Mouse Down"])&&this.enableScripting&&this.hasJSActions&&(this._bindJSAction(vt,$e),At=!0),$e.resetForm?(this._bindResetFormAction(vt,$e.resetForm),At=!0):this.isTooltipOnly&&!At&&(this._bindLink(vt,""),At=!0)),this.container.classList.add("linkAnnotation"),At&&this.container.append(vt),this.container}_bindLink($e,Je){$e.href=this.linkService.getDestinationHash(Je),$e.onclick=()=>(Je&&this.linkService.goToDestination(Je),!1),(Je||Je==="")&&Ue(this,X,K).call(this)}_bindNamedAction($e,Je){$e.href=this.linkService.getAnchorUrl(""),$e.onclick=()=>(this.linkService.executeNamedAction(Je),!1),Ue(this,X,K).call(this)}_bindAttachment($e,Je){$e.href=this.linkService.getAnchorUrl(""),$e.onclick=()=>{var vt;return(vt=this.downloadManager)==null||vt.openOrDownloadData(this.container,Je.content,Je.filename),!1},Ue(this,X,K).call(this)}_bindJSAction($e,Je){$e.href=this.linkService.getAnchorUrl("");const vt=new Map([["Action","onclick"],["Mouse Up","onmouseup"],["Mouse Down","onmousedown"]]);for(const At of Object.keys(Je.actions)){const wt=vt.get(At);wt&&($e[wt]=()=>{var It;return(It=this.linkService.eventBus)==null||It.dispatch("dispatcheventinsandbox",{source:this,detail:{id:Je.id,name:At}}),!1})}$e.onclick||($e.onclick=()=>!1),Ue(this,X,K).call(this)}_bindResetFormAction($e,Je){const vt=$e.onclick;if(vt||($e.href=this.linkService.getAnchorUrl("")),Ue(this,X,K).call(this),!this._fieldObjects){(0,Fe.warn)('_bindResetFormAction - "resetForm" action not supported, ensure that the `fieldObjects` parameter is provided.'),vt||($e.onclick=()=>!1);return}$e.onclick=()=>{var At;vt==null||vt();const{fields:wt,refs:It,include:Gt}=Je,on=[];if(wt.length!==0||It.length!==0){const gn=new Set(It);for(const tn of wt){const ln=this._fieldObjects[tn]||[];for(const{id:En}of ln)gn.add(En)}for(const tn of Object.values(this._fieldObjects))for(const ln of tn)gn.has(ln.id)===Gt&&on.push(ln)}else for(const gn of Object.values(this._fieldObjects))on.push(...gn);const en=this.annotationStorage,Xt=[];for(const gn of on){const{id:tn}=gn;switch(Xt.push(tn),gn.type){case"text":{const En=gn.defaultValue||"";en.setValue(tn,{value:En});break}case"checkbox":case"radiobutton":{const En=gn.defaultValue===gn.exportValues;en.setValue(tn,{value:En});break}case"combobox":case"listbox":{const En=gn.defaultValue||"";en.setValue(tn,{value:En});break}default:continue}const ln=document.querySelector(`[data-element-id="${tn}"]`);if(ln){if(!Ot.has(ln)){(0,Fe.warn)(`_bindResetFormAction - element not allowed: ${tn}`);continue}}else continue;ln.dispatchEvent(new Event("resetform"))}return this.enableScripting&&((At=this.linkService.eventBus)==null||At.dispatch("dispatcheventinsandbox",{source:this,detail:{id:"app",ids:Xt,name:"ResetForm"}})),!1}}}X=new WeakSet,K=function(){this.container.setAttribute("data-internal-link","")},B=function(Nt,$e){Nt.href=this.linkService.getAnchorUrl(""),Nt.onclick=()=>(this.linkService.executeSetOCGState($e),!1),Ue(this,X,K).call(this)};class Pt extends Ze{constructor($e){super($e,{isRenderable:!0})}render(){this.container.classList.add("textAnnotation");const $e=document.createElement("img");return $e.src=this.imageResourcesPath+"annotation-"+this.data.name.toLowerCase()+".svg",$e.alt="[{{type}} Annotation]",$e.dataset.l10nId="text_annotation_type",$e.dataset.l10nArgs=JSON.stringify({type:this.data.name}),!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.append($e),this.container}}class $t extends Ze{render(){return this.data.alternativeText&&(this.container.title=this.data.alternativeText),this.container}showElementAndHideCanvas($e){var Je;this.data.hasOwnCanvas&&(((Je=$e.previousSibling)==null?void 0:Je.nodeName)==="CANVAS"&&($e.previousSibling.hidden=!0),$e.hidden=!1)}_getKeyModifier($e){const{isWin:Je,isMac:vt}=Fe.FeatureTest.platform;return Je&&$e.ctrlKey||vt&&$e.metaKey}_setEventListener($e,Je,vt,At,wt){vt.includes("mouse")?$e.addEventListener(vt,It=>{var Gt;(Gt=this.linkService.eventBus)==null||Gt.dispatch("dispatcheventinsandbox",{source:this,detail:{id:this.data.id,name:At,value:wt(It),shift:It.shiftKey,modifier:this._getKeyModifier(It)}})}):$e.addEventListener(vt,It=>{var Gt;if(vt==="blur"){if(!Je.focused||!It.relatedTarget)return;Je.focused=!1}else if(vt==="focus"){if(Je.focused)return;Je.focused=!0}wt&&((Gt=this.linkService.eventBus)==null||Gt.dispatch("dispatcheventinsandbox",{source:this,detail:{id:this.data.id,name:At,value:wt(It)}}))})}_setEventListeners($e,Je,vt,At){var wt,It,Gt;for(const[on,en]of vt)(en==="Action"||(wt=this.data.actions)!=null&&wt[en])&&((en==="Focus"||en==="Blur")&&(Je||(Je={focused:!1})),this._setEventListener($e,Je,on,en,At),en==="Focus"&&!((It=this.data.actions)!=null&&It.Blur)?this._setEventListener($e,Je,"blur","Blur",null):en==="Blur"&&!((Gt=this.data.actions)!=null&&Gt.Focus)&&this._setEventListener($e,Je,"focus","Focus",null))}_setBackgroundColor($e){const Je=this.data.backgroundColor||null;$e.style.backgroundColor=Je===null?"transparent":Fe.Util.makeHexColor(Je[0],Je[1],Je[2])}_setTextStyle($e){const Je=["left","center","right"],{fontColor:vt}=this.data.defaultAppearanceData,At=this.data.defaultAppearanceData.fontSize||Mt,wt=$e.style;let It;const Gt=2,on=en=>Math.round(10*en)/10;if(this.data.multiLine){const en=Math.abs(this.data.rect[3]-this.data.rect[1]-Gt),Xt=Math.round(en/(Fe.LINE_FACTOR*At))||1,gn=en/Xt;It=Math.min(At,on(gn/Fe.LINE_FACTOR))}else{const en=Math.abs(this.data.rect[3]-this.data.rect[1]-Gt);It=Math.min(At,on(en/Fe.LINE_FACTOR))}wt.fontSize=`calc(${It}px * var(--scale-factor))`,wt.color=Fe.Util.makeHexColor(vt[0],vt[1],vt[2]),this.data.textAlignment!==null&&(wt.textAlign=Je[this.data.textAlignment])}_setRequired($e,Je){Je?$e.setAttribute("required",!0):$e.removeAttribute("required"),$e.setAttribute("aria-required",Je)}}class _t extends $t{constructor($e){const Je=$e.renderForms||!$e.data.hasAppearance&&!!$e.data.fieldValue;super($e,{isRenderable:Je})}setPropertyOnSiblings($e,Je,vt,At){const wt=this.annotationStorage;for(const It of this._getElementsByName($e.name,$e.id))It.domElement&&(It.domElement[Je]=vt),wt.setValue(It.id,{[At]:vt})}render(){var $e,Je;const vt=this.annotationStorage,At=this.data.id;this.container.classList.add("textWidgetAnnotation");let wt=null;if(this.renderForms){const It=vt.getValue(At,{value:this.data.fieldValue});let Gt=It.value||"";const on=vt.getValue(At,{charLimit:this.data.maxLen}).charLimit;on&&Gt.length>on&&(Gt=Gt.slice(0,on));let en=It.formattedValue||(($e=this.data.textContent)==null?void 0:$e.join(`
`))||null;en&&this.data.comb&&(en=en.replaceAll(/\s+/g,""));const Xt={userValue:Gt,formattedValue:en,lastCommittedValue:null,commitKey:1,focused:!1};this.data.multiLine?(wt=document.createElement("textarea"),wt.textContent=en??Gt,this.data.doNotScroll&&(wt.style.overflowY="hidden")):(wt=document.createElement("input"),wt.type="text",wt.setAttribute("value",en??Gt),this.data.doNotScroll&&(wt.style.overflowX="hidden")),this.data.hasOwnCanvas&&(wt.hidden=!0),Ot.add(wt),wt.setAttribute("data-element-id",At),wt.disabled=this.data.readOnly,wt.name=this.data.fieldName,wt.tabIndex=dt,this._setRequired(wt,this.data.required),on&&(wt.maxLength=on),wt.addEventListener("input",tn=>{vt.setValue(At,{value:tn.target.value}),this.setPropertyOnSiblings(wt,"value",tn.target.value,"value"),Xt.formattedValue=null}),wt.addEventListener("resetform",tn=>{const ln=this.data.defaultFieldValue??"";wt.value=Xt.userValue=ln,Xt.formattedValue=null});let gn=tn=>{const{formattedValue:ln}=Xt;ln!=null&&(tn.target.value=ln),tn.target.scrollLeft=0};if(this.enableScripting&&this.hasJSActions){wt.addEventListener("focus",ln=>{if(Xt.focused)return;const{target:En}=ln;Xt.userValue&&(En.value=Xt.userValue),Xt.lastCommittedValue=En.value,Xt.commitKey=1,Xt.focused=!0}),wt.addEventListener("updatefromsandbox",ln=>{this.showElementAndHideCanvas(ln.target);const En={value(Rn){Xt.userValue=Rn.detail.value??"",vt.setValue(At,{value:Xt.userValue.toString()}),Rn.target.value=Xt.userValue},formattedValue(Rn){const{formattedValue:Wn}=Rn.detail;Xt.formattedValue=Wn,Wn!=null&&Rn.target!==document.activeElement&&(Rn.target.value=Wn),vt.setValue(At,{formattedValue:Wn})},selRange(Rn){Rn.target.setSelectionRange(...Rn.detail.selRange)},charLimit:Rn=>{var Wn;const{charLimit:Kn}=Rn.detail,{target:Qn}=Rn;if(Kn===0){Qn.removeAttribute("maxLength");return}Qn.setAttribute("maxLength",Kn);let nr=Xt.userValue;!nr||nr.length<=Kn||(nr=nr.slice(0,Kn),Qn.value=Xt.userValue=nr,vt.setValue(At,{value:nr}),(Wn=this.linkService.eventBus)==null||Wn.dispatch("dispatcheventinsandbox",{source:this,detail:{id:At,name:"Keystroke",value:nr,willCommit:!0,commitKey:1,selStart:Qn.selectionStart,selEnd:Qn.selectionEnd}}))}};this._dispatchEventFromSandbox(En,ln)}),wt.addEventListener("keydown",ln=>{var En;Xt.commitKey=1;let Rn=-1;if(ln.key==="Escape"?Rn=0:ln.key==="Enter"&&!this.data.multiLine?Rn=2:ln.key==="Tab"&&(Xt.commitKey=3),Rn===-1)return;const{value:Wn}=ln.target;Xt.lastCommittedValue!==Wn&&(Xt.lastCommittedValue=Wn,Xt.userValue=Wn,(En=this.linkService.eventBus)==null||En.dispatch("dispatcheventinsandbox",{source:this,detail:{id:At,name:"Keystroke",value:Wn,willCommit:!0,commitKey:Rn,selStart:ln.target.selectionStart,selEnd:ln.target.selectionEnd}}))});const tn=gn;gn=null,wt.addEventListener("blur",ln=>{var En;if(!Xt.focused||!ln.relatedTarget)return;Xt.focused=!1;const{value:Rn}=ln.target;Xt.userValue=Rn,Xt.lastCommittedValue!==Rn&&((En=this.linkService.eventBus)==null||En.dispatch("dispatcheventinsandbox",{source:this,detail:{id:At,name:"Keystroke",value:Rn,willCommit:!0,commitKey:Xt.commitKey,selStart:ln.target.selectionStart,selEnd:ln.target.selectionEnd}})),tn(ln)}),(Je=this.data.actions)!=null&&Je.Keystroke&&wt.addEventListener("beforeinput",ln=>{var En;Xt.lastCommittedValue=null;const{data:Rn,target:Wn}=ln,{value:Kn,selectionStart:Qn,selectionEnd:nr}=Wn;let kr=Qn,Pr=nr;switch(ln.inputType){case"deleteWordBackward":{const wr=Kn.substring(0,Qn).match(/\w*[^\w]*$/);wr&&(kr-=wr[0].length);break}case"deleteWordForward":{const wr=Kn.substring(Qn).match(/^[^\w]*\w*/);wr&&(Pr+=wr[0].length);break}case"deleteContentBackward":Qn===nr&&(kr-=1);break;case"deleteContentForward":Qn===nr&&(Pr+=1);break}ln.preventDefault(),(En=this.linkService.eventBus)==null||En.dispatch("dispatcheventinsandbox",{source:this,detail:{id:At,name:"Keystroke",value:Kn,change:Rn||"",willCommit:!1,selStart:kr,selEnd:Pr}})}),this._setEventListeners(wt,Xt,[["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],ln=>ln.target.value)}if(gn&&wt.addEventListener("blur",gn),this.data.comb){const tn=(this.data.rect[2]-this.data.rect[0])/on;wt.classList.add("comb"),wt.style.letterSpacing=`calc(${tn}px * var(--scale-factor) - 1ch)`}}else wt=document.createElement("div"),wt.textContent=this.data.fieldValue,wt.style.verticalAlign="middle",wt.style.display="table-cell";return this._setTextStyle(wt),this._setBackgroundColor(wt),this._setDefaultPropertiesFromJS(wt),this.container.append(wt),this.container}}class Tt extends $t{constructor($e){super($e,{isRenderable:!!$e.data.hasOwnCanvas})}}class jt extends $t{constructor($e){super($e,{isRenderable:$e.renderForms})}render(){const $e=this.annotationStorage,Je=this.data,vt=Je.id;let At=$e.getValue(vt,{value:Je.exportValue===Je.fieldValue}).value;typeof At=="string"&&(At=At!=="Off",$e.setValue(vt,{value:At})),this.container.classList.add("buttonWidgetAnnotation","checkBox");const wt=document.createElement("input");return Ot.add(wt),wt.setAttribute("data-element-id",vt),wt.disabled=Je.readOnly,this._setRequired(wt,this.data.required),wt.type="checkbox",wt.name=Je.fieldName,At&&wt.setAttribute("checked",!0),wt.setAttribute("exportValue",Je.exportValue),wt.tabIndex=dt,wt.addEventListener("change",It=>{const{name:Gt,checked:on}=It.target;for(const en of this._getElementsByName(Gt,vt)){const Xt=on&&en.exportValue===Je.exportValue;en.domElement&&(en.domElement.checked=Xt),$e.setValue(en.id,{value:Xt})}$e.setValue(vt,{value:on})}),wt.addEventListener("resetform",It=>{const Gt=Je.defaultFieldValue||"Off";It.target.checked=Gt===Je.exportValue}),this.enableScripting&&this.hasJSActions&&(wt.addEventListener("updatefromsandbox",It=>{const Gt={value(on){on.target.checked=on.detail.value!=="Off",$e.setValue(vt,{value:on.target.checked})}};this._dispatchEventFromSandbox(Gt,It)}),this._setEventListeners(wt,null,[["change","Validate"],["change","Action"],["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],It=>It.target.checked)),this._setBackgroundColor(wt),this._setDefaultPropertiesFromJS(wt),this.container.append(wt),this.container}}class Jt extends $t{constructor($e){super($e,{isRenderable:$e.renderForms})}render(){this.container.classList.add("buttonWidgetAnnotation","radioButton");const $e=this.annotationStorage,Je=this.data,vt=Je.id;let At=$e.getValue(vt,{value:Je.fieldValue===Je.buttonValue}).value;typeof At=="string"&&(At=At!==Je.buttonValue,$e.setValue(vt,{value:At}));const wt=document.createElement("input");if(Ot.add(wt),wt.setAttribute("data-element-id",vt),wt.disabled=Je.readOnly,this._setRequired(wt,this.data.required),wt.type="radio",wt.name=Je.fieldName,At&&wt.setAttribute("checked",!0),wt.tabIndex=dt,wt.addEventListener("change",It=>{const{name:Gt,checked:on}=It.target;for(const en of this._getElementsByName(Gt,vt))$e.setValue(en.id,{value:!1});$e.setValue(vt,{value:on})}),wt.addEventListener("resetform",It=>{const Gt=Je.defaultFieldValue;It.target.checked=Gt!=null&&Gt===Je.buttonValue}),this.enableScripting&&this.hasJSActions){const It=Je.buttonValue;wt.addEventListener("updatefromsandbox",Gt=>{const on={value:en=>{const Xt=It===en.detail.value;for(const gn of this._getElementsByName(en.target.name)){const tn=Xt&&gn.id===vt;gn.domElement&&(gn.domElement.checked=tn),$e.setValue(gn.id,{value:tn})}}};this._dispatchEventFromSandbox(on,Gt)}),this._setEventListeners(wt,null,[["change","Validate"],["change","Action"],["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],Gt=>Gt.target.checked)}return this._setBackgroundColor(wt),this._setDefaultPropertiesFromJS(wt),this.container.append(wt),this.container}}class Yt extends ct{constructor($e){super($e,{ignoreBorder:$e.data.hasAppearance})}render(){const $e=super.render();$e.classList.add("buttonWidgetAnnotation","pushButton"),this.data.alternativeText&&($e.title=this.data.alternativeText);const Je=$e.lastChild;return this.enableScripting&&this.hasJSActions&&Je&&(this._setDefaultPropertiesFromJS(Je),Je.addEventListener("updatefromsandbox",vt=>{this._dispatchEventFromSandbox({},vt)})),$e}}class Bt extends $t{constructor($e){super($e,{isRenderable:$e.renderForms})}render(){this.container.classList.add("choiceWidgetAnnotation");const $e=this.annotationStorage,Je=this.data.id,vt=$e.getValue(Je,{value:this.data.fieldValue}),At=document.createElement("select");Ot.add(At),At.setAttribute("data-element-id",Je),At.disabled=this.data.readOnly,this._setRequired(At,this.data.required),At.name=this.data.fieldName,At.tabIndex=dt;let wt=this.data.combo&&this.data.options.length>0;this.data.combo||(At.size=this.data.options.length,this.data.multiSelect&&(At.multiple=!0)),At.addEventListener("resetform",Xt=>{const gn=this.data.defaultFieldValue;for(const tn of At.options)tn.selected=tn.value===gn});for(const Xt of this.data.options){const gn=document.createElement("option");gn.textContent=Xt.displayValue,gn.value=Xt.exportValue,vt.value.includes(Xt.exportValue)&&(gn.setAttribute("selected",!0),wt=!1),At.append(gn)}let It=null;if(wt){const Xt=document.createElement("option");Xt.value=" ",Xt.setAttribute("hidden",!0),Xt.setAttribute("selected",!0),At.prepend(Xt),It=()=>{Xt.remove(),At.removeEventListener("input",It),It=null},At.addEventListener("input",It)}const Gt=Xt=>{const gn=Xt?"value":"textContent",{options:tn,multiple:ln}=At;return ln?Array.prototype.filter.call(tn,En=>En.selected).map(En=>En[gn]):tn.selectedIndex===-1?null:tn[tn.selectedIndex][gn]};let on=Gt(!1);const en=Xt=>{const gn=Xt.target.options;return Array.prototype.map.call(gn,tn=>({displayValue:tn.textContent,exportValue:tn.value}))};return this.enableScripting&&this.hasJSActions?(At.addEventListener("updatefromsandbox",Xt=>{const gn={value(tn){It==null||It();const ln=tn.detail.value,En=new Set(Array.isArray(ln)?ln:[ln]);for(const Rn of At.options)Rn.selected=En.has(Rn.value);$e.setValue(Je,{value:Gt(!0)}),on=Gt(!1)},multipleSelection(tn){At.multiple=!0},remove(tn){const ln=At.options,En=tn.detail.remove;ln[En].selected=!1,At.remove(En),ln.length>0&&Array.prototype.findIndex.call(ln,Rn=>Rn.selected)===-1&&(ln[0].selected=!0),$e.setValue(Je,{value:Gt(!0),items:en(tn)}),on=Gt(!1)},clear(tn){for(;At.length!==0;)At.remove(0);$e.setValue(Je,{value:null,items:[]}),on=Gt(!1)},insert(tn){const{index:ln,displayValue:En,exportValue:Rn}=tn.detail.insert,Wn=At.children[ln],Kn=document.createElement("option");Kn.textContent=En,Kn.value=Rn,Wn?Wn.before(Kn):At.append(Kn),$e.setValue(Je,{value:Gt(!0),items:en(tn)}),on=Gt(!1)},items(tn){const{items:ln}=tn.detail;for(;At.length!==0;)At.remove(0);for(const En of ln){const{displayValue:Rn,exportValue:Wn}=En,Kn=document.createElement("option");Kn.textContent=Rn,Kn.value=Wn,At.append(Kn)}At.options.length>0&&(At.options[0].selected=!0),$e.setValue(Je,{value:Gt(!0),items:en(tn)}),on=Gt(!1)},indices(tn){const ln=new Set(tn.detail.indices);for(const En of tn.target.options)En.selected=ln.has(En.index);$e.setValue(Je,{value:Gt(!0)}),on=Gt(!1)},editable(tn){tn.target.disabled=!tn.detail.editable}};this._dispatchEventFromSandbox(gn,Xt)}),At.addEventListener("input",Xt=>{var gn;const tn=Gt(!0);$e.setValue(Je,{value:tn}),Xt.preventDefault(),(gn=this.linkService.eventBus)==null||gn.dispatch("dispatcheventinsandbox",{source:this,detail:{id:Je,name:"Keystroke",value:on,changeEx:tn,willCommit:!1,commitKey:1,keyDown:!1}})}),this._setEventListeners(At,null,[["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"],["input","Action"],["input","Validate"]],Xt=>Xt.target.value)):At.addEventListener("input",function(Xt){$e.setValue(Je,{value:Gt(!0)})}),this.data.combo&&this._setTextStyle(At),this._setBackgroundColor(At),this._setDefaultPropertiesFromJS(At),this.container.append(At),this.container}}class cn extends Ze{constructor($e){const{data:Je,elements:vt}=$e;super($e,{isRenderable:Ze._hasPopupData(Je)}),this.elements=vt}render(){this.container.classList.add("popupAnnotation");const $e=new sn({container:this.container,color:this.data.color,titleObj:this.data.titleObj,modificationDate:this.data.modificationDate,contentsObj:this.data.contentsObj,richText:this.data.richText,rect:this.data.rect,parentRect:this.data.parentRect||null,parent:this.parent,elements:this.elements,open:this.data.open}),Je=[];for(const vt of this.elements)vt.popup=$e,Je.push(vt.data.id),vt.addHighlightArea();return this.container.setAttribute("aria-controls",Je.map(vt=>`${Fe.AnnotationPrefix}${vt}`).join(",")),this.container}}class sn{constructor({container:$e,color:Je,elements:vt,titleObj:At,modificationDate:wt,contentsObj:It,richText:Gt,parent:on,rect:en,parentRect:Xt,open:gn}){it(this,qe),it(this,he,null),it(this,ke,Ue(this,qe,ze).bind(this)),it(this,Ae,Ue(this,qe,ot).bind(this)),it(this,ae,Ue(this,qe,ye).bind(this)),it(this,Re,Ue(this,qe,rt).bind(this)),it(this,ge,null),it(this,ve,null),it(this,xe,null),it(this,Se,null),it(this,pe,null),it(this,ne,null),it(this,we,!1),it(this,Ie,null),it(this,Pe,null),it(this,Ee,null),it(this,Ce,null),it(this,Oe,!1);var tn;at(this,ve,$e),at(this,Ce,At),at(this,xe,It),at(this,Ee,Gt),at(this,pe,on),at(this,ge,Je),at(this,Pe,en),at(this,ne,Xt),at(this,Se,vt);const ln=Xe.PDFDateString.toDateObject(wt);ln&&at(this,he,on.l10n.get("annotation_date_string",{date:ln.toLocaleDateString(),time:ln.toLocaleTimeString()})),this.trigger=vt.flatMap(En=>En.getElementsToTriggerPopup());for(const En of this.trigger)En.addEventListener("click",V(this,Re)),En.addEventListener("mouseenter",V(this,ae)),En.addEventListener("mouseleave",V(this,Ae)),En.classList.add("popupTriggerArea");for(const En of vt)(tn=En.container)==null||tn.addEventListener("keydown",V(this,ke));V(this,ve).hidden=!0,gn&&Ue(this,qe,rt).call(this)}render(){if(V(this,Ie))return;const{page:{view:$e},viewport:{rawDims:{pageWidth:Je,pageHeight:vt,pageX:At,pageY:wt}}}=V(this,pe),It=at(this,Ie,document.createElement("div"));if(It.className="popup",V(this,ge)){const Qn=It.style.outlineColor=Fe.Util.makeHexColor(...V(this,ge));CSS.supports("background-color","color-mix(in srgb, red 30%, white)")?It.style.backgroundColor=`color-mix(in srgb, ${Qn} 30%, white)`:It.style.backgroundColor=Fe.Util.makeHexColor(...V(this,ge).map(nr=>Math.floor(.7*(255-nr)+nr)))}const Gt=document.createElement("span");Gt.className="header";const on=document.createElement("h1");if(Gt.append(on),{dir:on.dir,str:on.textContent}=V(this,Ce),It.append(Gt),V(this,he)){const Qn=document.createElement("span");Qn.classList.add("popupDate"),V(this,he).then(nr=>{Qn.textContent=nr}),Gt.append(Qn)}const en=V(this,xe),Xt=V(this,Ee);if(Xt!=null&&Xt.str&&(!(en!=null&&en.str)||en.str===Xt.str))kt.XfaLayer.render({xfaHtml:Xt.html,intent:"richText",div:It}),It.lastChild.classList.add("richText","popupContent");else{const Qn=this._formatContents(en);It.append(Qn)}let gn=!!V(this,ne),tn=gn?V(this,ne):V(this,Pe);for(const Qn of V(this,Se))if(!tn||Fe.Util.intersect(Qn.data.rect,tn)!==null){tn=Qn.data.rect,gn=!0;break}const ln=Fe.Util.normalizeRect([tn[0],$e[3]-tn[1]+$e[1],tn[2],$e[3]-tn[3]+$e[1]]),En=gn?tn[2]-tn[0]+5:0,Rn=ln[0]+En,Wn=ln[1],{style:Kn}=V(this,ve);Kn.left=`${100*(Rn-At)/Je}%`,Kn.top=`${100*(Wn-wt)/vt}%`,V(this,ve).append(It)}_formatContents({str:$e,dir:Je}){const vt=document.createElement("p");vt.classList.add("popupContent"),vt.dir=Je;const At=$e.split(/(?:\r\n?|\n)/);for(let wt=0,It=At.length;wt<It;++wt){const Gt=At[wt];vt.append(document.createTextNode(Gt)),wt<It-1&&vt.append(document.createElement("br"))}return vt}forceHide(){at(this,Oe,this.isVisible),V(this,Oe)&&(V(this,ve).hidden=!0)}maybeShow(){V(this,Oe)&&(at(this,Oe,!1),V(this,ve).hidden=!1)}get isVisible(){return V(this,ve).hidden===!1}}he=new WeakMap,ke=new WeakMap,Ae=new WeakMap,ae=new WeakMap,Re=new WeakMap,ge=new WeakMap,ve=new WeakMap,xe=new WeakMap,Se=new WeakMap,pe=new WeakMap,ne=new WeakMap,we=new WeakMap,Ie=new WeakMap,Pe=new WeakMap,Ee=new WeakMap,Ce=new WeakMap,Oe=new WeakMap,qe=new WeakSet,ze=function(Nt){Nt.altKey||Nt.shiftKey||Nt.ctrlKey||Nt.metaKey||(Nt.key==="Enter"||Nt.key==="Escape"&&V(this,we))&&Ue(this,qe,rt).call(this)},rt=function(){at(this,we,!V(this,we)),V(this,we)?(Ue(this,qe,ye).call(this),V(this,ve).addEventListener("click",V(this,Re)),V(this,ve).addEventListener("keydown",V(this,ke))):(Ue(this,qe,ot).call(this),V(this,ve).removeEventListener("click",V(this,Re)),V(this,ve).removeEventListener("keydown",V(this,ke)))},ye=function(){V(this,Ie)||this.render(),this.isVisible?V(this,we)&&V(this,ve).classList.add("focused"):(V(this,ve).hidden=!1,V(this,ve).style.zIndex=parseInt(V(this,ve).style.zIndex)+1e3)},ot=function(){V(this,ve).classList.remove("focused"),!(V(this,we)||!this.isVisible)&&(V(this,ve).hidden=!0,V(this,ve).style.zIndex=parseInt(V(this,ve).style.zIndex)-1e3)};class rn extends Ze{constructor($e){super($e,{isRenderable:!0,ignoreBorder:!0}),this.textContent=$e.data.textContent,this.textPosition=$e.data.textPosition,this.annotationEditorType=Fe.AnnotationEditorType.FREETEXT}render(){if(this.container.classList.add("freeTextAnnotation"),this.textContent){const $e=document.createElement("div");$e.classList.add("annotationTextContent"),$e.setAttribute("role","comment");for(const Je of this.textContent){const vt=document.createElement("span");vt.textContent=Je,$e.append(vt)}this.container.append($e)}return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this._editOnDoubleClick(),this.container}}G.FreeTextAnnotationElement=rn;class Fn extends Ze{constructor($e){super($e,{isRenderable:!0,ignoreBorder:!0}),it(this,He,null)}render(){this.container.classList.add("lineAnnotation");const $e=this.data,{width:Je,height:vt}=De($e.rect),At=this.svgFactory.create(Je,vt,!0),wt=at(this,He,this.svgFactory.createElement("svg:line"));return wt.setAttribute("x1",$e.rect[2]-$e.lineCoordinates[0]),wt.setAttribute("y1",$e.rect[3]-$e.lineCoordinates[1]),wt.setAttribute("x2",$e.rect[2]-$e.lineCoordinates[2]),wt.setAttribute("y2",$e.rect[3]-$e.lineCoordinates[3]),wt.setAttribute("stroke-width",$e.borderStyle.width||1),wt.setAttribute("stroke","transparent"),wt.setAttribute("fill","transparent"),At.append(wt),this.container.append(At),!$e.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return V(this,He)}addHighlightArea(){this.container.classList.add("highlightArea")}}He=new WeakMap;class In extends Ze{constructor($e){super($e,{isRenderable:!0,ignoreBorder:!0}),it(this,Ge,null)}render(){this.container.classList.add("squareAnnotation");const $e=this.data,{width:Je,height:vt}=De($e.rect),At=this.svgFactory.create(Je,vt,!0),wt=$e.borderStyle.width,It=at(this,Ge,this.svgFactory.createElement("svg:rect"));return It.setAttribute("x",wt/2),It.setAttribute("y",wt/2),It.setAttribute("width",Je-wt),It.setAttribute("height",vt-wt),It.setAttribute("stroke-width",wt||1),It.setAttribute("stroke","transparent"),It.setAttribute("fill","transparent"),At.append(It),this.container.append(At),!$e.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return V(this,Ge)}addHighlightArea(){this.container.classList.add("highlightArea")}}Ge=new WeakMap;class Nn extends Ze{constructor($e){super($e,{isRenderable:!0,ignoreBorder:!0}),it(this,Be,null)}render(){this.container.classList.add("circleAnnotation");const $e=this.data,{width:Je,height:vt}=De($e.rect),At=this.svgFactory.create(Je,vt,!0),wt=$e.borderStyle.width,It=at(this,Be,this.svgFactory.createElement("svg:ellipse"));return It.setAttribute("cx",Je/2),It.setAttribute("cy",vt/2),It.setAttribute("rx",Je/2-wt/2),It.setAttribute("ry",vt/2-wt/2),It.setAttribute("stroke-width",wt||1),It.setAttribute("stroke","transparent"),It.setAttribute("fill","transparent"),At.append(It),this.container.append(At),!$e.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return V(this,Be)}addHighlightArea(){this.container.classList.add("highlightArea")}}Be=new WeakMap;class Lt extends Ze{constructor($e){super($e,{isRenderable:!0,ignoreBorder:!0}),it(this,xt,null),this.containerClassName="polylineAnnotation",this.svgElementName="svg:polyline"}render(){this.container.classList.add(this.containerClassName);const $e=this.data,{width:Je,height:vt}=De($e.rect),At=this.svgFactory.create(Je,vt,!0);let wt=[];for(const Gt of $e.vertices){const on=Gt.x-$e.rect[0],en=$e.rect[3]-Gt.y;wt.push(on+","+en)}wt=wt.join(" ");const It=at(this,xt,this.svgFactory.createElement(this.svgElementName));return It.setAttribute("points",wt),It.setAttribute("stroke-width",$e.borderStyle.width||1),It.setAttribute("stroke","transparent"),It.setAttribute("fill","transparent"),At.append(It),this.container.append(At),!$e.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return V(this,xt)}addHighlightArea(){this.container.classList.add("highlightArea")}}xt=new WeakMap;class yt extends Lt{constructor($e){super($e),this.containerClassName="polygonAnnotation",this.svgElementName="svg:polygon"}}class ft extends Ze{constructor($e){super($e,{isRenderable:!0,ignoreBorder:!0})}render(){return this.container.classList.add("caretAnnotation"),!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container}}class Qt extends Ze{constructor($e){super($e,{isRenderable:!0,ignoreBorder:!0}),it(this,pt,[]),this.containerClassName="inkAnnotation",this.svgElementName="svg:polyline",this.annotationEditorType=Fe.AnnotationEditorType.INK}render(){this.container.classList.add(this.containerClassName);const $e=this.data,{width:Je,height:vt}=De($e.rect),At=this.svgFactory.create(Je,vt,!0);for(const wt of $e.inkLists){let It=[];for(const on of wt){const en=on.x-$e.rect[0],Xt=$e.rect[3]-on.y;It.push(`${en},${Xt}`)}It=It.join(" ");const Gt=this.svgFactory.createElement(this.svgElementName);V(this,pt).push(Gt),Gt.setAttribute("points",It),Gt.setAttribute("stroke-width",$e.borderStyle.width||1),Gt.setAttribute("stroke","transparent"),Gt.setAttribute("fill","transparent"),!$e.popupRef&&this.hasPopupData&&this._createPopup(),At.append(Gt)}return this.container.append(At),this.container}getElementsToTriggerPopup(){return V(this,pt)}addHighlightArea(){this.container.classList.add("highlightArea")}}pt=new WeakMap,G.InkAnnotationElement=Qt;class qt extends Ze{constructor($e){super($e,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("highlightAnnotation"),this.container}}class Ht extends Ze{constructor($e){super($e,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("underlineAnnotation"),this.container}}class Qe extends Ze{constructor($e){super($e,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("squigglyAnnotation"),this.container}}class Rt extends Ze{constructor($e){super($e,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("strikeoutAnnotation"),this.container}}class Zt extends Ze{constructor($e){super($e,{isRenderable:!0,ignoreBorder:!0})}render(){return this.container.classList.add("stampAnnotation"),!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container}}G.StampAnnotationElement=Zt;class pn extends Ze{constructor($e){var Je;super($e,{isRenderable:!0}),it(this,Ne),it(this,Et,null);const{filename:vt,content:At}=this.data.file;this.filename=(0,Xe.getFilenameFromUrl)(vt,!0),this.content=At,(Je=this.linkService.eventBus)==null||Je.dispatch("fileattachmentannotation",{source:this,filename:vt,content:At})}render(){this.container.classList.add("fileAttachmentAnnotation");const{container:$e,data:Je}=this;let vt;Je.hasAppearance||Je.fillAlpha===0?vt=document.createElement("div"):(vt=document.createElement("img"),vt.src=`${this.imageResourcesPath}annotation-${/paperclip/i.test(Je.name)?"paperclip":"pushpin"}.svg`,Je.fillAlpha&&Je.fillAlpha<1&&(vt.style=`filter: opacity(${Math.round(Je.fillAlpha*100)}%);`)),vt.addEventListener("dblclick",Ue(this,Ne,nt).bind(this)),at(this,Et,vt);const{isMac:At}=Fe.FeatureTest.platform;return $e.addEventListener("keydown",wt=>{wt.key==="Enter"&&(At?wt.metaKey:wt.ctrlKey)&&Ue(this,Ne,nt).call(this)}),!Je.popupRef&&this.hasPopupData?this._createPopup():vt.classList.add("popupTriggerArea"),$e.append(vt),$e}getElementsToTriggerPopup(){return V(this,Et)}addHighlightArea(){this.container.classList.add("highlightArea")}}Et=new WeakMap,Ne=new WeakSet,nt=function(){var Nt;(Nt=this.downloadManager)==null||Nt.openOrDownloadData(this.container,this.content,this.filename)};class an{constructor({div:$e,accessibilityManager:Je,annotationCanvasMap:vt,l10n:At,page:wt,viewport:It}){it(this,fe),it(this,ut,null),it(this,Ve,null),it(this,_e,new Map),this.div=$e,at(this,ut,Je),at(this,Ve,vt),this.l10n=At,this.page=wt,this.viewport=It,this.zIndex=0,this.l10n||(this.l10n=Ct.NullL10n)}async render($e){const{annotations:Je}=$e,vt=this.div;(0,Xe.setLayerDimensions)(vt,this.viewport);const At=new Map,wt={data:null,layer:vt,linkService:$e.linkService,downloadManager:$e.downloadManager,imageResourcesPath:$e.imageResourcesPath||"",renderForms:$e.renderForms!==!1,svgFactory:new Xe.DOMSVGFactory,annotationStorage:$e.annotationStorage||new Ye.AnnotationStorage,enableScripting:$e.enableScripting===!0,hasJSActions:$e.hasJSActions,fieldObjects:$e.fieldObjects,parent:this,elements:null};for(const It of Je){if(It.noHTML)continue;const Gt=It.annotationType===Fe.AnnotationType.POPUP;if(Gt){const Xt=At.get(It.id);if(!Xt)continue;wt.elements=Xt}else{const{width:Xt,height:gn}=De(It.rect);if(Xt<=0||gn<=0)continue}wt.data=It;const on=Te.create(wt);if(!on.isRenderable)continue;if(!Gt&&It.popupRef){const Xt=At.get(It.popupRef);Xt?Xt.push(on):At.set(It.popupRef,[on])}on.annotationEditorType>0&&V(this,_e).set(on.data.id,on);const en=on.render();It.hidden&&(en.style.visibility="hidden"),Ue(this,fe,Le).call(this,en,It.id)}Ue(this,fe,je).call(this),await this.l10n.translate(vt)}update({viewport:$e}){const Je=this.div;this.viewport=$e,(0,Xe.setLayerDimensions)(Je,{rotation:$e.rotation}),Ue(this,fe,je).call(this),Je.hidden=!1}getEditableAnnotations(){return Array.from(V(this,_e).values())}getEditableAnnotation($e){return V(this,_e).get($e)}}ut=new WeakMap,Ve=new WeakMap,_e=new WeakMap,fe=new WeakSet,Le=function(Nt,$e){var Je;const vt=Nt.firstChild||Nt;vt.id=`${Fe.AnnotationPrefix}${$e}`,this.div.append(Nt),(Je=V(this,ut))==null||Je.moveElementInDOM(this.div,Nt,vt,!1)},je=function(){if(!V(this,Ve))return;const Nt=this.div;for(const[$e,Je]of V(this,Ve)){const vt=Nt.querySelector(`[data-annotation-id="${$e}"]`);if(!vt)continue;const{firstChild:At}=vt;At?At.nodeName==="CANVAS"?At.replaceWith(Je):At.before(Je):vt.append(Je)}V(this,Ve).clear()},G.AnnotationLayer=an},(W,G)=>{Object.defineProperty(G,"__esModule",{value:!0}),G.ColorConverters=void 0;function Y(K){return Math.floor(Math.max(0,Math.min(1,K))*255).toString(16).padStart(2,"0")}function q(K){return Math.max(0,Math.min(255,255*K))}class X{static CMYK_G([B,he,ke,Ae]){return["G",1-Math.min(1,.3*B+.59*ke+.11*he+Ae)]}static G_CMYK([B]){return["CMYK",0,0,0,1-B]}static G_RGB([B]){return["RGB",B,B,B]}static G_rgb([B]){return B=q(B),[B,B,B]}static G_HTML([B]){const he=Y(B);return`#${he}${he}${he}`}static RGB_G([B,he,ke]){return["G",.3*B+.59*he+.11*ke]}static RGB_rgb(B){return B.map(q)}static RGB_HTML(B){return`#${B.map(Y).join("")}`}static T_HTML(){return"#00000000"}static T_rgb(){return[null]}static CMYK_RGB([B,he,ke,Ae]){return["RGB",1-Math.min(1,B+Ae),1-Math.min(1,ke+Ae),1-Math.min(1,he+Ae)]}static CMYK_rgb([B,he,ke,Ae]){return[q(1-Math.min(1,B+Ae)),q(1-Math.min(1,ke+Ae)),q(1-Math.min(1,he+Ae))]}static CMYK_HTML(B){const he=this.CMYK_RGB(B).slice(1);return this.RGB_HTML(he)}static RGB_CMYK([B,he,ke]){const Ae=1-B,ae=1-he,Re=1-ke,ge=Math.min(Ae,ae,Re);return["CMYK",Ae,ae,Re,ge]}}G.ColorConverters=X},(W,G)=>{Object.defineProperty(G,"__esModule",{value:!0}),G.NullL10n=void 0,G.getL10nFallback=q;const Y={of_pages:"of {{pagesCount}}",page_of_pages:"({{pageNumber}} of {{pagesCount}})",document_properties_kb:"{{size_kb}} KB ({{size_b}} bytes)",document_properties_mb:"{{size_mb}} MB ({{size_b}} bytes)",document_properties_date_string:"{{date}}, {{time}}",document_properties_page_size_unit_inches:"in",document_properties_page_size_unit_millimeters:"mm",document_properties_page_size_orientation_portrait:"portrait",document_properties_page_size_orientation_landscape:"landscape",document_properties_page_size_name_a3:"A3",document_properties_page_size_name_a4:"A4",document_properties_page_size_name_letter:"Letter",document_properties_page_size_name_legal:"Legal",document_properties_page_size_dimension_string:"{{width}} × {{height}} {{unit}} ({{orientation}})",document_properties_page_size_dimension_name_string:"{{width}} × {{height}} {{unit}} ({{name}}, {{orientation}})",document_properties_linearized_yes:"Yes",document_properties_linearized_no:"No",additional_layers:"Additional Layers",page_landmark:"Page {{page}}",thumb_page_title:"Page {{page}}",thumb_page_canvas:"Thumbnail of Page {{page}}",find_reached_top:"Reached top of document, continued from bottom",find_reached_bottom:"Reached end of document, continued from top","find_match_count[one]":"{{current}} of {{total}} match","find_match_count[other]":"{{current}} of {{total}} matches","find_match_count_limit[one]":"More than {{limit}} match","find_match_count_limit[other]":"More than {{limit}} matches",find_not_found:"Phrase not found",page_scale_width:"Page Width",page_scale_fit:"Page Fit",page_scale_auto:"Automatic Zoom",page_scale_actual:"Actual Size",page_scale_percent:"{{scale}}%",loading_error:"An error occurred while loading the PDF.",invalid_file_error:"Invalid or corrupted PDF file.",missing_file_error:"Missing PDF file.",unexpected_response_error:"Unexpected server response.",rendering_error:"An error occurred while rendering the page.",annotation_date_string:"{{date}}, {{time}}",printing_not_supported:"Warning: Printing is not fully supported by this browser.",printing_not_ready:"Warning: The PDF is not fully loaded for printing.",web_fonts_disabled:"Web fonts are disabled: unable to use embedded PDF fonts.",free_text2_default_content:"Start typing…",editor_free_text2_aria_label:"Text Editor",editor_ink2_aria_label:"Draw Editor",editor_ink_canvas_aria_label:"User-created image",editor_alt_text_button_label:"Alt text",editor_alt_text_edit_button_label:"Edit alt text",editor_alt_text_decorative_tooltip:"Marked as decorative"};Y.print_progress_percent="{{progress}}%";function q(B,he){switch(B){case"find_match_count":B=`find_match_count[${he.total===1?"one":"other"}]`;break;case"find_match_count_limit":B=`find_match_count_limit[${he.limit===1?"one":"other"}]`;break}return Y[B]||""}function X(B,he){return he?B.replaceAll(/\{\{\s*(\w+)\s*\}\}/g,(ke,Ae)=>Ae in he?he[Ae]:"{{"+Ae+"}}"):B}const K={async getLanguage(){return"en-us"},async getDirection(){return"ltr"},async get(B,he=null,ke=q(B,he)){return X(ke,he)},async translate(B){}};G.NullL10n=K},(W,G,Y)=>{Object.defineProperty(G,"__esModule",{value:!0}),G.XfaLayer=void 0;var q=Y(25);class X{static setupStorage(B,he,ke,Ae,ae){const Re=Ae.getValue(he,{value:null});switch(ke.name){case"textarea":if(Re.value!==null&&(B.textContent=Re.value),ae==="print")break;B.addEventListener("input",ge=>{Ae.setValue(he,{value:ge.target.value})});break;case"input":if(ke.attributes.type==="radio"||ke.attributes.type==="checkbox"){if(Re.value===ke.attributes.xfaOn?B.setAttribute("checked",!0):Re.value===ke.attributes.xfaOff&&B.removeAttribute("checked"),ae==="print")break;B.addEventListener("change",ge=>{Ae.setValue(he,{value:ge.target.checked?ge.target.getAttribute("xfaOn"):ge.target.getAttribute("xfaOff")})})}else{if(Re.value!==null&&B.setAttribute("value",Re.value),ae==="print")break;B.addEventListener("input",ge=>{Ae.setValue(he,{value:ge.target.value})})}break;case"select":if(Re.value!==null){B.setAttribute("value",Re.value);for(const ge of ke.children)ge.attributes.value===Re.value?ge.attributes.selected=!0:ge.attributes.hasOwnProperty("selected")&&delete ge.attributes.selected}B.addEventListener("input",ge=>{const ve=ge.target.options,xe=ve.selectedIndex===-1?"":ve[ve.selectedIndex].value;Ae.setValue(he,{value:xe})});break}}static setAttributes({html:B,element:he,storage:ke=null,intent:Ae,linkService:ae}){const{attributes:Re}=he,ge=B instanceof HTMLAnchorElement;Re.type==="radio"&&(Re.name=`${Re.name}-${Ae}`);for(const[ve,xe]of Object.entries(Re))if(xe!=null)switch(ve){case"class":xe.length&&B.setAttribute(ve,xe.join(" "));break;case"dataId":break;case"id":B.setAttribute("data-element-id",xe);break;case"style":Object.assign(B.style,xe);break;case"textContent":B.textContent=xe;break;default:(!ge||ve!=="href"&&ve!=="newWindow")&&B.setAttribute(ve,xe)}ge&&ae.addLinkAttributes(B,Re.href,Re.newWindow),ke&&Re.dataId&&this.setupStorage(B,Re.dataId,he,ke)}static render(B){var he;const ke=B.annotationStorage,Ae=B.linkService,ae=B.xfaHtml,Re=B.intent||"display",ge=document.createElement(ae.name);ae.attributes&&this.setAttributes({html:ge,element:ae,intent:Re,linkService:Ae});const ve=[[ae,-1,ge]],xe=B.div;if(xe.append(ge),B.viewport){const pe=`matrix(${B.viewport.transform.join(",")})`;xe.style.transform=pe}Re!=="richText"&&xe.setAttribute("class","xfaLayer xfaFont");const Se=[];for(;ve.length>0;){const[pe,ne,we]=ve.at(-1);if(ne+1===pe.children.length){ve.pop();continue}const Ie=pe.children[++ve.at(-1)[1]];if(Ie===null)continue;const{name:Pe}=Ie;if(Pe==="#text"){const Ce=document.createTextNode(Ie.value);Se.push(Ce),we.append(Ce);continue}const Ee=(he=Ie==null?void 0:Ie.attributes)!=null&&he.xmlns?document.createElementNS(Ie.attributes.xmlns,Pe):document.createElement(Pe);if(we.append(Ee),Ie.attributes&&this.setAttributes({html:Ee,element:Ie,storage:ke,intent:Re,linkService:Ae}),Ie.children&&Ie.children.length>0)ve.push([Ie,-1,Ee]);else if(Ie.value){const Ce=document.createTextNode(Ie.value);q.XfaText.shouldBuildText(Pe)&&Se.push(Ce),Ee.append(Ce)}}for(const pe of xe.querySelectorAll(".xfaNonInteractive input, .xfaNonInteractive textarea"))pe.setAttribute("readOnly",!0);return{textDivs:Se}}static update(B){const he=`matrix(${B.viewport.transform.join(",")})`;B.div.style.transform=he,B.div.hidden=!1}}G.XfaLayer=X},(W,G,Y)=>{var q,X,K,B,he,ke,Ae,ae,Re,ge,ve,xe,Se,pe,ne,we,Ie,Pe,Ee,Ce,Oe,qe,ze,rt,ye,ot,He,Ge,Be,xt,pt,Et,Ne,nt,ut,Ve,_e,fe,Le,je,Fe,Xe;Object.defineProperty(G,"__esModule",{value:!0}),G.InkEditor=void 0;var Ye=Y(1),gt=Y(4),Ct=Y(29),kt=Y(6),dt=Y(5);const Mt=class Sr extends gt.AnnotationEditor{constructor(Te){super({...Te,name:"inkEditor"}),it(this,ne),it(this,q,0),it(this,X,0),it(this,K,this.canvasPointermove.bind(this)),it(this,B,this.canvasPointerleave.bind(this)),it(this,he,this.canvasPointerup.bind(this)),it(this,ke,this.canvasPointerdown.bind(this)),it(this,Ae,new Path2D),it(this,ae,!1),it(this,Re,!1),it(this,ge,!1),it(this,ve,null),it(this,xe,0),it(this,Se,0),it(this,pe,null),this.color=Te.color||null,this.thickness=Te.thickness||null,this.opacity=Te.opacity||null,this.paths=[],this.bezierPath2D=[],this.allRawPaths=[],this.currentPath=[],this.scaleFactor=1,this.translationX=this.translationY=0,this.x=0,this.y=0,this._willKeepAspectRatio=!0}static initialize(Te){gt.AnnotationEditor.initialize(Te,{strings:["editor_ink_canvas_aria_label","editor_ink2_aria_label"]})}static updateDefaultParams(Te,We){switch(Te){case Ye.AnnotationEditorParamsType.INK_THICKNESS:Sr._defaultThickness=We;break;case Ye.AnnotationEditorParamsType.INK_COLOR:Sr._defaultColor=We;break;case Ye.AnnotationEditorParamsType.INK_OPACITY:Sr._defaultOpacity=We/100;break}}updateParams(Te,We){switch(Te){case Ye.AnnotationEditorParamsType.INK_THICKNESS:Ue(this,ne,we).call(this,We);break;case Ye.AnnotationEditorParamsType.INK_COLOR:Ue(this,ne,Ie).call(this,We);break;case Ye.AnnotationEditorParamsType.INK_OPACITY:Ue(this,ne,Pe).call(this,We);break}}static get defaultPropertiesToUpdate(){return[[Ye.AnnotationEditorParamsType.INK_THICKNESS,Sr._defaultThickness],[Ye.AnnotationEditorParamsType.INK_COLOR,Sr._defaultColor||gt.AnnotationEditor._defaultLineColor],[Ye.AnnotationEditorParamsType.INK_OPACITY,Math.round(Sr._defaultOpacity*100)]]}get propertiesToUpdate(){return[[Ye.AnnotationEditorParamsType.INK_THICKNESS,this.thickness||Sr._defaultThickness],[Ye.AnnotationEditorParamsType.INK_COLOR,this.color||Sr._defaultColor||gt.AnnotationEditor._defaultLineColor],[Ye.AnnotationEditorParamsType.INK_OPACITY,Math.round(100*(this.opacity??Sr._defaultOpacity))]]}rebuild(){this.parent&&(super.rebuild(),this.div!==null&&(this.canvas||(Ue(this,ne,xt).call(this),Ue(this,ne,pt).call(this)),this.isAttachedToDOM||(this.parent.add(this),Ue(this,ne,Et).call(this)),Ue(this,ne,Xe).call(this)))}remove(){this.canvas!==null&&(this.isEmpty()||this.commit(),this.canvas.width=this.canvas.height=0,this.canvas.remove(),this.canvas=null,V(this,ve).disconnect(),at(this,ve,null),super.remove())}setParent(Te){!this.parent&&Te?this._uiManager.removeShouldRescale(this):this.parent&&Te===null&&this._uiManager.addShouldRescale(this),super.setParent(Te)}onScaleChanging(){const[Te,We]=this.parentDimensions,Ze=this.width*Te,ct=this.height*We;this.setDimensions(Ze,ct)}enableEditMode(){V(this,ae)||this.canvas===null||(super.enableEditMode(),this._isDraggable=!1,this.canvas.addEventListener("pointerdown",V(this,ke)))}disableEditMode(){!this.isInEditMode()||this.canvas===null||(super.disableEditMode(),this._isDraggable=!this.isEmpty(),this.div.classList.remove("editing"),this.canvas.removeEventListener("pointerdown",V(this,ke)))}onceAdded(){this._isDraggable=!this.isEmpty()}isEmpty(){return this.paths.length===0||this.paths.length===1&&this.paths[0].length===0}commit(){V(this,ae)||(super.commit(),this.isEditing=!1,this.disableEditMode(),this.setInForeground(),at(this,ae,!0),this.div.classList.add("disabled"),Ue(this,ne,Xe).call(this,!0),this.makeResizable(),this.parent.addInkEditorIfNeeded(!0),this.moveInDOM(),this.div.focus({preventScroll:!0}))}focusin(Te){this._focusEventsAllowed&&(super.focusin(Te),this.enableEditMode())}canvasPointerdown(Te){Te.button!==0||!this.isInEditMode()||V(this,ae)||(this.setInForeground(),Te.preventDefault(),Te.type!=="mouse"&&this.div.focus(),Ue(this,ne,Oe).call(this,Te.offsetX,Te.offsetY))}canvasPointermove(Te){Te.preventDefault(),Ue(this,ne,qe).call(this,Te.offsetX,Te.offsetY)}canvasPointerup(Te){Te.preventDefault(),Ue(this,ne,Be).call(this,Te)}canvasPointerleave(Te){Ue(this,ne,Be).call(this,Te)}get isResizable(){return!this.isEmpty()&&V(this,ae)}render(){if(this.div)return this.div;let Te,We;this.width&&(Te=this.x,We=this.y),super.render(),gt.AnnotationEditor._l10nPromise.get("editor_ink2_aria_label").then(_t=>{var Tt;return(Tt=this.div)==null?void 0:Tt.setAttribute("aria-label",_t)});const[Ze,ct,Pt,$t]=Ue(this,ne,Ee).call(this);if(this.setAt(Ze,ct,0,0),this.setDims(Pt,$t),Ue(this,ne,xt).call(this),this.width){const[_t,Tt]=this.parentDimensions;this.setAspectRatio(this.width*_t,this.height*Tt),this.setAt(Te*_t,We*Tt,this.width*_t,this.height*Tt),at(this,ge,!0),Ue(this,ne,Et).call(this),this.setDims(this.width*_t,this.height*Tt),Ue(this,ne,Ge).call(this),this.div.classList.add("disabled")}else this.div.classList.add("editing"),this.enableEditMode();return Ue(this,ne,pt).call(this),this.div}setDimensions(Te,We){const Ze=Math.round(Te),ct=Math.round(We);if(V(this,xe)===Ze&&V(this,Se)===ct)return;at(this,xe,Ze),at(this,Se,ct),this.canvas.style.visibility="hidden";const[Pt,$t]=this.parentDimensions;this.width=Te/Pt,this.height=We/$t,this.fixAndSetPosition(),V(this,ae)&&Ue(this,ne,Ne).call(this,Te,We),Ue(this,ne,Et).call(this),Ue(this,ne,Ge).call(this),this.canvas.style.visibility="visible",this.fixDims()}static deserialize(Te,We,Ze){var ct,Pt,$t;if(Te instanceof Ct.InkAnnotationElement)return null;const _t=super.deserialize(Te,We,Ze);_t.thickness=Te.thickness,_t.color=Ye.Util.makeHexColor(...Te.color),_t.opacity=Te.opacity;const[Tt,jt]=_t.pageDimensions,Jt=_t.width*Tt,Yt=_t.height*jt,Bt=_t.parentScale,cn=Te.thickness/2;at(_t,ae,!0),at(_t,xe,Math.round(Jt)),at(_t,Se,Math.round(Yt));const{paths:sn,rect:rn,rotation:Fn}=Te;for(let{bezier:Nn}of sn){Nn=Ue(ct=Sr,ut,fe).call(ct,Nn,rn,Fn);const Lt=[];_t.paths.push(Lt);let yt=Bt*(Nn[0]-cn),ft=Bt*(Nn[1]-cn);for(let qt=2,Ht=Nn.length;qt<Ht;qt+=6){const Qe=Bt*(Nn[qt]-cn),Rt=Bt*(Nn[qt+1]-cn),Zt=Bt*(Nn[qt+2]-cn),pn=Bt*(Nn[qt+3]-cn),an=Bt*(Nn[qt+4]-cn),Nt=Bt*(Nn[qt+5]-cn);Lt.push([[yt,ft],[Qe,Rt],[Zt,pn],[an,Nt]]),yt=an,ft=Nt}const Qt=Ue(this,ut,Ve).call(this,Lt);_t.bezierPath2D.push(Qt)}const In=Ue(Pt=_t,ne,je).call(Pt);return at(_t,X,Math.max(gt.AnnotationEditor.MIN_SIZE,In[2]-In[0])),at(_t,q,Math.max(gt.AnnotationEditor.MIN_SIZE,In[3]-In[1])),Ue($t=_t,ne,Ne).call($t,Jt,Yt),_t}serialize(){if(this.isEmpty())return null;const Te=this.getRect(0,0),We=gt.AnnotationEditor._colorManager.convert(this.ctx.strokeStyle);return{annotationType:Ye.AnnotationEditorType.INK,color:We,thickness:this.thickness,opacity:this.opacity,paths:Ue(this,ne,Le).call(this,this.scaleFactor/this.parentScale,this.translationX,this.translationY,Te),pageIndex:this.pageIndex,rect:Te,rotation:this.rotation,structTreeParentId:this._structTreeParentId}}};q=new WeakMap,X=new WeakMap,K=new WeakMap,B=new WeakMap,he=new WeakMap,ke=new WeakMap,Ae=new WeakMap,ae=new WeakMap,Re=new WeakMap,ge=new WeakMap,ve=new WeakMap,xe=new WeakMap,Se=new WeakMap,pe=new WeakMap,ne=new WeakSet,we=function(De){const Te=this.thickness;this.addCommands({cmd:()=>{this.thickness=De,Ue(this,ne,Xe).call(this)},undo:()=>{this.thickness=Te,Ue(this,ne,Xe).call(this)},mustExec:!0,type:Ye.AnnotationEditorParamsType.INK_THICKNESS,overwriteIfSameType:!0,keepUndo:!0})},Ie=function(De){const Te=this.color;this.addCommands({cmd:()=>{this.color=De,Ue(this,ne,Ge).call(this)},undo:()=>{this.color=Te,Ue(this,ne,Ge).call(this)},mustExec:!0,type:Ye.AnnotationEditorParamsType.INK_COLOR,overwriteIfSameType:!0,keepUndo:!0})},Pe=function(De){De/=100;const Te=this.opacity;this.addCommands({cmd:()=>{this.opacity=De,Ue(this,ne,Ge).call(this)},undo:()=>{this.opacity=Te,Ue(this,ne,Ge).call(this)},mustExec:!0,type:Ye.AnnotationEditorParamsType.INK_OPACITY,overwriteIfSameType:!0,keepUndo:!0})},Ee=function(){const{parentRotation:De,parentDimensions:[Te,We]}=this;switch(De){case 90:return[0,We,We,Te];case 180:return[Te,We,Te,We];case 270:return[Te,0,We,Te];default:return[0,0,Te,We]}},Ce=function(){const{ctx:De,color:Te,opacity:We,thickness:Ze,parentScale:ct,scaleFactor:Pt}=this;De.lineWidth=Ze*ct/Pt,De.lineCap="round",De.lineJoin="round",De.miterLimit=10,De.strokeStyle=`${Te}${(0,dt.opacityToHex)(We)}`},Oe=function(De,Te){this.canvas.addEventListener("contextmenu",kt.noContextMenu),this.canvas.addEventListener("pointerleave",V(this,B)),this.canvas.addEventListener("pointermove",V(this,K)),this.canvas.addEventListener("pointerup",V(this,he)),this.canvas.removeEventListener("pointerdown",V(this,ke)),this.isEditing=!0,V(this,ge)||(at(this,ge,!0),Ue(this,ne,Et).call(this),this.thickness||(this.thickness=Mt._defaultThickness),this.color||(this.color=Mt._defaultColor||gt.AnnotationEditor._defaultLineColor),this.opacity??(this.opacity=Mt._defaultOpacity)),this.currentPath.push([De,Te]),at(this,Re,!1),Ue(this,ne,Ce).call(this),at(this,pe,()=>{Ue(this,ne,ye).call(this),V(this,pe)&&window.requestAnimationFrame(V(this,pe))}),window.requestAnimationFrame(V(this,pe))},qe=function(De,Te){const[We,Ze]=this.currentPath.at(-1);if(this.currentPath.length>1&&De===We&&Te===Ze)return;const ct=this.currentPath;let Pt=V(this,Ae);if(ct.push([De,Te]),at(this,Re,!0),ct.length<=2){Pt.moveTo(...ct[0]),Pt.lineTo(De,Te);return}ct.length===3&&(at(this,Ae,Pt=new Path2D),Pt.moveTo(...ct[0])),Ue(this,ne,ot).call(this,Pt,...ct.at(-3),...ct.at(-2),De,Te)},ze=function(){if(this.currentPath.length===0)return;const De=this.currentPath.at(-1);V(this,Ae).lineTo(...De)},rt=function(De,Te){at(this,pe,null),De=Math.min(Math.max(De,0),this.canvas.width),Te=Math.min(Math.max(Te,0),this.canvas.height),Ue(this,ne,qe).call(this,De,Te),Ue(this,ne,ze).call(this);let We;if(this.currentPath.length!==1)We=Ue(this,ne,He).call(this);else{const _t=[De,Te];We=[[_t,_t.slice(),_t.slice(),_t]]}const Ze=V(this,Ae),ct=this.currentPath;this.currentPath=[],at(this,Ae,new Path2D);const Pt=()=>{this.allRawPaths.push(ct),this.paths.push(We),this.bezierPath2D.push(Ze),this.rebuild()},$t=()=>{this.allRawPaths.pop(),this.paths.pop(),this.bezierPath2D.pop(),this.paths.length===0?this.remove():(this.canvas||(Ue(this,ne,xt).call(this),Ue(this,ne,pt).call(this)),Ue(this,ne,Xe).call(this))};this.addCommands({cmd:Pt,undo:$t,mustExec:!0})},ye=function(){if(!V(this,Re))return;at(this,Re,!1);const De=Math.ceil(this.thickness*this.parentScale),Te=this.currentPath.slice(-3),We=Te.map(Pt=>Pt[0]),Ze=Te.map(Pt=>Pt[1]);Math.min(...We)-De,Math.max(...We)+De,Math.min(...Ze)-De,Math.max(...Ze)+De;const{ctx:ct}=this;ct.save(),ct.clearRect(0,0,this.canvas.width,this.canvas.height);for(const Pt of this.bezierPath2D)ct.stroke(Pt);ct.stroke(V(this,Ae)),ct.restore()},ot=function(De,Te,We,Ze,ct,Pt,$t){const _t=(Te+Ze)/2,Tt=(We+ct)/2,jt=(Ze+Pt)/2,Jt=(ct+$t)/2;De.bezierCurveTo(_t+2*(Ze-_t)/3,Tt+2*(ct-Tt)/3,jt+2*(Ze-jt)/3,Jt+2*(ct-Jt)/3,jt,Jt)},He=function(){const De=this.currentPath;if(De.length<=2)return[[De[0],De[0],De.at(-1),De.at(-1)]];const Te=[];let We,[Ze,ct]=De[0];for(We=1;We<De.length-2;We++){const[Yt,Bt]=De[We],[cn,sn]=De[We+1],rn=(Yt+cn)/2,Fn=(Bt+sn)/2,In=[Ze+2*(Yt-Ze)/3,ct+2*(Bt-ct)/3],Nn=[rn+2*(Yt-rn)/3,Fn+2*(Bt-Fn)/3];Te.push([[Ze,ct],In,Nn,[rn,Fn]]),[Ze,ct]=[rn,Fn]}const[Pt,$t]=De[We],[_t,Tt]=De[We+1],jt=[Ze+2*(Pt-Ze)/3,ct+2*($t-ct)/3],Jt=[_t+2*(Pt-_t)/3,Tt+2*($t-Tt)/3];return Te.push([[Ze,ct],jt,Jt,[_t,Tt]]),Te},Ge=function(){if(this.isEmpty()){Ue(this,ne,nt).call(this);return}Ue(this,ne,Ce).call(this);const{canvas:De,ctx:Te}=this;Te.setTransform(1,0,0,1,0,0),Te.clearRect(0,0,De.width,De.height),Ue(this,ne,nt).call(this);for(const We of this.bezierPath2D)Te.stroke(We)},Be=function(De){this.canvas.removeEventListener("pointerleave",V(this,B)),this.canvas.removeEventListener("pointermove",V(this,K)),this.canvas.removeEventListener("pointerup",V(this,he)),this.canvas.addEventListener("pointerdown",V(this,ke)),setTimeout(()=>{this.canvas.removeEventListener("contextmenu",kt.noContextMenu)},10),Ue(this,ne,rt).call(this,De.offsetX,De.offsetY),this.addToAnnotationStorage(),this.setInBackground()},xt=function(){this.canvas=document.createElement("canvas"),this.canvas.width=this.canvas.height=0,this.canvas.className="inkEditorCanvas",gt.AnnotationEditor._l10nPromise.get("editor_ink_canvas_aria_label").then(De=>{var Te;return(Te=this.canvas)==null?void 0:Te.setAttribute("aria-label",De)}),this.div.append(this.canvas),this.ctx=this.canvas.getContext("2d")},pt=function(){at(this,ve,new ResizeObserver(De=>{const Te=De[0].contentRect;Te.width&&Te.height&&this.setDimensions(Te.width,Te.height)})),V(this,ve).observe(this.div)},Et=function(){if(!V(this,ge))return;const[De,Te]=this.parentDimensions;this.canvas.width=Math.ceil(this.width*De),this.canvas.height=Math.ceil(this.height*Te),Ue(this,ne,nt).call(this)},Ne=function(De,Te){const We=Ue(this,ne,Fe).call(this),Ze=(De-We)/V(this,X),ct=(Te-We)/V(this,q);this.scaleFactor=Math.min(Ze,ct)},nt=function(){const De=Ue(this,ne,Fe).call(this)/2;this.ctx.setTransform(this.scaleFactor,0,0,this.scaleFactor,this.translationX*this.scaleFactor+De,this.translationY*this.scaleFactor+De)},ut=new WeakSet,Ve=function(De){const Te=new Path2D;for(let We=0,Ze=De.length;We<Ze;We++){const[ct,Pt,$t,_t]=De[We];We===0&&Te.moveTo(...ct),Te.bezierCurveTo(Pt[0],Pt[1],$t[0],$t[1],_t[0],_t[1])}return Te},_e=function(De,Te,We){const[Ze,ct,Pt,$t]=Te;switch(We){case 0:for(let _t=0,Tt=De.length;_t<Tt;_t+=2)De[_t]+=Ze,De[_t+1]=$t-De[_t+1];break;case 90:for(let _t=0,Tt=De.length;_t<Tt;_t+=2){const jt=De[_t];De[_t]=De[_t+1]+Ze,De[_t+1]=jt+ct}break;case 180:for(let _t=0,Tt=De.length;_t<Tt;_t+=2)De[_t]=Pt-De[_t],De[_t+1]+=ct;break;case 270:for(let _t=0,Tt=De.length;_t<Tt;_t+=2){const jt=De[_t];De[_t]=Pt-De[_t+1],De[_t+1]=$t-jt}break;default:throw new Error("Invalid rotation")}return De},fe=function(De,Te,We){const[Ze,ct,Pt,$t]=Te;switch(We){case 0:for(let _t=0,Tt=De.length;_t<Tt;_t+=2)De[_t]-=Ze,De[_t+1]=$t-De[_t+1];break;case 90:for(let _t=0,Tt=De.length;_t<Tt;_t+=2){const jt=De[_t];De[_t]=De[_t+1]-ct,De[_t+1]=jt-Ze}break;case 180:for(let _t=0,Tt=De.length;_t<Tt;_t+=2)De[_t]=Pt-De[_t],De[_t+1]-=ct;break;case 270:for(let _t=0,Tt=De.length;_t<Tt;_t+=2){const jt=De[_t];De[_t]=$t-De[_t+1],De[_t+1]=Pt-jt}break;default:throw new Error("Invalid rotation")}return De},Le=function(De,Te,We,Ze){var ct,Pt;const $t=[],_t=this.thickness/2,Tt=De*Te+_t,jt=De*We+_t;for(const Jt of this.paths){const Yt=[],Bt=[];for(let cn=0,sn=Jt.length;cn<sn;cn++){const[rn,Fn,In,Nn]=Jt[cn],Lt=De*rn[0]+Tt,yt=De*rn[1]+jt,ft=De*Fn[0]+Tt,Qt=De*Fn[1]+jt,qt=De*In[0]+Tt,Ht=De*In[1]+jt,Qe=De*Nn[0]+Tt,Rt=De*Nn[1]+jt;cn===0&&(Yt.push(Lt,yt),Bt.push(Lt,yt)),Yt.push(ft,Qt,qt,Ht,Qe,Rt),Bt.push(ft,Qt),cn===sn-1&&Bt.push(Qe,Rt)}$t.push({bezier:Ue(ct=Mt,ut,_e).call(ct,Yt,Ze,this.rotation),points:Ue(Pt=Mt,ut,_e).call(Pt,Bt,Ze,this.rotation)})}return $t},je=function(){let De=1/0,Te=-1/0,We=1/0,Ze=-1/0;for(const ct of this.paths)for(const[Pt,$t,_t,Tt]of ct){const jt=Ye.Util.bezierBoundingBox(...Pt,...$t,..._t,...Tt);De=Math.min(De,jt[0]),We=Math.min(We,jt[1]),Te=Math.max(Te,jt[2]),Ze=Math.max(Ze,jt[3])}return[De,We,Te,Ze]},Fe=function(){return V(this,ae)?Math.ceil(this.thickness*this.parentScale):0},Xe=function(De=!1){if(this.isEmpty())return;if(!V(this,ae)){Ue(this,ne,Ge).call(this);return}const Te=Ue(this,ne,je).call(this),We=Ue(this,ne,Fe).call(this);at(this,X,Math.max(gt.AnnotationEditor.MIN_SIZE,Te[2]-Te[0])),at(this,q,Math.max(gt.AnnotationEditor.MIN_SIZE,Te[3]-Te[1]));const Ze=Math.ceil(We+V(this,X)*this.scaleFactor),ct=Math.ceil(We+V(this,q)*this.scaleFactor),[Pt,$t]=this.parentDimensions;this.width=Ze/Pt,this.height=ct/$t,this.setAspectRatio(Ze,ct);const _t=this.translationX,Tt=this.translationY;this.translationX=-Te[0],this.translationY=-Te[1],Ue(this,ne,Et).call(this),Ue(this,ne,Ge).call(this),at(this,xe,Ze),at(this,Se,ct),this.setDims(Ze,ct);const jt=De?We/this.scaleFactor/2:0;this.translate(_t-this.translationX-jt,Tt-this.translationY-jt)},it(Mt,ut),$n(Mt,"_defaultColor",null),$n(Mt,"_defaultOpacity",1),$n(Mt,"_defaultThickness",1),$n(Mt,"_type","ink");let Ot=Mt;G.InkEditor=Ot},(W,G,Y)=>{var q,X,K,B,he,ke,Ae,ae,Re,ge,ve,xe,Se,pe,ne,we,Ie,Pe,Ee,Ce;Object.defineProperty(G,"__esModule",{value:!0}),G.StampEditor=void 0;var Oe=Y(1),qe=Y(4),ze=Y(6),rt=Y(29);const ye=class extends qe.AnnotationEditor{constructor(He){super({...He,name:"stampEditor"}),it(this,ve),it(this,q,null),it(this,X,null),it(this,K,null),it(this,B,null),it(this,he,null),it(this,ke,null),it(this,Ae,null),it(this,ae,null),it(this,Re,!1),it(this,ge,!1),at(this,B,He.bitmapUrl),at(this,he,He.bitmapFile)}static initialize(He){qe.AnnotationEditor.initialize(He)}static get supportedTypes(){const He=["apng","avif","bmp","gif","jpeg","png","svg+xml","webp","x-icon"];return(0,Oe.shadow)(this,"supportedTypes",He.map(Ge=>`image/${Ge}`))}static get supportedTypesStr(){return(0,Oe.shadow)(this,"supportedTypesStr",this.supportedTypes.join(","))}static isHandlingMimeForPasting(He){return this.supportedTypes.includes(He)}static paste(He,Ge){Ge.pasteEditor(Oe.AnnotationEditorType.STAMP,{bitmapFile:He.getAsFile()})}remove(){var He,Ge;V(this,X)&&(at(this,q,null),this._uiManager.imageManager.deleteId(V(this,X)),(He=V(this,ke))==null||He.remove(),at(this,ke,null),(Ge=V(this,Ae))==null||Ge.disconnect(),at(this,Ae,null)),super.remove()}rebuild(){if(!this.parent){V(this,X)&&Ue(this,ve,pe).call(this);return}super.rebuild(),this.div!==null&&(V(this,X)&&Ue(this,ve,pe).call(this),this.isAttachedToDOM||this.parent.add(this))}onceAdded(){this._isDraggable=!0,this.div.focus()}isEmpty(){return!(V(this,K)||V(this,q)||V(this,B)||V(this,he))}get isResizable(){return!0}render(){if(this.div)return this.div;let He,Ge;if(this.width&&(He=this.x,Ge=this.y),super.render(),this.div.hidden=!0,V(this,q)?Ue(this,ve,ne).call(this):Ue(this,ve,pe).call(this),this.width){const[Be,xt]=this.parentDimensions;this.setAt(He*Be,Ge*xt,this.width*Be,this.height*xt)}return this.div}static deserialize(He,Ge,Be){if(He instanceof rt.StampAnnotationElement)return null;const xt=super.deserialize(He,Ge,Be),{rect:pt,bitmapUrl:Et,bitmapId:Ne,isSvg:nt,accessibilityData:ut}=He;Ne&&Be.imageManager.isValidId(Ne)?at(xt,X,Ne):at(xt,B,Et),at(xt,Re,nt);const[Ve,_e]=xt.pageDimensions;return xt.width=(pt[2]-pt[0])/Ve,xt.height=(pt[3]-pt[1])/_e,ut&&(xt.altTextData=ut),xt}serialize(He=!1,Ge=null){if(this.isEmpty())return null;const Be={annotationType:Oe.AnnotationEditorType.STAMP,bitmapId:V(this,X),pageIndex:this.pageIndex,rect:this.getRect(0,0),rotation:this.rotation,isSvg:V(this,Re),structTreeParentId:this._structTreeParentId};if(He)return Be.bitmapUrl=Ue(this,ve,Ee).call(this,!0),Be.accessibilityData=this.altTextData,Be;const{decorative:xt,altText:pt}=this.altTextData;if(!xt&&pt&&(Be.accessibilityData={type:"Figure",alt:pt}),Ge===null)return Be;Ge.stamps||(Ge.stamps=new Map);const Et=V(this,Re)?(Be.rect[2]-Be.rect[0])*(Be.rect[3]-Be.rect[1]):null;if(!Ge.stamps.has(V(this,X)))Ge.stamps.set(V(this,X),{area:Et,serialized:Be}),Be.bitmap=Ue(this,ve,Ee).call(this,!1);else if(V(this,Re)){const Ne=Ge.stamps.get(V(this,X));Et>Ne.area&&(Ne.area=Et,Ne.serialized.bitmap.close(),Ne.serialized.bitmap=Ue(this,ve,Ee).call(this,!1))}return Be}};q=new WeakMap,X=new WeakMap,K=new WeakMap,B=new WeakMap,he=new WeakMap,ke=new WeakMap,Ae=new WeakMap,ae=new WeakMap,Re=new WeakMap,ge=new WeakMap,ve=new WeakSet,xe=function(He,Ge=!1){if(!He){this.remove();return}at(this,q,He.bitmap),Ge||(at(this,X,He.id),at(this,Re,He.isSvg)),Ue(this,ve,ne).call(this)},Se=function(){at(this,K,null),this._uiManager.enableWaiting(!1),V(this,ke)&&this.div.focus()},pe=function(){if(V(this,X)){this._uiManager.enableWaiting(!0),this._uiManager.imageManager.getFromId(V(this,X)).then(Ge=>Ue(this,ve,xe).call(this,Ge,!0)).finally(()=>Ue(this,ve,Se).call(this));return}if(V(this,B)){const Ge=V(this,B);at(this,B,null),this._uiManager.enableWaiting(!0),at(this,K,this._uiManager.imageManager.getFromUrl(Ge).then(Be=>Ue(this,ve,xe).call(this,Be)).finally(()=>Ue(this,ve,Se).call(this)));return}if(V(this,he)){const Ge=V(this,he);at(this,he,null),this._uiManager.enableWaiting(!0),at(this,K,this._uiManager.imageManager.getFromFile(Ge).then(Be=>Ue(this,ve,xe).call(this,Be)).finally(()=>Ue(this,ve,Se).call(this)));return}const He=document.createElement("input");He.type="file",He.accept=ye.supportedTypesStr,at(this,K,new Promise(Ge=>{He.addEventListener("change",async()=>{if(!He.files||He.files.length===0)this.remove();else{this._uiManager.enableWaiting(!0);const Be=await this._uiManager.imageManager.getFromFile(He.files[0]);Ue(this,ve,xe).call(this,Be)}Ge()}),He.addEventListener("cancel",()=>{this.remove(),Ge()})}).finally(()=>Ue(this,ve,Se).call(this))),He.click()},ne=function(){const{div:He}=this;let{width:Ge,height:Be}=V(this,q);const[xt,pt]=this.pageDimensions,Et=.75;if(this.width)Ge=this.width*xt,Be=this.height*pt;else if(Ge>Et*xt||Be>Et*pt){const Ve=Math.min(Et*xt/Ge,Et*pt/Be);Ge*=Ve,Be*=Ve}const[Ne,nt]=this.parentDimensions;this.setDims(Ge*Ne/xt,Be*nt/pt),this._uiManager.enableWaiting(!1);const ut=at(this,ke,document.createElement("canvas"));He.append(ut),He.hidden=!1,Ue(this,ve,Pe).call(this,Ge,Be),Ue(this,ve,Ce).call(this),V(this,ge)||(this.parent.addUndoableEditor(this),at(this,ge,!0)),this._uiManager._eventBus.dispatch("reporttelemetry",{source:this,details:{type:"editing",subtype:this.editorType,data:{action:"inserted_image"}}}),this.addAltTextButton()},we=function(He,Ge){var Be;const[xt,pt]=this.parentDimensions;this.width=He/xt,this.height=Ge/pt,this.setDims(He,Ge),(Be=this._initialOptions)!=null&&Be.isCentered?this.center():this.fixAndSetPosition(),this._initialOptions=null,V(this,ae)!==null&&clearTimeout(V(this,ae)),at(this,ae,setTimeout(()=>{at(this,ae,null),Ue(this,ve,Pe).call(this,He,Ge)},200))},Ie=function(He,Ge){const{width:Be,height:xt}=V(this,q);let pt=Be,Et=xt,Ne=V(this,q);for(;pt>2*He||Et>2*Ge;){const nt=pt,ut=Et;pt>2*He&&(pt=pt>=16384?Math.floor(pt/2)-1:Math.ceil(pt/2)),Et>2*Ge&&(Et=Et>=16384?Math.floor(Et/2)-1:Math.ceil(Et/2));const Ve=new OffscreenCanvas(pt,Et);Ve.getContext("2d").drawImage(Ne,0,0,nt,ut,0,0,pt,Et),Ne=Ve.transferToImageBitmap()}return Ne},Pe=function(He,Ge){He=Math.ceil(He),Ge=Math.ceil(Ge);const Be=V(this,ke);if(!Be||Be.width===He&&Be.height===Ge)return;Be.width=He,Be.height=Ge;const xt=V(this,Re)?V(this,q):Ue(this,ve,Ie).call(this,He,Ge),pt=Be.getContext("2d");pt.filter=this._uiManager.hcmFilter,pt.drawImage(xt,0,0,xt.width,xt.height,0,0,He,Ge)},Ee=function(He){if(He){if(V(this,Re)){const Be=this._uiManager.imageManager.getSvgUrl(V(this,X));if(Be)return Be}const Ge=document.createElement("canvas");return{width:Ge.width,height:Ge.height}=V(this,q),Ge.getContext("2d").drawImage(V(this,q),0,0),Ge.toDataURL()}if(V(this,Re)){const[Ge,Be]=this.pageDimensions,xt=Math.round(this.width*Ge*ze.PixelsPerInch.PDF_TO_CSS_UNITS),pt=Math.round(this.height*Be*ze.PixelsPerInch.PDF_TO_CSS_UNITS),Et=new OffscreenCanvas(xt,pt);return Et.getContext("2d").drawImage(V(this,q),0,0,V(this,q).width,V(this,q).height,0,0,xt,pt),Et.transferToImageBitmap()}return structuredClone(V(this,q))},Ce=function(){at(this,Ae,new ResizeObserver(He=>{const Ge=He[0].contentRect;Ge.width&&Ge.height&&Ue(this,ve,we).call(this,Ge.width,Ge.height)})),V(this,Ae).observe(this.div)},$n(ye,"_type","stamp");let ot=ye;G.StampEditor=ot}],__webpack_module_cache__={};function __w_pdfjs_require__(W){var G=__webpack_module_cache__[W];if(G!==void 0)return G.exports;var Y=__webpack_module_cache__[W]={exports:{}};return __webpack_modules__[W](Y,Y.exports,__w_pdfjs_require__),Y.exports}var __webpack_exports__={};return(()=>{var W=__webpack_exports__;Object.defineProperty(W,"__esModule",{value:!0}),Object.defineProperty(W,"AbortException",{enumerable:!0,get:function(){return G.AbortException}}),Object.defineProperty(W,"AnnotationEditorLayer",{enumerable:!0,get:function(){return K.AnnotationEditorLayer}}),Object.defineProperty(W,"AnnotationEditorParamsType",{enumerable:!0,get:function(){return G.AnnotationEditorParamsType}}),Object.defineProperty(W,"AnnotationEditorType",{enumerable:!0,get:function(){return G.AnnotationEditorType}}),Object.defineProperty(W,"AnnotationEditorUIManager",{enumerable:!0,get:function(){return B.AnnotationEditorUIManager}}),Object.defineProperty(W,"AnnotationLayer",{enumerable:!0,get:function(){return he.AnnotationLayer}}),Object.defineProperty(W,"AnnotationMode",{enumerable:!0,get:function(){return G.AnnotationMode}}),Object.defineProperty(W,"CMapCompressionType",{enumerable:!0,get:function(){return G.CMapCompressionType}}),Object.defineProperty(W,"DOMSVGFactory",{enumerable:!0,get:function(){return q.DOMSVGFactory}}),Object.defineProperty(W,"FeatureTest",{enumerable:!0,get:function(){return G.FeatureTest}}),Object.defineProperty(W,"GlobalWorkerOptions",{enumerable:!0,get:function(){return ke.GlobalWorkerOptions}}),Object.defineProperty(W,"ImageKind",{enumerable:!0,get:function(){return G.ImageKind}}),Object.defineProperty(W,"InvalidPDFException",{enumerable:!0,get:function(){return G.InvalidPDFException}}),Object.defineProperty(W,"MissingPDFException",{enumerable:!0,get:function(){return G.MissingPDFException}}),Object.defineProperty(W,"OPS",{enumerable:!0,get:function(){return G.OPS}}),Object.defineProperty(W,"PDFDataRangeTransport",{enumerable:!0,get:function(){return Y.PDFDataRangeTransport}}),Object.defineProperty(W,"PDFDateString",{enumerable:!0,get:function(){return q.PDFDateString}}),Object.defineProperty(W,"PDFWorker",{enumerable:!0,get:function(){return Y.PDFWorker}}),Object.defineProperty(W,"PasswordResponses",{enumerable:!0,get:function(){return G.PasswordResponses}}),Object.defineProperty(W,"PermissionFlag",{enumerable:!0,get:function(){return G.PermissionFlag}}),Object.defineProperty(W,"PixelsPerInch",{enumerable:!0,get:function(){return q.PixelsPerInch}}),Object.defineProperty(W,"PromiseCapability",{enumerable:!0,get:function(){return G.PromiseCapability}}),Object.defineProperty(W,"RenderingCancelledException",{enumerable:!0,get:function(){return q.RenderingCancelledException}}),Object.defineProperty(W,"SVGGraphics",{enumerable:!0,get:function(){return Y.SVGGraphics}}),Object.defineProperty(W,"UnexpectedResponseException",{enumerable:!0,get:function(){return G.UnexpectedResponseException}}),Object.defineProperty(W,"Util",{enumerable:!0,get:function(){return G.Util}}),Object.defineProperty(W,"VerbosityLevel",{enumerable:!0,get:function(){return G.VerbosityLevel}}),Object.defineProperty(W,"XfaLayer",{enumerable:!0,get:function(){return Ae.XfaLayer}}),Object.defineProperty(W,"build",{enumerable:!0,get:function(){return Y.build}}),Object.defineProperty(W,"createValidAbsoluteUrl",{enumerable:!0,get:function(){return G.createValidAbsoluteUrl}}),Object.defineProperty(W,"getDocument",{enumerable:!0,get:function(){return Y.getDocument}}),Object.defineProperty(W,"getFilenameFromUrl",{enumerable:!0,get:function(){return q.getFilenameFromUrl}}),Object.defineProperty(W,"getPdfFilenameFromUrl",{enumerable:!0,get:function(){return q.getPdfFilenameFromUrl}}),Object.defineProperty(W,"getXfaPageViewport",{enumerable:!0,get:function(){return q.getXfaPageViewport}}),Object.defineProperty(W,"isDataScheme",{enumerable:!0,get:function(){return q.isDataScheme}}),Object.defineProperty(W,"isPdfFile",{enumerable:!0,get:function(){return q.isPdfFile}}),Object.defineProperty(W,"loadScript",{enumerable:!0,get:function(){return q.loadScript}}),Object.defineProperty(W,"noContextMenu",{enumerable:!0,get:function(){return q.noContextMenu}}),Object.defineProperty(W,"normalizeUnicode",{enumerable:!0,get:function(){return G.normalizeUnicode}}),Object.defineProperty(W,"renderTextLayer",{enumerable:!0,get:function(){return X.renderTextLayer}}),Object.defineProperty(W,"setLayerDimensions",{enumerable:!0,get:function(){return q.setLayerDimensions}}),Object.defineProperty(W,"shadow",{enumerable:!0,get:function(){return G.shadow}}),Object.defineProperty(W,"updateTextLayer",{enumerable:!0,get:function(){return X.updateTextLayer}}),Object.defineProperty(W,"version",{enumerable:!0,get:function(){return Y.version}});var G=__w_pdfjs_require__(1),Y=__w_pdfjs_require__(2),q=__w_pdfjs_require__(6),X=__w_pdfjs_require__(26),K=__w_pdfjs_require__(27),B=__w_pdfjs_require__(5),he=__w_pdfjs_require__(29),ke=__w_pdfjs_require__(14),Ae=__w_pdfjs_require__(32)})(),__webpack_exports__})())})(pdf);var pdfExports=pdf.exports;(function(W){var G=T$1,Y=pdfExports;function q(oe){var Me=Object.create(null);return oe&&Object.keys(oe).forEach(function(Ke){if(Ke!=="default"){var et=Object.getOwnPropertyDescriptor(oe,Ke);Object.defineProperty(Me,Ke,et.get?et:{enumerable:!0,get:function(){return oe[Ke]}})}}),Me.default=oe,Object.freeze(Me)}var X,K=q(G),B=q(Y);W.AnnotationType=void 0,(X=W.AnnotationType||(W.AnnotationType={}))[X.Text=1]="Text",X[X.Link=2]="Link",X[X.FreeText=3]="FreeText",X[X.Line=4]="Line",X[X.Square=5]="Square",X[X.Circle=6]="Circle",X[X.Polygon=7]="Polygon",X[X.Polyline=8]="Polyline",X[X.Highlight=9]="Highlight",X[X.Underline=10]="Underline",X[X.Squiggly=11]="Squiggly",X[X.StrikeOut=12]="StrikeOut",X[X.Stamp=13]="Stamp",X[X.Caret=14]="Caret",X[X.Ink=15]="Ink",X[X.Popup=16]="Popup",X[X.FileAttachment=17]="FileAttachment";var he=function(oe,Me){return he=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(Ke,et){Ke.__proto__=et}||function(Ke,et){for(var st in et)Object.prototype.hasOwnProperty.call(et,st)&&(Ke[st]=et[st])},he(oe,Me)};function ke(oe,Me){if(typeof Me!="function"&&Me!==null)throw new TypeError("Class extends value "+String(Me)+" is not a constructor or null");function Ke(){this.constructor=oe}he(oe,Me),oe.prototype=Me===null?Object.create(Me):(Ke.prototype=Me.prototype,new Ke)}var Ae,ae=function(){return ae=Object.assign||function(oe){for(var Me,Ke=1,et=arguments.length;Ke<et;Ke++)for(var st in Me=arguments[Ke])Object.prototype.hasOwnProperty.call(Me,st)&&(oe[st]=Me[st]);return oe},ae.apply(this,arguments)};W.TextDirection=void 0,(Ae=W.TextDirection||(W.TextDirection={})).RightToLeft="RTL",Ae.LeftToRight="LTR";var Re,ge=K.createContext({currentTheme:"light",direction:W.TextDirection.LeftToRight,setCurrentTheme:function(){}}),ve=function(oe){var Me=[];return Object.keys(oe).forEach(function(Ke){Ke&&oe[Ke]&&Me.push(Ke)}),Me.join(" ")},xe=typeof window<"u"?K.useLayoutEffect:K.useEffect,Se=function(oe){var Me=K.useRef(null),Ke=oe.once,et=oe.threshold,st=oe.onVisibilityChanged;return xe(function(){var lt=Me.current;if(lt){var St=new IntersectionObserver(function(ht){ht.forEach(function(tt){var bt=tt.isIntersecting,mt=tt.intersectionRatio;st({isVisible:bt,ratio:mt}),bt&&Ke&&(St.unobserve(lt),St.disconnect())})},{threshold:et||0});return St.observe(lt),function(){St.unobserve(lt),St.disconnect()}}},[]),Me},pe=function(oe){var Me=oe.children,Ke=oe.ignoreDirection,et=Ke!==void 0&&Ke,st=oe.size,lt=st===void 0?24:st,St=K.useContext(ge).direction,ht=!et&&St===W.TextDirection.RightToLeft,tt="".concat(lt||24,"px");return K.createElement("svg",{"aria-hidden":"true",className:ve({"rpv-core__icon":!0,"rpv-core__icon--rtl":ht}),focusable:"false",height:tt,viewBox:"0 0 24 24",width:tt},Me)},ne=function(){return K.createElement(pe,{size:16},K.createElement("path",{d:"M23.5,0.499l-16.5,23l-6.5-6.5"}))},we=function(oe){var Me=oe.children,Ke=oe.testId,et=oe.onClick,st=K.useContext(ge).direction===W.TextDirection.RightToLeft,lt=Ke?{"data-testid":Ke}:{};return K.createElement("button",ae({className:ve({"rpv-core__primary-button":!0,"rpv-core__primary-button--rtl":st}),type:"button",onClick:et},lt),Me)},Ie=function(oe){var Me=oe.size,Ke=Me===void 0?"4rem":Me,et=oe.testId,st=K.useState(!1),lt=st[0],St=st[1],ht=et?{"data-testid":et}:{},tt=Se({onVisibilityChanged:function(bt){St(bt.isVisible)}});return K.createElement("div",ae({},ht,{className:ve({"rpv-core__spinner":!0,"rpv-core__spinner--animating":lt}),ref:tt,style:{height:Ke,width:Ke}}))},Pe=function(oe){var Me=oe.ariaLabel,Ke=Me===void 0?"":Me,et=oe.autoFocus,st=et!==void 0&&et,lt=oe.placeholder,St=lt===void 0?"":lt,ht=oe.testId,tt=oe.type,bt=tt===void 0?"text":tt,mt=oe.value,Vt=mt===void 0?"":mt,Dt=oe.onChange,Ft=oe.onKeyDown,Kt=Ft===void 0?function(){}:Ft,zt=K.useContext(ge).direction,Ut=K.useRef(),Tn=zt===W.TextDirection.RightToLeft,vn={ref:Ut,"data-testid":"","aria-label":Ke,className:ve({"rpv-core__textbox":!0,"rpv-core__textbox--rtl":Tn}),placeholder:St,value:Vt,onChange:function(bn){return Dt(bn.target.value)},onKeyDown:Kt};return ht&&(vn["data-testid"]=ht),xe(function(){if(st){var bn=Ut.current;if(bn){var wn=window.scrollX,un=window.scrollY;bn.focus(),window.scrollTo(wn,un)}}},[]),bt==="text"?K.createElement("input",ae({type:"text"},vn)):K.createElement("input",ae({type:"password"},vn))};(function(oe){oe[oe.ExitFullScreen=0]="ExitFullScreen",oe[oe.FullScreenChange=1]="FullScreenChange",oe[oe.FullScreenElement=2]="FullScreenElement",oe[oe.FullScreenEnabled=3]="FullScreenEnabled",oe[oe.RequestFullScreen=4]="RequestFullScreen"})(Re||(Re={}));var Ee,Ce={ExitFullScreen:"exitFullscreen",FullScreenChange:"fullscreenchange",FullScreenElement:"fullscreenElement",FullScreenEnabled:"fullscreenEnabled",RequestFullScreen:"requestFullscreen"},Oe={ExitFullScreen:"webkitExitFullscreen",FullScreenChange:"webkitfullscreenchange",FullScreenElement:"webkitFullscreenElement",FullScreenEnabled:"webkitFullscreenEnabled",RequestFullScreen:"webkitRequestFullscreen"},qe={ExitFullScreen:"msExitFullscreen",FullScreenChange:"msFullscreenChange",FullScreenElement:"msFullscreenElement",FullScreenEnabled:"msFullscreenEnabled",RequestFullScreen:"msRequestFullscreen"},ze=typeof window<"u",rt=ze&&(Re.FullScreenEnabled in document&&Ce||Oe.FullScreenEnabled in document&&Oe||qe.FullScreenEnabled in document&&qe)||Ce,ye=function(){return ze&&rt.FullScreenEnabled in document&&document[rt.FullScreenEnabled]===!0},ot=function(oe){return ze?oe[rt.ExitFullScreen]():Promise.resolve({})},He=function(){return ze?document[rt.FullScreenElement]:null},Ge=function(oe,Me){var Ke=K.useRef(),et=function(){Ke.current&&clearTimeout(Ke.current)};return K.useEffect(function(){return function(){return et()}},[]),K.useCallback(function(){for(var st=[],lt=0;lt<arguments.length;lt++)st[lt]=arguments[lt];et(),Ke.current=setTimeout(function(){oe.apply(void 0,st)},Me)},[oe,Me])},Be=function(){var oe=K.useRef(!1);return K.useEffect(function(){return oe.current=!0,function(){oe.current=!1}},[]),oe},xt=function(oe){var Me=K.useRef(oe);return K.useEffect(function(){Me.current=oe},[oe]),Me.current};(function(oe){oe.NotRenderedYet="NotRenderedYet",oe.Rendering="Rendering",oe.Rendered="Rendered"})(Ee||(Ee={}));var pt,Et=-9999,Ne=function(oe){var Me=oe.doc,Ke=Me.numPages,et=Me.loadingTask.docId,st=K.useMemo(function(){return Array(Ke).fill(null).map(function(ht,tt){return{pageIndex:tt,renderStatus:Ee.NotRenderedYet,visibility:Et}})},[et]),lt=K.useRef({currentRenderingPage:-1,startRange:0,endRange:Ke-1,visibilities:st}),St=function(ht,tt){lt.current.visibilities[ht].visibility=tt};return{getHighestPriorityPage:function(){var ht=lt.current.visibilities.slice(lt.current.startRange,lt.current.endRange+1).filter(function(Dt){return Dt.visibility>Et});if(!ht.length)return-1;for(var tt=ht[0].pageIndex,bt=ht[ht.length-1].pageIndex,mt=ht.length,Vt=0;Vt<mt;Vt++){if(ht[Vt].renderStatus===Ee.Rendering)return-1;if(ht[Vt].renderStatus===Ee.NotRenderedYet)return ht[Vt].pageIndex}return bt+1<Ke&&lt.current.visibilities[bt+1].renderStatus!==Ee.Rendered?bt+1:tt-1>=0&&lt.current.visibilities[tt-1].renderStatus!==Ee.Rendered?tt-1:-1},isInRange:function(ht){return ht>=lt.current.startRange&&ht<=lt.current.endRange},markNotRendered:function(){for(var ht=0;ht<Ke;ht++)lt.current.visibilities[ht].renderStatus=Ee.NotRenderedYet},markRendered:function(ht){lt.current.visibilities[ht].renderStatus=Ee.Rendered},markRendering:function(ht){lt.current.currentRenderingPage!==-1&&lt.current.currentRenderingPage!==ht&&lt.current.visibilities[lt.current.currentRenderingPage].renderStatus===Ee.Rendering&&(lt.current.visibilities[lt.current.currentRenderingPage].renderStatus=Ee.NotRenderedYet),lt.current.visibilities[ht].renderStatus=Ee.Rendering,lt.current.currentRenderingPage=ht},setOutOfRange:function(ht){St(ht,Et)},setRange:function(ht,tt){lt.current.startRange=ht,lt.current.endRange=tt;for(var bt=0;bt<Ke;bt++)(bt<ht||bt>tt)&&(lt.current.visibilities[bt].visibility=Et,lt.current.visibilities[bt].renderStatus=Ee.NotRenderedYet)},setVisibility:St}},nt={core:{askingPassword:{requirePasswordToOpen:"This document requires a password to open",submit:"Submit"},wrongPassword:{tryAgain:"The password is wrong. Please try again"},pageLabel:"Page {{pageIndex}}"}},ut=K.createContext({l10n:nt,setL10n:function(){}}),Ve=0,_e=function(){return Ve++},fe=function(oe,Me,Ke){var et=function(st){var lt=Me.current;if(lt){var St=st.target;if(St instanceof Element&&St.shadowRoot){var ht=st.composedPath();ht.length>0&&!lt.contains(ht[0])&&Ke()}else lt.contains(St)||Ke()}};K.useEffect(function(){if(oe){var st={capture:!0};return document.addEventListener("click",et,st),function(){document.removeEventListener("click",et,st)}}},[])},Le=function(oe){var Me=function(Ke){Ke.key==="Escape"&&oe()};K.useEffect(function(){return document.addEventListener("keyup",Me),function(){document.removeEventListener("keyup",Me)}},[])},je=function(oe){var Me=oe.ariaControlsSuffix,Ke=oe.children,et=oe.closeOnClickOutside,st=oe.closeOnEscape,lt=oe.onToggle,St=K.useRef(),ht=K.useContext(ge).direction===W.TextDirection.RightToLeft;return K.useEffect(function(){var tt=window.getComputedStyle(document.body).overflow;return document.body.style.overflow="hidden",function(){document.body.style.overflow=tt}},[]),Le(function(){St.current&&st&&lt()}),fe(et,St,lt),xe(function(){var tt=St.current;if(tt){var bt=.75*document.body.clientHeight;tt.getBoundingClientRect().height>=bt&&(tt.style.overflow="auto",tt.style.maxHeight="".concat(bt,"px"))}},[]),K.createElement("div",{"aria-modal":"true",className:ve({"rpv-core__modal-body":!0,"rpv-core__modal-body--rtl":ht}),id:"rpv-core__modal-body-".concat(Me),ref:St,role:"dialog",tabIndex:-1},Ke)},Fe=function(oe){var Me=oe.children;return K.createElement("div",{className:"rpv-core__modal-overlay"},Me)};W.ToggleStatus=void 0,(pt=W.ToggleStatus||(W.ToggleStatus={})).Close="Close",pt.Open="Open",pt.Toggle="Toggle";var Xe,Ye=function(oe){var Me=K.useState(oe),Ke=Me[0],et=Me[1];return{opened:Ke,toggle:function(st){switch(st){case W.ToggleStatus.Close:et(!1);break;case W.ToggleStatus.Open:et(!0);break;case W.ToggleStatus.Toggle:default:et(function(lt){return!lt})}}}},gt=function(oe){var Me=oe.content,Ke=oe.isOpened,et=Ke!==void 0&&Ke,st=oe.target,lt=Ye(et),St=lt.opened,ht=lt.toggle;return K.createElement(K.Fragment,null,st&&st(ht,St),St&&Me(ht))};W.Position=void 0,(Xe=W.Position||(W.Position={})).TopLeft="TOP_LEFT",Xe.TopCenter="TOP_CENTER",Xe.TopRight="TOP_RIGHT",Xe.RightTop="RIGHT_TOP",Xe.RightCenter="RIGHT_CENTER",Xe.RightBottom="RIGHT_BOTTOM",Xe.BottomLeft="BOTTOM_LEFT",Xe.BottomCenter="BOTTOM_CENTER",Xe.BottomRight="BOTTOM_RIGHT",Xe.LeftTop="LEFT_TOP",Xe.LeftCenter="LEFT_CENTER",Xe.LeftBottom="LEFT_BOTTOM";var Ct,kt,dt,Mt,Ot,De,Te,We,Ze=function(oe,Me,Ke,et,st){xe(function(){var lt=Me.current,St=oe.current,ht=Ke.current;if(St&&lt&&ht){var tt=ht.getBoundingClientRect(),bt=function(Dt,Ft,Kt,zt){var Ut=Ft.getBoundingClientRect(),Tn=Dt.getBoundingClientRect(),vn=Tn.height,bn=Tn.width,wn=0,un=0;switch(Kt){case W.Position.TopLeft:wn=Ut.top-vn,un=Ut.left;break;case W.Position.TopCenter:wn=Ut.top-vn,un=Ut.left+Ut.width/2-bn/2;break;case W.Position.TopRight:wn=Ut.top-vn,un=Ut.left+Ut.width-bn;break;case W.Position.RightTop:wn=Ut.top,un=Ut.left+Ut.width;break;case W.Position.RightCenter:wn=Ut.top+Ut.height/2-vn/2,un=Ut.left+Ut.width;break;case W.Position.RightBottom:wn=Ut.top+Ut.height-vn,un=Ut.left+Ut.width;break;case W.Position.BottomLeft:wn=Ut.top+Ut.height,un=Ut.left;break;case W.Position.BottomCenter:wn=Ut.top+Ut.height,un=Ut.left+Ut.width/2-bn/2;break;case W.Position.BottomRight:wn=Ut.top+Ut.height,un=Ut.left+Ut.width-bn;break;case W.Position.LeftTop:wn=Ut.top,un=Ut.left-bn;break;case W.Position.LeftCenter:wn=Ut.top+Ut.height/2-vn/2,un=Ut.left-bn;break;case W.Position.LeftBottom:wn=Ut.top+Ut.height-vn,un=Ut.left-bn}return{left:un+(zt.left||0),top:wn+(zt.top||0)}}(St,lt,et,st),mt=bt.top,Vt=bt.left;St.style.top="".concat(mt-tt.top,"px"),St.style.left="".concat(Vt-tt.left,"px")}},[])},ct=function(oe){var Me,Ke=oe.customClassName,et=oe.position;return K.createElement("div",{className:ve((Me={"rpv-core__arrow":!0,"rpv-core__arrow--tl":et===W.Position.TopLeft,"rpv-core__arrow--tc":et===W.Position.TopCenter,"rpv-core__arrow--tr":et===W.Position.TopRight,"rpv-core__arrow--rt":et===W.Position.RightTop,"rpv-core__arrow--rc":et===W.Position.RightCenter,"rpv-core__arrow--rb":et===W.Position.RightBottom,"rpv-core__arrow--bl":et===W.Position.BottomLeft,"rpv-core__arrow--bc":et===W.Position.BottomCenter,"rpv-core__arrow--br":et===W.Position.BottomRight,"rpv-core__arrow--lt":et===W.Position.LeftTop,"rpv-core__arrow--lc":et===W.Position.LeftCenter,"rpv-core__arrow--lb":et===W.Position.LeftBottom},Me["".concat(Ke)]=Ke!=="",Me))})},Pt=function(oe){var Me=oe.ariaControlsSuffix,Ke=oe.children,et=oe.closeOnClickOutside,st=oe.offset,lt=oe.position,St=oe.targetRef,ht=oe.onClose,tt=K.useRef(),bt=K.useRef(),mt=K.useRef(),Vt=K.useContext(ge).direction===W.TextDirection.RightToLeft;fe(et,tt,ht),Ze(tt,St,mt,lt,st),xe(function(){var Ft=bt.current;if(Ft){var Kt=.75*document.body.clientHeight;Ft.getBoundingClientRect().height>=Kt&&(Ft.style.overflow="auto",Ft.style.maxHeight="".concat(Kt,"px"))}},[]);var Dt="rpv-core__popover-body-inner-".concat(Me);return K.createElement(K.Fragment,null,K.createElement("div",{ref:mt,style:{left:0,position:"absolute",top:0}}),K.createElement("div",{"aria-describedby":Dt,className:ve({"rpv-core__popover-body":!0,"rpv-core__popover-body--rtl":Vt}),id:"rpv-core__popover-body-".concat(Me),ref:tt,role:"dialog",tabIndex:-1},K.createElement(ct,{customClassName:"rpv-core__popover-body-arrow",position:lt}),K.createElement("div",{id:Dt,ref:bt},Ke)))},$t=function(oe){var Me=oe.closeOnEscape,Ke=oe.onClose,et=K.useRef();return Le(function(){et.current&&Me&&Ke()}),K.createElement("div",{className:"rpv-core__popover-overlay",ref:et})},_t=function(oe){var Me=oe.ariaControlsSuffix,Ke=oe.children,et=oe.contentRef,st=oe.offset,lt=oe.position,St=oe.targetRef,ht=K.useRef(),tt=K.useContext(ge).direction===W.TextDirection.RightToLeft;return Ze(et,St,ht,lt,st),K.createElement(K.Fragment,null,K.createElement("div",{ref:ht,style:{left:0,position:"absolute",top:0}}),K.createElement("div",{className:ve({"rpv-core__tooltip-body":!0,"rpv-core__tooltip-body--rtl":tt}),id:"rpv-core__tooltip-body-".concat(Me),ref:et,role:"tooltip"},K.createElement(ct,{customClassName:"rpv-core__tooltip-body-arrow",position:lt}),K.createElement("div",{className:"rpv-core__tooltip-body-content"},Ke)))};W.FullScreenMode=void 0,(Ct=W.FullScreenMode||(W.FullScreenMode={})).Normal="Normal",Ct.Entering="Entering",Ct.Entered="Entered",Ct.EnteredCompletely="EnteredCompletely",Ct.Exitting="Exitting",Ct.Exited="Exited",W.LayerRenderStatus=void 0,(kt=W.LayerRenderStatus||(W.LayerRenderStatus={}))[kt.PreRender=0]="PreRender",kt[kt.DidRender=1]="DidRender",W.PageMode=void 0,(dt=W.PageMode||(W.PageMode={})).Attachments="UseAttachments",dt.Bookmarks="UseOutlines",dt.ContentGroup="UseOC",dt.Default="UserNone",dt.FullScreen="FullScreen",dt.Thumbnails="UseThumbs",W.PasswordStatus=void 0,(Mt=W.PasswordStatus||(W.PasswordStatus={})).RequiredPassword="RequiredPassword",Mt.WrongPassword="WrongPassword",W.RotateDirection=void 0,(Ot=W.RotateDirection||(W.RotateDirection={})).Backward="Backward",Ot.Forward="Forward",W.ScrollMode=void 0,(De=W.ScrollMode||(W.ScrollMode={})).Page="Page",De.Horizontal="Horizontal",De.Vertical="Vertical",De.Wrapped="Wrapped",W.SpecialZoomLevel=void 0,(Te=W.SpecialZoomLevel||(W.SpecialZoomLevel={})).ActualSize="ActualSize",Te.PageFit="PageFit",Te.PageWidth="PageWidth",W.ViewMode=void 0,(We=W.ViewMode||(W.ViewMode={})).DualPage="DualPage",We.DualPageWithCover="DualPageWithCover",We.SinglePage="SinglePage";var Tt,jt=function(oe,Me){return oe.reduce(function(Ke,et,st){return st%Me?Ke[Ke.length-1].push(et):Ke.push([et]),Ke},[])},Jt=function(oe,Me){switch(Me[1].name){case"XYZ":return{bottomOffset:function(Ke,et){return Me[3]===null?et:Me[3]},leftOffset:function(Ke,et){return Me[2]===null?0:Me[2]},pageIndex:oe,scaleTo:Me[4]};case"Fit":case"FitB":return{bottomOffset:0,leftOffset:0,pageIndex:oe,scaleTo:W.SpecialZoomLevel.PageFit};case"FitH":case"FitBH":return{bottomOffset:Me[2],leftOffset:0,pageIndex:oe,scaleTo:W.SpecialZoomLevel.PageWidth};default:return{bottomOffset:0,leftOffset:0,pageIndex:oe,scaleTo:1}}},Yt=new Map,Bt=new Map,cn=function(oe,Me){return"".concat(oe.loadingTask.docId,"___").concat(Me.num,"R").concat(Me.gen===0?"":Me.gen)},sn=function(oe,Me,Ke){Yt.set(cn(oe,Me),Ke)},rn=function(oe,Me){if(!oe)return Promise.reject("The document is not loaded yet");var Ke="".concat(oe.loadingTask.docId,"___").concat(Me),et=Bt.get(Ke);return et?Promise.resolve(et):new Promise(function(st,lt){oe.getPage(Me+1).then(function(St){Bt.set(Ke,St),St.ref&&sn(oe,St.ref,Me),st(St)})})},Fn=function(oe,Me){return new Promise(function(Ke){new Promise(function(et){typeof Me=="string"?oe.getDestination(Me).then(function(st){et(st)}):et(Me)}).then(function(et){if(typeof et[0]=="object"&&et[0]!==null){var st=et[0],lt=function(ht,tt){var bt=cn(ht,tt);return Yt.has(bt)?Yt.get(bt):null}(oe,st);lt===null?oe.getPageIndex(st).then(function(ht){sn(oe,st,ht),Fn(oe,Me).then(function(tt){return Ke(tt)})}):Ke(Jt(lt,et))}else{var St=Jt(et[0],et);Ke(St)}})})};(function(oe){oe[oe.Solid=1]="Solid",oe[oe.Dashed=2]="Dashed",oe[oe.Beveled=3]="Beveled",oe[oe.Inset=4]="Inset",oe[oe.Underline=5]="Underline"})(Tt||(Tt={}));var In,Nn=new RegExp("^D:(\\d{4})(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?([Z|+|-])?(\\d{2})?'?(\\d{2})?'?"),Lt=function(oe,Me,Ke,et){var st=parseInt(oe,10);return st>=Me&&st<=Ke?st:et},yt=function(oe){return oe.contentsObj?oe.contentsObj.str:oe.contents||""},ft=function(oe){return oe.titleObj?oe.titleObj.str:oe.title||""},Qt=function(oe){var Me=oe.annotation,Ke=K.useContext(ge).direction,et=ft(Me),st=yt(Me),lt=Ke===W.TextDirection.RightToLeft,St=K.useRef(),ht="";if(Me.modificationDate){var tt=function(bt){var mt=Nn.exec(bt);if(!mt)return null;var Vt=parseInt(mt[1],10),Dt=Lt(mt[2],1,12,1)-1,Ft=Lt(mt[3],1,31,1),Kt=Lt(mt[4],0,23,0),zt=Lt(mt[5],0,59,0),Ut=Lt(mt[6],0,59,0),Tn=mt[7]||"Z",vn=Lt(mt[8],0,23,0),bn=Lt(mt[9],0,59,0);switch(Tn){case"-":Kt+=vn,zt+=bn;break;case"+":Kt-=vn,zt-=bn}return new Date(Date.UTC(Vt,Dt,Ft,Kt,zt,Ut))}(Me.modificationDate);ht=tt?"".concat(tt.toLocaleDateString(),", ").concat(tt.toLocaleTimeString()):""}return K.useLayoutEffect(function(){if(St.current){var bt=document.querySelector('[data-annotation-id="'.concat(Me.id,'"]'));if(bt){var mt=bt;return mt.style.zIndex+=1,function(){mt.style.zIndex="".concat(parseInt(mt.style.zIndex,10)-1)}}}},[]),K.createElement("div",{ref:St,className:ve({"rpv-core__annotation-popup-wrapper":!0,"rpv-core__annotation-popup-wrapper--rtl":lt}),style:{top:Me.annotationType===W.AnnotationType.Popup?"":"100%"}},et&&K.createElement(K.Fragment,null,K.createElement("div",{className:ve({"rpv-core__annotation-popup-title":!0,"rpv-core__annotation-popup-title--ltr":!lt,"rpv-core__annotation-popup-title--rtl":lt})},et),K.createElement("div",{className:"rpv-core__annotation-popup-date"},ht)),st&&K.createElement("div",{className:"rpv-core__annotation-popup-content"},st.split(`
`).map(function(bt,mt){return K.createElement(K.Fragment,{key:mt},bt,K.createElement("br",null))})))};(function(oe){oe.Click="Click",oe.Hover="Hover"})(In||(In={}));var qt,Ht=function(oe){var Me,Ke=oe.annotation,et=oe.children,st=oe.ignoreBorder,lt=oe.hasPopup,St=oe.isRenderable,ht=oe.page,tt=oe.viewport,bt=Ke.rect,mt=function(){var yn=Ye(!1),jn=yn.opened,On=yn.toggle,Un=K.useState(In.Hover),zn=Un[0],Gn=Un[1];return{opened:jn,closeOnHover:function(){zn===In.Hover&&On(W.ToggleStatus.Close)},openOnHover:function(){zn===In.Hover&&On(W.ToggleStatus.Open)},toggleOnClick:function(){switch(zn){case In.Click:jn&&Gn(In.Hover),On(W.ToggleStatus.Toggle);break;case In.Hover:Gn(In.Click),On(W.ToggleStatus.Open)}}}}(),Vt=mt.closeOnHover,Dt=mt.opened,Ft=mt.openOnHover,Kt=mt.toggleOnClick,zt=(Me=[bt[0],ht.view[3]+ht.view[1]-bt[1],bt[2],ht.view[3]+ht.view[1]-bt[3]],[Math.min(Me[0],Me[2]),Math.min(Me[1],Me[3]),Math.max(Me[0],Me[2]),Math.max(Me[1],Me[3])]),Ut=bt[2]-bt[0],Tn=bt[3]-bt[1],vn={borderColor:"",borderRadius:"",borderStyle:"",borderWidth:""};if(!st&&Ke.borderStyle.width>0){switch(Ke.borderStyle.style){case Tt.Dashed:vn.borderStyle="dashed";break;case Tt.Solid:vn.borderStyle="solid";break;case Tt.Underline:vn=Object.assign({borderBottomStyle:"solid"},vn);case Tt.Beveled:case Tt.Inset:}var bn=Ke.borderStyle.width;vn.borderWidth="".concat(bn,"px"),Ke.borderStyle.style!==Tt.Underline&&(Ut-=2*bn,Tn-=2*bn);var wn=Ke.borderStyle,un=wn.horizontalCornerRadius,xn=wn.verticalCornerRadius;(un>0||xn>0)&&(vn.borderRadius="".concat(un,"px / ").concat(xn,"px")),Ke.color?vn.borderColor="rgb(".concat(0|Ke.color[0],", ").concat(0|Ke.color[1],", ").concat(0|Ke.color[2],")"):vn.borderWidth="0"}return K.createElement(K.Fragment,null,St&&et({popup:{opened:Dt,closeOnHover:Vt,openOnHover:Ft,toggleOnClick:Kt},slot:{attrs:{style:Object.assign({height:"".concat(Tn,"px"),left:"".concat(zt[0],"px"),top:"".concat(zt[1],"px"),transform:"matrix(".concat(tt.transform.join(","),")"),transformOrigin:"-".concat(zt[0],"px -").concat(zt[1],"px"),width:"".concat(Ut,"px")},vn)},children:K.createElement(K.Fragment,null,lt&&Dt&&K.createElement(Qt,{annotation:Ke}))}}))},Qe=function(oe){var Me=oe.annotation,Ke=oe.page,et=oe.viewport,st=Me.hasPopup===!1,lt=ft(Me),St=yt(Me),ht=!!(Me.hasPopup||lt||St);return K.createElement(Ht,{annotation:Me,hasPopup:st,ignoreBorder:!0,isRenderable:ht,page:Ke,viewport:et},function(tt){return K.createElement("div",ae({},tt.slot.attrs,{className:"rpv-core__annotation rpv-core__annotation--caret","data-annotation-id":Me.id,onClick:tt.popup.toggleOnClick,onMouseEnter:tt.popup.openOnHover,onMouseLeave:tt.popup.closeOnHover}),tt.slot.children)})},Rt=function(oe){var Me=oe.annotation,Ke=oe.page,et=oe.viewport,st=Me.hasPopup===!1,lt=ft(Me),St=yt(Me),ht=!!(Me.hasPopup||lt||St),tt=Me.rect,bt=tt[2]-tt[0],mt=tt[3]-tt[1],Vt=Me.borderStyle.width;return K.createElement(Ht,{annotation:Me,hasPopup:st,ignoreBorder:!0,isRenderable:ht,page:Ke,viewport:et},function(Dt){return K.createElement("div",ae({},Dt.slot.attrs,{className:"rpv-core__annotation rpv-core__annotation--circle","data-annotation-id":Me.id,onClick:Dt.popup.toggleOnClick,onMouseEnter:Dt.popup.openOnHover,onMouseLeave:Dt.popup.closeOnHover}),K.createElement("svg",{height:"".concat(mt,"px"),preserveAspectRatio:"none",version:"1.1",viewBox:"0 0 ".concat(bt," ").concat(mt),width:"".concat(bt,"px")},K.createElement("circle",{cy:mt/2,fill:"none",rx:bt/2-Vt/2,ry:mt/2-Vt/2,stroke:"transparent",strokeWidth:Vt||1})),Dt.slot.children)})},Zt=function(oe){var Me=oe.annotation,Ke=oe.page,et=oe.viewport,st=ft(Me),lt=yt(Me),St=!(Me.hasPopup!==!1||!st&&!lt),ht=function(){var tt,bt,mt,Vt,Dt=Me.file;Dt&&(tt=Dt.filename,bt=Dt.content,mt=typeof bt=="string"?"":URL.createObjectURL(new Blob([bt],{type:""})),(Vt=document.createElement("a")).style.display="none",Vt.href=mt||tt,Vt.setAttribute("download",function(Ft){var Kt=Ft.split("/").pop();return Kt?Kt.split("#")[0].split("?")[0]:Ft}(tt)),document.body.appendChild(Vt),Vt.click(),document.body.removeChild(Vt),mt&&URL.revokeObjectURL(mt))};return K.createElement(Ht,{annotation:Me,hasPopup:St,ignoreBorder:!0,isRenderable:!0,page:Ke,viewport:et},function(tt){return K.createElement("div",ae({},tt.slot.attrs,{className:"rpv-core__annotation rpv-core__annotation--file-attachment","data-annotation-id":Me.id,onClick:tt.popup.toggleOnClick,onDoubleClick:ht,onMouseEnter:tt.popup.openOnHover,onMouseLeave:tt.popup.closeOnHover}),tt.slot.children)})},pn=function(oe){var Me=oe.annotation,Ke=oe.page,et=oe.viewport,st=Me.hasPopup===!1,lt=ft(Me),St=yt(Me),ht=!!(Me.hasPopup||lt||St);return K.createElement(Ht,{annotation:Me,hasPopup:st,ignoreBorder:!0,isRenderable:ht,page:Ke,viewport:et},function(tt){return K.createElement("div",ae({},tt.slot.attrs,{className:"rpv-core__annotation rpv-core__annotation--free-text","data-annotation-id":Me.id,onClick:tt.popup.toggleOnClick,onMouseEnter:tt.popup.openOnHover,onMouseLeave:tt.popup.closeOnHover}),tt.slot.children)})},an=function(oe){var Me=oe.annotation,Ke=oe.page,et=oe.viewport,st=ft(Me),lt=yt(Me),St=!(!st&&!lt),ht=!Me.parentType||["Circle","Ink","Line","Polygon","PolyLine","Square"].indexOf(Me.parentType)!==-1;return xe(function(){if(Me.parentId){var tt=document.querySelector('[data-annotation-id="'.concat(Me.parentId,'"]')),bt=document.querySelector('[data-annotation-id="'.concat(Me.id,'"]'));if(tt&&bt){var mt=parseFloat(tt.style.left),Vt=parseFloat(tt.style.top)+parseFloat(tt.style.height);bt.style.left="".concat(mt,"px"),bt.style.top="".concat(Vt,"px"),bt.style.transformOrigin="-".concat(mt,"px -").concat(Vt,"px")}}},[]),K.createElement(Ht,{annotation:Me,hasPopup:ht,ignoreBorder:!1,isRenderable:St,page:Ke,viewport:et},function(tt){return K.createElement("div",ae({},tt.slot.attrs,{className:"rpv-core__annotation rpv-core__annotation--popup","data-annotation-id":Me.id}),K.createElement(Qt,{annotation:Me}))})},Nt=function(oe){var Me=oe.annotation,Ke=oe.childAnnotation,et=oe.page,st=oe.viewport,lt=Me.hasPopup===!1,St=ft(Me),ht=yt(Me),tt=!!(Me.hasPopup||St||ht);if(Me.quadPoints&&Me.quadPoints.length>0){var bt=Me.quadPoints.map(function(mt){return Object.assign({},Me,{rect:[mt[2].x,mt[2].y,mt[1].x,mt[1].y],quadPoints:[]})});return K.createElement(K.Fragment,null,bt.map(function(mt,Vt){return K.createElement(Nt,{key:Vt,annotation:mt,childAnnotation:Ke,page:et,viewport:st})}))}return K.createElement(Ht,{annotation:Me,hasPopup:lt,ignoreBorder:!0,isRenderable:tt,page:et,viewport:st},function(mt){return K.createElement(K.Fragment,null,K.createElement("div",ae({},mt.slot.attrs,{className:"rpv-core__annotation rpv-core__annotation--highlight","data-annotation-id":Me.id,onClick:mt.popup.toggleOnClick,onMouseEnter:mt.popup.openOnHover,onMouseLeave:mt.popup.closeOnHover}),mt.slot.children),Ke&&Ke.annotationType===W.AnnotationType.Popup&&mt.popup.opened&&K.createElement(an,{annotation:Ke,page:et,viewport:st}))})},$e=function(oe){var Me=oe.annotation,Ke=oe.page,et=oe.viewport,st=Me.hasPopup===!1,lt=ft(Me),St=yt(Me),ht=!!(Me.hasPopup||lt||St),tt=Me.rect,bt=tt[2]-tt[0],mt=tt[3]-tt[1],Vt=Me.borderStyle.width;return K.createElement(Ht,{annotation:Me,hasPopup:st,ignoreBorder:!0,isRenderable:ht,page:Ke,viewport:et},function(Dt){return K.createElement("div",ae({},Dt.slot.attrs,{className:"rpv-core__annotation rpv-core__annotation--ink","data-annotation-id":Me.id,onClick:Dt.popup.toggleOnClick,onMouseEnter:Dt.popup.openOnHover,onMouseLeave:Dt.popup.closeOnHover}),Me.inkLists&&Me.inkLists.length&&K.createElement("svg",{height:"".concat(mt,"px"),preserveAspectRatio:"none",version:"1.1",viewBox:"0 0 ".concat(bt," ").concat(mt),width:"".concat(bt,"px")},Me.inkLists.map(function(Ft,Kt){return K.createElement("polyline",{key:Kt,fill:"none",stroke:"transparent",strokeWidth:Vt||1,points:Ft.map(function(zt){return"".concat(zt.x-tt[0],",").concat(tt[3]-zt.y)}).join(" ")})})),Dt.slot.children)})},Je=function(oe){var Me=oe.annotation,Ke=oe.page,et=oe.viewport,st=Me.hasPopup===!1,lt=ft(Me),St=yt(Me),ht=!!(Me.hasPopup||lt||St),tt=Me.rect,bt=tt[2]-tt[0],mt=tt[3]-tt[1],Vt=Me.borderStyle.width;return K.createElement(Ht,{annotation:Me,hasPopup:st,ignoreBorder:!0,isRenderable:ht,page:Ke,viewport:et},function(Dt){return K.createElement("div",ae({},Dt.slot.attrs,{className:"rpv-core__annotation rpv-core__annotation--line","data-annotation-id":Me.id,onClick:Dt.popup.toggleOnClick,onMouseEnter:Dt.popup.openOnHover,onMouseLeave:Dt.popup.closeOnHover}),K.createElement("svg",{height:"".concat(mt,"px"),preserveAspectRatio:"none",version:"1.1",viewBox:"0 0 ".concat(bt," ").concat(mt),width:"".concat(bt,"px")},K.createElement("line",{stroke:"transparent",strokeWidth:Vt||1,x1:tt[2]-Me.lineCoordinates[0],x2:tt[2]-Me.lineCoordinates[2],y1:tt[3]-Me.lineCoordinates[1],y2:tt[3]-Me.lineCoordinates[3]})),Dt.slot.children)})},vt=/^([^\w]*)(javascript|data|vbscript)/im,At=/&#(\w+)(^\w|;)?/g,wt=/[\u0000-\u001F\u007F-\u009F\u2000-\u200D\uFEFF]/gim,It=/^([^:]+):/gm,Gt=function(oe,Me){var Ke,et=(Ke=oe||"",Ke.replace(At,function(ht,tt){return String.fromCharCode(tt)})).replace(wt,"").trim();if(!et)return Me;var st=et[0];if(st==="."||st==="/")return et;var lt=et.match(It);if(!lt)return et;var St=lt[0];return vt.test(St)?Me:et},on=function(oe){var Me,Ke=oe.annotation,et=oe.annotationContainerRef,st=oe.doc,lt=oe.outlines,St=oe.page,ht=oe.pageIndex,tt=oe.scale,bt=oe.viewport,mt=oe.onExecuteNamedAction,Vt=oe.onJumpFromLinkAnnotation,Dt=oe.onJumpToDest,Ft=K.useRef(),Kt=lt&&lt.length&&Ke.dest&&typeof Ke.dest=="string"?(Me=lt.find(function(vn){return vn.dest===Ke.dest}))===null||Me===void 0?void 0:Me.title:"",zt=!!(Ke.url||Ke.dest||Ke.action||Ke.unsafeUrl),Ut={};if(Ke.url||Ke.unsafeUrl){var Tn=Gt(Ke.url||Ke.unsafeUrl,"");Tn?Ut={"data-target":"external",href:Tn,rel:"noopener noreferrer nofollow",target:Ke.newWindow?"_blank":"",title:Tn}:zt=!1}else Ut={href:"","data-annotation-link":Ke.id,onClick:function(vn){vn.preventDefault(),Ke.action?mt(Ke.action):Fn(st,Ke.dest).then(function(bn){var wn=Ft.current,un=et.current;if(wn&&un){var xn=wn.getBoundingClientRect();un.style.setProperty("height","100%"),un.style.setProperty("width","100%");var yn=un.getBoundingClientRect();un.style.removeProperty("height"),un.style.removeProperty("width");var jn=(xn.left-yn.left)/tt,On=(yn.bottom-xn.bottom+xn.height)/tt;Vt({bottomOffset:On,label:Kt,leftOffset:jn,pageIndex:ht})}Dt(bn)})}};return Kt&&(Ut=Object.assign({},Ut,{title:Kt,"aria-label":Kt})),K.createElement(Ht,{annotation:Ke,hasPopup:!1,ignoreBorder:!1,isRenderable:zt,page:St,viewport:bt},function(vn){return K.createElement("div",ae({},vn.slot.attrs,{className:"rpv-core__annotation rpv-core__annotation--link","data-annotation-id":Ke.id,"data-testid":"core__annotation--link-".concat(Ke.id)}),K.createElement("a",ae({ref:Ft},Ut)))})},en=function(oe){var Me=oe.annotation,Ke=oe.page,et=oe.viewport,st=Me.hasPopup===!1,lt=ft(Me),St=yt(Me),ht=!!(Me.hasPopup||lt||St),tt=Me.rect,bt=tt[2]-tt[0],mt=tt[3]-tt[1],Vt=Me.borderStyle.width;return K.createElement(Ht,{annotation:Me,hasPopup:st,ignoreBorder:!0,isRenderable:ht,page:Ke,viewport:et},function(Dt){return K.createElement("div",ae({},Dt.slot.attrs,{className:"rpv-core__annotation rpv-core__annotation--polygon","data-annotation-id":Me.id,onClick:Dt.popup.toggleOnClick,onMouseEnter:Dt.popup.openOnHover,onMouseLeave:Dt.popup.closeOnHover}),Me.vertices&&Me.vertices.length&&K.createElement("svg",{height:"".concat(mt,"px"),preserveAspectRatio:"none",version:"1.1",viewBox:"0 0 ".concat(bt," ").concat(mt),width:"".concat(bt,"px")},K.createElement("polygon",{fill:"none",stroke:"transparent",strokeWidth:Vt||1,points:Me.vertices.map(function(Ft){return"".concat(Ft.x-tt[0],",").concat(tt[3]-Ft.y)}).join(" ")})),Dt.slot.children)})},Xt=function(oe){var Me=oe.annotation,Ke=oe.page,et=oe.viewport,st=Me.hasPopup===!1,lt=ft(Me),St=yt(Me),ht=!!(Me.hasPopup||lt||St),tt=Me.rect,bt=tt[2]-tt[0],mt=tt[3]-tt[1],Vt=Me.borderStyle.width;return K.createElement(Ht,{annotation:Me,hasPopup:st,ignoreBorder:!0,isRenderable:ht,page:Ke,viewport:et},function(Dt){return K.createElement("div",ae({},Dt.slot.attrs,{className:"rpv-core__annotation rpv-core__annotation--polyline","data-annotation-id":Me.id,onClick:Dt.popup.toggleOnClick,onMouseEnter:Dt.popup.openOnHover,onMouseLeave:Dt.popup.closeOnHover}),Me.vertices&&Me.vertices.length&&K.createElement("svg",{height:"".concat(mt,"px"),preserveAspectRatio:"none",version:"1.1",viewBox:"0 0 ".concat(bt," ").concat(mt),width:"".concat(bt,"px")},K.createElement("polyline",{fill:"none",stroke:"transparent",strokeWidth:Vt||1,points:Me.vertices.map(function(Ft){return"".concat(Ft.x-tt[0],",").concat(tt[3]-Ft.y)}).join(" ")})),Dt.slot.children)})},gn=function(oe){var Me=oe.annotation,Ke=oe.page,et=oe.viewport,st=Me.hasPopup===!1,lt=ft(Me),St=yt(Me),ht=!!(Me.hasPopup||lt||St),tt=Me.rect,bt=tt[2]-tt[0],mt=tt[3]-tt[1],Vt=Me.borderStyle.width;return K.createElement(Ht,{annotation:Me,hasPopup:st,ignoreBorder:!0,isRenderable:ht,page:Ke,viewport:et},function(Dt){return K.createElement("div",ae({},Dt.slot.attrs,{className:"rpv-core__annotation rpv-core__annotation--square","data-annotation-id":Me.id,onClick:Dt.popup.toggleOnClick,onMouseEnter:Dt.popup.openOnHover,onMouseLeave:Dt.popup.closeOnHover}),K.createElement("svg",{height:"".concat(mt,"px"),preserveAspectRatio:"none",version:"1.1",viewBox:"0 0 ".concat(bt," ").concat(mt),width:"".concat(bt,"px")},K.createElement("rect",{height:mt-Vt,fill:"none",stroke:"transparent",strokeWidth:Vt||1,x:Vt/2,y:Vt/2,width:bt-Vt})),Dt.slot.children)})},tn=function(oe){var Me=oe.annotation,Ke=oe.page,et=oe.viewport,st=Me.hasPopup===!1,lt=ft(Me),St=yt(Me),ht=!!(Me.hasPopup||lt||St);return K.createElement(Ht,{annotation:Me,hasPopup:st,ignoreBorder:!0,isRenderable:ht,page:Ke,viewport:et},function(tt){return K.createElement("div",ae({},tt.slot.attrs,{className:"rpv-core__annotation rpv-core__annotation--squiggly","data-annotation-id":Me.id,onClick:tt.popup.toggleOnClick,onMouseEnter:tt.popup.openOnHover,onMouseLeave:tt.popup.closeOnHover}),tt.slot.children)})},ln=function(oe){var Me=oe.annotation,Ke=oe.page,et=oe.viewport,st=Me.hasPopup===!1,lt=ft(Me),St=yt(Me),ht=!!(Me.hasPopup||lt||St);return K.createElement(Ht,{annotation:Me,hasPopup:st,ignoreBorder:!0,isRenderable:ht,page:Ke,viewport:et},function(tt){return K.createElement("div",ae({},tt.slot.attrs,{className:"rpv-core__annotation rpv-core__annotation--stamp","data-annotation-id":Me.id,onClick:tt.popup.toggleOnClick,onMouseEnter:tt.popup.openOnHover,onMouseLeave:tt.popup.closeOnHover}),tt.slot.children)})},En=function(oe){var Me=oe.annotation,Ke=oe.page,et=oe.viewport,st=Me.hasPopup===!1,lt=ft(Me),St=yt(Me),ht=!!(Me.hasPopup||lt||St);return K.createElement(Ht,{annotation:Me,hasPopup:st,ignoreBorder:!0,isRenderable:ht,page:Ke,viewport:et},function(tt){return K.createElement("div",ae({},tt.slot.attrs,{className:"rpv-core__annotation rpv-core__annotation--strike-out","data-annotation-id":Me.id,onClick:tt.popup.toggleOnClick,onMouseEnter:tt.popup.openOnHover,onMouseLeave:tt.popup.closeOnHover}),tt.slot.children)})},Rn=function(){return K.createElement(pe,{size:16},K.createElement("path",{d:"M.5,16.5a1,1,0,0,0,1,1h2v4l4-4h15a1,1,0,0,0,1-1V3.5a1,1,0,0,0-1-1H1.5a1,1,0,0,0-1,1Z"}),K.createElement("path",{d:"M7.25,9.75A.25.25,0,1,1,7,10a.25.25,0,0,1,.25-.25"}),K.createElement("path",{d:"M12,9.75a.25.25,0,1,1-.25.25A.25.25,0,0,1,12,9.75"}),K.createElement("path",{d:"M16.75,9.75a.25.25,0,1,1-.25.25.25.25,0,0,1,.25-.25"}))},Wn=function(){return K.createElement(pe,{size:16},K.createElement("path",{d:"M0.500 12.001 A11.500 11.500 0 1 0 23.500 12.001 A11.500 11.500 0 1 0 0.500 12.001 Z"}),K.createElement("path",{d:"M6.000 12.001 A6.000 6.000 0 1 0 18.000 12.001 A6.000 6.000 0 1 0 6.000 12.001 Z"}),K.createElement("path",{d:"M21.423 5.406L17.415 9.414"}),K.createElement("path",{d:"M14.587 6.585L18.607 2.565"}),K.createElement("path",{d:"M5.405 21.424L9.413 17.416"}),K.createElement("path",{d:"M6.585 14.588L2.577 18.596"}),K.createElement("path",{d:"M18.602 21.419L14.595 17.412"}),K.createElement("path",{d:"M17.419 14.58L21.428 18.589"}),K.createElement("path",{d:"M2.582 5.399L6.588 9.406"}),K.createElement("path",{d:"M9.421 6.581L5.412 2.572"}))},Kn=function(){return K.createElement(pe,{size:16},K.createElement("path",{d:"M4.000 18.500 A1.500 1.500 0 1 0 7.000 18.500 A1.500 1.500 0 1 0 4.000 18.500 Z"}),K.createElement("path",{d:"M20.5.5l-9.782,9.783a7,7,0,1,0,3,3L17,10h1.5V8.5L19,8h1.5V6.5L21,6h1.5V4.5l1-1V.5Z"}))},Qn=function(){return K.createElement(pe,{size:16},K.createElement("path",{d:"M2.000 2.500 L22.000 2.500 L22.000 23.500 L2.000 23.500 Z"}),K.createElement("path",{d:"M6 4.5L6 0.5"}),K.createElement("path",{d:"M18 4.5L18 0.5"}),K.createElement("path",{d:"M10 4.5L10 0.5"}),K.createElement("path",{d:"M14 4.5L14 0.5"}))},nr=function(){return K.createElement(pe,{size:16},K.createElement("path",{d:"M17.5 0.498L17.5 23.498"}),K.createElement("path",{d:"M10.5 0.498L10.5 23.498"}),K.createElement("path",{d:"M23.5.5H6.5a6,6,0,0,0,0,12h4"}))},kr=function(){return K.createElement(pe,{size:16},K.createElement("path",{d:"M2.5 22.995L12 6.005 21.5 22.995 2.5 22.995z"}))},Pr=function(oe){var Me=oe.annotation,Ke=oe.childAnnotation,et=oe.page,st=oe.viewport,lt=Me.hasPopup===!1,St=ft(Me),ht=yt(Me),tt=!!(Me.hasPopup||St||ht),bt=Me.name?Me.name.toLowerCase():"";return K.createElement(Ht,{annotation:Me,hasPopup:lt,ignoreBorder:!1,isRenderable:tt,page:et,viewport:st},function(mt){return K.createElement(K.Fragment,null,K.createElement("div",ae({},mt.slot.attrs,{className:"rpv-core__annotation rpv-core__annotation--text","data-annotation-id":Me.id,onClick:mt.popup.toggleOnClick,onMouseEnter:mt.popup.openOnHover,onMouseLeave:mt.popup.closeOnHover}),bt&&K.createElement("div",{className:"rpv-core__annotation-text-icon"},bt==="check"&&K.createElement(ne,null),bt==="comment"&&K.createElement(Rn,null),bt==="help"&&K.createElement(Wn,null),bt==="insert"&&K.createElement(kr,null),bt==="key"&&K.createElement(Kn,null),bt==="note"&&K.createElement(Qn,null),(bt==="newparagraph"||bt==="paragraph")&&K.createElement(nr,null)),mt.slot.children),Ke&&Ke.annotationType===W.AnnotationType.Popup&&mt.popup.opened&&K.createElement(an,{annotation:Ke,page:et,viewport:st}))})},wr=function(oe){var Me=oe.annotation,Ke=oe.page,et=oe.viewport,st=Me.hasPopup===!1,lt=ft(Me),St=yt(Me),ht=!!(Me.hasPopup||lt||St);return K.createElement(Ht,{annotation:Me,hasPopup:st,ignoreBorder:!0,isRenderable:ht,page:Ke,viewport:et},function(tt){return K.createElement("div",ae({},tt.slot.attrs,{className:"rpv-core__annotation rpv-core__annotation--underline","data-annotation-id":Me.id,onClick:tt.popup.toggleOnClick,onMouseEnter:tt.popup.openOnHover,onMouseLeave:tt.popup.closeOnHover}),tt.slot.children)})},Ur=function(oe){var Me=oe.annotations,Ke=oe.doc,et=oe.outlines,st=oe.page,lt=oe.pageIndex,St=oe.plugins,ht=oe.rotation,tt=oe.scale,bt=oe.onExecuteNamedAction,mt=oe.onJumpFromLinkAnnotation,Vt=oe.onJumpToDest,Dt=K.useRef(),Ft=st.getViewport({rotation:ht,scale:tt}).clone({dontFlip:!0}),Kt=Me.filter(function(zt){return!zt.parentId});return xe(function(){var zt=Dt.current;zt&&St.forEach(function(Ut){Ut.onAnnotationLayerRender&&Ut.onAnnotationLayerRender({annotations:Kt,container:zt,pageIndex:lt,rotation:ht,scale:tt})})},[]),K.createElement("div",{ref:Dt,className:"rpv-core__annotation-layer","data-testid":"core__annotation-layer-".concat(lt)},Kt.map(function(zt){var Ut=Me.find(function(Tn){return Tn.parentId===zt.id});switch(zt.annotationType){case W.AnnotationType.Caret:return K.createElement(Qe,{key:zt.id,annotation:zt,page:st,viewport:Ft});case W.AnnotationType.Circle:return K.createElement(Rt,{key:zt.id,annotation:zt,page:st,viewport:Ft});case W.AnnotationType.FileAttachment:return K.createElement(Zt,{key:zt.id,annotation:zt,page:st,viewport:Ft});case W.AnnotationType.FreeText:return K.createElement(pn,{key:zt.id,annotation:zt,page:st,viewport:Ft});case W.AnnotationType.Highlight:return K.createElement(Nt,{key:zt.id,annotation:zt,childAnnotation:Ut,page:st,viewport:Ft});case W.AnnotationType.Ink:return K.createElement($e,{key:zt.id,annotation:zt,page:st,viewport:Ft});case W.AnnotationType.Line:return K.createElement(Je,{key:zt.id,annotation:zt,page:st,viewport:Ft});case W.AnnotationType.Link:return K.createElement(on,{key:zt.id,annotation:zt,annotationContainerRef:Dt,doc:Ke,outlines:et,page:st,pageIndex:lt,scale:tt,viewport:Ft,onExecuteNamedAction:bt,onJumpFromLinkAnnotation:mt,onJumpToDest:Vt});case W.AnnotationType.Polygon:return K.createElement(en,{key:zt.id,annotation:zt,page:st,viewport:Ft});case W.AnnotationType.Polyline:return K.createElement(Xt,{key:zt.id,annotation:zt,page:st,viewport:Ft});case W.AnnotationType.Popup:return K.createElement(an,{key:zt.id,annotation:zt,page:st,viewport:Ft});case W.AnnotationType.Square:return K.createElement(gn,{key:zt.id,annotation:zt,page:st,viewport:Ft});case W.AnnotationType.Squiggly:return K.createElement(tn,{key:zt.id,annotation:zt,page:st,viewport:Ft});case W.AnnotationType.Stamp:return K.createElement(ln,{key:zt.id,annotation:zt,page:st,viewport:Ft});case W.AnnotationType.StrikeOut:return K.createElement(En,{key:zt.id,annotation:zt,page:st,viewport:Ft});case W.AnnotationType.Text:return K.createElement(Pr,{key:zt.id,annotation:zt,childAnnotation:Ut,page:st,viewport:Ft});case W.AnnotationType.Underline:return K.createElement(wr,{key:zt.id,annotation:zt,page:st,viewport:Ft});default:return K.createElement(K.Fragment,{key:zt.id})}}))},Vi=function(oe){var Me=oe.page,Ke=oe.renderAnnotations,et=Be(),st=K.useState({loading:!0,annotations:[]}),lt=st[0],St=st[1];return K.useEffect(function(){Me.getAnnotations({intent:"display"}).then(function(ht){et.current&&St({loading:!1,annotations:ht})})},[]),lt.loading?K.createElement(K.Fragment,null):Ke(lt.annotations)},Oi=function(oe){var Me=oe.doc,Ke=oe.outlines,et=oe.page,st=oe.pageIndex,lt=oe.plugins,St=oe.rotation,ht=oe.scale,tt=oe.onExecuteNamedAction,bt=oe.onJumpFromLinkAnnotation,mt=oe.onJumpToDest;return K.createElement(Vi,{page:et,renderAnnotations:function(Vt){return K.createElement(Ur,{annotations:Vt,doc:Me,outlines:Ke,page:et,pageIndex:st,plugins:lt,rotation:St,scale:ht,onExecuteNamedAction:tt,onJumpFromLinkAnnotation:bt,onJumpToDest:mt})}})},Gr=function(oe,Me){var Ke=oe%Me;return Ke===0?oe:Math.floor(oe-Ke)},Ni=function(oe){var Me=oe.canvasLayerRef,Ke=oe.height,et=oe.page,st=oe.pageIndex,lt=oe.plugins,St=oe.rotation,ht=oe.scale,tt=oe.width,bt=oe.onRenderCanvasCompleted,mt=K.useRef();return xe(function(){var Vt=mt.current;Vt&&Vt.cancel();var Dt=Me.current;Dt.removeAttribute("data-testid"),lt.forEach(function(yn){yn.onCanvasLayerRender&&yn.onCanvasLayerRender({ele:Dt,pageIndex:st,rotation:St,scale:ht,status:W.LayerRenderStatus.PreRender})});var Ft=et.getViewport({rotation:St,scale:ht}),Kt=window.devicePixelRatio||1,zt=Math.sqrt(16777216/(Ft.width*Ft.height)),Ut=Kt>zt;Ut?Dt.style.transform="scale(1, 1)":Dt.style.removeProperty("transform");var Tn=Math.min(zt,Kt),vn=function(yn,jn){var On,Un;if(Math.floor(yn)===yn)return[yn,1];var zn=1/yn;if(zn>jn)return[1,jn];if(Math.floor(zn)===zn)return[1,zn];for(var Gn=yn>1?zn:yn,sr=0,er=1,lr=1,rr=1;;){var ar=sr+lr,or=er+rr;if(or>jn)break;Gn<=ar/or?(lr=(On=[ar,or])[0],rr=On[1]):(sr=(Un=[ar,or])[0],er=Un[1])}return Gn<(sr/er+lr/rr)/2?Gn===yn?[sr,er]:[er,sr]:Gn===yn?[lr,rr]:[rr,lr]}(Tn,8),bn=vn[0],wn=vn[1];Dt.width=Gr(Ft.width*Tn,bn),Dt.height=Gr(Ft.height*Tn,bn),Dt.style.width="".concat(Gr(Ft.width,wn),"px"),Dt.style.height="".concat(Gr(Ft.height,wn),"px"),Dt.hidden=!0;var un=Dt.getContext("2d",{alpha:!1}),xn=Ut||Kt!==1?[Tn,0,0,Tn,0,0]:null;return mt.current=et.render({canvasContext:un,transform:xn,viewport:Ft}),mt.current.promise.then(function(){Dt.hidden=!1,Dt.setAttribute("data-testid","core__canvas-layer-".concat(st)),lt.forEach(function(yn){yn.onCanvasLayerRender&&yn.onCanvasLayerRender({ele:Dt,pageIndex:st,rotation:St,scale:ht,status:W.LayerRenderStatus.DidRender})}),bt()},function(){bt()}),function(){Dt&&(Dt.width=0,Dt.height=0)}},[]),K.createElement("div",{className:"rpv-core__canvas-layer",style:{height:"".concat(Ke,"px"),width:"".concat(tt,"px")}},K.createElement("canvas",{ref:Me}))},Wi=function(oe){var Me=oe.height,Ke=oe.page,et=oe.rotation,st=oe.scale,lt=oe.width,St=K.useRef();return xe(function(){var ht=St.current,tt=Ke.getViewport({rotation:et,scale:st});Ke.getOperatorList().then(function(bt){(function(){var mt=St.current;mt&&(mt.innerHTML="")})(),new B.SVGGraphics(Ke.commonObjs,Ke.objs).getSVG(bt,tt).then(function(mt){mt.style.height="".concat(Me,"px"),mt.style.width="".concat(lt,"px"),ht.appendChild(mt)})})},[]),K.createElement("div",{className:"rpv-core__svg-layer",ref:St})},ji=function(oe){var Me=oe.containerRef,Ke=oe.page,et=oe.pageIndex,st=oe.plugins,lt=oe.rotation,St=oe.scale,ht=oe.onRenderTextCompleted,tt=K.useRef(),bt=function(){var mt=Me.current;mt&&([].slice.call(mt.querySelectorAll(".rpv-core__text-layer-text")).forEach(function(Vt){return mt.removeChild(Vt)}),[].slice.call(mt.querySelectorAll('br[role="presentation"]')).forEach(function(Vt){return mt.removeChild(Vt)}))};return xe(function(){var mt=tt.current;mt&&mt.cancel();var Vt=Me.current;if(Vt){Vt.removeAttribute("data-testid");var Dt=Ke.getViewport({rotation:lt,scale:St});return st.forEach(function(Ft){Ft.onTextLayerRender&&Ft.onTextLayerRender({ele:Vt,pageIndex:et,scale:St,status:W.LayerRenderStatus.PreRender})}),Ke.getTextContent().then(function(Ft){bt(),tt.current=B.renderTextLayer({container:Vt,textContent:Ft,textContentSource:Ft,viewport:Dt}),tt.current.promise.then(function(){Vt.setAttribute("data-testid","core__text-layer-".concat(et)),[].slice.call(Vt.children).forEach(function(Kt){Kt.classList.contains("rpv-core__text-layer-text--not")||Kt.classList.add("rpv-core__text-layer-text")}),st.forEach(function(Kt){Kt.onTextLayerRender&&Kt.onTextLayerRender({ele:Vt,pageIndex:et,scale:St,status:W.LayerRenderStatus.DidRender})}),ht()},function(){Vt.removeAttribute("data-testid"),ht()})}),function(){var Ft;bt(),(Ft=tt.current)===null||Ft===void 0||Ft.cancel()}}},[]),K.createElement("div",{className:"rpv-core__text-layer",ref:Me})},Ui=function(oe){var Me=oe.doc,Ke=oe.measureRef,et=oe.outlines,st=oe.pageIndex,lt=oe.pageRotation,St=oe.pageSize,ht=oe.plugins,tt=oe.renderPage,bt=oe.renderQueueKey,mt=oe.rotation,Vt=oe.scale,Dt=oe.shouldRender,Ft=oe.viewMode,Kt=oe.onExecuteNamedAction,zt=oe.onJumpFromLinkAnnotation,Ut=oe.onJumpToDest,Tn=oe.onRenderCompleted,vn=oe.onRotatePage,bn=Be(),wn=K.useState(null),un=wn[0],xn=wn[1],yn=K.useState(!1),jn=yn[0],On=yn[1],Un=K.useState(!1),zn=Un[0],Gn=Un[1],sr=K.useRef(),er=K.useRef(),lr=Math.abs(mt+lt)%180==0,rr=St.pageWidth*Vt,ar=St.pageHeight*Vt,or=lr?rr:ar,ir=lr?ar:rr,fr=(St.rotation+mt+lt)%360,xr=K.useRef(0),yr=tt||function(dr){return K.createElement(K.Fragment,null,dr.canvasLayer.children,dr.textLayer.children,dr.annotationLayer.children)};return K.useEffect(function(){xn(null),On(!1),Gn(!1)},[lt,mt,Vt]),K.useEffect(function(){Dt&&bn.current&&!un&&rn(Me,st).then(function(dr){bn.current&&(xr.current=bt,xn(dr))})},[Dt,un]),K.useEffect(function(){jn&&zn&&(bt!==xr.current?(xn(null),On(!1),Gn(!1)):Tn(st))},[jn,zn]),K.createElement("div",{className:ve({"rpv-core__page-layer":!0,"rpv-core__page-layer--dual":Ft===W.ViewMode.DualPage,"rpv-core__page-layer--dual-cover":Ft===W.ViewMode.DualPageWithCover,"rpv-core__page-layer--single":Ft===W.ViewMode.SinglePage}),"data-testid":"core__page-layer-".concat(st),ref:Ke,style:{height:"".concat(ir,"px"),width:"".concat(or,"px")}},un?K.createElement(K.Fragment,null,yr({annotationLayer:{attrs:{},children:K.createElement(Oi,{doc:Me,outlines:et,page:un,pageIndex:st,plugins:ht,rotation:fr,scale:Vt,onExecuteNamedAction:Kt,onJumpFromLinkAnnotation:zt,onJumpToDest:Ut})},canvasLayer:{attrs:{},children:K.createElement(Ni,{canvasLayerRef:sr,height:ir,page:un,pageIndex:st,plugins:ht,rotation:fr,scale:Vt,width:or,onRenderCanvasCompleted:function(){bn.current&&On(!0)}})},canvasLayerRendered:jn,doc:Me,height:ir,pageIndex:st,rotation:fr,scale:Vt,svgLayer:{attrs:{},children:K.createElement(Wi,{height:ir,page:un,rotation:fr,scale:Vt,width:or})},textLayer:{attrs:{},children:K.createElement(ji,{containerRef:er,page:un,pageIndex:st,plugins:ht,rotation:fr,scale:Vt,onRenderTextCompleted:function(){bn.current&&Gn(!0)}})},textLayerRendered:zn,width:or,markRendered:Tn,onRotatePage:function(dr){return vn(st,dr)}}),ht.map(function(dr,gr){return dr.renderPageLayer?K.createElement(K.Fragment,{key:gr},dr.renderPageLayer({canvasLayerRef:sr,canvasLayerRendered:jn,doc:Me,height:ir,pageIndex:st,rotation:fr,scale:Vt,textLayerRef:er,textLayerRendered:zn,width:or})):K.createElement(K.Fragment,{key:gr})})):K.createElement(Ie,{testId:"core__page-layer-loading-".concat(st)}))},zi=function(oe,Me){var Ke=Me.rect;return oe.height!==Ke.height||oe.width!==Ke.width?Ke:oe};(function(oe){oe.Horizontal="Horizontal",oe.Vertical="Vertical",oe.Both="Both"})(qt||(qt={}));var Hi=function(oe){return 1-Math.pow(1-oe,4)},Xr=1e-4,hi={left:0,top:0},mi={capture:!1,passive:!0},Gi=function(oe){var Me=oe.elementRef,Ke=oe.enableSmoothScroll,et=oe.isRtl,st=oe.scrollDirection,lt=oe.onSmoothScroll,St=K.useState(hi),ht=St[0],tt=St[1],bt=K.useState(Me.current),mt=bt[0],Vt=bt[1],Dt=et?-1:1,Ft=K.useRef(st);Ft.current=st;var Kt=K.useRef(hi),zt=K.useRef(!0),Ut=K.useCallback(function(){zt.current=!0,Ke&&tt(Kt.current),lt(!1)},[]),Tn=K.useCallback(function(){if(mt){switch(Ft.current){case qt.Horizontal:Kt.current={left:Dt*mt.scrollLeft,top:0};break;case qt.Both:Kt.current={left:Dt*mt.scrollLeft,top:mt.scrollTop};break;case qt.Vertical:default:Kt.current={left:0,top:mt.scrollTop}}Ke&&!zt.current||tt(Kt.current)}},[mt]);xe(function(){Vt(Me.current)}),xe(function(){if(mt)return mt.addEventListener("scroll",Tn,mi),function(){mt.removeEventListener("scroll",Tn,mi)}},[mt]);var vn=K.useCallback(function(bn,wn){var un=Me.current;if(!un)return Promise.resolve();var xn={left:0,top:0};switch(Ft.current){case qt.Horizontal:xn.left=Dt*bn.left;break;case qt.Both:xn.left=Dt*bn.left,xn.top=bn.top;break;case qt.Vertical:default:xn.top=bn.top}return wn?(zt.current=!1,lt(!0),new Promise(function(yn,jn){(function(On,Un,zn,Gn,sr,er){sr===void 0&&(sr=function(gr){return gr}),er===void 0&&(er=function(){});var lr=0,rr=0,ar=!1;switch(Un){case qt.Horizontal:rr=On.scrollLeft,lr=0;case qt.Both:rr=On.scrollLeft,lr=On.scrollTop;break;case qt.Vertical:default:rr=0,lr=On.scrollTop}var or=function(){ar||(ar=!0,On.scrollLeft=zn.left,On.scrollTop=zn.top,er())};if(Math.abs(lr-zn.top)<=Xr&&Un===qt.Vertical)or();else if(Math.abs(rr-zn.left)<=Xr&&Un===qt.Horizontal)or();else{var ir,fr=-1,xr=rr-zn.left,yr=lr-zn.top,dr=function(gr){fr===-1&&(fr=gr);var Ar=gr-fr,Sn=Math.min(Ar/Gn,1),_n=sr(Sn),dn={left:rr-xr*_n,top:lr-yr*_n};switch(Un){case qt.Horizontal:On.scrollLeft=dn.left;break;case qt.Both:On.scrollLeft=dn.left,On.scrollTop=dn.top;break;case qt.Vertical:default:On.scrollTop=dn.top}Math.abs(dn.top-zn.top)<=Xr&&Math.abs(dn.left-zn.left)<=Xr&&!ar&&(window.cancelAnimationFrame(ir),or()),Ar<Gn?ir=window.requestAnimationFrame(dr):window.cancelAnimationFrame(ir)};ir=window.requestAnimationFrame(dr)}})(un,Ft.current,xn,400,Hi,function(){Ut(),yn()})})):new Promise(function(yn,jn){switch(Ft.current){case qt.Horizontal:un.scrollLeft=xn.left;break;case qt.Both:un.scrollLeft=xn.left,un.scrollTop=xn.top;break;case qt.Vertical:default:un.scrollTop=xn.top}yn()})},[Me]);return{scrollOffset:ht,scrollTo:vn}},Nr=function(oe,Me,Ke){return Math.max(oe,Math.min(Ke,Me))},Xi=function(oe,Me){if(Me!==W.ViewMode.DualPageWithCover)return 0;if(!function(st){var lt=st.length;if(lt===1)return!1;for(var St=1;St<lt;St++)if(st[St].height!==st[0].height||st[St].width!==st[0].width)return!0;return!1}(oe))return 2*oe[0].width;var Ke=jt(oe.slice(1),2).map(function(st){return st.length===2?st[0].width+st[1].width:st[0].width}),et=[oe[0].width].concat(Ke);return Math.max.apply(Math,et)},Ki={left:0,top:0},Yi={left:0,top:0},Jr={left:0,top:0},qi={left:0,top:0},Zi={height:0,width:0},gi={left:0,top:0},vi="data-virtual-index",Qi=[0,.1,.2,.3,.4,.5,.6,.7,.8,.9,1],Ji=function(oe){var Me=oe.enableSmoothScroll,Ke=oe.isRtl,et=oe.numberOfItems,st=oe.parentRef,lt=oe.setRenderRange,St=oe.sizes,ht=oe.scrollMode,tt=oe.viewMode,bt=K.useState(!1),mt=bt[0],Vt=bt[1],Dt=K.useCallback(function(Sn){return Vt(Sn)},[]),Ft=K.useRef(ht);Ft.current=ht;var Kt=K.useRef(tt);Kt.current=tt;var zt=ht===W.ScrollMode.Wrapped||tt===W.ViewMode.DualPageWithCover||tt===W.ViewMode.DualPage?qt.Both:ht===W.ScrollMode.Horizontal?qt.Horizontal:qt.Vertical,Ut=Gi({elementRef:st,enableSmoothScroll:Me,isRtl:Ke,scrollDirection:zt,onSmoothScroll:Dt}),Tn=Ut.scrollOffset,vn=Ut.scrollTo,bn=function(Sn){var _n=Sn.elementRef,dn=K.useState(_n.current),fn=dn[0],hn=dn[1],An=K.useRef(!1),kn=K.useReducer(zi,{height:0,width:0}),mn=kn[0],nn=kn[1];return xe(function(){_n.current!==fn&&hn(_n.current)}),xe(function(){if(fn&&!An.current){An.current=!0;var Pn=fn.getBoundingClientRect(),Ln=Pn.height,Jn=Pn.width;nn({rect:{height:Ln,width:Jn}})}},[fn]),K.useEffect(function(){if(fn){var Pn=new ResizeObserver(function(Ln,Jn){Ln.forEach(function(qn){if(qn.target===fn){var hr=qn.contentRect,vr=hr.height,Mn=hr.width;nn({rect:{height:vr,width:Mn}})}})});return Pn.observe(fn),function(){Pn.unobserve(fn)}}},[fn]),mn}({elementRef:st}),wn=K.useRef({scrollOffset:gi,measurements:[]});wn.current.scrollOffset=Tn;var un=K.useMemo(function(){return Array(et).fill(-1)},[]),xn=K.useState(un),yn=xn[0],jn=xn[1],On=K.useMemo(function(){var Sn=new IntersectionObserver(function(_n){_n.forEach(function(dn){var fn=dn.isIntersecting?dn.intersectionRatio:-1,hn=dn.target.getAttribute(vi);if(hn){var An=parseInt(hn,10);0<=An&&An<et&&jn(function(kn){return kn[An]=fn,function(mn,nn,Pn){for(var Ln,Jn=0,qn=nn.length;Jn<qn;Jn++)!Ln&&Jn in nn||(Ln||(Ln=Array.prototype.slice.call(nn,0,Jn)),Ln[Jn]=nn[Jn]);return mn.concat(Ln||Array.prototype.slice.call(nn))}([],kn)})}})},{threshold:Qi});return Sn},[]),Un=K.useMemo(function(){return ht===W.ScrollMode.Page&&tt===W.ViewMode.SinglePage?function(Sn,_n,dn){for(var fn=[],hn=0;hn<Sn;hn++){var An={height:Math.max(_n.height,dn[hn].height),width:Math.max(_n.width,dn[hn].width)},kn=hn===0?qi:fn[hn-1].end,mn={left:kn.left+An.width,top:kn.top+An.height};fn[hn]={index:hn,start:kn,size:An,end:mn,visibility:-1}}return fn}(et,bn,St):tt===W.ViewMode.DualPageWithCover?function(Sn,_n,dn,fn){for(var hn=[],An=0,kn=0,mn=Jr,nn=0;nn<Sn;nn++){var Pn=nn===0?{height:fn===W.ScrollMode.Page?Math.max(_n.height,dn[nn].height):dn[nn].height,width:fn===W.ScrollMode.Page?Math.max(_n.width,dn[nn].width):dn[nn].width}:{height:fn===W.ScrollMode.Page?Math.max(_n.height,dn[nn].height):dn[nn].height,width:Math.max(_n.width/2,dn[nn].width)};fn===W.ScrollMode.Page?mn=nn===0?Jr:{left:nn%2==0?Pn.width:0,top:Math.floor((nn-1)/2)*Pn.height+hn[0].end.top}:nn===0?(mn=Jr,An=dn[0].height,kn=0):nn%2==1?(mn={left:0,top:An+=kn},kn=nn===Sn-1?dn[nn].height:Math.max(dn[nn].height,dn[nn+1].height)):mn={left:hn[nn-1].end.left,top:An};var Ln={left:mn.left+Pn.width,top:mn.top+Pn.height};hn[nn]={index:nn,start:mn,size:Pn,end:Ln,visibility:-1}}return hn}(et,bn,St,ht):tt===W.ViewMode.DualPage?function(Sn,_n,dn,fn){for(var hn=[],An=0,kn=0,mn=Yi,nn=0;nn<Sn;nn++){var Pn={height:fn===W.ScrollMode.Page?Math.max(_n.height,dn[nn].height):dn[nn].height,width:Math.max(_n.width/2,dn[nn].width)};fn===W.ScrollMode.Page?mn={left:nn%2==0?0:Pn.width,top:Math.floor(nn/2)*Pn.height}:nn%2==0?(mn={left:0,top:An+=kn},kn=nn===Sn-1?dn[nn].height:Math.max(dn[nn].height,dn[nn+1].height)):mn={left:hn[nn-1].end.left,top:An};var Ln={left:mn.left+Pn.width,top:mn.top+Pn.height};hn[nn]={index:nn,start:mn,size:Pn,end:Ln,visibility:-1}}return hn}(et,bn,St,ht):function(Sn,_n,dn,fn){for(var hn=[],An=0,kn={left:0,top:0},mn=0,nn=Ki,Pn=0;Pn<Sn;Pn++){var Ln=dn[Pn];if(Pn===0)An=Ln.width,kn={left:0,top:0},mn=Ln.height;else switch(fn){case W.ScrollMode.Wrapped:(An+=Ln.width)<_n.width?(nn={left:hn[Pn-1].end.left,top:kn.top},mn=Math.max(mn,Ln.height)):(An=Ln.width,kn={left:(nn={left:kn.left,top:kn.top+mn}).left,top:nn.top},mn=Ln.height);break;case W.ScrollMode.Horizontal:case W.ScrollMode.Vertical:default:nn=hn[Pn-1].end}var Jn={left:nn.left+Ln.width,top:nn.top+Ln.height};hn[Pn]={index:Pn,start:nn,size:Ln,end:Jn,visibility:-1}}return hn}(et,bn,St,ht)},[ht,St,tt,bn]),zn=Un[et-1]?{height:Un[et-1].end.top,width:Un[et-1].end.left}:Zi;wn.current.measurements=Un;var Gn=K.useMemo(function(){var Sn=function(Pn,Ln,Jn,qn){var hr=0;switch(Pn){case qt.Horizontal:hr=qn.left;break;case qt.Vertical:default:hr=qn.top}var vr=Ln.length-1,Mn=function(Yn,Mr,Vr,Yr){for(;Yn<=Mr;){var Lr=(Yn+Mr)/2|0,Wr=Yr(Lr);if(Wr<Vr)Yn=Lr+1;else{if(!(Wr>Vr))return Lr;Mr=Lr-1}}return Yn>0?Yn-1:0}(0,vr,hr,function(Yn){switch(Pn){case qt.Horizontal:return Ln[Yn].start.left;case qt.Both:case qt.Vertical:default:return Ln[Yn].start.top}});if(Pn===qt.Both)for(var pr=Ln[Mn].start.top;Mn-1>=0&&Ln[Mn-1].start.top===pr&&Ln[Mn-1].start.left>=qn.left;)Mn--;for(var Bn=Mn;Bn<=vr;){var tr={top:Ln[Bn].start.top-qn.top,left:Ln[Bn].start.left-qn.left},cr={height:Jn.height-tr.top,width:Jn.width-tr.left};if(Pn===qt.Horizontal&&cr.width<0||Pn===qt.Vertical&&cr.height<0||Pn===qt.Both&&(cr.width<0||cr.height<0))break;Bn++}return{start:Mn,end:Bn}}(zt,Un,bn,Tn),_n=Sn.start,dn=Sn.end,fn=yn.slice(Nr(0,et,_n),Nr(0,et,dn)),hn=_n+fn.reduce(function(Pn,Ln,Jn,qn){return Ln>qn[Pn]?Jn:Pn},0),An=hn=Nr(0,et-1,hn),kn=lt({endPage:dn,numPages:et,startPage:_n}),mn=kn.startPage,nn=kn.endPage;switch(mn=Math.max(mn,0),nn=Math.min(nn,et-1),tt){case W.ViewMode.DualPageWithCover:hn>0&&(An=hn%2==1?hn:hn-1),mn=mn===0?0:mn%2==1?mn:mn-1,et-(nn=nn%2==1?nn-1:nn)<=2&&(nn=et-1);break;case W.ViewMode.DualPage:An=hn%2==0?hn:hn-1,mn=mn%2==0?mn:mn-1,nn=nn%2==1?nn:nn-1;break;case W.ViewMode.SinglePage:default:An=hn}return{startPage:mn,endPage:nn,maxVisbilityIndex:An}},[Un,bn,Tn,tt,yn]),sr=Gn.startPage,er=Gn.endPage,lr=Gn.maxVisbilityIndex,rr=K.useMemo(function(){for(var Sn=[],_n=function(fn){var hn=Un[fn],An=ae(ae({},hn),{visibility:yn[fn]!==void 0?yn[fn]:-1,measureRef:function(kn){kn&&(kn.setAttribute(vi,"".concat(fn)),On.observe(kn))}});Sn.push(An)},dn=sr;dn<=er;dn++)_n(dn);return Sn},[sr,er,yn,Un]),ar=K.useCallback(function(Sn,_n){var dn=wn.current.measurements[Nr(0,et-1,Sn)],fn=Ft.current===W.ScrollMode.Page?gi:_n;return dn?vn({left:fn.left+dn.start.left,top:fn.top+dn.start.top},Me):Promise.resolve()},[vn,Me]),or=K.useCallback(function(Sn,_n){var dn=wn.current.measurements,fn=dn[Sn].start,hn=dn.find(function(kn){return kn.start.top-fn.top>1e-12});if(!hn)return Promise.resolve();var An=hn.index;switch(Kt.current){case W.ViewMode.DualPage:An=An%2==0?An:An+1;break;case W.ViewMode.DualPageWithCover:An=An%2==1?An:An+1}return ar(An,_n)},[]),ir=K.useCallback(function(Sn,_n){for(var dn=wn.current.measurements,fn=dn[Sn].start,hn=Sn,An=!1,kn=et-1;kn>=0;kn--)if(fn.top-dn[kn].start.top>1e-12){An=!0,hn=dn[kn].index;break}if(!An)return Promise.resolve();switch(Kt.current){case W.ViewMode.DualPage:hn=hn%2==0?hn:hn-1;break;case W.ViewMode.DualPageWithCover:hn=hn%2==0?hn-1:hn}return hn===Sn&&(hn=Sn-1),ar(hn,_n)},[]),fr=K.useCallback(function(Sn,_n){if(Kt.current===W.ViewMode.DualPageWithCover||Kt.current===W.ViewMode.DualPage)return or(Sn,_n);switch(Ft.current){case W.ScrollMode.Wrapped:return or(Sn,_n);case W.ScrollMode.Horizontal:case W.ScrollMode.Vertical:default:return ar(Sn+1,_n)}},[]),xr=K.useCallback(function(Sn,_n){if(Kt.current===W.ViewMode.DualPageWithCover||Kt.current===W.ViewMode.DualPage)return ir(Sn,_n);switch(Ft.current){case W.ScrollMode.Wrapped:return ir(Sn,_n);case W.ScrollMode.Horizontal:case W.ScrollMode.Vertical:default:return ar(Sn-1,_n)}},[]),yr=K.useCallback(function(){return function(Sn,_n){switch(_n){case W.ScrollMode.Horizontal:return{position:"relative",height:"100%",width:"".concat(Sn.width,"px")};case W.ScrollMode.Vertical:default:return{position:"relative",height:"".concat(Sn.height,"px"),width:"100%"}}}(zn,Ft.current)},[zn]),dr=K.useCallback(function(Sn){return function(_n,dn,fn){return fn!==W.ScrollMode.Page?{}:{height:"".concat(dn.height,"px"),width:"100%",position:"absolute",top:0,transform:"translateY(".concat(_n.start.top,"px)")}}(Sn,bn,Ft.current)},[bn]),gr=K.useCallback(function(Sn){return function(_n,dn,fn,hn,An){var kn,mn,nn,Pn,Ln,Jn,qn,hr=dn?"right":"left",vr=dn?-1:1,Mn=fn.length,pr=_n.start.left*vr,Bn=_n.size,tr=Bn.height,cr=Bn.width;if(hn===W.ViewMode.DualPageWithCover){var Yn=An===W.ScrollMode.Page?0:_n.start.top;return _n.index===0||Mn%2==0&&_n.index===Mn-1?((kn={height:"".concat(tr,"px"),minWidth:"".concat(Xi(fn,hn),"px"),width:"100%"})[hr]=0,kn.position="absolute",kn.top=0,kn.transform="translate(".concat(pr,"px, ").concat(Yn,"px)"),kn):((mn={height:"".concat(tr,"px"),width:"".concat(cr,"px")})[hr]=0,mn.position="absolute",mn.top=0,mn.transform="translate(".concat(pr,"px, ").concat(Yn,"px)"),mn)}if(hn===W.ViewMode.DualPage)return(nn={height:"".concat(tr,"px"),width:"".concat(cr,"px")})[hr]=0,nn.position="absolute",nn.top=0,nn.transform="translate(".concat(pr,"px, ").concat(An===W.ScrollMode.Page?0:_n.start.top,"px)"),nn;switch(An){case W.ScrollMode.Horizontal:return(Pn={height:"100%",width:"".concat(cr,"px")})[hr]=0,Pn.position="absolute",Pn.top=0,Pn.transform="translateX(".concat(pr,"px)"),Pn;case W.ScrollMode.Page:return(Ln={height:"".concat(tr,"px"),width:"".concat(cr,"px")})[hr]=0,Ln.position="absolute",Ln.top=0,Ln;case W.ScrollMode.Wrapped:return(Jn={height:"".concat(tr,"px"),width:"".concat(cr,"px")})[hr]=0,Jn.position="absolute",Jn.top=0,Jn.transform="translate(".concat(pr,"px, ").concat(_n.start.top,"px)"),Jn;case W.ScrollMode.Vertical:default:return(qn={height:"".concat(tr,"px"),width:"100%"})[hr]=0,qn.position="absolute",qn.top=0,qn.transform="translateY(".concat(_n.start.top,"px)"),qn}}(Sn,Ke,St,Kt.current,Ft.current)},[Ke,St]),Ar=K.useCallback(function(Sn,_n){var dn=wn.current,fn=dn.measurements,hn=dn.scrollOffset,An=fn[Nr(0,et-1,_n)];if(An){var kn=Ft.current===W.ScrollMode.Page?{left:An.start.left,top:An.start.top}:{left:hn.left*Sn,top:hn.top*Sn};return vn(kn,!1)}return Promise.resolve()},[]);return K.useEffect(function(){return function(){On.disconnect()}},[]),{boundingClientRect:bn,isSmoothScrolling:mt,startPage:sr,endPage:er,maxVisbilityIndex:lr,virtualItems:rr,getContainerStyles:yr,getItemContainerStyles:dr,getItemStyles:gr,scrollToItem:ar,scrollToNextItem:fr,scrollToPreviousItem:xr,zoom:Ar}},Br=function(oe,Me,Ke,et,st,lt){var St=Ke;switch(!0){case(st===W.ViewMode.DualPageWithCover&&lt>=3):case(st===W.ViewMode.DualPage&&lt>=3):St=2*Ke;break;default:St=Ke}switch(et){case W.SpecialZoomLevel.ActualSize:return 1;case W.SpecialZoomLevel.PageFit:return Math.min((oe.clientWidth-17)/St,(oe.clientHeight-16)/Me);case W.SpecialZoomLevel.PageWidth:return(oe.clientWidth-17)/St}},Bi=function(oe){var Me,Ke,et=oe.getCurrentPage,st=(Me=50,Ke=K.useRef([]),K.useEffect(function(){return function(){Ke.current=[]}},[]),{push:function(bt){var mt=Ke.current;mt.length+1>Me&&mt.shift(),mt.push(bt),Ke.current=mt},map:function(bt){return Ke.current.map(function(mt){return bt(mt)})},pop:function(){var bt=Ke.current;if(bt.length===0)return null;var mt=bt.pop();return Ke.current=bt,mt}}),lt=function(bt){var mt=K.useRef([]);return K.useEffect(function(){return function(){mt.current=[]}},[]),{dequeue:function(){var Vt=mt.current;if(Vt.length===0)return null;var Dt=Vt.shift();return mt.current=Vt,Dt||null},enqueue:function(Vt){var Dt=mt.current;Dt.length+1>bt&&Dt.pop(),mt.current=[Vt].concat(Dt)},map:function(Vt){return mt.current.map(function(Dt){return Vt(Dt)})}}}(50),St=function(){var bt=lt.dequeue();return bt&&st.push(bt),bt&&bt.pageIndex===et()?St():bt},ht=function(){var bt=st.pop();return bt&&lt.enqueue(bt),bt&&bt.pageIndex===et()?ht():bt},tt=K.useCallback(function(bt){st.push(bt)},[]);return{getNextDestination:St,getPreviousDestination:ht,markVisitedDestination:tt}},bi=function(oe){var Me=[];return oe.map(function(Ke){Me=Me.concat(Ke).concat(function(et){var st=[];return et.items&&et.items.length>0&&(st=st.concat(bi(et.items))),st}(Ke))}),Me},_i={capture:!1,passive:!0},ea={height:0,width:0},ei={height:0,width:0},ta=function(oe){var Me=oe.getCurrentPage,Ke=oe.getCurrentScrollMode,et=oe.jumpToPage,st=oe.targetRef,lt=K.useState(W.FullScreenMode.Normal),St=lt[0],ht=lt[1],tt=function(){var yn=K.useState(ea),jn=yn[0],On=yn[1],Un=Ge(function(){On({height:window.innerHeight,width:window.innerWidth})},100);return xe(function(){return window.addEventListener("resize",Un,_i),function(){window.removeEventListener("resize",Un,_i)}},[]),jn}(),bt=K.useState(ei),mt=bt[0],Vt=bt[1],Dt=K.useRef(ei),Ft=K.useRef(Me()),Kt=K.useRef(ei),zt=K.useState(st.current),Ut=zt[0],Tn=zt[1],vn=K.useRef();xe(function(){st.current!==Ut&&Tn(st.current)},[]),xe(function(){if(Ut){var yn=new ResizeObserver(function(jn){jn.forEach(function(On){var Un=On.target.getBoundingClientRect(),zn=Un.height,Gn=Un.width;Vt({height:zn,width:Gn})})});return yn.observe(Ut),function(){yn.unobserve(Ut),yn.disconnect()}}},[Ut]);var bn=K.useCallback(function(yn){var jn=He();return jn&&jn!==yn?(ht(W.FullScreenMode.Normal),ot(jn)):Promise.resolve()},[]),wn=K.useCallback(function(yn){yn&&ye()&&(Tn(yn),bn(yn).then(function(){vn.current=yn,ht(W.FullScreenMode.Entering),function(jn){ze&&jn[rt.RequestFullScreen]()}(yn)}))},[]),un=K.useCallback(function(){He()&&(ht(W.FullScreenMode.Exitting),ot(document))},[]),xn=K.useCallback(function(){Ut&&He()!==Ut&&ht(W.FullScreenMode.Exitting)},[Ut]);return K.useEffect(function(){switch(St){case W.FullScreenMode.Entering:vn.current&&(vn.current.style.backgroundColor="var(--rpv-core__full-screen-target-background-color)"),Ft.current=Me(),Dt.current={height:window.innerHeight,width:window.innerWidth};break;case W.FullScreenMode.Entered:Ke()===W.ScrollMode.Page?et(Ft.current).then(function(){ht(W.FullScreenMode.EnteredCompletely)}):ht(W.FullScreenMode.EnteredCompletely);break;case W.FullScreenMode.Exitting:vn.current&&(vn.current.style.backgroundColor="",vn.current=null),Ft.current=Me();break;case W.FullScreenMode.Exited:ht(W.FullScreenMode.Normal),Ke()===W.ScrollMode.Page&&et(Ft.current)}},[St]),K.useEffect(function(){if(St!==W.FullScreenMode.Normal)return St===W.FullScreenMode.Entering&&tt.height===mt.height&&tt.width===mt.width&&tt.height>0&&tt.width>0&&(Kt.current.height===0||tt.height==Kt.current.height)?(Kt.current={height:window.innerHeight,width:window.innerWidth},void ht(W.FullScreenMode.Entered)):void(St===W.FullScreenMode.Exitting&&Dt.current.height===tt.height&&Dt.current.width===tt.width&&tt.height>0&&tt.width>0&&ht(W.FullScreenMode.Exited))},[St,tt,mt]),K.useEffect(function(){var yn;return yn=xn,ze&&document.addEventListener(rt.FullScreenChange,yn),function(){(function(jn){ze&&document.removeEventListener(rt.FullScreenChange,jn)})(xn)}},[Ut]),{enterFullScreenMode:wn,exitFullScreenMode:un,fullScreenMode:St}},na={buildPageStyles:function(){return{}},transformSize:function(oe){return oe.size}},Dr={left:0,top:0},ra=function(oe){var Me=oe.currentFile,Ke=oe.defaultScale,et=oe.doc,st=oe.enableSmoothScroll,lt=oe.initialPage,St=oe.initialRotation,ht=oe.initialScale,tt=oe.pageLayout,bt=oe.pageSizes,mt=oe.plugins,Vt=oe.renderPage,Dt=oe.scrollMode,Ft=oe.setRenderRange,Kt=oe.viewMode,zt=oe.viewerState,Ut=oe.onDocumentLoad,Tn=oe.onOpenFile,vn=oe.onPageChange,bn=oe.onRotate,wn=oe.onRotatePage,un=oe.onZoom,xn=et.numPages,yn=et.loadingTask.docId,jn=K.useContext(ut).l10n,On=K.useContext(ge),Un=On.direction===W.TextDirection.RightToLeft,zn=K.useRef(),Gn=K.useRef(),sr=K.useState(lt),er=sr[0],lr=sr[1],rr=K.useRef(null),ar=Bi({getCurrentPage:function(){return Mn.current.pageIndex}}),or=K.useState(St),ir=or[0],fr=or[1],xr=xt(ir),yr=K.useState(!1),dr=yr[0],gr=yr[1],Ar=K.useState(new Map),Sn=Ar[0],_n=Ar[1],dn=K.useState(Dt),fn=dn[0],hn=dn[1],An=xt(fn),kn=K.useState(Kt),mn=kn[0],nn=kn[1],Pn=xt(mn),Ln=function(Wt){var Cn=Be(),Dn=K.useState([]),Xn=Dn[0],Hn=Dn[1];return K.useEffect(function(){Wt.getOutline().then(function(Vn){if(Cn.current&&Vn!==null){var ur=bi(Vn);Hn(ur)}})},[]),Xn}(et),Jn=K.useState(ht),qn=Jn[0],hr=Jn[1],vr=xt(qn),Mn=K.useRef(zt),pr=K.useRef(typeof Ke=="string"?Ke:null),Bn=K.useRef(-1),tr=K.useRef(-1),cr=K.useRef(lt),Yn=ta({getCurrentPage:function(){return Mn.current.pageIndex},getCurrentScrollMode:function(){return Mn.current.scrollMode},jumpToPage:function(Wt){return Tr(Wt)},targetRef:Gn}),Mr=K.useState(-1),Vr=Mr[0],Yr=Mr[1],Lr=K.useState(0),Wr=Lr[0],ca=Lr[1],_r=Ne({doc:et});K.useEffect(function(){return function(){Yt.clear(),Bt.clear()}},[yn]);var wi=K.useMemo(function(){return Object.assign({},na,tt)},[]),ua=K.useMemo(function(){return Array(xn).fill(0).map(function(Wt,Cn){var Dn=[bt[Cn].pageHeight,bt[Cn].pageWidth],Xn=Math.abs(ir)%180==0?{height:Dn[0],width:Dn[1]}:{height:Dn[1],width:Dn[0]},Hn={height:Xn.height*qn,width:Xn.width*qn};return wi.transformSize({numPages:xn,pageIndex:Cn,size:Hn})})},[ir,qn]),Zn=Ji({enableSmoothScroll:st,isRtl:Un,numberOfItems:xn,parentRef:Gn,scrollMode:fn,setRenderRange:Ft,sizes:ua,viewMode:mn}),da=Ge(function(){!pr.current||Mn.current.fullScreenMode!==W.FullScreenMode.Normal||lt>0&&cr.current===lt||Fr(pr.current)},200);(function(Wt){var Cn=Wt.targetRef,Dn=Wt.onResize;xe(function(){var Xn=new ResizeObserver(function(Vn){Vn.forEach(function(ur){Dn(ur.target)})}),Hn=Cn.current;if(Hn)return Xn.observe(Hn),function(){Xn.unobserve(Hn)}},[])})({targetRef:Gn,onResize:da});var $r=function(Wt){var Cn=Wt;mt.forEach(function(Dn){Dn.onViewerStateChange&&(Cn=Dn.onViewerStateChange(Cn))}),Mn.current=Cn},pa=function(){return Gn.current},fa=function(){return Mn.current},ma=K.useCallback(function(Wt){ar.markVisitedDestination(Wt)},[]),ri=K.useCallback(function(Wt){var Cn=Wt.pageIndex,Dn=Wt.bottomOffset,Xn=Wt.leftOffset,Hn=Wt.scaleTo,Vn=Gn.current,ur=Mn.current;return Vn&&ur?new Promise(function(Rr,ci){rn(et,Cn).then(function(qr){var Ir=qr.getViewport({scale:1}),Zr=0,Ti=(typeof Dn=="function"?Dn(Ir.width,Ir.height):Dn)||0,Qr=(typeof Xn=="function"?Xn(Ir.width,Ir.height):Xn)||0,Or=ur.scale;switch(Hn){case W.SpecialZoomLevel.PageFit:Zr=0,Qr=0,Fr(W.SpecialZoomLevel.PageFit);break;case W.SpecialZoomLevel.PageWidth:Or=Br(Vn,bt[Cn].pageHeight,bt[Cn].pageWidth,W.SpecialZoomLevel.PageWidth,Kt,xn),Zr=(Ir.height-Ti)*Or,Qr*=Or,Fr(Or);break;default:Zr=(Ir.height-Ti)*Or,Qr*=Or}switch(ur.scrollMode){case W.ScrollMode.Horizontal:Zn.scrollToItem(Cn,{left:Qr,top:0}).then(function(){Rr()});break;case W.ScrollMode.Vertical:default:Zn.scrollToItem(Cn,{left:0,top:Zr}).then(function(){Rr()})}})}):Promise.resolve()},[]),xi=K.useCallback(function(Wt){return ar.markVisitedDestination(Wt),ri(Wt)},[]),ga=K.useCallback(function(){var Wt=ar.getNextDestination();return Wt?ri(Wt):Promise.resolve()},[]),va=K.useCallback(function(){var Wt=ar.getPreviousDestination();return Wt?ri(Wt):Promise.resolve()},[]),ba=K.useCallback(function(){return Zn.scrollToNextItem(Mn.current.pageIndex,Dr)},[]),Tr=K.useCallback(function(Wt){return 0<=Wt&&Wt<xn?Zn.scrollToItem(Wt,Dr):Promise.resolve()},[]),_a=K.useCallback(function(){return Zn.scrollToPreviousItem(Mn.current.pageIndex,Dr)},[]),Ai=K.useCallback(function(Wt){var Cn,Dn;(Cn=Wt.name,Dn=Cn.split(/\./).pop(),Dn?Dn.toLowerCase():"").toLowerCase()==="pdf"&&new Promise(function(Xn){var Hn=new FileReader;Hn.readAsArrayBuffer(Wt),Hn.onload=function(){var Vn=new Uint8Array(Hn.result);Xn(Vn)}}).then(function(Xn){Tn(Wt.name,Xn)})},[Tn]),ki=K.useCallback(function(Wt){var Cn=Wt===W.RotateDirection.Backward?-90:90,Dn=Mn.current.rotation,Xn=Dn===360||Dn===-360?Cn:Dn+Cn;_r.markNotRendered(),fr(Xn),$r(ae(ae({},Mn.current),{rotation:Xn})),bn({direction:Wt,doc:et,rotation:Xn})},[]),ii=K.useCallback(function(Wt,Cn){var Dn=Cn===W.RotateDirection.Backward?-90:90,Xn=Mn.current.pagesRotation,Hn=(Xn.has(Wt)?Xn.get(Wt):St)+Dn,Vn=Xn.set(Wt,Hn);_n(Vn),gr(function(ur){return!ur}),$r(ae(ae({},Mn.current),{pagesRotation:Vn,rotatedPage:Wt})),wn({direction:Cn,doc:et,pageIndex:Wt,rotation:Hn}),_r.markRendering(Wt),Yr(Wt)},[]),Ci=K.useCallback(function(Wt){$r(ae(ae({},Mn.current),{scrollMode:Wt})),hn(Wt)},[]),Pi=K.useCallback(function(Wt){$r(ae(ae({},Mn.current),{viewMode:Wt})),nn(Wt)},[]),Fr=K.useCallback(function(Wt){var Cn=Gn.current,Dn=Mn.current.pageIndex;if(!(Dn<0||Dn>=xn)){var Xn=bt[Dn].pageHeight,Hn=bt[Dn].pageWidth,Vn=Cn?typeof Wt=="string"?Br(Cn,Xn,Hn,Wt,Mn.current.viewMode,xn):Wt:1;pr.current=typeof Wt=="string"?Wt:null,Vn!==Mn.current.scale&&(ca(function(ur){return ur+1}),_r.markNotRendered(),hr(Vn),un({doc:et,scale:Vn}),$r(ae(ae({},Mn.current),{scale:Vn})))}},[]),Ea=K.useCallback(function(Wt){Yn.enterFullScreenMode(Wt)},[]),ya=K.useCallback(function(){Yn.exitFullScreenMode()},[]);K.useEffect(function(){$r(ae(ae({},Mn.current),{fullScreenMode:Yn.fullScreenMode}))},[Yn.fullScreenMode]),K.useEffect(function(){var Wt={enterFullScreenMode:Ea,exitFullScreenMode:ya,getPagesContainer:pa,getViewerState:fa,jumpToDestination:xi,jumpToNextDestination:ga,jumpToPreviousDestination:va,jumpToNextPage:ba,jumpToPreviousPage:_a,jumpToPage:Tr,openFile:Ai,rotate:ki,rotatePage:ii,setViewerState:$r,switchScrollMode:Ci,switchViewMode:Pi,zoom:Fr};return mt.forEach(function(Cn){Cn.install&&Cn.install(Wt)}),function(){mt.forEach(function(Cn){Cn.uninstall&&Cn.uninstall(Wt)})}},[yn]),K.useEffect(function(){Ut({doc:et,file:Me}),mt.forEach(function(Wt){Wt.onDocumentLoad&&Wt.onDocumentLoad({doc:et,file:Me})})},[yn]);var ai,oi,si,Mi=Zn.boundingClientRect;ai=function(){lt&&Tr(lt)},oi=Mi.height>0&&Mi.width>0,si=K.useRef(!1),xe(function(){oi&&!si.current&&(si.current=!0,ai())},[ai,oi]),xe(function(){var Wt=Mn.current.pageIndex;Wt>-1&&An!==fn&&Zn.scrollToItem(Wt,Dr).then(function(){Yn.fullScreenMode===W.FullScreenMode.EnteredCompletely&&(st||_r.markNotRendered(),Bn.current=-1)})},[fn]),xe(function(){var Wt=Mn.current.pageIndex;Wt>-1&&xr!==ir&&Zn.scrollToItem(Wt,Dr)},[ir]),xe(function(){vr!=0&&vr!=Mn.current.scale&&Zn.zoom(Mn.current.scale/vr,Mn.current.pageIndex).then(function(){Yn.fullScreenMode===W.FullScreenMode.EnteredCompletely&&(tr.current=-1)})},[qn]),xe(function(){if(Pn!==Mn.current.viewMode){var Wt=Zn.startPage,Cn=Zn.endPage,Dn=Zn.virtualItems;_r.markNotRendered(),_r.setRange(Wt,Cn);for(var Xn=function(Vn){var ur=Dn.find(function(Rr){return Rr.index===Vn});ur&&_r.setVisibility(Vn,ur.visibility)},Hn=Wt;Hn<=Cn;Hn++)Xn(Hn);li()}},[mn]),xe(function(){var Wt=Mn.current.pageIndex;Wt>-1&&Pn!==mn&&Zn.scrollToItem(Wt,Dr)},[mn]),xe(function(){var Wt=Mn.current.pageIndex;Wt>0&&Wt===lt&&cr.current===lt&&pr.current&&(cr.current=-1,Fr(pr.current))},[er]),K.useEffect(function(){Zn.isSmoothScrolling||rr.current!==null&&rr.current===er||(rr.current=er,vn({currentPage:er,doc:et}))},[er,Zn.isSmoothScrolling]),K.useEffect(function(){Yn.fullScreenMode===W.FullScreenMode.Entering&&Mn.current.scrollMode===W.ScrollMode.Page&&(Bn.current=Mn.current.pageIndex),Yn.fullScreenMode===W.FullScreenMode.EnteredCompletely&&Mn.current.scrollMode===W.ScrollMode.Page&&st&&(Bn.current=-1),Yn.fullScreenMode===W.FullScreenMode.EnteredCompletely&&pr.current&&(tr.current=Mn.current.pageIndex,Fr(pr.current))},[Yn.fullScreenMode]),K.useEffect(function(){if(Yn.fullScreenMode!==W.FullScreenMode.Entering&&Yn.fullScreenMode!==W.FullScreenMode.Exitting&&!Zn.isSmoothScrolling){var Wt=Zn.startPage,Cn=Zn.endPage,Dn=Zn.maxVisbilityIndex,Xn=Zn.virtualItems,Hn=Dn,Vn=Yn.fullScreenMode===W.FullScreenMode.Entered||Yn.fullScreenMode===W.FullScreenMode.EnteredCompletely;if(!(Vn&&Hn!==Bn.current&&Bn.current>-1||Vn&&Hn!==tr.current&&tr.current>-1)){lr(Hn),$r(ae(ae({},Mn.current),{pageIndex:Hn})),_r.setRange(Wt,Cn);for(var ur=function(ci){var qr=Xn.find(function(Ir){return Ir.index===ci});qr&&_r.setVisibility(ci,qr.visibility)},Rr=Wt;Rr<=Cn;Rr++)ur(Rr);li()}}},[Zn.startPage,Zn.endPage,Zn.isSmoothScrolling,Zn.maxVisbilityIndex,Yn.fullScreenMode,dr,ir,qn]);var Sa=K.useCallback(function(Wt){_r.markRendered(Wt),li()},[Wr]),li=function(){var Wt=_r.getHighestPriorityPage();Wt>-1&&_r.isInRange(Wt)&&(_r.markRendering(Wt),Yr(Wt))},wa=function(Wt){var Cn=er-1,Dn=er+1;switch(Wt){case"FirstPage":Tr(0);break;case"LastPage":Tr(xn-1);break;case"NextPage":Dn<xn&&Tr(Dn);break;case"PrevPage":Cn>=0&&Tr(Cn)}},xa=K.useCallback(function(){var Wt=Zn.virtualItems,Cn=[];switch(mn){case W.ViewMode.DualPage:Cn=jt(Wt,2);break;case W.ViewMode.DualPageWithCover:Wt.length&&(Cn=Wt[0].index===0?[[Wt[0]]].concat(jt(Wt.slice(1),2)):jt(Wt,2));break;case W.ViewMode.SinglePage:default:Cn=jt(Wt,1)}var Dn=jn&&jn.core?jn.core.pageLabel:"Page {{pageIndex}}",Xn={attrs:{className:"rpv-core__inner-container","data-testid":"core__inner-container",ref:zn,style:{height:"100%"}},children:K.createElement(K.Fragment,null),subSlot:{attrs:{"data-testid":"core__inner-pages",className:ve({"rpv-core__inner-pages":!0,"rpv-core__inner-pages--horizontal":fn===W.ScrollMode.Horizontal,"rpv-core__inner-pages--rtl":Un,"rpv-core__inner-pages--single":fn===W.ScrollMode.Page,"rpv-core__inner-pages--vertical":fn===W.ScrollMode.Vertical,"rpv-core__inner-pages--wrapped":fn===W.ScrollMode.Wrapped}),ref:Gn,style:{height:"100%",position:"relative"}},children:K.createElement("div",{"data-testid":"core__inner-current-page-".concat(er),style:Object.assign({"--scale-factor":qn},Zn.getContainerStyles())},Cn.map(function(Hn){return K.createElement("div",{className:ve({"rpv-core__inner-page-container":!0,"rpv-core__inner-page-container--single":fn===W.ScrollMode.Page}),style:Zn.getItemContainerStyles(Hn[0]),key:"".concat(Hn[0].index,"-").concat(mn)},Hn.map(function(Vn){var ur=mn===W.ViewMode.DualPageWithCover&&(Vn.index===0||xn%2==0&&Vn.index===xn-1);return K.createElement("div",{"aria-label":Dn.replace("{{pageIndex}}","".concat(Vn.index+1)),className:ve({"rpv-core__inner-page":!0,"rpv-core__inner-page--dual-even":mn===W.ViewMode.DualPage&&Vn.index%2==0,"rpv-core__inner-page--dual-odd":mn===W.ViewMode.DualPage&&Vn.index%2==1,"rpv-core__inner-page--dual-cover":ur,"rpv-core__inner-page--dual-cover-even":mn===W.ViewMode.DualPageWithCover&&!ur&&Vn.index%2==0,"rpv-core__inner-page--dual-cover-odd":mn===W.ViewMode.DualPageWithCover&&!ur&&Vn.index%2==1,"rpv-core__inner-page--single":mn===W.ViewMode.SinglePage&&fn===W.ScrollMode.Page}),role:"region",key:"".concat(Vn.index,"-").concat(mn),style:Object.assign({},Zn.getItemStyles(Vn),wi.buildPageStyles({numPages:xn,pageIndex:Vn.index,scrollMode:fn,viewMode:mn}))},K.createElement(Ui,{doc:et,measureRef:Vn.measureRef,outlines:Ln,pageIndex:Vn.index,pageRotation:Sn.has(Vn.index)?Sn.get(Vn.index):0,pageSize:bt[Vn.index],plugins:mt,renderPage:Vt,renderQueueKey:Wr,rotation:ir,scale:qn,shouldRender:Vr===Vn.index,viewMode:mn,onExecuteNamedAction:wa,onJumpFromLinkAnnotation:ma,onJumpToDest:xi,onRenderCompleted:Sa,onRotatePage:ii}))}))}))}};return mt.forEach(function(Hn){Hn.renderViewer&&(Xn=Hn.renderViewer({containerRef:zn,doc:et,pagesContainerRef:Gn,pagesRotation:Sn,pageSizes:bt,rotation:ir,slot:Xn,themeContext:On,jumpToPage:Tr,openFile:Ai,rotate:ki,rotatePage:ii,switchScrollMode:Ci,switchViewMode:Pi,zoom:Fr}))}),Xn},[mt,Zn]),$i=K.useCallback(function(Wt){return K.createElement("div",ae({},Wt.attrs,{style:Wt.attrs&&Wt.attrs.style?Wt.attrs.style:{}}),Wt.children,Wt.subSlot&&$i(Wt.subSlot))},[]);return $i(xa())},Ei=[.1,.2,.3,.4,.5,.6,.7,.8,.9,1,1.1,1.3,1.5,1.7,1.9,2.1,2.4,2.7,3,3.3,3.7,4.1,4.6,5.1,5.7,6.3,7,7.7,8.5,9.4,10],ia=function(oe){var Me=oe.defaultScale,Ke=oe.doc,et=oe.render,st=oe.scrollMode,lt=oe.viewMode,St=K.useRef(),ht=K.useState({pageSizes:[],scale:0}),tt=ht[0],bt=ht[1];return K.useLayoutEffect(function(){var mt=Array(Ke.numPages).fill(0).map(function(Vt,Dt){return new Promise(function(Ft,Kt){rn(Ke,Dt).then(function(zt){var Ut=zt.getViewport({scale:1});Ft({pageHeight:Ut.height,pageWidth:Ut.width,rotation:Ut.rotation})})})});Promise.all(mt).then(function(Vt){var Dt=St.current;if(Dt&&Vt.length!==0){var Ft=Vt[0].pageWidth,Kt=Vt[0].pageHeight,zt=Dt.parentElement,Ut=(zt.clientWidth-45)/Ft,Tn=(zt.clientHeight-45)/Kt,vn=Ut;switch(st){case W.ScrollMode.Horizontal:vn=Math.min(Ut,Tn);break;case W.ScrollMode.Vertical:default:vn=Ut}var bn,wn,un=Me?typeof Me=="string"?Br(zt,Kt,Ft,Me,lt,Ke.numPages):Me:(bn=vn,(wn=Ei.findIndex(function(xn){return xn>=bn}))===-1||wn===0?bn:Ei[wn-1]);bt({pageSizes:Vt,scale:un})}})},[Ke.loadingTask.docId]),tt.pageSizes.length===0||tt.scale===0?K.createElement("div",{className:"rpv-core__page-size-calculator","data-testid":"core__page-size-calculating",ref:St},K.createElement(Ie,null)):et(tt.pageSizes,tt.scale)},Kr=function(){},ti=function(oe){function Me(Ke,et){var st=oe.call(this)||this;return st.verifyPassword=Ke,st.passwordStatus=et,st}return ke(Me,oe),Me}(Kr),aa=function(oe){var Me=oe.passwordStatus,Ke=oe.renderProtectedView,et=oe.verifyPassword,st=oe.onDocumentAskPassword,lt=K.useContext(ut).l10n,St=K.useState(""),ht=St[0],tt=St[1],bt=K.useContext(ge).direction===W.TextDirection.RightToLeft,mt=function(){return et(ht)};return K.useEffect(function(){st&&st({verifyPassword:et})},[]),Ke?Ke({passwordStatus:Me,verifyPassword:et}):K.createElement("div",{className:"rpv-core__asking-password-wrapper"},K.createElement("div",{className:ve({"rpv-core__asking-password":!0,"rpv-core__asking-password--rtl":bt})},K.createElement("div",{className:"rpv-core__asking-password-message"},Me===W.PasswordStatus.RequiredPassword&&lt.core.askingPassword.requirePasswordToOpen,Me===W.PasswordStatus.WrongPassword&&lt.core.wrongPassword.tryAgain),K.createElement("div",{className:"rpv-core__asking-password-body"},K.createElement("div",{className:ve({"rpv-core__asking-password-input":!0,"rpv-core__asking-password-input--ltr":!bt,"rpv-core__asking-password-input--rtl":bt})},K.createElement(Pe,{testId:"core__asking-password-input",type:"password",value:ht,onChange:tt,onKeyDown:function(Vt){Vt.key==="Enter"&&mt()}})),K.createElement(we,{onClick:mt},lt.core.askingPassword.submit))))},yi=function(oe){function Me(Ke){var et=oe.call(this)||this;return et.doc=Ke,et}return ke(Me,oe),Me}(Kr),Si=function(oe){function Me(Ke){var et=oe.call(this)||this;return et.error=Ke,et}return ke(Me,oe),Me}(Kr),ni=function(oe){function Me(Ke){var et=oe.call(this)||this;return et.percentages=Ke,et}return ke(Me,oe),Me}(Kr),oa=function(oe){var Me=oe.characterMap,Ke=oe.file,et=oe.httpHeaders,st=oe.render,lt=oe.renderError,St=oe.renderLoader,ht=oe.renderProtectedView,tt=oe.transformGetDocumentParams,bt=oe.withCredentials,mt=oe.onDocumentAskPassword,Vt=K.useContext(ge).direction===W.TextDirection.RightToLeft,Dt=K.useState(new ni(0)),Ft=Dt[0],Kt=Dt[1],zt=K.useRef(""),Ut=Be();return K.useEffect(function(){zt.current="",Kt(new ni(0));var Tn=new B.PDFWorker({name:"PDFWorker_".concat(Date.now())}),vn=Object.assign({httpHeaders:et,withCredentials:bt,worker:Tn},typeof Ke=="string"?{url:Ke}:{data:Ke},Me?{cMapUrl:Me.url,cMapPacked:Me.isCompressed}:{}),bn=tt?tt(vn):vn,wn=B.getDocument(bn);return wn.onPassword=function(un,xn){switch(xn){case B.PasswordResponses.NEED_PASSWORD:Ut.current&&Kt(new ti(un,W.PasswordStatus.RequiredPassword));break;case B.PasswordResponses.INCORRECT_PASSWORD:Ut.current&&Kt(new ti(un,W.PasswordStatus.WrongPassword))}},wn.onProgress=function(un){var xn=un.total>0?Math.min(100,100*un.loaded/un.total):100;Ut.current&&zt.current===""&&Kt(new ni(xn))},wn.promise.then(function(un){zt.current=un.loadingTask.docId,Ut.current&&Kt(new yi(un))},function(un){return Ut.current&&!Tn.destroyed&&Kt(new Si({message:un.message||"Cannot load document",name:un.name}))}),function(){wn.destroy(),Tn.destroy()}},[Ke]),Ft instanceof ti?K.createElement(aa,{passwordStatus:Ft.passwordStatus,renderProtectedView:ht,verifyPassword:Ft.verifyPassword,onDocumentAskPassword:mt}):Ft instanceof yi?st(Ft.doc):Ft instanceof Si?lt?lt(Ft.error):K.createElement("div",{className:ve({"rpv-core__doc-error":!0,"rpv-core__doc-error--rtl":Vt})},K.createElement("div",{className:"rpv-core__doc-error-text"},Ft.error.message)):K.createElement("div",{"data-testid":"core__doc-loading",className:ve({"rpv-core__doc-loading":!0,"rpv-core__doc-loading--rtl":Vt})},St?St(Ft.percentages):K.createElement(Ie,null))},sa=function(oe,Me){var Ke=K.useMemo(function(){return oe==="auto"?typeof window<"u"&&window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light":oe},[]),et=K.useState(Ke),st=et[0],lt=et[1],St=xt(st);return K.useEffect(function(){if(oe==="auto"){var ht=window.matchMedia("(prefers-color-scheme: dark)"),tt=function(bt){lt(bt.matches?"dark":"light")};return ht.addEventListener("change",tt),function(){return ht.removeEventListener("change",tt)}}},[]),K.useEffect(function(){st!==St&&Me&&Me(st)},[st]),K.useEffect(function(){oe!==st&&lt(oe)},[oe]),{currentTheme:st,setCurrentTheme:lt}},la=function(oe){return{startPage:oe.startPage-3,endPage:oe.endPage+3}};W.Button=function(oe){var Me=oe.children,Ke=oe.testId,et=oe.onClick,st=K.useContext(ge).direction===W.TextDirection.RightToLeft,lt=Ke?{"data-testid":Ke}:{};return K.createElement("button",ae({className:ve({"rpv-core__button":!0,"rpv-core__button--rtl":st}),type:"button",onClick:et},lt),Me)},W.Icon=pe,W.LazyRender=function(oe){var Me=oe.attrs,Ke=oe.children,et=oe.testId,st=K.useState(!1),lt=st[0],St=st[1],ht=et?ae(ae({},Me),{"data-testid":et}):Me,tt=Se({once:!0,onVisibilityChanged:function(bt){bt.isVisible&&St(!0)}});return K.createElement("div",ae({ref:tt},ht),lt&&Ke)},W.LocalizationContext=ut,W.Menu=function(oe){var Me=oe.children,Ke=K.useRef(),et=K.useRef([]),st=K.useContext(ge).direction===W.TextDirection.RightToLeft,lt=function(ht){if(Ke.current)switch(ht.key){case"Tab":ht.preventDefault();break;case"ArrowDown":ht.preventDefault(),St(function(tt,bt){return bt+1});break;case"ArrowUp":ht.preventDefault(),St(function(tt,bt){return bt-1});break;case"End":ht.preventDefault(),St(function(tt,bt){return tt.length-1});break;case"Home":ht.preventDefault(),St(function(tt,bt){return 0})}},St=function(ht){if(Ke.current){var tt=et.current,bt=tt.findIndex(function(Vt){return Vt.getAttribute("tabindex")==="0"}),mt=Math.min(tt.length-1,Math.max(0,ht(tt,bt)));bt>=0&&bt<=tt.length-1&&tt[bt].setAttribute("tabindex","-1"),tt[mt].setAttribute("tabindex","0"),tt[mt].focus()}};return xe(function(){var ht=Ke.current;if(ht){var tt=function(bt){var mt=[];return bt.querySelectorAll('.rpv-core__menu-item[role="menuitem"]').forEach(function(Vt){if(Vt instanceof HTMLElement){var Dt=Vt.parentElement;(Dt===bt||window.getComputedStyle(Dt).display!=="none")&&mt.push(Vt)}}),mt}(ht);et.current=tt}},[]),xe(function(){return document.addEventListener("keydown",lt),function(){document.removeEventListener("keydown",lt)}},[]),K.createElement("div",{ref:Ke,"aria-orientation":"vertical",className:ve({"rpv-core__menu":!0,"rpv-core__menu--rtl":st}),role:"menu",tabIndex:0},Me)},W.MenuDivider=function(){return K.createElement("div",{"aria-orientation":"horizontal",className:"rpv-core__menu-divider",role:"separator"})},W.MenuItem=function(oe){var Me=oe.checked,Ke=Me!==void 0&&Me,et=oe.children,st=oe.icon,lt=st===void 0?null:st,St=oe.isDisabled,ht=St!==void 0&&St,tt=oe.testId,bt=oe.onClick,mt=K.useContext(ge).direction===W.TextDirection.RightToLeft,Vt=tt?{"data-testid":tt}:{};return K.createElement("button",ae({className:ve({"rpv-core__menu-item":!0,"rpv-core__menu-item--disabled":ht,"rpv-core__menu-item--ltr":!mt,"rpv-core__menu-item--rtl":mt}),role:"menuitem",tabIndex:-1,type:"button",onClick:bt},Vt),K.createElement("div",{className:ve({"rpv-core__menu-item-icon":!0,"rpv-core__menu-item-icon--ltr":!mt,"rpv-core__menu-item-icon--rtl":mt})},lt),K.createElement("div",{className:ve({"rpv-core__menu-item-label":!0,"rpv-core__menu-item-label--ltr":!mt,"rpv-core__menu-item-label--rtl":mt})},et),K.createElement("div",{className:ve({"rpv-core__menu-item-check":!0,"rpv-core__menu-item-check--ltr":!mt,"rpv-core__menu-item-check--rtl":mt})},Ke&&K.createElement(ne,null)))},W.MinimalButton=function(oe){var Me=oe.ariaLabel,Ke=Me===void 0?"":Me,et=oe.ariaKeyShortcuts,st=et===void 0?"":et,lt=oe.children,St=oe.isDisabled,ht=St!==void 0&&St,tt=oe.isSelected,bt=tt!==void 0&&tt,mt=oe.testId,Vt=oe.onClick,Dt=K.useContext(ge).direction===W.TextDirection.RightToLeft,Ft=mt?{"data-testid":mt}:{};return K.createElement("button",ae({"aria-label":Ke},st&&{"aria-keyshortcuts":st},ht&&{"aria-disabled":!0},{className:ve({"rpv-core__minimal-button":!0,"rpv-core__minimal-button--disabled":ht,"rpv-core__minimal-button--rtl":Dt,"rpv-core__minimal-button--selected":bt}),type:"button",onClick:Vt},Ft),lt)},W.Modal=function(oe){var Me=oe.ariaControlsSuffix,Ke=oe.closeOnClickOutside,et=oe.closeOnEscape,st=oe.content,lt=oe.isOpened,St=lt!==void 0&&lt,ht=oe.target,tt=Me||"".concat(_e());return K.createElement(gt,{target:ht?function(bt,mt){return K.createElement("div",{"aria-expanded":mt?"true":"false","aria-haspopup":"dialog","aria-controls":"rpv-core__modal-body-".concat(tt)},ht(bt,mt))}:null,content:function(bt){return K.createElement(Fe,null,K.createElement(je,{ariaControlsSuffix:tt,closeOnClickOutside:Ke,closeOnEscape:et,onToggle:bt},st(bt)))},isOpened:St})},W.Popover=function(oe){var Me=oe.ariaHasPopup,Ke=Me===void 0?"dialog":Me,et=oe.ariaControlsSuffix,st=oe.closeOnClickOutside,lt=oe.closeOnEscape,St=oe.content,ht=oe.lockScroll,tt=ht===void 0||ht,bt=oe.offset,mt=oe.position,Vt=oe.target,Dt=Ye(!1),Ft=Dt.opened,Kt=Dt.toggle,zt=K.useRef(),Ut=K.useMemo(function(){return et||"".concat(_e())},[]);return K.createElement("div",{ref:zt,"aria-expanded":Ft?"true":"false","aria-haspopup":Ke,"aria-controls":"rpv-core__popver-body-".concat(Ut)},Vt(Kt,Ft),Ft&&K.createElement(K.Fragment,null,tt&&K.createElement($t,{closeOnEscape:lt,onClose:Kt}),K.createElement(Pt,{ariaControlsSuffix:Ut,closeOnClickOutside:st,offset:bt,position:mt,targetRef:zt,onClose:Kt},St(Kt))))},W.PrimaryButton=we,W.ProgressBar=function(oe){var Me=oe.progress,Ke=K.useContext(ge).direction===W.TextDirection.RightToLeft;return K.createElement("div",{className:ve({"rpv-core__progress-bar":!0,"rpv-core__progress-bar--rtl":Ke})},K.createElement("div",{className:"rpv-core__progress-bar-progress",style:{width:"".concat(Me,"%")}},Me,"%"))},W.Separator=function(){return K.createElement("div",{className:"rpv-core__separator"})},W.Spinner=Ie,W.Splitter=function(oe){var Me=oe.constrain,Ke=K.useContext(ge).direction===W.TextDirection.RightToLeft,et=K.useRef(),st=K.useRef(),lt=K.useRef(),St=K.useRef(0),ht=K.useRef(0),tt=K.useRef(0),bt=K.useRef(0),mt={capture:!0},Vt=function(Ft){var Kt=et.current,zt=st.current,Ut=lt.current;if(Kt&&zt&&Ut){var Tn=bt.current,vn=Ft.clientX-St.current,bn=tt.current+(Ke?-vn:vn),wn=Kt.parentElement.getBoundingClientRect().width,un=100*bn/wn;if(Kt.classList.add("rpv-core__splitter--resizing"),Me){var xn=wn-bn-Tn;if(!Me({firstHalfPercentage:un,firstHalfSize:bn,secondHalfPercentage:100*xn/wn,secondHalfSize:xn}))return}zt.style.width="".concat(un,"%"),document.body.classList.add("rpv-core__splitter-body--resizing"),zt.classList.add("rpv-core__splitter-sibling--resizing"),Ut.classList.add("rpv-core__splitter-sibling--resizing")}},Dt=function(Ft){var Kt=et.current,zt=st.current,Ut=lt.current;Kt&&zt&&Ut&&(document.body.classList.remove("rpv-core__splitter-body--resizing"),Kt.classList.remove("rpv-core__splitter--resizing"),zt.classList.remove("rpv-core__splitter-sibling--resizing"),Ut.classList.remove("rpv-core__splitter-sibling--resizing"),document.removeEventListener("mousemove",Vt,mt),document.removeEventListener("mouseup",Dt,mt))};return K.useEffect(function(){var Ft=et.current;Ft&&(bt.current=Ft.getBoundingClientRect().width,st.current=Ft.previousElementSibling,lt.current=Ft.nextElementSibling)},[]),K.createElement("div",{ref:et,className:"rpv-core__splitter",onMouseDown:function(Ft){var Kt=st.current;Kt&&(St.current=Ft.clientX,ht.current=Ft.clientY,tt.current=Kt.getBoundingClientRect().width,document.addEventListener("mousemove",Vt,mt),document.addEventListener("mouseup",Dt,mt))}})},W.TextBox=Pe,W.ThemeContext=ge,W.Tooltip=function(oe){var Me=oe.ariaControlsSuffix,Ke=oe.content,et=oe.offset,st=oe.position,lt=oe.target,St=Ye(!1),ht=St.opened,tt=St.toggle,bt=K.useRef(),mt=K.useRef(),Vt=K.useMemo(function(){return Me||"".concat(_e())},[]);Le(function(){bt.current&&document.activeElement&&bt.current.contains(document.activeElement)&&Ft()});var Dt=function(){tt(W.ToggleStatus.Open)},Ft=function(){tt(W.ToggleStatus.Close)};return K.createElement(K.Fragment,null,K.createElement("div",{ref:bt,"aria-describedby":"rpv-core__tooltip-body-".concat(Vt),onBlur:function(Kt){Kt.relatedTarget instanceof HTMLElement&&Kt.currentTarget.parentElement&&Kt.currentTarget.parentElement.contains(Kt.relatedTarget)?mt.current&&(mt.current.style.display="none"):Ft()},onFocus:Dt,onMouseEnter:Dt,onMouseLeave:Ft},lt),ht&&K.createElement(_t,{ariaControlsSuffix:Vt,contentRef:mt,offset:et,position:st,targetRef:bt},Ke()))},W.Viewer=function(oe){var Me=oe.characterMap,Ke=oe.defaultScale,et=oe.enableSmoothScroll,st=et===void 0||et,lt=oe.fileUrl,St=oe.httpHeaders,ht=St===void 0?{}:St,tt=oe.initialPage,bt=tt===void 0?0:tt,mt=oe.pageLayout,Vt=oe.initialRotation,Dt=Vt===void 0?0:Vt,Ft=oe.localization,Kt=oe.plugins,zt=Kt===void 0?[]:Kt,Ut=oe.renderError,Tn=oe.renderLoader,vn=oe.renderPage,bn=oe.renderProtectedView,wn=oe.scrollMode,un=wn===void 0?W.ScrollMode.Vertical:wn,xn=oe.setRenderRange,yn=xn===void 0?la:xn,jn=oe.transformGetDocumentParams,On=oe.theme,Un=On===void 0?{direction:W.TextDirection.LeftToRight,theme:"light"}:On,zn=oe.viewMode,Gn=zn===void 0?W.ViewMode.SinglePage:zn,sr=oe.withCredentials,er=sr!==void 0&&sr,lr=oe.onDocumentAskPassword,rr=oe.onDocumentLoad,ar=rr===void 0?function(){}:rr,or=oe.onPageChange,ir=or===void 0?function(){}:or,fr=oe.onRotate,xr=fr===void 0?function(){}:fr,yr=oe.onRotatePage,dr=yr===void 0?function(){}:yr,gr=oe.onSwitchTheme,Ar=gr===void 0?function(){}:gr,Sn=oe.onZoom,_n=Sn===void 0?function(){}:Sn,dn=K.useState({data:lt,name:typeof lt=="string"?lt:"",shouldLoad:!1}),fn=dn[0],hn=dn[1],An=function(Bn,tr){hn({data:tr,name:Bn,shouldLoad:!0})},kn=K.useState(!1),mn=kn[0],nn=kn[1],Pn=xt(fn);K.useEffect(function(){var Bn,tr,cr,Yn;Bn=Pn.data,Yn=typeof(tr=lt),(cr=typeof Bn)=="string"&&Yn==="string"&&Bn===tr||cr==="object"&&Yn==="object"&&Bn.length===tr.length&&Bn.every(function(Mr,Vr){return Mr===tr[Vr]})||hn({data:lt,name:typeof lt=="string"?lt:"",shouldLoad:mn})},[lt,mn]);var Ln=Se({onVisibilityChanged:function(Bn){nn(Bn.isVisible),Bn.isVisible&&hn(function(tr){return Object.assign({},tr,{shouldLoad:!0})})}}),Jn=typeof Un=="string"?{direction:W.TextDirection.LeftToRight,theme:Un}:Un,qn=K.useState(Ft||nt),hr=qn[0],vr=qn[1],Mn={l10n:hr,setL10n:vr},pr=Object.assign({},{direction:Jn.direction},sa(Jn.theme||"light",Ar));return K.useEffect(function(){Ft&&vr(Ft)},[Ft]),K.createElement(ut.Provider,{value:Mn},K.createElement(ge.Provider,{value:pr},K.createElement("div",{ref:Ln,className:"rpv-core__viewer rpv-core__viewer--".concat(pr.currentTheme),"data-testid":"core__viewer",style:{height:"100%",width:"100%"}},fn.shouldLoad&&K.createElement(oa,{characterMap:Me,file:fn.data,httpHeaders:ht,render:function(Bn){return K.createElement(ia,{defaultScale:Ke,doc:Bn,render:function(tr,cr){return K.createElement(ra,{currentFile:{data:fn.data,name:fn.name},defaultScale:Ke,doc:Bn,enableSmoothScroll:st,initialPage:bt,initialRotation:Dt,initialScale:cr,pageLayout:mt,pageSizes:tr,plugins:zt,renderPage:vn,scrollMode:un,setRenderRange:yn,viewMode:Gn,viewerState:{file:fn,fullScreenMode:W.FullScreenMode.Normal,pageIndex:-1,pageHeight:tr[0].pageHeight,pageWidth:tr[0].pageWidth,pagesRotation:new Map,rotation:Dt,scale:cr,scrollMode:un,viewMode:Gn},onDocumentLoad:ar,onOpenFile:An,onPageChange:ir,onRotate:xr,onRotatePage:dr,onZoom:_n})},scrollMode:un,viewMode:Gn})},renderError:Ut,renderLoader:Tn,renderProtectedView:bn,transformGetDocumentParams:jn,withCredentials:er,onDocumentAskPassword:lr}))))},W.Worker=function(oe){var Me=oe.children,Ke=oe.workerUrl;return B.GlobalWorkerOptions.workerSrc=Ke,K.createElement(K.Fragment,null,Me)},W.chunk=jt,W.classNames=ve,W.createStore=function(oe){var Me=oe||{},Ke={},et=function(lt,St){var ht;Me=ae(ae({},Me),((ht={})[lt]=St,ht)),(Ke[lt]||[]).forEach(function(tt){return tt(Me[lt])})},st=function(lt){return Me[lt]};return{subscribe:function(lt,St){Ke[lt]=(Ke[lt]||[]).concat(St)},unsubscribe:function(lt,St){Ke[lt]=(Ke[lt]||[]).filter(function(ht){return ht!==St})},update:function(lt,St){et(lt,St)},updateCurrentValue:function(lt,St){var ht=st(lt);ht!==void 0&&et(lt,St(ht))},get:function(lt){return st(lt)}}},W.getDestination=Fn,W.getPage=rn,W.isFullScreenEnabled=ye,W.isMac=function(){return typeof window<"u"&&/(Mac|iPhone|iPod|iPad)/i.test(navigator.platform)},W.useDebounceCallback=Ge,W.useIntersectionObserver=Se,W.useIsMounted=Be,W.useIsomorphicLayoutEffect=xe,W.usePrevious=xt,W.useRenderQueue=Ne})(core_min);/**
* A React component to view a PDF document
*
* @see https://react-pdf-viewer.dev
* @license https://react-pdf-viewer.dev/license
* @copyright 2019-2023 Nguyen Huu Phuoc <me@phuoc.ng>
*/lib$h.exports=core_min;var libExports$h=lib$h.exports,lib$g={exports:{}},defaultLayout_min={},lib$f={exports:{}},attachment_min={},e$e=libExports$h;function t$e(W){var G=Object.create(null);return W&&Object.keys(W).forEach(function(Y){if(Y!=="default"){var q=Object.getOwnPropertyDescriptor(W,Y);Object.defineProperty(G,Y,q.get?q:{enumerable:!0,get:function(){return W[Y]}})}}),G.default=W,Object.freeze(G)}var n$e=t$e(T$1),a$e=function(W){var G=W.files,Y=n$e.useRef(),q=n$e.useContext(e$e.LocalizationContext).l10n,X=n$e.useContext(e$e.ThemeContext).direction===e$e.TextDirection.RightToLeft,K=n$e.useRef([]),B=q&&q.attachment?q.attachment.clickToDownload:"Click to download",he=function(ke){var Ae=Y.current,ae=[].slice.call(Ae.getElementsByClassName("rpv-attachment__item"));if(ae.length!==0){ae.forEach(function(ve){return ve.setAttribute("tabindex","-1")});var Re=document.activeElement,ge=ae[Math.min(ae.length-1,Math.max(0,ke(ae,Re)))];ge.setAttribute("tabindex","0"),ge.focus()}};return e$e.useIsomorphicLayoutEffect(function(){var ke=Y.current;if(ke){var Ae=[].slice.call(ke.getElementsByClassName("rpv-attachment__item"));if(K.current=Ae,Ae.length>0){var ae=Ae[0];ae.focus(),ae.setAttribute("tabindex","0")}}},[]),n$e.createElement("div",{"data-testid":"attachment__list",className:e$e.classNames({"rpv-attachment__list":!0,"rpv-attachment__list--rtl":X}),ref:Y,tabIndex:-1,onKeyDown:function(ke){switch(ke.key){case"ArrowDown":ke.preventDefault(),he(function(Ae,ae){return Ae.indexOf(ae)+1});break;case"ArrowUp":ke.preventDefault(),he(function(Ae,ae){return Ae.indexOf(ae)-1});break;case"End":ke.preventDefault(),he(function(Ae,ae){return Ae.length-1});break;case"Home":ke.preventDefault(),he(function(Ae,ae){return 0})}}},G.map(function(ke){return n$e.createElement("button",{className:"rpv-attachment__item",key:ke.fileName,tabIndex:-1,title:B,type:"button",onClick:function(){return Ae=ke.fileName,ae=ke.data,Re=typeof ae=="string"?"":URL.createObjectURL(new Blob([ae],{type:""})),(ge=document.createElement("a")).style.display="none",ge.href=Re||Ae,ge.setAttribute("download",function(ve){var xe=ve.split("/").pop();return xe?xe.split("#")[0].split("?")[0]:ve}(Ae)),document.body.appendChild(ge),ge.click(),document.body.removeChild(ge),void(Re&&URL.revokeObjectURL(Re));var Ae,ae,Re,ge}},ke.fileName)}))},r$e=function(W){var G=W.doc,Y=n$e.useContext(e$e.LocalizationContext).l10n,q=n$e.useContext(e$e.ThemeContext).direction===e$e.TextDirection.RightToLeft,X=Y&&Y.attachment?Y.attachment.noAttachment:"There is no attachment",K=n$e.useState({files:[],isLoaded:!1}),B=K[0],he=K[1];return n$e.useEffect(function(){G.getAttachments().then(function(ke){var Ae=ke?Object.keys(ke).map(function(ae){return{data:ke[ae].content,fileName:ke[ae].filename}}):[];he({files:Ae,isLoaded:!0})})},[G]),B.isLoaded?B.files.length===0?n$e.createElement("div",{"data-testid":"attachment__empty",className:e$e.classNames({"rpv-attachment__empty":!0,"rpv-attachment__empty--rtl":q})},X):n$e.createElement(a$e,{files:B.files}):n$e.createElement(e$e.Spinner,null)},c$e=function(W){var G=W.store,Y=n$e.useState(G.get("doc")),q=Y[0],X=Y[1],K=function(B){X(B)};return n$e.useEffect(function(){return G.subscribe("doc",K),function(){G.unsubscribe("doc",K)}},[]),q?n$e.createElement(r$e,{doc:q}):n$e.createElement("div",{className:"rpv-attachment__loader"},n$e.createElement(e$e.Spinner,null))};attachment_min.attachmentPlugin=function(){var W=n$e.useMemo(function(){return e$e.createStore({})},[]);return{onDocumentLoad:function(G){W.update("doc",G.doc)},Attachments:function(){return n$e.createElement(c$e,{store:W})}}};/**
* A React component to view a PDF document
*
* @see https://react-pdf-viewer.dev
* @license https://react-pdf-viewer.dev/license
* @copyright 2019-2023 Nguyen Huu Phuoc <me@phuoc.ng>
*/lib$f.exports=attachment_min;var libExports$g=lib$f.exports,lib$e={exports:{}},bookmark_min={},e$d=libExports$h;function t$d(W){var G=Object.create(null);return W&&Object.keys(W).forEach(function(Y){if(Y!=="default"){var q=Object.getOwnPropertyDescriptor(W,Y);Object.defineProperty(G,Y,q.get?q:{enumerable:!0,get:function(){return W[Y]}})}}),G.default=W,Object.freeze(G)}var r$d,o$d=t$d(T$1),n$d=function(){return n$d=Object.assign||function(W){for(var G,Y=1,q=arguments.length;Y<q;Y++)for(var X in G=arguments[Y])Object.prototype.hasOwnProperty.call(G,X)&&(W[X]=G[X]);return W},n$d.apply(this,arguments)},a$d=function(){return o$d.createElement(e$d.Icon,{size:16},o$d.createElement("path",{d:"M6.427,8.245A.5.5,0,0,1,6.862,7.5H17.138a.5.5,0,0,1,.435.749l-5.139,9a.5.5,0,0,1-.868,0Z"}))},i$d=function(){return o$d.createElement(e$d.Icon,{size:16},o$d.createElement("path",{d:"M9.248,17.572a.5.5,0,0,1-.748-.434V6.862a.5.5,0,0,1,.748-.434l8.992,5.138a.5.5,0,0,1,0,.868Z"}))},c$d=function(W){var G=W.bookmark,Y=W.depth,q=W.doc,X=W.index,K=W.isBookmarkExpanded,B=W.numberOfSiblings,he=W.pathFromRoot,ke=W.renderBookmarkItem,Ae=W.store,ae=he?"".concat(he,".").concat(X):"".concat(X),Re=o$d.useMemo(function(){return function(ze){var rt=ze.count,ye=ze.items;if(rt>=0)return!1;var ot=ye.length;if(ot===0)return!1;for(var He=ye.concat([]);He.length>0;){var Ge=He.shift(),Be=Ge.items;Ge.count&&Be&&Ge.count>0&&Be.length>0&&(ot+=Be.length,He=He.concat(Be))}return Math.abs(rt)===ot}(G)},[G]),ge=Ae.get("bookmarkExpandedMap"),ve=K?K({bookmark:G,doc:q,depth:Y,index:X}):ge.has(ae)?ge.get(ae):!Re,xe=o$d.useState(ve),Se=xe[0],pe=xe[1],ne=G.items&&G.items.length>0,we=function(){var ze=!Se;Ae.updateCurrentValue("bookmarkExpandedMap",function(rt){return rt.set(ae,ze)}),pe(ze)},Ie=function(){var ze=G.dest,rt=Ae.get("jumpToDestination");e$d.getDestination(q,ze).then(function(ye){rt&&rt(n$d({label:G.title},ye))})},Pe=function(){ne&&G.dest&&Ie()},Ee=function(){!ne&&G.dest&&Ie()},Ce=function(ze,rt){return o$d.createElement("div",{className:"rpv-bookmark__item",style:{paddingLeft:"".concat(1.25*Y,"rem")},onClick:ze},rt)},Oe=function(ze,rt){return ne?o$d.createElement("span",{className:"rpv-bookmark__toggle","data-testid":"bookmark__toggle-".concat(Y,"-").concat(X),onClick:we},Se?ze:rt):o$d.createElement("span",{className:"rpv-bookmark__toggle"})},qe=function(ze){return G.url?o$d.createElement("a",{className:"rpv-bookmark__title",href:G.url,rel:"noopener noreferrer nofollow",target:G.newWindow?"_blank":""},G.title):o$d.createElement("div",{className:"rpv-bookmark__title","aria-label":G.title,onClick:ze},G.title)};return o$d.createElement("li",{"aria-expanded":Se?"true":"false","aria-label":G.title,"aria-level":Y+1,"aria-posinset":X+1,"aria-setsize":B,role:"treeitem",tabIndex:-1},ke?ke({bookmark:G,depth:Y,hasSubItems:ne,index:X,isExpanded:Se,path:ae,defaultRenderItem:Ce,defaultRenderTitle:qe,defaultRenderToggle:Oe,onClickItem:Ee,onClickTitle:Pe,onToggleSubItems:we}):Ce(Ee,o$d.createElement(o$d.Fragment,null,Oe(o$d.createElement(a$d,null),o$d.createElement(i$d,null)),qe(Pe))),ne&&Se&&o$d.createElement(m$9,{bookmarks:G.items,depth:Y+1,doc:q,isBookmarkExpanded:K,isRoot:!1,pathFromRoot:ae,renderBookmarkItem:ke,store:Ae}))},m$9=function(W){var G=W.bookmarks,Y=W.depth,q=Y===void 0?0:Y,X=W.doc,K=W.isBookmarkExpanded,B=W.isRoot,he=W.pathFromRoot,ke=W.renderBookmarkItem,Ae=W.store;return o$d.createElement("ul",{className:"rpv-bookmark__list",role:B?"tree":"group",tabIndex:-1},G.map(function(ae,Re){return o$d.createElement(c$d,{bookmark:ae,depth:q,doc:X,index:Re,isBookmarkExpanded:K,key:Re,numberOfSiblings:G.length,pathFromRoot:he,renderBookmarkItem:ke,store:Ae})}))};(function(W){W[W.Collapse=0]="Collapse",W[W.Expand=1]="Expand"})(r$d||(r$d={}));var l$d=function(W){var G=W.bookmarks,Y=W.doc,q=W.isBookmarkExpanded,X=W.renderBookmarkItem,K=W.store,B=o$d.useRef(),he=function(Re){var ge=B.current;if(ge&&Re.target instanceof HTMLElement&&ge.contains(Re.target))switch(Re.key){case"ArrowDown":Re.preventDefault(),Ae(function(ve,xe){return ve.indexOf(xe)+1});break;case"ArrowLeft":Re.preventDefault(),ae(r$d.Collapse);break;case"ArrowRight":Re.preventDefault(),ae(r$d.Expand);break;case"ArrowUp":Re.preventDefault,Ae(function(ve,xe){return ve.indexOf(xe)-1});break;case"End":Re.preventDefault(),Ae(function(ve,xe){return ve.length-1});break;case" ":case"Enter":case"Space":Re.preventDefault(),ke();break;case"Home":Re.preventDefault(),Ae(function(ve,xe){return 0})}},ke=function(){var Re=document.activeElement.closest(".rpv-bookmark__item").querySelector(".rpv-bookmark__title");Re&&Re.click()},Ae=function(Re){var ge=B.current,ve=[].slice.call(ge.getElementsByClassName("rpv-bookmark__item"));if(ve.length!==0){var xe=document.activeElement,Se=ve[Math.min(ve.length-1,Math.max(0,Re(ve,xe)))];xe.setAttribute("tabindex","-1"),Se.setAttribute("tabindex","0"),Se.focus()}},ae=function(Re){var ge=B.current;if([].slice.call(ge.getElementsByClassName("rpv-bookmark__item")).length!==0){var ve=document.activeElement.closest(".rpv-bookmark__item"),xe=Re===r$d.Collapse?"true":"false";if(ve&&ve.parentElement.getAttribute("aria-expanded")===xe){var Se=ve.querySelector(".rpv-bookmark__toggle");Se&&Se.click()}}};return o$d.useEffect(function(){return document.addEventListener("keydown",he),function(){document.removeEventListener("keydown",he)}},[]),o$d.useEffect(function(){var Re=B.current;if(Re){var ge=[].slice.call(Re.getElementsByClassName("rpv-bookmark__item"));ge.length>0&&(ge[0].focus(),ge[0].setAttribute("tabindex","0"))}},[]),o$d.createElement("div",{ref:B},o$d.createElement(m$9,{bookmarks:G,depth:0,doc:Y,isBookmarkExpanded:q,isRoot:!0,pathFromRoot:"",renderBookmarkItem:X,store:K}))},s$9=function(W){var G=W.doc,Y=W.isBookmarkExpanded,q=W.renderBookmarkItem,X=W.store,K=o$d.useContext(e$d.LocalizationContext).l10n,B=o$d.useContext(e$d.ThemeContext).direction===e$d.TextDirection.RightToLeft,he=o$d.useState({isLoaded:!1,items:[]}),ke=he[0],Ae=he[1];return o$d.useEffect(function(){Ae({isLoaded:!1,items:[]}),G.getOutline().then(function(ae){Ae({isLoaded:!0,items:ae||[]})})},[G]),ke.isLoaded?ke.items.length===0?o$d.createElement("div",{"data-testid":"bookmark__empty",className:e$d.classNames({"rpv-bookmark__empty":!0,"rpv-bookmark__empty--rtl":B})},K&&K.bookmark?K.bookmark.noBookmark:"There is no bookmark"):o$d.createElement("div",{"data-testid":"bookmark__container",className:e$d.classNames({"rpv-bookmark__container":!0,"rpv-bookmark__container--rtl":B})},o$d.createElement(l$d,{bookmarks:ke.items,doc:G,isBookmarkExpanded:Y,renderBookmarkItem:q,store:X})):o$d.createElement("div",{className:"rpv-bookmark__loader"},o$d.createElement(e$d.Spinner,null))},u$d=function(W){var G=W.isBookmarkExpanded,Y=W.renderBookmarkItem,q=W.store,X=o$d.useState(q.get("doc")),K=X[0],B=X[1],he=function(ke){B(ke)};return o$d.useEffect(function(){return q.subscribe("doc",he),function(){q.unsubscribe("doc",he)}},[]),K?o$d.createElement(s$9,{doc:K,isBookmarkExpanded:G,renderBookmarkItem:Y,store:q}):o$d.createElement("div",{className:"rpv-bookmark__loader"},o$d.createElement(e$d.Spinner,null))};bookmark_min.DownArrowIcon=a$d,bookmark_min.RightArrowIcon=i$d,bookmark_min.bookmarkPlugin=function(){var W=o$d.useMemo(function(){return e$d.createStore({bookmarkExpandedMap:new Map})},[]);return{install:function(G){W.update("jumpToDestination",G.jumpToDestination)},onDocumentLoad:function(G){W.update("doc",G.doc)},Bookmarks:function(G){return o$d.createElement(u$d,{isBookmarkExpanded:G==null?void 0:G.isBookmarkExpanded,renderBookmarkItem:G==null?void 0:G.renderBookmarkItem,store:W})}}};/**
* A React component to view a PDF document
*
* @see https://react-pdf-viewer.dev
* @license https://react-pdf-viewer.dev/license
* @copyright 2019-2023 Nguyen Huu Phuoc <me@phuoc.ng>
*/lib$e.exports=bookmark_min;var libExports$f=lib$e.exports,lib$d={exports:{}},thumbnail_min={};(function(W){var G=libExports$h;function Y(Se){var pe=Object.create(null);return Se&&Object.keys(Se).forEach(function(ne){if(ne!=="default"){var we=Object.getOwnPropertyDescriptor(Se,ne);Object.defineProperty(pe,ne,we.get?we:{enumerable:!0,get:function(){return Se[ne]}})}}),pe.default=Se,Object.freeze(pe)}var q,X=Y(T$1);W.ThumbnailDirection=void 0,(q=W.ThumbnailDirection||(W.ThumbnailDirection={})).Horizontal="Horizontal",q.Vertical="Vertical";var K=function(){return K=Object.assign||function(Se){for(var pe,ne=1,we=arguments.length;ne<we;ne++)for(var Ie in pe=arguments[ne])Object.prototype.hasOwnProperty.call(pe,Ie)&&(Se[Ie]=pe[Ie]);return Se},K.apply(this,arguments)},B=function(Se){var pe=Se.doc,ne=Se.getPageIndex,we=Se.renderSpinner,Ie=Se.store,Pe=Se.width,Ee=pe.numPages,Ce=ne?ne({numPages:Ee}):0,Oe=Math.max(0,Math.min(Ce,Ee-1)),qe=Ie.get("pagesRotation")||new Map,ze=qe.has(Oe)?qe.get(Oe):0,rt=X.useState(""),ye=rt[0],ot=rt[1],He=G.useIsMounted(),Ge=X.useRef(),Be=X.useState(Ie.get("rotation")||0),xt=Be[0],pt=Be[1],Et=X.useState(ze),Ne=Et[0],nt=Et[1],ut=X.useState(!1),Ve=ut[0],_e=ut[1],fe=function(Fe){var Xe=Fe.has(Oe)?Fe.get(Oe):0;nt(Xe)},Le=function(Fe){pt(Fe)},je=G.useIntersectionObserver({onVisibilityChanged:function(Fe){_e(Fe.isVisible)}});return X.useEffect(function(){if(Ve){var Fe=je.current;Fe&&(ot(""),G.getPage(pe,Oe).then(function(Xe){var Ye=Xe.getViewport({scale:1}),gt=(Ye.rotation+xt+Ne)%360,Ct=Math.abs(xt+Ne)%180==0,kt=Ct?Ye.width:Ye.height,dt=Ct?Ye.height:Ye.width,Mt=document.createElement("canvas"),Ot=Mt.getContext("2d",{alpha:!1}),De=Fe.clientWidth,Te=Fe.clientHeight,We=Pe?Pe/kt:Math.min(De/kt,Te/dt),Ze=We*kt,ct=We*dt;Mt.height=ct,Mt.width=Ze,Mt.style.opacity="0";var Pt=Xe.getViewport({rotation:gt,scale:We});Ge.current=Xe.render({canvasContext:Ot,viewport:Pt}),Ge.current.promise.then(function(){He.current&&ot(Mt.toDataURL()),Mt.width=0,Mt.height=0},function(){})}))}},[Ne,Ve]),X.useEffect(function(){return Ie.subscribe("pagesRotation",fe),Ie.subscribe("rotation",Le),function(){Ie.unsubscribe("pagesRotation",fe),Ie.unsubscribe("rotation",Le)}},[]),X.useEffect(function(){return function(){var Fe;(Fe=Ge.current)===null||Fe===void 0||Fe.cancel()}},[]),X.createElement("div",{ref:je,className:"rpv-thumbnail__cover-inner","data-testid":"thumbnail__cover-inner"},ye?X.createElement("img",{className:"rpv-thumbnail__cover-image","data-testid":"thumbnail__cover-image",src:ye}):X.createElement("div",{className:"rpv-thumbnail__cover-loader","data-testid":"thumbnail__cover-loader"},we?we():X.createElement(G.Spinner,null)))},he=function(Se){var pe=Se.getPageIndex,ne=Se.renderSpinner,we=Se.store,Ie=Se.width,Pe=X.useState(we.get("doc")),Ee=Pe[0],Ce=Pe[1],Oe=function(qe){Ce(qe)};return X.useEffect(function(){return we.subscribe("doc",Oe),function(){we.unsubscribe("doc",Oe)}},[]),X.createElement("div",{className:"rpv-thumbnail__cover"},Ee?X.createElement(B,{doc:Ee,getPageIndex:pe,renderSpinner:ne,store:we,width:Ie}):X.createElement("div",{className:"rpv-thumbnail__cover-loader"},ne?ne():X.createElement(G.Spinner,null)))},ke=function(){return X.createElement(G.Spinner,null)},Ae=X.createContext({renderSpinner:ke}),ae=function(Se){var pe=Se.children,ne=Se.doc,we=G.useIsMounted(),Ie=X.useState({loading:!0,labels:[]}),Pe=Ie[0],Ee=Ie[1];return X.useEffect(function(){ne.getPageLabels().then(function(Ce){we.current&&Ee({loading:!1,labels:Ce||[]})})},[ne.loadingTask.docId]),Pe.loading?X.createElement(X.Fragment,null):pe(Pe.labels)},Re=function(Se){var pe=Se.page,ne=Se.pageHeight,we=Se.pageIndex,Ie=Se.pageWidth,Pe=Se.rotation,Ee=Se.thumbnailHeight,Ce=Se.thumbnailWidth,Oe=Se.onRenderCompleted,qe=X.useContext(G.LocalizationContext).l10n,ze=X.useRef(),rt=X.useState(""),ye=rt[0],ot=rt[1],He=qe&&qe.thumbnail?qe.thumbnail.thumbnailLabel:"Thumbnail of page {{pageIndex}}";return X.useEffect(function(){var Ge=ze.current;Ge&&Ge.cancel();var Be=document.createElement("canvas"),xt=Be.getContext("2d",{alpha:!1}),pt=Ce,Et=pt/(Ie/ne),Ne=pt/Ie;Be.height=Et,Be.width=pt,Be.style.height="".concat(Et,"px"),Be.style.width="".concat(pt,"px");var nt=pe.getViewport({rotation:Pe,scale:Ne});return ze.current=pe.render({canvasContext:xt,viewport:nt}),ze.current.promise.then(function(){ot(Be.toDataURL()),Oe(we)},function(){Oe(we)}),function(){var ut;(ut=ze.current)===null||ut===void 0||ut.cancel()}},[Pe]),ye?X.createElement("img",{"aria-label":He.replace("{{pageIndex}}","".concat(we+1)),src:ye,height:"".concat(Ee,"px"),width:"".concat(Ce,"px")}):X.useContext(Ae).renderSpinner()},ge=function(Se){var pe=Se.doc,ne=Se.pageHeight,we=Se.pageIndex,Ie=Se.pageRotation,Pe=Se.pageWidth,Ee=Se.rotation,Ce=Se.shouldRender,Oe=Se.thumbnailWidth,qe=Se.onRenderCompleted,ze=Se.onVisibilityChanged,rt=G.useIsMounted(),ye=X.useState({height:ne,page:null,viewportRotation:0,width:Pe}),ot=ye[0],He=ye[1],Ge=ot.page,Be=ot.height,xt=ot.width,pt=xt/Be,Et=Math.abs(Ee+Ie)%180==0,Ne=Et?Oe:Oe/pt,nt=Et?Oe/pt:Oe;X.useEffect(function(){Ce&&G.getPage(pe,we).then(function(_e){var fe=_e.getViewport({scale:1});rt.current&&He({height:fe.height,page:_e,viewportRotation:fe.rotation,width:fe.width})})},[Ce]);var ut=(ot.viewportRotation+Ee+Ie)%360,Ve=G.useIntersectionObserver({onVisibilityChanged:function(_e){ze(we,_e)}});return X.createElement("div",{className:"rpv-thumbnail__container","data-testid":"thumbnail__container-".concat(we),ref:Ve,style:{height:"".concat(nt,"px"),width:"".concat(Ne,"px")}},Ge?X.createElement(Re,{page:Ge,pageHeight:Et?Be:xt,pageIndex:we,pageWidth:Et?xt:Be,rotation:ut,thumbnailHeight:nt,thumbnailWidth:Ne,onRenderCompleted:qe}):X.useContext(Ae).renderSpinner())},ve=function(Se){var pe=Se.currentPage,ne=Se.doc,we=Se.labels,Ie=Se.pagesRotation,Pe=Se.pageHeight,Ee=Se.pageWidth,Ce=Se.renderCurrentPageLabel,Oe=Se.renderThumbnailItem,qe=Se.rotatedPage,ze=Se.rotation,rt=Se.thumbnailDirection,ye=Se.thumbnailWidth,ot=Se.viewMode,He=Se.onJumpToPage,Ge=Se.onRotatePage,Be=ne.numPages,xt=ne.loadingTask.docId,pt=X.useRef(null),Et=X.useRef([]),Ne=X.useState(pe),nt=Ne[0],ut=Ne[1],Ve=X.useContext(G.ThemeContext).direction===G.TextDirection.RightToLeft,_e=X.useState(-1),fe=_e[0],Le=_e[1],je=G.useIsMounted(),Fe=G.usePrevious(ot),Xe=X.useRef(!1),Ye=G.useRenderQueue({doc:ne}),gt=X.useMemo(function(){return Array(Be).fill(0).map(function(We,Ze){return Ze})},[xt]),Ct=X.useMemo(function(){switch(ot){case G.ViewMode.DualPage:return G.chunk(gt,2);case G.ViewMode.DualPageWithCover:return[[gt[0]]].concat(G.chunk(gt.slice(1),2));case G.ViewMode.SinglePage:default:return G.chunk(gt,1)}},[xt,ot]),kt=function(){if(pt.current){var We=Et.current,Ze=nt+1;Ze<We.length&&(nt>=0&&We[nt].setAttribute("tabindex","-1"),ut(Ze))}},dt=function(){if(pt.current){var We=Et.current,Ze=nt-1;Ze>=0&&(nt>=0&&We[nt].setAttribute("tabindex","-1"),ut(Ze))}},Mt=function(){nt>=0&&nt<Be&&He(nt)};G.useIsomorphicLayoutEffect(function(){var We=pt.current;We&&(Et.current=Array.from(We.querySelectorAll(".rpv-thumbnail__item")))},[ot]),X.useEffect(function(){var We=Et.current;if(!(We.length===0||nt<0||nt>We.length)){var Ze=We[nt];Ze.setAttribute("tabindex","0"),Ze.focus()}},[nt]),G.useIsomorphicLayoutEffect(function(){var We=pt.current,Ze=Et.current;if(!(!We||Ze.length===0||pe<0||pe>Ze.length)){var ct=Ze[pe].closest(".rpv-thumbnail__items");ct&&(rt===W.ThumbnailDirection.Vertical?function(Pt,$t){var _t=Pt.getBoundingClientRect().top-$t.getBoundingClientRect().top,Tt=Pt.clientHeight,jt=$t.clientHeight;_t<0?$t.scrollTop+=_t:_t+Tt<=jt||($t.scrollTop+=_t+Tt-jt)}(ct,We):function(Pt,$t){var _t=Pt.getBoundingClientRect().left-$t.getBoundingClientRect().left,Tt=Pt.clientWidth,jt=$t.clientWidth;_t<0?$t.scrollLeft+=_t:_t+Tt<=jt||($t.scrollLeft+=_t+Tt-jt)}(ct,We))}},[pe,rt]);var Ot=X.useCallback(function(We){je.current&&(Ye.markRendered(We),Xe.current=!1,Te())},[xt]),De=X.useCallback(function(We,Ze){Ze.isVisible?Ye.setVisibility(We,Ze.ratio):Ye.setOutOfRange(We),Te()},[xt]),Te=X.useCallback(function(){if(!Xe.current){var We=Ye.getHighestPriorityPage();We>-1&&(Ye.markRendering(We),Xe.current=!0,Le(We))}},[xt]);return X.useEffect(function(){qe>=0&&(Ye.markRendering(qe),Xe.current=!0,Le(qe))},[xt,qe]),G.useIsomorphicLayoutEffect(function(){Fe!==ot&&(Ye.markNotRendered(),Te())},[ot]),X.createElement("div",{ref:pt,"data-testid":"thumbnail__list",className:G.classNames({"rpv-thumbnail__list":!0,"rpv-thumbnail__list--horizontal":rt===W.ThumbnailDirection.Horizontal,"rpv-thumbnail__list--rtl":Ve,"rpv-thumbnail__list--vertical":rt===W.ThumbnailDirection.Vertical}),onKeyDown:function(We){switch(We.key){case"ArrowDown":kt();break;case"ArrowUp":dt();break;case"Enter":Mt()}}},Ct.map(function(We,Ze){var ct=!1;switch(ot){case G.ViewMode.DualPage:ct=pe===2*Ze||pe===2*Ze+1;break;case G.ViewMode.DualPageWithCover:ct=pe===0&&Ze===0||Ze>0&&pe===2*Ze-1||Ze>0&&pe===2*Ze;break;case G.ViewMode.SinglePage:default:ct=pe===Ze}return X.createElement("div",{className:G.classNames({"rpv-thumbnail__items":!0,"rpv-thumbnail__items--dual":ot===G.ViewMode.DualPage,"rpv-thumbnail__items--dual-cover":ot===G.ViewMode.DualPageWithCover,"rpv-thumbnail__items--single":ot===G.ViewMode.SinglePage,"rpv-thumbnail__items--selected":ct}),key:"".concat(Ze,"___").concat(ot)},We.map(function(Pt){return function($t){var _t=ot===G.ViewMode.DualPageWithCover&&($t===0||Be%2==0&&$t===Be-1),Tt="".concat(ne.loadingTask.docId,"___").concat($t),jt=we.length===Be?we[$t]:"".concat($t+1),Jt=Ce?Ce({currentPage:pe,pageIndex:$t,numPages:Be,pageLabel:jt}):jt,Yt=Ie.has($t)?Ie.get($t):0,Bt=X.createElement(ge,{doc:ne,pageHeight:Pe,pageIndex:$t,pageRotation:Yt,pageWidth:Ee,rotation:ze,shouldRender:fe===$t,thumbnailWidth:ye,onRenderCompleted:Ot,onVisibilityChanged:De});return Oe?Oe({currentPage:pe,key:Tt,numPages:Be,pageIndex:$t,renderPageLabel:X.createElement(X.Fragment,null,Jt),renderPageThumbnail:Bt,onJumpToPage:function(){return He($t)},onRotatePage:function(cn){return Ge($t,cn)}}):X.createElement("div",{key:Tt},X.createElement("div",{className:G.classNames({"rpv-thumbnail__item":!0,"rpv-thumbnail__item--dual-even":ot===G.ViewMode.DualPage&&$t%2==0,"rpv-thumbnail__item--dual-odd":ot===G.ViewMode.DualPage&&$t%2==1,"rpv-thumbnail__item--dual-cover":_t,"rpv-thumbnail__item--dual-cover-even":ot===G.ViewMode.DualPageWithCover&&!_t&&$t%2==0,"rpv-thumbnail__item--dual-cover-odd":ot===G.ViewMode.DualPageWithCover&&!_t&&$t%2==1,"rpv-thumbnail__item--single":ot===G.ViewMode.SinglePage,"rpv-thumbnail__item--selected":pe===$t}),role:"button",tabIndex:pe===$t?0:-1,onClick:function(){return He($t)}},Bt),X.createElement("div",{"data-testid":"thumbnail__label-".concat($t),className:"rpv-thumbnail__label"},Jt))}(Pt)}))}))},xe=function(Se){var pe=Se.renderCurrentPageLabel,ne=Se.renderThumbnailItem,we=Se.store,Ie=Se.thumbnailDirection,Pe=Se.thumbnailWidth,Ee=X.useState(we.get("doc")),Ce=Ee[0],Oe=Ee[1],qe=X.useState(we.get("currentPage")||0),ze=qe[0],rt=qe[1],ye=X.useState(we.get("pageHeight")||0),ot=ye[0],He=ye[1],Ge=X.useState(we.get("pageWidth")||0),Be=Ge[0],xt=Ge[1],pt=X.useState(we.get("rotation")||0),Et=pt[0],Ne=pt[1],nt=X.useState(we.get("pagesRotation")||new Map),ut=nt[0],Ve=nt[1],_e=X.useState(we.get("rotatedPage")||-1),fe=_e[0],Le=_e[1],je=X.useState(we.get("viewMode")),Fe=je[0],Xe=je[1],Ye=function(Ze){rt(Ze)},gt=function(Ze){Oe(Ze)},Ct=function(Ze){He(Ze)},kt=function(Ze){xt(Ze)},dt=function(Ze){Ne(Ze)},Mt=function(Ze){Ve(Ze)},Ot=function(Ze){Le(Ze)},De=function(Ze){Xe(Ze)},Te=function(Ze){var ct=we.get("jumpToPage");ct&&ct(Ze)},We=function(Ze,ct){we.get("rotatePage")(Ze,ct)};return X.useEffect(function(){return we.subscribe("doc",gt),we.subscribe("pageHeight",Ct),we.subscribe("pageWidth",kt),we.subscribe("rotatedPage",Ot),we.subscribe("rotation",dt),we.subscribe("pagesRotation",Mt),we.subscribe("viewMode",De),function(){we.unsubscribe("doc",gt),we.unsubscribe("pageHeight",Ct),we.unsubscribe("pageWidth",kt),we.unsubscribe("rotatedPage",Ot),we.unsubscribe("rotation",dt),we.unsubscribe("pagesRotation",Mt),we.unsubscribe("viewMode",De)}},[]),G.useIsomorphicLayoutEffect(function(){return we.subscribe("currentPage",Ye),function(){we.unsubscribe("currentPage",Ye)}},[]),Ce?X.createElement(G.LazyRender,{testId:"thumbnail__list-container",attrs:{className:"rpv-thumbnail__list-container"}},X.createElement(ae,{doc:Ce},function(Ze){return X.createElement(ve,{currentPage:ze,doc:Ce,labels:Ze,pagesRotation:ut,pageHeight:ot,pageWidth:Be,renderCurrentPageLabel:pe,renderThumbnailItem:ne,rotatedPage:fe,rotation:Et,thumbnailDirection:Ie,thumbnailWidth:Pe,viewMode:Fe,onJumpToPage:Te,onRotatePage:We})})):X.createElement("div",{"data-testid":"thumbnail-list__loader",className:"rpv-thumbnail__loader"},X.useContext(Ae).renderSpinner())};W.thumbnailPlugin=function(Se){var pe=X.useMemo(function(){return G.createStore({rotatePage:function(){},viewMode:G.ViewMode.SinglePage})},[]),ne=X.useState(""),we=ne[0],Ie=ne[1];return{install:function(Pe){pe.update("jumpToPage",Pe.jumpToPage),pe.update("rotatePage",Pe.rotatePage)},onDocumentLoad:function(Pe){Ie(Pe.doc.loadingTask.docId),pe.update("doc",Pe.doc)},onViewerStateChange:function(Pe){return pe.update("currentPage",Pe.pageIndex),pe.update("pagesRotation",Pe.pagesRotation),pe.update("pageHeight",Pe.pageHeight),pe.update("pageWidth",Pe.pageWidth),pe.update("rotation",Pe.rotation),pe.update("rotatedPage",Pe.rotatedPage),pe.update("viewMode",Pe.viewMode),Pe},Cover:function(Pe){return X.createElement(he,K({},Pe,{renderSpinner:Se==null?void 0:Se.renderSpinner,store:pe}))},Thumbnails:X.useCallback(function(Pe){return X.createElement(Ae.Provider,{value:{renderSpinner:(Se==null?void 0:Se.renderSpinner)||ke}},X.createElement(xe,{renderCurrentPageLabel:Se==null?void 0:Se.renderCurrentPageLabel,renderThumbnailItem:Pe==null?void 0:Pe.renderThumbnailItem,store:pe,thumbnailDirection:(Pe==null?void 0:Pe.thumbnailDirection)||W.ThumbnailDirection.Vertical,thumbnailWidth:(Se==null?void 0:Se.thumbnailWidth)||100}))},[we])}}})(thumbnail_min);/**
* A React component to view a PDF document
*
* @see https://react-pdf-viewer.dev
* @license https://react-pdf-viewer.dev/license
* @copyright 2019-2023 Nguyen Huu Phuoc <me@phuoc.ng>
*/lib$d.exports=thumbnail_min;var libExports$e=lib$d.exports,lib$c={exports:{}},toolbar_min={},lib$b={exports:{}},selectionMode_min={};(function(W){var G=libExports$h;function Y(xe){var Se=Object.create(null);return xe&&Object.keys(xe).forEach(function(pe){if(pe!=="default"){var ne=Object.getOwnPropertyDescriptor(xe,pe);Object.defineProperty(Se,pe,ne.get?ne:{enumerable:!0,get:function(){return xe[pe]}})}}),Se.default=xe,Object.freeze(Se)}var q,X=Y(T$1),K=function(){return X.createElement(G.Icon,{size:16},X.createElement("path",{d:`M11.5,5.5v-2C11.5,2.672,12.172,2,13,2s1.5,0.672,1.5,1.5v2 M14.5,11.5v-6C14.5,4.672,15.172,4,16,4
            c0.828,0,1.5,0.672,1.5,1.5v3 M17.5,13V8.5C17.5,7.672,18.172,7,19,7s1.5,0.672,1.5,1.5v10c0,2.761-2.239,5-5,5h-3.335
            c-1.712-0.001-3.305-0.876-4.223-2.321C6.22,18.467,4.083,14,4.083,14c-0.378-0.545-0.242-1.292,0.303-1.67
            c0.446-0.309,1.044-0.281,1.458,0.07L8.5,15.5v-10C8.5,4.672,9.172,4,10,4s1.5,0.672,1.5,1.5v6`}))},B=function(){return B=Object.assign||function(xe){for(var Se,pe=1,ne=arguments.length;pe<ne;pe++)for(var we in Se=arguments[pe])Object.prototype.hasOwnProperty.call(Se,we)&&(xe[we]=Se[we]);return xe},B.apply(this,arguments)};W.SelectionMode=void 0,(q=W.SelectionMode||(W.SelectionMode={})).Hand="Hand",q.Text="Text";var he=function(){return X.createElement(G.Icon,{size:16},X.createElement("path",{d:`M13.675,11.671l2.941-2.941c0.195-0.196,0.195-0.512-0.001-0.707C16.563,7.971,16.5,7.931,16.43,7.906
            L4.168,3.527C3.908,3.434,3.622,3.57,3.529,3.83c-0.039,0.109-0.039,0.228,0,0.336l4.379,12.262
            c0.093,0.26,0.379,0.396,0.639,0.303c0.07-0.025,0.133-0.065,0.185-0.117l2.943-2.943l6.146,6.146c0.195,0.195,0.512,0.195,0.707,0
            l1.293-1.293c0.195-0.195,0.195-0.512,0-0.707L13.675,11.671z`}))},ke=function(xe){var Se=xe.children,pe=xe.mode,ne=xe.onClick,we=X.useContext(G.LocalizationContext).l10n,Ie="",Pe=X.createElement(he,null);switch(pe){case W.SelectionMode.Hand:Ie=we&&we.selectionMode?we.selectionMode.handTool:"Hand tool",Pe=X.createElement(K,null);break;case W.SelectionMode.Text:default:Ie=we&&we.selectionMode?we.selectionMode.textSelectionTool:"Text selection tool",Pe=X.createElement(he,null)}return Se({icon:Pe,label:Ie,onClick:ne})},Ae={left:0,top:8},ae=function(xe){var Se=xe.isSelected,pe=xe.mode,ne=xe.onClick,we="";switch(pe){case W.SelectionMode.Hand:we="selection-mode__hand-button";break;case W.SelectionMode.Text:default:we="selection-mode__text-button"}return X.createElement(ke,{mode:pe,onClick:ne},function(Ie){return X.createElement(G.Tooltip,{ariaControlsSuffix:"selection-mode-switch",position:G.Position.BottomCenter,target:X.createElement(G.MinimalButton,{ariaLabel:Ie.label,isSelected:Se,testId:we,onClick:Ie.onClick},Ie.icon),content:function(){return Ie.label},offset:Ae})})},Re=function(xe){var Se=xe.children,pe=xe.mode,ne=xe.store,we=pe===ne.get("selectionMode");return(Se||function(Ie){return X.createElement(ae,{isSelected:we,mode:Ie.mode,onClick:Ie.onClick})})({isSelected:we,mode:pe,onClick:function(){return ne.update("selectionMode",pe)}})},ge=function(xe){var Se=xe.isSelected,pe=xe.mode,ne=xe.onClick,we="";switch(pe){case W.SelectionMode.Hand:we="selection-mode__hand-menu";break;case W.SelectionMode.Text:default:we="selection-mode__text-menu"}return X.createElement(ke,{mode:pe,onClick:ne},function(Ie){return X.createElement(G.MenuItem,{checked:Se,icon:Ie.icon,testId:we,onClick:Ie.onClick},Ie.label)})},ve=function(xe){var Se=xe.store,pe=X.useRef(null),ne=X.useState(W.SelectionMode.Text),we=ne[0],Ie=ne[1],Pe=X.useRef({top:0,left:0,x:0,y:0}),Ee=function(rt){var ye=pe.current;ye&&(ye.scrollTop=Pe.current.top-(rt.clientY-Pe.current.y),ye.scrollLeft=Pe.current.left-(rt.clientX-Pe.current.x))},Ce=function(){var rt=pe.current;rt&&(rt.classList.add("rpv-selection-mode__grab"),rt.classList.remove("rpv-selection-mode__grabbing"),document.removeEventListener("mousemove",Ee),document.removeEventListener("mouseup",Ce))},Oe=function(rt){var ye=pe.current;ye&&we!==W.SelectionMode.Text&&(ye.classList.remove("rpv-selection-mode__grab"),ye.classList.add("rpv-selection-mode__grabbing"),rt.preventDefault(),rt.stopPropagation(),Pe.current={left:ye.scrollLeft,top:ye.scrollTop,x:rt.clientX,y:rt.clientY},document.addEventListener("mousemove",Ee),document.addEventListener("mouseup",Ce))},qe=function(rt){pe.current=rt()},ze=function(rt){Ie(rt)};return X.useEffect(function(){var rt=pe.current;if(rt)return we===W.SelectionMode.Hand?rt.classList.add("rpv-selection-mode__grab"):rt.classList.remove("rpv-selection-mode__grab"),rt.addEventListener("mousedown",Oe),function(){rt.removeEventListener("mousedown",Oe)}},[we]),X.useEffect(function(){return Se.subscribe("getPagesContainer",qe),Se.subscribe("selectionMode",ze),function(){Se.unsubscribe("getPagesContainer",qe),Se.unsubscribe("selectionMode",ze)}},[]),X.createElement(X.Fragment,null)};W.HandToolIcon=K,W.TextSelectionIcon=he,W.selectionModePlugin=function(xe){var Se=X.useMemo(function(){return G.createStore()},[]),pe=function(ne){return X.createElement(Re,B({},ne,{store:Se}))};return{install:function(ne){Se.update("selectionMode",xe&&xe.selectionMode?xe.selectionMode:W.SelectionMode.Text),Se.update("getPagesContainer",ne.getPagesContainer)},renderViewer:function(ne){var we=ne.slot;return we.subSlot&&we.subSlot.children&&(we.subSlot.children=X.createElement(X.Fragment,null,X.createElement(ve,{store:Se}),we.subSlot.children)),we},SwitchSelectionMode:pe,SwitchSelectionModeButton:function(ne){return X.createElement(pe,{mode:ne.mode},function(we){return X.createElement(ae,{isSelected:we.isSelected,mode:we.mode,onClick:function(){we.onClick()}})})},SwitchSelectionModeMenuItem:function(ne){return X.createElement(pe,{mode:ne.mode},function(we){return X.createElement(ge,{isSelected:we.isSelected,mode:we.mode,onClick:function(){we.onClick(),ne.onClick()}})})}}}})(selectionMode_min);/**
* A React component to view a PDF document
*
* @see https://react-pdf-viewer.dev
* @license https://react-pdf-viewer.dev/license
* @copyright 2019-2023 Nguyen Huu Phuoc <me@phuoc.ng>
*/lib$b.exports=selectionMode_min;var libExports$d=lib$b.exports,lib$a={exports:{}},fullScreen_min={},e$c=libExports$h;function t$c(W){var G=Object.create(null);return W&&Object.keys(W).forEach(function(Y){if(Y!=="default"){var q=Object.getOwnPropertyDescriptor(W,Y);Object.defineProperty(G,Y,q.get?q:{enumerable:!0,get:function(){return W[Y]}})}}),G.default=W,Object.freeze(G)}var n$c=t$c(T$1),r$c=function(){return n$c.createElement(e$c.Icon,{size:16},n$c.createElement("path",{d:"M11.5 23.499L11.5 14.499"}),n$c.createElement("path",{d:"M7.5 18.499L11.5 14.499 15.5 18.499"}),n$c.createElement("path",{d:"M11.5 1.499L11.5 10.499"}),n$c.createElement("path",{d:"M7.5 6.499L11.5 10.499 15.5 6.499"}),n$c.createElement("path",{d:"M20.5 12.499L1.5 12.499"}))},l$c=function(){return n$c.createElement(e$c.Icon,{size:16},n$c.createElement("path",{d:"M0.5 12L23.5 12"}),n$c.createElement("path",{d:"M11.5 1L11.5 23"}),n$c.createElement("path",{d:"M8.5 4L11.5 1 14.5 4"}),n$c.createElement("path",{d:"M20.5 9L23.5 12 20.5 15"}),n$c.createElement("path",{d:"M3.5 15L0.5 12 3.5 9"}),n$c.createElement("path",{d:"M14.5 20L11.5 23 8.5 20"}))},c$c=function(){return c$c=Object.assign||function(W){for(var G,Y=1,q=arguments.length;Y<q;Y++)for(var X in G=arguments[Y])Object.prototype.hasOwnProperty.call(G,X)&&(W[X]=G[X]);return W},c$c.apply(this,arguments)},u$c={left:0,top:8},o$c=function(W){var G=W.enableShortcuts,Y=W.onClick,q=n$c.useContext(e$c.LocalizationContext).l10n,X=q&&q.fullScreen?q.fullScreen.enterFullScreen:"Full screen",K=G?e$c.isMac()?"Meta+Ctrl+F":"F11":"";return n$c.createElement(e$c.Tooltip,{ariaControlsSuffix:"full-screen-enter",position:e$c.Position.BottomCenter,target:n$c.createElement(e$c.MinimalButton,{ariaKeyShortcuts:K,ariaLabel:X,isDisabled:!e$c.isFullScreenEnabled(),testId:"full-screen__enter-button",onClick:Y},n$c.createElement(l$c,null)),content:function(){return X},offset:u$c})},i$c={left:0,top:8},a$c=function(W){var G=W.onClick,Y=n$c.useContext(e$c.LocalizationContext).l10n,q=Y&&Y.fullScreen?Y.fullScreen.exitFullScreen:"Exit full screen";return n$c.createElement(e$c.Tooltip,{ariaControlsSuffix:"full-screen-exit",position:e$c.Position.BottomCenter,target:n$c.createElement(e$c.MinimalButton,{ariaKeyShortcuts:"Esc",ariaLabel:q,testId:"full-screen__exit-button-with-tooltip",onClick:G},n$c.createElement(r$c,null)),content:function(){return q},offset:i$c})},f$9=function(W,G){var Y=n$c.useState(G.get("fullScreenMode")),q=Y[0],X=Y[1],K=n$c.useCallback(function(B){X(B)},[]);return n$c.useEffect(function(){return G.subscribe("fullScreenMode",K),function(){G.unsubscribe("fullScreenMode",K)}},[]),{enterFullScreen:function(){var B=G.get("getPagesContainer");if(B){var he=W(B());G.get("enterFullScreenMode")(he)}},exitFullScreen:function(){G.get("exitFullScreenMode")()},isFullScreen:q===e$c.FullScreenMode.Entering||q===e$c.FullScreenMode.EnteredCompletely}},s$8=function(W){var G=W.children,Y=W.enableShortcuts,q=W.getFullScreenTarget,X=W.store,K=f$9(q,X),B=K.enterFullScreen,he=K.exitFullScreen,ke=K.isFullScreen;return(G||function(Ae){return ke?n$c.createElement(a$c,{onClick:Ae.onClick}):n$c.createElement(o$c,{enableShortcuts:Y,onClick:Ae.onClick})})({onClick:ke?he:B})},S$4=function(W){var G=W.onClick,Y=n$c.useContext(e$c.LocalizationContext).l10n,q=Y&&Y.fullScreen?Y.fullScreen.enterFullScreen:"Full screen";return n$c.createElement(e$c.MenuItem,{icon:n$c.createElement(l$c,null),isDisabled:!e$c.isFullScreenEnabled(),testId:"full-screen__enter-menu",onClick:G},q)},d$9=function(W){var G=W.onClick,Y=n$c.useContext(e$c.LocalizationContext).l10n,q=n$c.useContext(e$c.ThemeContext).direction===e$c.TextDirection.RightToLeft,X=Y&&Y.fullScreen?Y.fullScreen.exitFullScreen:"Exit full screen";return n$c.createElement("div",{className:e$c.classNames({"rpv-full-screen__exit-button":!0,"rpv-full-screen__exit-button--ltr":!q,"rpv-full-screen__exit-button--rtl":q})},n$c.createElement(e$c.MinimalButton,{ariaLabel:X,testId:"full-screen__exit-button",onClick:G},n$c.createElement(r$c,null)))},m$8=function(W){var G=W.children,Y=W.getFullScreenTarget,q=W.store,X=f$9(Y,q),K=X.enterFullScreen,B=X.exitFullScreen,he=X.isFullScreen;return he&&(G||function(ke){return n$c.createElement(d$9,{onClick:ke.onClick})})({onClick:he?B:K})},E$5=function(W){var G=W.store,Y=W.onEnterFullScreen,q=W.onExitFullScreen,X=n$c.useState(G.get("fullScreenMode")),K=X[0],B=X[1],he=n$c.useCallback(function(ke){B(ke)},[]);return n$c.useEffect(function(){switch(K){case e$c.FullScreenMode.EnteredCompletely:Y(G.get("zoom"));break;case e$c.FullScreenMode.Exited:q(G.get("zoom"))}},[K]),n$c.useEffect(function(){return G.subscribe("fullScreenMode",he),function(){G.unsubscribe("fullScreenMode",he)}},[]),(K===e$c.FullScreenMode.Entering||K===e$c.FullScreenMode.Entered)&&n$c.createElement("div",{className:"rpv-full-screen__overlay"},n$c.createElement(e$c.Spinner,null))},F=function(W){var G=W.containerRef,Y=W.getFullScreenTarget,q=W.store,X=f$9(Y,q).enterFullScreen,K=function(B){if(!B.shiftKey&&!B.altKey&&(e$c.isMac()?B.metaKey&&B.ctrlKey&&B.key==="f":B.key==="F11")){var he=G.current;he&&document.activeElement&&he.contains(document.activeElement)&&(B.preventDefault(),X())}};return n$c.useEffect(function(){if(G.current)return document.addEventListener("keydown",K),function(){document.removeEventListener("keydown",K)}},[G.current]),n$c.createElement(n$c.Fragment,null)};fullScreen_min.ExitFullScreenIcon=r$c,fullScreen_min.FullScreenIcon=l$c,fullScreen_min.fullScreenPlugin=function(W){var G=(W==null?void 0:W.getFullScreenTarget)||function(B){return B},Y=n$c.useMemo(function(){return Object.assign({},{enableShortcuts:!0,onEnterFullScreen:function(){},onExitFullScreen:function(){}},W)},[]),q=n$c.useMemo(function(){return e$c.createStore({enterFullScreenMode:function(){},exitFullScreenMode:function(){},fullScreenMode:e$c.FullScreenMode.Normal,zoom:function(){}})},[]),X=function(B){return n$c.createElement(s$8,c$c({},B,{enableShortcuts:Y.enableShortcuts,getFullScreenTarget:G,store:q}))},K=function(){return n$c.createElement(m$8,{getFullScreenTarget:G,store:q},W==null?void 0:W.renderExitFullScreenButton)};return{install:function(B){q.update("enterFullScreenMode",B.enterFullScreenMode),q.update("exitFullScreenMode",B.exitFullScreenMode),q.update("getPagesContainer",B.getPagesContainer),q.update("zoom",B.zoom)},onViewerStateChange:function(B){return q.update("fullScreenMode",B.fullScreenMode),B},renderViewer:function(B){var he=B.slot;return he.subSlot&&(he.subSlot.children=n$c.createElement(n$c.Fragment,null,Y.enableShortcuts&&n$c.createElement(F,{containerRef:B.containerRef,getFullScreenTarget:G,store:q}),n$c.createElement(E$5,{store:q,onEnterFullScreen:Y.onEnterFullScreen,onExitFullScreen:Y.onExitFullScreen}),n$c.createElement(K,null),he.subSlot.children)),he},EnterFullScreen:X,EnterFullScreenButton:function(){return n$c.createElement(X,null,function(B){return n$c.createElement(o$c,c$c({enableShortcuts:Y.enableShortcuts},B))})},EnterFullScreenMenuItem:function(B){return n$c.createElement(X,null,function(he){return n$c.createElement(S$4,{onClick:function(){he.onClick(),B.onClick()}})})}}};/**
* A React component to view a PDF document
*
* @see https://react-pdf-viewer.dev
* @license https://react-pdf-viewer.dev/license
* @copyright 2019-2023 Nguyen Huu Phuoc <me@phuoc.ng>
*/lib$a.exports=fullScreen_min;var libExports$c=lib$a.exports,lib$9={exports:{}},getFile_min={},e$b=libExports$h;function t$b(W){var G=Object.create(null);return W&&Object.keys(W).forEach(function(Y){if(Y!=="default"){var q=Object.getOwnPropertyDescriptor(W,Y);Object.defineProperty(G,Y,q.get?q:{enumerable:!0,get:function(){return W[Y]}})}}),G.default=W,Object.freeze(G)}var n$b=t$b(T$1),o$b=function(){return n$b.createElement(e$b.Icon,{size:16},n$b.createElement("path",{d:"M5.5,11.5c-.275,0-.341.159-.146.354l6.292,6.293a.5.5,0,0,0,.709,0l6.311-6.275c.2-.193.13-.353-.145-.355L15.5,11.5V1.5a1,1,0,0,0-1-1h-5a1,1,0,0,0-1,1V11a.5.5,0,0,1-.5.5Z"}),n$b.createElement("path",{d:"M23.5,18.5v4a1,1,0,0,1-1,1H1.5a1,1,0,0,1-1-1v-4"}))},r$b=function(){return r$b=Object.assign||function(W){for(var G,Y=1,q=arguments.length;Y<q;Y++)for(var X in G=arguments[Y])Object.prototype.hasOwnProperty.call(G,X)&&(W[X]=G[X]);return W},r$b.apply(this,arguments)},i$b={left:0,top:8},a$b=function(W){var G=W.onClick,Y=n$b.useContext(e$b.LocalizationContext).l10n,q=Y&&Y.download?Y.download.download:"Download";return n$b.createElement(e$b.Tooltip,{ariaControlsSuffix:"get-file",position:e$b.Position.BottomCenter,target:n$b.createElement(e$b.MinimalButton,{ariaLabel:q,testId:"get-file__download-button",onClick:G},n$b.createElement(o$b,null)),content:function(){return q},offset:i$b})},c$b=function(W,G){var Y=document.createElement("a");Y.style.display="none",Y.href=W,Y.setAttribute("download",G),document.body.appendChild(Y),Y.click(),document.body.removeChild(Y)},l$b=function(W,G,Y){var q=URL.createObjectURL(new Blob([W],{type:Y}));c$b(q,G),q&&URL.revokeObjectURL(q)},u$b=function(W,G){W.getData().then(function(Y){/iphone|ipod|ipad/i.test(navigator.userAgent)&&!/CriOS/i.test(navigator.userAgent)?l$b(Y,G,"application/octet-stream"):/iphone|ipod|ipad/i.test(navigator.userAgent)&&/CriOS/i.test(navigator.userAgent)?c$b("data:application/pdf;base64,".concat(function(q){return btoa(Array(q.length).fill("").map(function(X,K){return String.fromCharCode(q[K])}).join(""))}(Y)),G):l$b(Y,G,"application/pdf")})},f$8=function(W){var G=W.children,Y=W.fileNameGenerator,q=W.store,X=n$b.useState(q.get("file")),K=X[0],B=X[1],he=n$b.useState(q.get("doc")),ke=he[0],Ae=he[1],ae=function(ge){Ae(ge)},Re=function(ge){B(ge)};return n$b.useEffect(function(){return q.subscribe("doc",ae),q.subscribe("file",Re),function(){q.subscribe("doc",ae),q.unsubscribe("file",Re)}},[]),(G||function(ge){return n$b.createElement(a$b,{onClick:ge.onClick})})({onClick:function(){ke&&K&&u$b(ke,Y(K))}})},d$8=function(W){var G=W.onClick,Y=n$b.useContext(e$b.LocalizationContext).l10n,q=Y&&Y.download?Y.download.download:"Download";return n$b.createElement(e$b.MenuItem,{icon:n$b.createElement(o$b,null),testId:"get-file__download-menu",onClick:G},q)};getFile_min.DownloadIcon=o$b,getFile_min.getFilePlugin=function(W){var G=n$b.useMemo(function(){return e$b.createStore({})},[]),Y=function(X){return X.name?(K=X.name,(B=K.split("/").pop())?B.split("#")[0].split("?")[0]:K):"document.pdf";var K,B},q=function(X){return n$b.createElement(f$8,r$b({},X,{fileNameGenerator:W&&W.fileNameGenerator||Y,store:G}))};return{onDocumentLoad:function(X){G.update("doc",X.doc),G.update("file",X.file)},Download:q,DownloadButton:function(){return n$b.createElement(q,null,function(X){return n$b.createElement(a$b,r$b({},X))})},DownloadMenuItem:function(X){return n$b.createElement(q,null,function(K){return n$b.createElement(d$8,{onClick:function(){K.onClick(),X.onClick()}})})}}};/**
* A React component to view a PDF document
*
* @see https://react-pdf-viewer.dev
* @license https://react-pdf-viewer.dev/license
* @copyright 2019-2023 Nguyen Huu Phuoc <me@phuoc.ng>
*/lib$9.exports=getFile_min;var libExports$b=lib$9.exports,lib$8={exports:{}},open_min={},e$a=libExports$h;function t$a(W){var G=Object.create(null);return W&&Object.keys(W).forEach(function(Y){if(Y!=="default"){var q=Object.getOwnPropertyDescriptor(W,Y);Object.defineProperty(G,Y,q.get?q:{enumerable:!0,get:function(){return W[Y]}})}}),G.default=W,Object.freeze(G)}var n$a=t$a(T$1),r$a=function(){return n$a.createElement(e$a.Icon,{size:16},n$a.createElement("path",{d:"M18.5,7.5c.275,0,.341-.159.146-.354L12.354.854a.5.5,0,0,0-.708,0L5.354,7.147c-.2.195-.129.354.146.354h3v10a1,1,0,0,0,1,1h5a1,1,0,0,0,1-1V7.5Z"}),n$a.createElement("path",{d:"M23.5,18.5v4a1,1,0,0,1-1,1H1.5a1,1,0,0,1-1-1v-4"}))},o$a=function(){return o$a=Object.assign||function(W){for(var G,Y=1,q=arguments.length;Y<q;Y++)for(var X in G=arguments[Y])Object.prototype.hasOwnProperty.call(G,X)&&(W[X]=G[X]);return W},o$a.apply(this,arguments)},i$a=function(W){var G=n$a.useRef(),Y=function(){var X=G.current;X&&(X.click(),W.get("triggerOpenFile")&&W.update("triggerOpenFile",!1))},q=function(X){X&&Y()};return n$a.useEffect(function(){return W.subscribe("triggerOpenFile",q),function(){W.unsubscribe("triggerOpenFile",q)}},[]),{inputRef:G,openFile:Y}},c$a={left:0,top:8},u$a=function(W){var G=W.enableShortcuts,Y=W.store,q=W.onClick,X=n$a.useContext(e$a.LocalizationContext).l10n,K=X&&X.open?X.open.openFile:"Open file",B=i$a(Y),he=B.inputRef,ke=B.openFile,Ae=G?e$a.isMac()?"Meta+O":"Ctrl+O":"";return n$a.createElement(e$a.Tooltip,{ariaControlsSuffix:"open",position:e$a.Position.BottomCenter,target:n$a.createElement("div",{className:"rpv-open__input-wrapper"},n$a.createElement("input",{accept:".pdf",ref:he,className:"rpv-open__input",multiple:!1,tabIndex:-1,title:"",type:"file",onChange:q}),n$a.createElement(e$a.MinimalButton,{ariaKeyShortcuts:Ae,ariaLabel:K,testId:"open__button",onClick:ke},n$a.createElement(r$a,null))),content:function(){return K},offset:c$a})},a$a=function(W){var G=W.children,Y=W.enableShortcuts,q=W.store;return(G||function(X){return n$a.createElement(u$a,{enableShortcuts:Y,store:q,onClick:X.onClick})})({onClick:function(X){var K=X.target.files;if(K&&K.length){var B=q.get("openFile");B&&B(K[0])}}})},l$a=function(W){var G=W.store,Y=W.onClick,q=n$a.useContext(e$a.LocalizationContext).l10n,X=q&&q.open?q.open.openFile:"Open file",K=i$a(G),B=K.inputRef,he=K.openFile;return n$a.createElement(e$a.MenuItem,{icon:n$a.createElement(r$a,null),testId:"open__menu",onClick:he},n$a.createElement("div",{className:"rpv-open__input-wrapper"},n$a.createElement("input",{accept:".pdf",ref:B,className:"rpv-open__input",multiple:!1,tabIndex:-1,title:"",type:"file",onChange:Y}),X))},p$7=function(W){var G=W.containerRef,Y=W.store,q=function(X){if(!X.shiftKey&&!X.altKey&&X.key==="o"&&(e$a.isMac()?X.metaKey:X.ctrlKey)){var K=G.current;K&&document.activeElement&&K.contains(document.activeElement)&&(X.preventDefault(),Y.update("triggerOpenFile",!0))}};return n$a.useEffect(function(){if(G.current)return document.addEventListener("keydown",q),function(){document.removeEventListener("keydown",q)}},[G.current]),n$a.createElement(n$a.Fragment,null)};open_min.OpenFileIcon=r$a,open_min.openPlugin=function(W){var G=n$a.useMemo(function(){return Object.assign({},{enableShortcuts:!0},W)},[]),Y=n$a.useMemo(function(){return e$a.createStore({})},[]),q=function(X){return n$a.createElement(a$a,o$a({enableShortcuts:G.enableShortcuts},X,{store:Y}))};return{install:function(X){Y.update("openFile",X.openFile)},renderViewer:function(X){var K=X.slot,B={children:n$a.createElement(n$a.Fragment,null,G.enableShortcuts&&n$a.createElement(p$7,{containerRef:X.containerRef,store:Y}),K.children)};return o$a(o$a({},K),B)},Open:q,OpenButton:function(){return n$a.createElement(q,null)},OpenMenuItem:function(){return n$a.createElement(q,null,function(X){return n$a.createElement(l$a,{store:Y,onClick:X.onClick})})}}};/**
* A React component to view a PDF document
*
* @see https://react-pdf-viewer.dev
* @license https://react-pdf-viewer.dev/license
* @copyright 2019-2023 Nguyen Huu Phuoc <me@phuoc.ng>
*/lib$8.exports=open_min;var libExports$a=lib$8.exports,lib$7={exports:{}},pageNavigation_min={},e$9=libExports$h;function t$9(W){var G=Object.create(null);return W&&Object.keys(W).forEach(function(Y){if(Y!=="default"){var q=Object.getOwnPropertyDescriptor(W,Y);Object.defineProperty(G,Y,q.get?q:{enumerable:!0,get:function(){return W[Y]}})}}),G.default=W,Object.freeze(G)}var n$9=t$9(T$1),a$9=function(){return n$9.createElement(e$9.Icon,{size:16},n$9.createElement("path",{d:`M2.32,2.966h19.452c0.552,0.001,1,0.449,0.999,1.001c0,0.182-0.05,0.36-0.144,0.516L12.9,20.552
            c-0.286,0.472-0.901,0.624-1.373,0.338c-0.138-0.084-0.254-0.2-0.338-0.338L1.465,4.483C1.179,4.01,1.331,3.396,1.804,3.11
            C1.96,3.016,2.138,2.966,2.32,2.966z`}))},r$9=function(){return n$9.createElement(e$9.Icon,{size:16},n$9.createElement("path",{d:`M0.541,5.627L11.666,18.2c0.183,0.207,0.499,0.226,0.706,0.043c0.015-0.014,0.03-0.028,0.043-0.043
            L23.541,5.627`}))},o$9=function(){return o$9=Object.assign||function(W){for(var G,Y=1,q=arguments.length;Y<q;Y++)for(var X in G=arguments[Y])Object.prototype.hasOwnProperty.call(G,X)&&(W[X]=G[X]);return W},o$9.apply(this,arguments)},i$9=function(W){var G=n$9.useState(W.get("currentPage")||0),Y=G[0],q=G[1],X=function(K){q(K)};return e$9.useIsomorphicLayoutEffect(function(){return W.subscribe("currentPage",X),function(){W.unsubscribe("currentPage",X)}},[]),{currentPage:Y}},u$9=function(W){var G=n$9.useState(W.get("numberOfPages")||0),Y=G[0],q=G[1],X=function(K){q(K)};return n$9.useEffect(function(){return W.subscribe("numberOfPages",X),function(){W.unsubscribe("numberOfPages",X)}},[]),{numberOfPages:Y}},c$9=function(W){var G=W.store,Y=n$9.useContext(e$9.LocalizationContext).l10n,q=n$9.useState("1"),X=q[0],K=q[1],B=i$9(G).currentPage,he=u$9(G).numberOfPages;n$9.useEffect(function(){return K("".concat(B+1))},[B]);var ke=function(ae){var Re=G.get("jumpToPage");Re&&Re(ae)},Ae=Y&&Y.pageNavigation?Y.pageNavigation.enterPageNumber:"Enter a page number";return n$9.createElement("span",{className:"rpv-page-navigation__current-page-input"},n$9.createElement(e$9.TextBox,{ariaLabel:Ae,testId:"page-navigation__current-page-input",type:"text",value:X,onChange:K,onKeyDown:function(ae){switch(ae.key){case"ArrowUp":(ve=B-1)>=0&&(K("".concat(ve+1)),ke(ve));break;case"ArrowDown":(ge=B+1)<he&&(K("".concat(ge+1)),ke(ge));break;case"Enter":Re=parseInt(X,10),X===""||Re<1||Re>he?K("".concat(B+1)):ke(Re-1)}var Re,ge,ve}}))},l$9=function(W){var G=W.children,Y=W.doc,q=e$9.useIsMounted(),X=n$9.useState({loading:!0,labels:[]}),K=X[0],B=X[1];return n$9.useEffect(function(){Y.getPageLabels().then(function(he){q.current&&B({loading:!1,labels:he||[]})})},[Y.loadingTask.docId]),K.loading?n$9.createElement(n$9.Fragment,null):G(K.labels)},s$7=function(W){var G=W.children,Y=W.store,q=function(he){var ke=n$9.useState(he.get("doc")),Ae=ke[0],ae=ke[1],Re=function(ge){ae(ge)};return n$9.useEffect(function(){return he.subscribe("doc",Re),function(){he.unsubscribe("doc",Re)}},[]),Ae}(Y),X=i$9(Y).currentPage,K=u$9(Y).numberOfPages,B=G||function(he){return n$9.createElement(n$9.Fragment,null,he.currentPage+1)};return q?n$9.createElement(l$9,{doc:q},function(he){var ke=he.length===K&&K>0?he[X]:"";return B({currentPage:X,numberOfPages:K,pageLabel:ke})}):n$9.createElement(n$9.Fragment,null)},g$5=function(){return n$9.createElement(e$9.Icon,{size:16},n$9.createElement("path",{d:`M21.783,21.034H2.332c-0.552,0-1-0.448-1-1c0-0.182,0.05-0.361,0.144-0.517L11.2,3.448
            c0.286-0.472,0.901-0.624,1.373-0.338c0.138,0.084,0.254,0.2,0.338,0.338l9.726,16.069c0.286,0.473,0.134,1.087-0.339,1.373
            C22.143,20.984,21.965,21.034,21.783,21.034z`}))},f$7={left:0,top:8},m$7=function(W){var G=W.isDisabled,Y=W.onClick,q=n$9.useContext(e$9.LocalizationContext).l10n,X=q&&q.pageNavigation?q.pageNavigation.goToFirstPage:"First page";return n$9.createElement(e$9.Tooltip,{ariaControlsSuffix:"page-navigation-first",position:e$9.Position.BottomCenter,target:n$9.createElement(e$9.MinimalButton,{ariaLabel:X,isDisabled:G,testId:"page-navigation__first-button",onClick:Y},n$9.createElement(g$5,null)),content:function(){return X},offset:f$7})},p$6=function(W){var G=W.children,Y=W.store;return(G||function(q){return n$9.createElement(m$7,{isDisabled:q.isDisabled,onClick:q.onClick})})({isDisabled:i$9(Y).currentPage===0,onClick:function(){var q=Y.get("jumpToPage");q&&q(0)}})},v$5=function(W){var G=W.isDisabled,Y=W.onClick,q=n$9.useContext(e$9.LocalizationContext).l10n,X=q&&q.pageNavigation?q.pageNavigation.goToFirstPage:"First page";return n$9.createElement(e$9.MenuItem,{icon:n$9.createElement(g$5,null),isDisabled:G,testId:"page-navigation__first-menu",onClick:Y},X)},d$7={left:0,top:8},P$2=function(W){var G=W.isDisabled,Y=W.onClick,q=n$9.useContext(e$9.LocalizationContext).l10n,X=q&&q.pageNavigation?q.pageNavigation.goToLastPage:"Last page";return n$9.createElement(e$9.Tooltip,{ariaControlsSuffix:"page-navigation-last",position:e$9.Position.BottomCenter,target:n$9.createElement(e$9.MinimalButton,{ariaLabel:X,isDisabled:G,testId:"page-navigation__last-button",onClick:Y},n$9.createElement(a$9,null)),content:function(){return X},offset:d$7})},b$4=function(W){var G=W.children,Y=W.store,q=i$9(Y).currentPage,X=u$9(Y).numberOfPages;return(G||function(K){return n$9.createElement(P$2,{isDisabled:K.isDisabled,onClick:K.onClick})})({isDisabled:q+1>=X,onClick:function(){var K=Y.get("jumpToPage");K&&K(X-1)}})},E$4=function(W){var G=W.isDisabled,Y=W.onClick,q=n$9.useContext(e$9.LocalizationContext).l10n,X=q&&q.pageNavigation?q.pageNavigation.goToLastPage:"Last page";return n$9.createElement(e$9.MenuItem,{icon:n$9.createElement(a$9,null),isDisabled:G,testId:"page-navigation__last-menu",onClick:Y},X)},C$3={left:0,top:8},D=function(W){var G=W.isDisabled,Y=W.onClick,q=n$9.useContext(e$9.LocalizationContext).l10n,X=q&&q.pageNavigation?q.pageNavigation.goToNextPage:"Next page";return n$9.createElement(e$9.Tooltip,{ariaControlsSuffix:"page-navigation-next",position:e$9.Position.BottomCenter,target:n$9.createElement(e$9.MinimalButton,{ariaLabel:X,isDisabled:G,testId:"page-navigation__next-button",onClick:Y},n$9.createElement(r$9,null)),content:function(){return X},offset:C$3})},k$3=function(W){var G=W.children,Y=W.store;return(G||function(q){return n$9.createElement(D,{onClick:q.onClick,isDisabled:q.isDisabled})})({isDisabled:i$9(Y).currentPage+1>=u$9(Y).numberOfPages,onClick:function(){var q=Y.get("jumpToNextPage");q&&q()}})},T=function(W){var G=W.isDisabled,Y=W.onClick,q=n$9.useContext(e$9.LocalizationContext).l10n,X=q&&q.pageNavigation?q.pageNavigation.goToNextPage:"Next page";return n$9.createElement(e$9.MenuItem,{icon:n$9.createElement(r$9,null),isDisabled:G,testId:"page-navigation__next-menu",onClick:Y},X)},x$1=function(){return n$9.createElement(e$9.Icon,{size:16},n$9.createElement("path",{d:`M23.535,18.373L12.409,5.8c-0.183-0.207-0.499-0.226-0.706-0.043C11.688,5.77,11.674,5.785,11.66,5.8
            L0.535,18.373`}))},L={left:0,top:8},N=function(W){var G=W.isDisabled,Y=W.onClick,q=n$9.useContext(e$9.LocalizationContext).l10n,X=q&&q.pageNavigation?q.pageNavigation.goToPreviousPage:"Previous page";return n$9.createElement(e$9.Tooltip,{ariaControlsSuffix:"page-navigation-previous",position:e$9.Position.BottomCenter,target:n$9.createElement(e$9.MinimalButton,{ariaLabel:X,isDisabled:G,testId:"page-navigation__previous-button",onClick:Y},n$9.createElement(x$1,null)),content:function(){return X},offset:L})},j=function(W){var G=W.store;return(W.children||function(Y){return n$9.createElement(N,{isDisabled:Y.isDisabled,onClick:Y.onClick})})({isDisabled:i$9(G).currentPage<=0,onClick:function(){var Y=G.get("jumpToPreviousPage");Y&&Y()}})},I$2=function(W){var G=W.isDisabled,Y=W.onClick,q=n$9.useContext(e$9.LocalizationContext).l10n,X=q&&q.pageNavigation?q.pageNavigation.goToPreviousPage:"Previous page";return n$9.createElement(e$9.MenuItem,{icon:n$9.createElement(x$1,null),isDisabled:G,testId:"page-navigation__previous-menu",onClick:Y},X)},h$5=function(W){var G=W.children,Y=W.store,q=u$9(Y).numberOfPages;return G?G({numberOfPages:q}):n$9.createElement(n$9.Fragment,null,q)},y$1=function(W){var G=W.containerRef,Y=W.numPages,q=W.store,X=i$9(q).currentPage,K=n$9.useRef(X);K.current=X;var B=n$9.useRef(!1),he=function(){B.current=!0},ke=function(){B.current=!1},Ae=function(ae){var Re=G.current,ge=B.current||document.activeElement&&Re.contains(document.activeElement);if(Re&&ge){var ve,xe,Se=ae.altKey&&ae.key==="ArrowDown"||!ae.shiftKey&&!ae.altKey&&ae.key==="PageDown",pe=ae.altKey&&ae.key==="ArrowUp"||!ae.shiftKey&&!ae.altKey&&ae.key==="PageUp";if(Se)return ae.preventDefault(),ve=q.get("jumpToPage"),xe=K.current+1,void(ve&&xe<Y&&ve(xe));if(pe)return ae.preventDefault(),void function(){var ne=q.get("jumpToPage"),we=K.current-1;ne&&we>=0&&ne(we)}();if(e$9.isMac()?ae.metaKey&&!ae.ctrlKey:ae.altKey)switch(ae.key){case"ArrowLeft":ae.preventDefault(),function(){var ne=q.get("jumpToPreviousDestination");ne&&ne()}();break;case"ArrowRight":ae.preventDefault(),function(){var ne=q.get("jumpToNextDestination");ne&&ne()}()}}};return n$9.useEffect(function(){var ae=G.current;if(ae)return document.addEventListener("keydown",Ae),ae.addEventListener("mouseenter",he),ae.addEventListener("mouseleave",ke),function(){document.removeEventListener("keydown",Ae),ae.removeEventListener("mouseenter",he),ae.removeEventListener("mouseleave",ke)}},[G.current]),n$9.createElement(n$9.Fragment,null)};pageNavigation_min.DownArrowIcon=a$9,pageNavigation_min.NextIcon=r$9,pageNavigation_min.PreviousIcon=x$1,pageNavigation_min.UpArrowIcon=g$5,pageNavigation_min.pageNavigationPlugin=function(W){var G=n$9.useMemo(function(){return Object.assign({},{enableShortcuts:!0},W)},[]),Y=n$9.useMemo(function(){return e$9.createStore()},[]),q=function(he){return n$9.createElement(p$6,o$9({},he,{store:Y}))},X=function(he){return n$9.createElement(b$4,o$9({},he,{store:Y}))},K=function(he){return n$9.createElement(k$3,o$9({},he,{store:Y}))},B=function(he){return n$9.createElement(j,o$9({},he,{store:Y}))};return{install:function(he){Y.update("jumpToDestination",he.jumpToDestination),Y.update("jumpToNextDestination",he.jumpToNextDestination),Y.update("jumpToNextPage",he.jumpToNextPage),Y.update("jumpToPage",he.jumpToPage),Y.update("jumpToPreviousDestination",he.jumpToPreviousDestination),Y.update("jumpToPreviousPage",he.jumpToPreviousPage)},renderViewer:function(he){var ke=he.slot;if(!G.enableShortcuts)return ke;var Ae={children:n$9.createElement(n$9.Fragment,null,n$9.createElement(y$1,{containerRef:he.containerRef,numPages:he.doc.numPages,store:Y}),ke.children)};return o$9(o$9({},ke),Ae)},onDocumentLoad:function(he){Y.update("doc",he.doc),Y.update("numberOfPages",he.doc.numPages)},onViewerStateChange:function(he){return Y.update("currentPage",he.pageIndex),he},jumpToNextPage:function(){var he=Y.get("jumpToNextPage");he&&he()},jumpToPage:function(he){var ke=Y.get("jumpToPage");ke&&ke(he)},jumpToPreviousPage:function(){var he=Y.get("jumpToPreviousPage");he&&he()},CurrentPageInput:function(){return n$9.createElement(c$9,{store:Y})},CurrentPageLabel:function(he){return n$9.createElement(s$7,o$9({},he,{store:Y}))},GoToFirstPage:q,GoToFirstPageButton:function(){return n$9.createElement(q,null,function(he){return n$9.createElement(m$7,o$9({},he))})},GoToFirstPageMenuItem:function(he){return n$9.createElement(q,null,function(ke){return n$9.createElement(v$5,{isDisabled:ke.isDisabled,onClick:function(){ke.onClick(),he.onClick()}})})},GoToLastPage:X,GoToLastPageButton:function(){return n$9.createElement(X,null,function(he){return n$9.createElement(P$2,o$9({},he))})},GoToLastPageMenuItem:function(he){return n$9.createElement(X,null,function(ke){return n$9.createElement(E$4,{isDisabled:ke.isDisabled,onClick:function(){ke.onClick(),he.onClick()}})})},GoToNextPage:K,GoToNextPageButton:function(){return n$9.createElement(K,null,function(he){return n$9.createElement(D,o$9({},he))})},GoToNextPageMenuItem:function(he){return n$9.createElement(K,null,function(ke){return n$9.createElement(T,{isDisabled:ke.isDisabled,onClick:function(){ke.onClick(),he.onClick()}})})},GoToPreviousPage:B,GoToPreviousPageButton:function(){return n$9.createElement(B,null,function(he){return n$9.createElement(N,o$9({},he))})},GoToPreviousPageMenuItem:function(he){return n$9.createElement(B,null,function(ke){return n$9.createElement(I$2,{isDisabled:ke.isDisabled,onClick:function(){ke.onClick(),he.onClick()}})})},NumberOfPages:function(he){return n$9.createElement(h$5,o$9({},he,{store:Y}))}}};/**
* A React component to view a PDF document
*
* @see https://react-pdf-viewer.dev
* @license https://react-pdf-viewer.dev/license
* @copyright 2019-2023 Nguyen Huu Phuoc <me@phuoc.ng>
*/lib$7.exports=pageNavigation_min;var libExports$9=lib$7.exports,lib$6={exports:{}},print_min={},define_process_env_default={},e$8=libExports$h,t$8=T$1,n$8=Rd;function r$8(W){var G=Object.create(null);return W&&Object.keys(W).forEach(function(Y){if(Y!=="default"){var q=Object.getOwnPropertyDescriptor(W,Y);Object.defineProperty(G,Y,q.get?q:{enumerable:!0,get:function(){return W[Y]}})}}),G.default=W,Object.freeze(G)}var o$8,a$8=r$8(t$8),i$8=function(){return a$8.createElement(e$8.Icon,{size:16},a$8.createElement("path",{d:`M7.5,19.499h9 M7.5,16.499h9 M5.5,16.5h-3c-1.103-0.003-1.997-0.897-2-2v-6c0.003-1.103,0.897-1.997,2-2h19
            c1.103,0.003,1.997,0.897,2,2v6c-0.003,1.103-0.897,1.997-2,2h-3
            M5.5,4.5v-4h9.586c0.265,0,0.52,0.105,0.707,0.293l2.414,2.414
            C18.395,3.394,18.5,3.649,18.5,3.914V4.5
            M18.5,22.5c0,0.552-0.448,1-1,1h-11c-0.552,0-1-0.448-1-1v-9h13V22.5z
            M3.5,8.499
            c0.552,0,1,0.448,1,1s-0.448,1-1,1s-1-0.448-1-1S2.948,8.499,3.5,8.499z
            M14.5,0.499v4h4`}))},c$8=function(){return c$8=Object.assign||function(W){for(var G,Y=1,q=arguments.length;Y<q;Y++)for(var X in G=arguments[Y])Object.prototype.hasOwnProperty.call(G,X)&&(W[X]=G[X]);return W},c$8.apply(this,arguments)},u$8={left:0,top:8},s$6=function(W){var G=W.enableShortcuts,Y=W.onClick,q=a$8.useContext(e$8.LocalizationContext).l10n,X=q&&q.print?q.print.print:"Print",K=G?e$8.isMac()?"Meta+P":"Ctrl+P":"";return a$8.createElement(e$8.Tooltip,{ariaControlsSuffix:"print",position:e$8.Position.BottomCenter,target:a$8.createElement(e$8.MinimalButton,{ariaKeyShortcuts:K,ariaLabel:X,testId:"print__button",onClick:Y},a$8.createElement(i$8,null)),content:function(){return X},offset:u$8})};(function(W){W.CheckingPermission="CheckingPermission",W.Inactive="Inactive",W.Preparing="Preparing",W.Cancelled="Cancelled",W.Ready="Ready"})(o$8||(o$8={}));var l$8=function(W){var G=W.children,Y=W.enableShortcuts,q=W.store;return(G||s$6)({enableShortcuts:Y,onClick:function(){q.update("printStatus",o$8.CheckingPermission)}})},p$5=function(W){var G=W.doc,Y=W.store,q=a$8.useContext(e$8.LocalizationContext).l10n,X=a$8.useState(!0),K=X[0],B=X[1];return a$8.useEffect(function(){G.getPermissions().then(function(he){he===null||he.includes(4)||he.includes(2048)?Y.update("printStatus",o$8.Preparing):B(!1)})},[]),K?a$8.createElement(a$8.Fragment,null):a$8.createElement(e$8.Modal,{ariaControlsSuffix:"print-permission",closeOnClickOutside:!1,closeOnEscape:!1,content:function(he){return a$8.createElement(a$8.Fragment,null,a$8.createElement("div",{className:"rpv-print__permission-body"},q&&q.print?q.print.disallowPrint:"The document does not allow to print"),a$8.createElement("div",{className:"rpv-print__permission-footer"},a$8.createElement(e$8.Button,{onClick:function(){he(),Y.update("printStatus",o$8.Cancelled)}},q&&q.print?q.print.close:"Close")))},isOpened:!0})},m$6=function(W){var G=W.numLoadedPages,Y=W.numPages,q=W.onCancel,X=a$8.useContext(e$8.LocalizationContext).l10n,K=a$8.useContext(e$8.ThemeContext).direction===e$8.TextDirection.RightToLeft,B=Math.floor(100*G/Y);return a$8.createElement("div",{className:"rpv-print__progress"},a$8.createElement("div",{className:e$8.classNames({"rpv-print__progress-body":!0,"rpv-print__progress-body--rtl":K})},a$8.createElement("div",{className:"rpv-print__progress-message"},X&&X.print?X.print.preparingDocument:"Preparing document ..."),a$8.createElement("div",{className:"rpv-print__progress-bar"},a$8.createElement(e$8.ProgressBar,{progress:B})),a$8.createElement(e$8.Button,{onClick:q},X&&X.print?X.print.cancel:"Cancel")))},d$6=function(W){var G=W.canvas,Y=W.page,q=W.pageHeight,X=W.pageIndex,K=W.pageWidth,B=W.rotation,he=W.onLoad,ke=e$8.useIsMounted(),Ae=a$8.useRef(),ae=a$8.useState(""),Re=ae[0],ge=ae[1],ve=a$8.useMemo(function(){return typeof process<"u"&&define_process_env_default.JEST_WORKER_ID!==void 0},[]);return a$8.useEffect(function(){var xe=Ae.current;xe&&xe.cancel();var Se=150/72;G.height=Math.floor(q*Se),G.width=Math.floor(K*Se);var pe=G.getContext("2d");pe.save(),pe.fillStyle="rgb(255, 255, 255)",pe.fillRect(0,0,G.width,G.height),pe.restore();var ne=Y.getViewport({rotation:B,scale:1});Ae.current=Y.render({canvasContext:pe,intent:"print",transform:[Se,0,0,Se,0,0],viewport:ne}),Ae.current.promise.then(function(){"toBlob"in G&&"createObjectURL"in URL?G.toBlob(function(we){ke.current&&ge(URL.createObjectURL(we)),ve&&he()}):(ke.current&&ge(G.toDataURL()),ve&&he())},function(){})},[]),Re&&a$8.createElement("div",{className:"rpv-print__page"},a$8.createElement("img",{"data-testid":"print__thumbnail-".concat(X),src:Re,onLoad:function(){ve||he()}}))},f$6=function(W){var G=W.canvas,Y=W.doc,q=W.pageIndex,X=W.pageRotation,K=W.pageSize,B=W.rotation,he=W.shouldRender,ke=W.onLoad,Ae=e$8.useIsMounted(),ae=a$8.useState(null),Re=ae[0],ge=ae[1],ve=Math.abs(B+X)%180==0;a$8.useEffect(function(){he&&e$8.getPage(Y,q).then(function(Se){Ae.current&&ge(Se)})},[he]);var xe=(K.rotation+B+X)%360;return Re&&a$8.createElement(d$6,{canvas:G,page:Re,pageHeight:ve?K.pageHeight:K.pageWidth,pageIndex:q,pageWidth:ve?K.pageWidth:K.pageHeight,rotation:xe,onLoad:ke})},g$4=function(W){var G=W.doc,Y=W.numLoadedPages,q=W.pagesRotation,X=W.pageSizes,K=W.printPages,B=W.printStatus,he=W.rotation,ke=W.onCancel,Ae=W.onLoad,ae=a$8.useMemo(function(){return document.createElement("canvas")},[]),Re=a$8.useMemo(function(){var xe=document.querySelector(".rpv-print__zone");if(xe)return xe;var Se=document.createElement("div");return Se.classList.add("rpv-print__zone"),Se.setAttribute("data-testid","print__zone"),document.body.appendChild(Se),Se},[]);a$8.useEffect(function(){B===o$8.Ready&&(document.documentElement.classList.add("rpv-print__html-printing"),document.body.classList.add("rpv-print__body-printing"),window.print());var xe=function(){if(B===o$8.Ready){document.documentElement.classList.remove("rpv-print__html-printing"),document.body.classList.remove("rpv-print__body-printing");var Se=document.querySelectorAll(".rpv-print__zone");Se&&Se.forEach(function(pe){pe.parentElement.removeChild(pe)}),ae.height=0,ae.width=0,document.removeEventListener("mousemove",xe),ke()}};return document.addEventListener("mousemove",xe),function(){return document.removeEventListener("mousemove",xe)}},[B]);var ge=X[0].pageHeight,ve=X[0].pageWidth;return n$8.createPortal(a$8.createElement(a$8.Fragment,null,K.map(function(xe,Se){return a$8.createElement(f$6,{key:xe,canvas:ae,doc:G,pageIndex:xe,pageRotation:q.has(xe)?q.get(xe):0,pageSize:X[xe],rotation:he,shouldRender:Se===Y,onLoad:Ae})}),a$8.createElement("style",{dangerouslySetInnerHTML:{__html:"@page { size: ".concat(ve,"pt ").concat(ge,"pt }")}})),Re)},v$4=function(W){var G=W.doc,Y=W.pagesRotation,q=W.pageSizes,X=W.renderProgressBar,K=W.rotation,B=W.setPages,he=W.store,ke=a$8.useState(o$8.Inactive),Ae=ke[0],ae=ke[1],Re=a$8.useState(0),ge=Re[0],ve=Re[1],xe=a$8.useMemo(function(){var we=G.numPages;return B(G).filter(function(Ie){return Ie>=0&&Ie<we})},[G,B]),Se=xe.length,pe=function(){ve(0),ae(o$8.Inactive)},ne=function(we){return ae(we)};return a$8.useEffect(function(){return he.subscribe("printStatus",ne),function(){he.unsubscribe("printStatus",ne)}},[]),a$8.createElement(a$8.Fragment,null,Ae===o$8.CheckingPermission&&a$8.createElement(p$5,{doc:G,store:he}),Ae===o$8.Preparing&&(X?X(ge,Se,pe):a$8.createElement(m$6,{numLoadedPages:ge,numPages:Se,onCancel:pe})),(Ae===o$8.Preparing||Ae===o$8.Ready)&&ge<=Se&&a$8.createElement(g$4,{doc:G,numLoadedPages:ge,pagesRotation:Y,pageSizes:q,printPages:xe,printStatus:Ae,rotation:K,onCancel:pe,onLoad:function(){var we=ge+1;we<=Se&&(ve(we),we===Se&&ae(o$8.Ready))}}))},h$4=function(W){var G=W.onClick,Y=a$8.useContext(e$8.LocalizationContext).l10n,q=Y&&Y.print?Y.print.print:"Print";return a$8.createElement(e$8.MenuItem,{icon:a$8.createElement(i$8,null),testId:"print__menu",onClick:G},q)},E$3=function(W){var G=W.containerRef,Y=W.store,q=function(X){if(!X.shiftKey&&!X.altKey&&X.key==="p"&&(e$8.isMac()?X.metaKey:X.ctrlKey)){var K=G.current;K&&document.activeElement&&K.contains(document.activeElement)&&(X.preventDefault(),Y.update("printStatus",o$8.Preparing))}};return a$8.useEffect(function(){if(G.current)return document.addEventListener("keydown",q),function(){document.removeEventListener("keydown",q)}},[G.current]),a$8.createElement(a$8.Fragment,null)};print_min.PrintIcon=i$8,print_min.getAllPagesNumbers=function(W){return Array(W.numPages).fill(0).map(function(G,Y){return Y})},print_min.getCustomPagesNumbers=function(W){return function(G){var Y,q=[];return W.replace(/\s+/g,"").split(",").forEach(function(X){var K,B,he=X.split("-").map(function(ke){return parseInt(ke,10)}).filter(function(ke){return Number.isInteger(ke)});he.length===1?q.push(he[0]-1):he.length===2&&q.push.apply(q,(K=he[0]-1,B=he[1]-1,Array(B-K+1).fill(0).map(function(ke,Ae){return K+Ae})))}),(Y=q,Y.filter(function(X){return Y.indexOf(X)===Y.lastIndexOf(X)})).filter(function(X){return X>=0&&X<G.numPages})}},print_min.getEvenPagesNumbers=function(W){return Array(W.numPages).fill(0).map(function(G,Y){return Y}).filter(function(G){return(G+1)%2==0})},print_min.getOddPagesNumbers=function(W){return Array(W.numPages).fill(0).map(function(G,Y){return Y}).filter(function(G){return(G+1)%2==1})},print_min.printPlugin=function(W){var G=a$8.useMemo(function(){return Object.assign({},{enableShortcuts:!0,setPages:function(X){return Array(X.numPages).fill(0).map(function(K,B){return B})}},W)},[]),Y=a$8.useMemo(function(){return e$8.createStore({printStatus:o$8.Inactive})},[]),q=function(X){return a$8.createElement(l$8,c$8({enableShortcuts:G.enableShortcuts},X,{store:Y}))};return{print:function(){Y.update("printStatus",o$8.CheckingPermission)},renderViewer:function(X){var K=X.slot,B={children:a$8.createElement(a$8.Fragment,null,G.enableShortcuts&&a$8.createElement(E$3,{containerRef:X.containerRef,store:Y}),a$8.createElement(v$4,{doc:X.doc,pagesRotation:X.pagesRotation,pageSizes:X.pageSizes,renderProgressBar:W==null?void 0:W.renderProgressBar,rotation:X.rotation,setPages:G.setPages,store:Y}),K.children)};return c$8(c$8({},K),B)},Print:q,PrintButton:function(){return a$8.createElement(q,null,function(X){return a$8.createElement(s$6,c$8({},X))})},PrintMenuItem:function(X){return a$8.createElement(q,null,function(K){return a$8.createElement(h$4,{onClick:function(){K.onClick(),X.onClick()}})})},setPages:function(X){G.setPages=X}}};/**
* A React component to view a PDF document
*
* @see https://react-pdf-viewer.dev
* @license https://react-pdf-viewer.dev/license
* @copyright 2019-2023 Nguyen Huu Phuoc <me@phuoc.ng>
*/lib$6.exports=print_min;var libExports$8=lib$6.exports,lib$5={exports:{}},properties_min={},e$7=libExports$h;function t$7(W){var G=Object.create(null);return W&&Object.keys(W).forEach(function(Y){if(Y!=="default"){var q=Object.getOwnPropertyDescriptor(W,Y);Object.defineProperty(G,Y,q.get?q:{enumerable:!0,get:function(){return W[Y]}})}}),G.default=W,Object.freeze(G)}var r$7=t$7(T$1),n$7=function(){return r$7.createElement(e$7.Icon,{size:16},r$7.createElement("path",{d:`M12,1.001c6.075,0,11,4.925,11,11s-4.925,11-11,11s-11-4.925-11-11S5.925,1.001,12,1.001z
            M14.5,17.005H13
            c-0.552,0-1-0.448-1-1v-6.5c0-0.276-0.224-0.5-0.5-0.5H10
            M11.745,6.504L11.745,6.504
            M11.745,6.5c-0.138,0-0.25,0.112-0.25,0.25
            S11.607,7,11.745,7s0.25-0.112,0.25-0.25S11.883,6.5,11.745,6.5`}))},o$7=function(){return o$7=Object.assign||function(W){for(var G,Y=1,q=arguments.length;Y<q;Y++)for(var X in G=arguments[Y])Object.prototype.hasOwnProperty.call(G,X)&&(W[X]=G[X]);return W},o$7.apply(this,arguments)},a$7=function(W){var G=W.doc,Y=W.render,q=r$7.useState(),X=q[0],K=q[1];return r$7.useEffect(function(){G.getMetadata().then(function(B){return Promise.resolve(B)}).then(function(B){return G.getDownloadInfo().then(function(he){return Promise.resolve({fileName:B.contentDispositionFilename||"",info:B.info,length:he.length})})}).then(function(B){K(B)})},[]),X?Y(X):r$7.createElement("div",{className:"rpv-properties__loader"},r$7.createElement(e$7.Spinner,null))},i$7=function(W){var G=W.label,Y=W.value,q=r$7.useContext(e$7.ThemeContext).direction===e$7.TextDirection.RightToLeft;return r$7.createElement("dl",{className:e$7.classNames({"rpv-properties__item":!0,"rpv-properties__item--rtl":q})},r$7.createElement("dt",{className:"rpv-properties__item-label"},G,":"),r$7.createElement("dd",{className:"rpv-properties__item-value"},Y||"-"))},l$7=new RegExp("^D:(\\d{4})(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?([Z|+|-])?(\\d{2})?'?(\\d{2})?'?"),c$7=function(W,G,Y,q){var X=parseInt(W,10);return X>=G&&X<=Y?X:q},p$4=function(W){var G=W.doc,Y=W.fileName,q=W.onToggle,X=r$7.useContext(e$7.LocalizationContext).l10n,K=function(B){var he=function(ke){var Ae=l$7.exec(ke);if(!Ae)return null;var ae=parseInt(Ae[1],10),Re=c$7(Ae[2],1,12,1)-1,ge=c$7(Ae[3],1,31,1),ve=c$7(Ae[4],0,23,0),xe=c$7(Ae[5],0,59,0),Se=c$7(Ae[6],0,59,0),pe=Ae[7]||"Z",ne=c$7(Ae[8],0,23,0),we=c$7(Ae[9],0,59,0);switch(pe){case"-":ve+=ne,xe+=we;break;case"+":ve-=ne,xe-=we}return new Date(Date.UTC(ae,Re,ge,ve,xe,Se))}(B);return he?"".concat(he.toLocaleDateString(),", ").concat(he.toLocaleTimeString()):""};return r$7.createElement("div",{className:"rpv-properties__modal"},r$7.createElement(a$7,{doc:G,render:function(B){return r$7.createElement(r$7.Fragment,null,r$7.createElement("div",{className:"rpv-properties__modal-section"},r$7.createElement(i$7,{label:X&&X.properties?X.properties.fileName:"File name",value:B.fileName||(Ae=Y,ae=Ae.split("/").pop(),ae?ae.split("#")[0].split("?")[0]:Ae)}),r$7.createElement(i$7,{label:X&&X.properties?X.properties.fileSize:"File size",value:(he=B.length,ke=Math.floor(Math.log(he)/Math.log(1024)),"".concat((he/Math.pow(1024,ke)).toFixed(2)," ").concat(["B","kB","MB","GB","TB"][ke]))})),r$7.createElement(e$7.Separator,null),r$7.createElement("div",{className:"rpv-properties__modal-section"},r$7.createElement(i$7,{label:X&&X.properties?X.properties.title:"Title",value:B.info.Title}),r$7.createElement(i$7,{label:X&&X.properties?X.properties.author:"Author",value:B.info.Author}),r$7.createElement(i$7,{label:X&&X.properties?X.properties.subject:"Subject",value:B.info.Subject}),r$7.createElement(i$7,{label:X&&X.properties?X.properties.keywords:"Keywords",value:B.info.Keywords}),r$7.createElement(i$7,{label:X&&X.properties?X.properties.creator:"Creator",value:B.info.Creator}),r$7.createElement(i$7,{label:X&&X.properties?X.properties.creationDate:"Creation date",value:K(B.info.CreationDate)}),r$7.createElement(i$7,{label:X&&X.properties?X.properties.modificationDate:"Modification date",value:K(B.info.ModDate)})),r$7.createElement(e$7.Separator,null),r$7.createElement("div",{className:"rpv-properties__modal-section"},r$7.createElement(i$7,{label:X&&X.properties?X.properties.pdfProducer:"PDF producer",value:B.info.Producer}),r$7.createElement(i$7,{label:X&&X.properties?X.properties.pdfVersion:"PDF version",value:B.info.PDFFormatVersion}),r$7.createElement(i$7,{label:X&&X.properties?X.properties.pageCount:"Page count",value:"".concat(G.numPages)})));var he,ke,Ae,ae}}),r$7.createElement("div",{className:"rpv-properties__modal-footer"},r$7.createElement(e$7.Button,{onClick:q},X&&X.properties?X.properties.close:"Close")))},s$5={left:0,top:8},u$7=function(W){var G=W.onClick,Y=r$7.useContext(e$7.LocalizationContext).l10n,q=Y&&Y.properties?Y.properties.showProperties:"Show properties";return r$7.createElement(e$7.Tooltip,{ariaControlsSuffix:"properties",position:e$7.Position.BottomCenter,target:r$7.createElement(e$7.MinimalButton,{ariaLabel:q,testId:"properties__button",onClick:G},r$7.createElement(n$7,null)),content:function(){return q},offset:s$5})},m$5=function(W){var G=W.children,Y=W.store,q=function(B){var he=r$7.useState(B.get("doc")),ke=he[0],Ae=he[1],ae=function(Re){Ae(Re)};return r$7.useEffect(function(){return B.subscribe("doc",ae),function(){B.unsubscribe("doc",ae)}},[]),{currentDoc:ke}}(Y).currentDoc,X=Y.get("fileName")||"",K=G||function(B){return r$7.createElement(u$7,o$7({},B))};return q?r$7.createElement(e$7.Modal,{ariaControlsSuffix:"properties",target:function(B){return K({onClick:B})},content:function(B){return r$7.createElement(p$4,{doc:q,fileName:X,onToggle:B})},closeOnClickOutside:!0,closeOnEscape:!0}):r$7.createElement(r$7.Fragment,null)},f$5=function(W){var G=W.onClick,Y=r$7.useContext(e$7.LocalizationContext).l10n,q=Y&&Y.properties?Y.properties.showProperties:"Show properties";return r$7.createElement(e$7.MenuItem,{icon:r$7.createElement(n$7,null),testId:"properties__menu",onClick:G},q)};properties_min.InfoIcon=n$7,properties_min.propertiesPlugin=function(){var W=r$7.useMemo(function(){return e$7.createStore({fileName:""})},[]),G=function(Y){return r$7.createElement(m$5,o$7({},Y,{store:W}))};return{onDocumentLoad:function(Y){W.update("doc",Y.doc)},onViewerStateChange:function(Y){return W.update("fileName",Y.file.name),Y},ShowProperties:G,ShowPropertiesButton:function(){return r$7.createElement(m$5,{store:W})},ShowPropertiesMenuItem:function(Y){return r$7.createElement(G,null,function(q){return r$7.createElement(f$5,o$7({},q))})}}};/**
* A React component to view a PDF document
*
* @see https://react-pdf-viewer.dev
* @license https://react-pdf-viewer.dev/license
* @copyright 2019-2023 Nguyen Huu Phuoc <me@phuoc.ng>
*/lib$5.exports=properties_min;var libExports$7=lib$5.exports,lib$4={exports:{}},rotate_min={},t$6=libExports$h;function e$6(W){var G=Object.create(null);return W&&Object.keys(W).forEach(function(Y){if(Y!=="default"){var q=Object.getOwnPropertyDescriptor(W,Y);Object.defineProperty(G,Y,q.get?q:{enumerable:!0,get:function(){return W[Y]}})}}),G.default=W,Object.freeze(G)}var r$6=e$6(T$1),n$6=function(){return r$6.createElement(t$6.Icon,{ignoreDirection:!0,size:16},r$6.createElement("path",{d:`M3.434,10.537c0.141-0.438,0.316-0.864,0.523-1.274
            M3.069,14.425C3.023,14.053,3,13.679,3,13.305 c0-0.291,0.014-0.579,0.041-0.863
            M4.389,18.111c-0.341-0.539-0.623-1.112-0.843-1.711
            M7.163,20.9 c-0.543-0.345-1.048-0.747-1.506-1.2
            M10.98,22.248c-0.65-0.074-1.29-0.218-1.909-0.431
            M10,4.25h2 c4.987,0.015,9.017,4.069,9.003,9.055c-0.013,4.581-3.456,8.426-8.008,8.945
            M13.5,1.75L10,4.25l3.5,2.5`}))},o$6=function(){return r$6.createElement(t$6.Icon,{ignoreDirection:!0,size:16},r$6.createElement("path",{d:`M20.566,10.537c-0.141-0.438-0.316-0.864-0.523-1.274
            M20.931,14.425C20.977,14.053,21,13.679,21,13.305 c0-0.291-0.014-0.579-0.041-0.863
            M19.611,18.111c0.341-0.539,0.624-1.114,0.843-1.713
            M16.837,20.9 c0.543-0.345,1.048-0.747,1.506-1.2
            M13.02,22.248c0.65-0.074,1.29-0.218,1.909-0.431
            M14,4.25h-2 c-4.987,0.015-9.017,4.069-9.003,9.055c0.013,4.581,3.456,8.426,8.008,8.945
            M10.5,1.75l3.5,2.5l-3.5,2.5`}))},c$6=function(){return c$6=Object.assign||function(W){for(var G,Y=1,q=arguments.length;Y<q;Y++)for(var X in G=arguments[Y])Object.prototype.hasOwnProperty.call(G,X)&&(W[X]=G[X]);return W},c$6.apply(this,arguments)},a$6={left:0,top:8},i$6=function(W){var G=W.direction,Y=W.onClick,q=r$6.useContext(t$6.LocalizationContext).l10n,X=q&&q.rotate?q.rotate.rotateBackward:"Rotate counterclockwise",K=q&&q.rotate?q.rotate.rotateForward:"Rotate clockwise",B=G===t$6.RotateDirection.Backward?X:K,he=G===t$6.RotateDirection.Backward?r$6.createElement(n$6,null):r$6.createElement(o$6,null);return r$6.createElement(t$6.Tooltip,{ariaControlsSuffix:"rotate",position:t$6.Position.BottomCenter,target:r$6.createElement(t$6.MinimalButton,{ariaLabel:B,testId:G===t$6.RotateDirection.Backward?"rotate__backward-button":"rotate__forward-button",onClick:Y},he),content:function(){return B},offset:a$6})},u$6=function(W){var G=W.children,Y=W.direction,q=W.store;return(G||function(X){return r$6.createElement(i$6,{direction:X.direction,onClick:X.onClick})})({direction:Y,onClick:function(){var X=q.get("rotate");X&&X(Y)}})},l$6=function(W){var G=W.direction,Y=W.onClick,q=r$6.useContext(t$6.LocalizationContext).l10n,X=q&&q.rotate?q.rotate.rotateBackward:"Rotate counterclockwise",K=q&&q.rotate?q.rotate.rotateForward:"Rotate clockwise",B=G===t$6.RotateDirection.Backward?X:K,he=G===t$6.RotateDirection.Backward?r$6.createElement(n$6,null):r$6.createElement(o$6,null);return r$6.createElement(t$6.MenuItem,{icon:he,testId:G===t$6.RotateDirection.Backward?"rotate__backward-menu":"rotate__forward-menu",onClick:Y},B)},d$5=function(W){var G=W.children,Y=W.store;return G({onRotatePage:function(q,X){var K=Y.get("rotatePage");K&&K(q,X)}})};rotate_min.RotateBackwardIcon=n$6,rotate_min.RotateForwardIcon=o$6,rotate_min.rotatePlugin=function(){var W=r$6.useMemo(function(){return t$6.createStore()},[]),G=function(Y){return r$6.createElement(u$6,c$6({},Y,{store:W}))};return{install:function(Y){W.update("rotate",Y.rotate),W.update("rotatePage",Y.rotatePage)},Rotate:G,RotateBackwardButton:function(){return r$6.createElement(G,{direction:t$6.RotateDirection.Backward},function(Y){return r$6.createElement(i$6,c$6({},Y))})},RotateBackwardMenuItem:function(Y){return r$6.createElement(G,{direction:t$6.RotateDirection.Backward},function(q){return r$6.createElement(l$6,{direction:q.direction,onClick:function(){q.onClick(),Y.onClick()}})})},RotateForwardButton:function(){return r$6.createElement(G,{direction:t$6.RotateDirection.Forward},function(Y){return r$6.createElement(i$6,c$6({},Y))})},RotateForwardMenuItem:function(Y){return r$6.createElement(G,{direction:t$6.RotateDirection.Forward},function(q){return r$6.createElement(l$6,{direction:q.direction,onClick:function(){q.onClick(),Y.onClick()}})})},RotatePage:function(Y){return r$6.createElement(d$5,c$6({},Y,{store:W}))}}};/**
* A React component to view a PDF document
*
* @see https://react-pdf-viewer.dev
* @license https://react-pdf-viewer.dev/license
* @copyright 2019-2023 Nguyen Huu Phuoc <me@phuoc.ng>
*/lib$4.exports=rotate_min;var libExports$6=lib$4.exports,lib$3={exports:{}},scrollMode_min={},e$5=libExports$h;function o$5(W){var G=Object.create(null);return W&&Object.keys(W).forEach(function(Y){if(Y!=="default"){var q=Object.getOwnPropertyDescriptor(W,Y);Object.defineProperty(G,Y,q.get?q:{enumerable:!0,get:function(){return W[Y]}})}}),G.default=W,Object.freeze(G)}var t$5=o$5(T$1),l$5=function(){return t$5.createElement(e$5.Icon,{size:16},t$5.createElement("rect",{x:"0.5",y:"0.497",width:"22",height:"22",rx:"1",ry:"1"}),t$5.createElement("line",{x1:"0.5",y1:"6.497",x2:"22.5",y2:"6.497"}),t$5.createElement("line",{x1:"11.5",y1:"6.497",x2:"11.5",y2:"22.497"}))},c$5=function(){return t$5.createElement(e$5.Icon,{size:16},t$5.createElement("rect",{x:"0.5",y:"0.497",width:"22",height:"22",rx:"1",ry:"1"}),t$5.createElement("line",{x1:"11.5",y1:"0.497",x2:"11.5",y2:"22.497"}))},n$5=function(){return t$5.createElement(e$5.Icon,{size:16},t$5.createElement("path",{d:`M6.5,21.5c0,0.552-0.448,1-1,1h-4c-0.552,0-1-0.448-1-1v-20c0-0.552,0.448-1,1-1h4c0.552,0,1,0.448,1,1V21.5z
            M14.5,21.5c0,0.552-0.448,1-1,1h-4c-0.552,0-1-0.448-1-1v-20c0-0.552,0.448-1,1-1h4c0.552,0,1,0.448,1,1V21.5z
            M22.5,21.5 c0,0.552-0.448,1-1,1h-4c-0.552,0-1-0.448-1-1v-20c0-0.552,0.448-1,1-1h4c0.552,0,1,0.448,1,1V21.5z`}))},r$5=function(){return t$5.createElement(e$5.Icon,{size:16},t$5.createElement("rect",{x:"0.5",y:"0.497",width:"22",height:"22",rx:"1",ry:"1"}))},i$5=function(){return i$5=Object.assign||function(W){for(var G,Y=1,q=arguments.length;Y<q;Y++)for(var X in G=arguments[Y])Object.prototype.hasOwnProperty.call(G,X)&&(W[X]=G[X]);return W},i$5.apply(this,arguments)},a$5=function(W,G){W.get("switchScrollMode")(G);var Y=W.get("viewMode");G!==e$5.ScrollMode.Horizontal&&G!==e$5.ScrollMode.Wrapped||Y===e$5.ViewMode.SinglePage||W.get("switchViewMode")(e$5.ViewMode.SinglePage)},d$4=function(){return t$5.createElement(e$5.Icon,{size:16},t$5.createElement("path",{d:`M23.5,5.5c0,0.552-0.448,1-1,1h-21c-0.552,0-1-0.448-1-1v-3c0-0.552,0.448-1,1-1h21c0.552,0,1,0.448,1,1V5.5z
            M23.5,13.5c0,0.552-0.448,1-1,1h-21c-0.552,0-1-0.448-1-1v-3c0-0.552,0.448-1,1-1h21c0.552,0,1,0.448,1,1V13.5z
            M23.5,21.5 c0,0.552-0.448,1-1,1h-21c-0.552,0-1-0.448-1-1v-3c0-0.552,0.448-1,1-1h21c0.552,0,1,0.448,1,1V21.5z`}))},s$4=function(){return t$5.createElement(e$5.Icon,{size:16},t$5.createElement("path",{d:`M10.5,9.5c0,0.552-0.448,1-1,1h-8c-0.552,0-1-0.448-1-1v-8c0-0.552,0.448-1,1-1h8c0.552,0,1,0.448,1,1V9.5z
            M23.5,9.5c0,0.552-0.448,1-1,1h-8c-0.552,0-1-0.448-1-1v-8c0-0.552,0.448-1,1-1h8c0.552,0,1,0.448,1,1V9.5z
            M10.5,22.5 c0,0.552-0.448,1-1,1h-8c-0.552,0-1-0.448-1-1v-8c0-0.552,0.448-1,1-1h8c0.552,0,1,0.448,1,1V22.5z
            M23.5,22.5c0,0.552-0.448,1-1,1 h-8c-0.552,0-1-0.448-1-1v-8c0-0.552,0.448-1,1-1h8c0.552,0,1,0.448,1,1V22.5z`}))},u$5=function(W){var G=W.children,Y=W.mode,q=W.onClick,X=t$5.useContext(e$5.LocalizationContext).l10n,K="",B=t$5.createElement(d$4,null);switch(Y){case e$5.ScrollMode.Horizontal:K=X&&X.scrollMode?X.scrollMode.horizontalScrolling:"Horizontal scrolling",B=t$5.createElement(n$5,null);break;case e$5.ScrollMode.Page:K=X&&X.scrollMode?X.scrollMode.pageScrolling:"Page scrolling",B=t$5.createElement(r$5,null);break;case e$5.ScrollMode.Wrapped:K=X&&X.scrollMode?X.scrollMode.wrappedScrolling:"Wrapped scrolling",B=t$5.createElement(s$4,null);break;case e$5.ScrollMode.Vertical:default:K=X&&X.scrollMode?X.scrollMode.verticalScrolling:"Vertical scrolling",B=t$5.createElement(d$4,null)}return G({icon:B,label:K,onClick:q})},m$4={left:0,top:8},M$2=function(W){var G=W.isDisabled,Y=W.isSelected,q=W.mode,X=W.onClick,K="";switch(q){case e$5.ScrollMode.Horizontal:K="scroll-mode__horizontal-button";break;case e$5.ScrollMode.Page:K="scroll-mode__page-button";break;case e$5.ScrollMode.Wrapped:K="scroll-mode__wrapped-button";break;case e$5.ScrollMode.Vertical:default:K="scroll-mode__vertical-button"}return t$5.createElement(u$5,{mode:q,onClick:X},function(B){return t$5.createElement(e$5.Tooltip,{ariaControlsSuffix:"scroll-mode-switch",position:e$5.Position.BottomCenter,target:t$5.createElement(e$5.MinimalButton,{ariaLabel:B.label,isDisabled:G,isSelected:Y,testId:K,onClick:B.onClick},B.icon),content:function(){return B.label},offset:m$4})})},f$4=function(W){var G=t$5.useState(W.get("scrollMode")||e$5.ScrollMode.Vertical),Y=G[0],q=G[1],X=function(K){q(K)};return t$5.useEffect(function(){return W.subscribe("scrollMode",X),function(){W.unsubscribe("scrollMode",X)}},[]),{scrollMode:Y}},w$1=function(W){var G=t$5.useState(W.get("viewMode")||e$5.ViewMode.SinglePage),Y=G[0],q=G[1],X=function(K){q(K)};return t$5.useEffect(function(){return W.subscribe("viewMode",X),function(){W.unsubscribe("viewMode",X)}},[]),{viewMode:Y}},S$3=function(W){var G=W.children,Y=W.mode,q=W.store,X=w$1(q).viewMode,K=f$4(q).scrollMode===Y,B=(Y===e$5.ScrollMode.Horizontal||Y===e$5.ScrollMode.Wrapped)&&X!==e$5.ViewMode.SinglePage;return(G||function(he){return t$5.createElement(M$2,{isDisabled:B,isSelected:K,mode:he.mode,onClick:he.onClick})})({isDisabled:B,isSelected:K,mode:Y,onClick:function(){a$5(q,Y)}})},g$3=function(W){var G=W.isDisabled,Y=W.isSelected,q=W.mode,X=W.onClick,K="";switch(q){case e$5.ScrollMode.Horizontal:K="scroll-mode__horizontal-menu";break;case e$5.ScrollMode.Page:K="scroll-mode__page-menu";break;case e$5.ScrollMode.Wrapped:K="scroll-mode__wrapped-menu";break;case e$5.ScrollMode.Vertical:default:K="scroll-mode__vertical-menu"}return t$5.createElement(u$5,{mode:q,onClick:X},function(B){return t$5.createElement(e$5.MenuItem,{checked:Y,icon:B.icon,isDisabled:G,testId:K,onClick:B.onClick},B.label)})},h$3=function(W,G){W.get("switchViewMode")(G);var Y=W.get("scrollMode");Y!==e$5.ScrollMode.Horizontal&&Y!==e$5.ScrollMode.Wrapped||G===e$5.ViewMode.SinglePage||W.get("switchScrollMode")(e$5.ScrollMode.Vertical)},b$3=function(W){var G=W.children,Y=W.mode,q=W.onClick,X=t$5.useContext(e$5.LocalizationContext).l10n,K="",B=t$5.createElement(r$5,null);switch(Y){case e$5.ViewMode.DualPage:K=X&&X.scrollMode?X.scrollMode.dualPage:"Dual page",B=t$5.createElement(c$5,null);break;case e$5.ViewMode.DualPageWithCover:K=X&&X.scrollMode?X.scrollMode.dualPageCover:"Dual page with cover",B=t$5.createElement(l$5,null);break;case e$5.ViewMode.SinglePage:default:K=X&&X.scrollMode?X.scrollMode.singlePage:"Single page",B=t$5.createElement(r$5,null)}return G({icon:B,label:K,onClick:q})},p$3={left:0,top:8},v$3=function(W){var G=W.isDisabled,Y=W.isSelected,q=W.mode,X=W.onClick,K="";switch(q){case e$5.ViewMode.DualPage:K="view-mode__dual-button";break;case e$5.ViewMode.DualPageWithCover:K="view-mode__dual-cover-button";break;case e$5.ViewMode.SinglePage:default:K="view-mode__single-button"}return t$5.createElement(b$3,{mode:q,onClick:X},function(B){return t$5.createElement(e$5.Tooltip,{ariaControlsSuffix:"view-mode-switch",position:e$5.Position.BottomCenter,target:t$5.createElement(e$5.MinimalButton,{ariaLabel:B.label,isDisabled:G,isSelected:Y,testId:K,onClick:B.onClick},B.icon),content:function(){return B.label},offset:p$3})})},k$2=function(W){var G=W.children,Y=W.mode,q=W.store,X=w$1(q).viewMode,K=f$4(q).scrollMode,B=X===Y,he=(K===e$5.ScrollMode.Horizontal||K===e$5.ScrollMode.Wrapped)&&Y!==e$5.ViewMode.SinglePage;return(G||function(ke){return t$5.createElement(v$3,{isDisabled:he,isSelected:B,mode:ke.mode,onClick:ke.onClick})})({isDisabled:he,isSelected:B,mode:Y,onClick:function(){h$3(q,Y)}})},C$2=function(W){var G=W.isDisabled,Y=W.isSelected,q=W.mode,X=W.onClick,K="";switch(q){case e$5.ViewMode.DualPage:K="view-mode__dual-menu";break;case e$5.ViewMode.DualPageWithCover:K="view-mode__dual-cover-menu";break;case e$5.ViewMode.SinglePage:default:K="view-mode__single-menu"}return t$5.createElement(b$3,{mode:q,onClick:X},function(B){return t$5.createElement(e$5.MenuItem,{checked:Y,icon:B.icon,isDisabled:G,testId:K,onClick:B.onClick},B.label)})};scrollMode_min.DualPageCoverViewModeIcon=l$5,scrollMode_min.DualPageViewModeIcon=c$5,scrollMode_min.HorizontalScrollingIcon=n$5,scrollMode_min.PageScrollingIcon=r$5,scrollMode_min.VerticalScrollingIcon=d$4,scrollMode_min.WrappedScrollingIcon=s$4,scrollMode_min.scrollModePlugin=function(){var W=t$5.useMemo(function(){return e$5.createStore({scrollMode:e$5.ScrollMode.Vertical,viewMode:e$5.ViewMode.SinglePage,switchScrollMode:function(){},switchViewMode:function(){}})},[]),G=function(q){return t$5.createElement(S$3,i$5({},q,{store:W}))},Y=function(q){return t$5.createElement(k$2,i$5({},q,{store:W}))};return{install:function(q){W.update("switchScrollMode",q.switchScrollMode),W.update("switchViewMode",q.switchViewMode)},onViewerStateChange:function(q){return W.update("scrollMode",q.scrollMode),W.update("viewMode",q.viewMode),q},switchScrollMode:function(q){a$5(W,q)},switchViewMode:function(q){h$3(W,q)},SwitchScrollMode:G,SwitchScrollModeButton:function(q){return t$5.createElement(G,{mode:q.mode},function(X){return t$5.createElement(M$2,{isDisabled:X.isDisabled,isSelected:X.isSelected,mode:X.mode,onClick:function(){X.onClick()}})})},SwitchScrollModeMenuItem:function(q){return t$5.createElement(G,{mode:q.mode},function(X){return t$5.createElement(g$3,{isDisabled:X.isDisabled,isSelected:X.isSelected,mode:X.mode,onClick:function(){X.onClick(),q.onClick()}})})},SwitchViewMode:Y,SwitchViewModeButton:function(q){return t$5.createElement(Y,{mode:q.mode},function(X){return t$5.createElement(v$3,{isDisabled:X.isDisabled,isSelected:X.isSelected,mode:X.mode,onClick:function(){X.onClick()}})})},SwitchViewModeMenuItem:function(q){return t$5.createElement(Y,{mode:q.mode},function(X){return t$5.createElement(C$2,{isDisabled:X.isDisabled,isSelected:X.isSelected,mode:X.mode,onClick:function(){X.onClick(),q.onClick()}})})}}};/**
* A React component to view a PDF document
*
* @see https://react-pdf-viewer.dev
* @license https://react-pdf-viewer.dev/license
* @copyright 2019-2023 Nguyen Huu Phuoc <me@phuoc.ng>
*/lib$3.exports=scrollMode_min;var libExports$5=lib$3.exports,lib$2={exports:{}},search_min={},e$4=libExports$h;function t$4(W){var G=Object.create(null);return W&&Object.keys(W).forEach(function(Y){if(Y!=="default"){var q=Object.getOwnPropertyDescriptor(W,Y);Object.defineProperty(G,Y,q.get?q:{enumerable:!0,get:function(){return W[Y]}})}}),G.default=W,Object.freeze(G)}var r$4=t$4(T$1),n$4=function(){return r$4.createElement(e$4.Icon,{size:16},r$4.createElement("path",{d:`M0.541,5.627L11.666,18.2c0.183,0.207,0.499,0.226,0.706,0.043c0.015-0.014,0.03-0.028,0.043-0.043
            L23.541,5.627`}))},o$4=function(){return r$4.createElement(e$4.Icon,{size:16},r$4.createElement("path",{d:`M23.535,18.373L12.409,5.8c-0.183-0.207-0.499-0.226-0.706-0.043C11.688,5.77,11.674,5.785,11.66,5.8
            L0.535,18.373`}))},a$4=function(){return r$4.createElement(e$4.Icon,{ignoreDirection:!0,size:16},r$4.createElement("path",{d:`M10.5,0.5c5.523,0,10,4.477,10,10s-4.477,10-10,10s-10-4.477-10-10S4.977,0.5,10.5,0.5z
            M23.5,23.5
            l-5.929-5.929`}))},c$4=function(){return c$4=Object.assign||function(W){for(var G,Y=1,q=arguments.length;Y<q;Y++)for(var X in G=arguments[Y])Object.prototype.hasOwnProperty.call(G,X)&&(W[X]=G[X]);return W},c$4.apply(this,arguments)},u$4={keyword:"",regExp:new RegExp(" "),wholeWords:!1},i$4=function(W){return{left:"".concat(W.left,"%"),top:"".concat(W.top,"%"),height:"".concat(W.height,"%"),width:"".concat(W.width,"%")}},s$3=function(W){var G=W.index,Y=W.area,q=W.onHighlightKeyword,X=r$4.useRef();return e$4.useIsomorphicLayoutEffect(function(){var K=X.current;q&&K&&q({highlightEle:K,keyword:Y.keyword})},[]),r$4.createElement("div",{className:"rpv-search__highlight","data-index":G,ref:X,style:i$4(Y),title:Y.keywordStr.trim()})},l$4=function(W){var G=W.parentNode;G&&G.removeChild(W)},h$2=function(W){var G=W.parentNode;if(G){var Y=document.createRange();Y.selectNodeContents(W),function(q,X){l$4(q);var K=X.parentNode;K&&K.insertBefore(q,X),l$4(X)}(Y.extractContents(),W),G.normalize()}},d$3=function(W,G){return W.top<G.top?-1:W.top>G.top?1:W.left<G.left?-1:W.left>G.left?1:0},f$3=function(W){var G=W.numPages,Y=W.pageIndex,q=W.renderHighlights,X=W.store,K=W.onHighlightKeyword,B=r$4.useRef(),he=r$4.useCallback(function(Ge){return r$4.createElement(r$4.Fragment,null,Ge.highlightAreas.map(function(Be,xt){return r$4.createElement(s$3,{index:xt,key:xt,area:Be,onHighlightKeyword:K})}))},[]),ke=q||he,Ae=r$4.useState(X.get("matchPosition")),ae=Ae[0],Re=Ae[1],ge=r$4.useState(X.get("keyword")||[u$4]),ve=ge[0],xe=ge[1],Se=r$4.useState({pageIndex:Y,scale:1,status:e$4.LayerRenderStatus.PreRender}),pe=Se[0],ne=Se[1],we=r$4.useRef(null),Ie=r$4.useRef([]),Pe=r$4.useState([]),Ee=Pe[0],Ce=Pe[1],Oe=function(){return!0},qe=r$4.useCallback(function(){return X.get("targetPageFilter")||Oe},[X.get("targetPageFilter")]),ze=function(Ge){var Be=Ie.current;if(Be.length===0)return[];var xt=[],pt=[].slice.call(Ge.querySelectorAll(".rpv-core__text-layer-text")),Et=Be.map(function(Ne){return Ne.char}).join("");return ve.forEach(function(Ne){var nt=Ne.keyword;if(nt.trim()){for(var ut,Ve=Ne.regExp.flags.indexOf("g")===-1?new RegExp(Ne.regExp,"".concat(Ne.regExp.flags,"g")):Ne.regExp,_e=[];(ut=Ve.exec(Et))!==null;)_e.push({keyword:Ve,startIndex:ut.index,endIndex:Ve.lastIndex});_e.map(function(fe){return{keyword:fe.keyword,indexes:Be.slice(fe.startIndex,fe.endIndex)}}).forEach(function(fe){var Le=fe.indexes.reduce(function(je,Fe){return je[Fe.spanIndex]=(je[Fe.spanIndex]||[]).concat([Fe]),je},{});Object.values(Le).forEach(function(je){if(je.length!==1||je[0].char.trim()!==""){var Fe=Ne.wholeWords?je.slice(1,-1):je,Xe=function(Ye,gt,Ct,kt,dt){var Mt=document.createRange(),Ot=kt.firstChild;if(!Ot||Ot.nodeType!==Node.TEXT_NODE)return null;var De=Ot.textContent.length,Te=dt[0].charIndexInSpan,We=dt.length===1?Te:dt[dt.length-1].charIndexInSpan;if(Te>De||We+1>De)return null;Mt.setStart(Ot,Te),Mt.setEnd(Ot,We+1);var Ze=document.createElement("span");Mt.surroundContents(Ze);var ct=Ze.getBoundingClientRect(),Pt=Ct.getBoundingClientRect(),$t=Pt.height,_t=Pt.width,Tt=100*(ct.left-Pt.left)/_t,jt=100*(ct.top-Pt.top)/$t,Jt=100*ct.height/$t,Yt=100*ct.width/_t;return h$2(Ze),{keyword:gt,keywordStr:Ye,numPages:G,pageIndex:Y,left:Tt,top:jt,height:Jt,width:Yt,pageHeight:$t,pageWidth:_t}}(nt,fe.keyword,Ge,pt[Fe[0].spanIndex],Fe);Xe&&xt.push(Xe)}})})}}),xt.sort(d$3)},rt=function(Ge){Ge&&Ge.length>0&&xe(Ge)},ye=function(Ge){return Re(Ge)},ot=function(Ge){if(Ge.has(Y)){var Be=Ge.get(Y);Be&&ne({ele:Be.ele,pageIndex:Y,scale:Be.scale,status:Be.status})}},He=function(){return ve.length===0||ve.length===1&&ve[0].keyword.trim()===""};return r$4.useEffect(function(){if(!He()&&pe.status===e$4.LayerRenderStatus.DidRender&&!Ie.current.length){var Ge=pe.ele,Be=[].slice.call(Ge.querySelectorAll(".rpv-core__text-layer-text")).map(function(xt){return xt.textContent}).reduce(function(xt,pt,Et){return xt.concat(pt.split("").map(function(Ne,nt){return{char:Ne,charIndexInSpan:nt,spanIndex:Et}}))},[{char:"",charIndexInSpan:0,spanIndex:0}]).slice(1);Ie.current=Be}},[ve,pe.status]),r$4.useEffect(function(){if(!He()&&pe.ele&&pe.status===e$4.LayerRenderStatus.DidRender&&qe()({pageIndex:Y,numPages:G})){var Ge=pe.ele,Be=ze(Ge);Ce(Be)}},[ve,ae,pe.status,Ie.current]),r$4.useEffect(function(){He()&&pe.ele&&pe.status===e$4.LayerRenderStatus.DidRender&&Ce([])},[ve,pe.status]),r$4.useEffect(function(){if(Ee.length!==0){var Ge=B.current;if(ae.pageIndex===Y&&Ge&&pe.status===e$4.LayerRenderStatus.DidRender){var Be=Ge.querySelector('.rpv-search__highlight[data-index="'.concat(ae.matchIndex,'"]'));if(Be){var xt=function(nt,ut){for(var Ve=nt.offsetTop,_e=nt.offsetLeft,fe=nt.parentElement;fe&&fe!==ut;)Ve+=fe.offsetTop,_e+=fe.offsetLeft,fe=fe.parentElement;return{left:_e,top:Ve}}(Be,Ge),pt=xt.left,Et=xt.top,Ne=X.get("jumpToDestination");Ne&&(Ne({pageIndex:Y,bottomOffset:(Ge.getBoundingClientRect().height-Et)/pe.scale,leftOffset:pt/pe.scale,scaleTo:pe.scale}),we.current&&we.current.classList.remove("rpv-search__highlight--current"),we.current=Be,Be.classList.add("rpv-search__highlight--current"))}}}},[Ee,ae]),r$4.useEffect(function(){return X.subscribe("keyword",rt),X.subscribe("matchPosition",ye),X.subscribe("renderStatus",ot),function(){X.unsubscribe("keyword",rt),X.unsubscribe("matchPosition",ye),X.unsubscribe("renderStatus",ot)}},[]),r$4.createElement("div",{className:"rpv-search__highlights","data-testid":"search__highlights-".concat(Y),ref:B},ke({getCssProperties:i$4,highlightAreas:Ee}))},p$2=function(W){var G,Y=W.wholeWords?" ".concat(W.keyword," "):W.keyword,q=W.matchCase?"g":"gi";return{keyword:W.keyword,regExp:new RegExp((G=Y,G.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")),q),wholeWords:W.wholeWords||!1}},g$2=function(W,G,Y){return W instanceof RegExp?{keyword:W.source,regExp:W,wholeWords:Y||!1}:typeof W=="string"?W===""?u$4:p$2({keyword:W,matchCase:G||!1,wholeWords:Y||!1}):(G!==void 0&&(W.matchCase=G),Y!==void 0&&(W.wholeWords=Y),p$2(W))},m$3=function(W){var G,Y=W.get("initialKeyword"),q=r$4.useMemo(function(){if(Y&&Y.length===1){var ye=g$2(Y[0]);return{matchCase:ye.regExp.flags.indexOf("i")===-1,wholeWords:ye.wholeWords}}return{matchCase:!1,wholeWords:!1}},[]),X=function(ye){var ot=r$4.useRef(ye.get("doc")),He=function(Ge){ot.current=Ge};return r$4.useEffect(function(){return ye.subscribe("doc",He),function(){ye.unsubscribe("doc",He)}},[]),ot}(W),K=r$4.useState(Y),B=K[0],he=K[1],ke=r$4.useState([]),Ae=ke[0],ae=ke[1],Re=r$4.useState(0),ge=Re[0],ve=Re[1],xe=r$4.useState(q.matchCase),Se=xe[0],pe=xe[1],ne=r$4.useRef([]),we=r$4.useState(q.wholeWords),Ie=we[0],Pe=we[1],Ee=function(){return!0},Ce=r$4.useCallback(function(){return W.get("targetPageFilter")||Ee},[W.get("targetPageFilter")]),Oe=function(ye){var ot=Ae.length;if(B.length===0||ot===0)return null;var He=ye===ot+1?1:Math.max(1,Math.min(ot,ye));return ve(He),ze(Ae[He-1])},qe=function(ye){return he(ye===""?[]:[ye])},ze=function(ye){var ot=W.get("jumpToPage");return ot&&ot(ye.pageIndex),W.update("matchPosition",{matchIndex:ye.matchIndex,pageIndex:ye.pageIndex}),ye},rt=function(ye,ot,He){var Ge=X.current;if(!Ge)return Promise.resolve([]);var Be=Ge.numPages,xt=ye.map(function(pt){return g$2(pt,ot,He)});return W.update("keyword",xt),ve(0),ae([]),new Promise(function(pt,Et){var Ne=ne.current.length===0?function(){var nt=X.current;if(!nt)return Promise.resolve([]);var ut=Array(nt.numPages).fill(0).map(function(Ve,_e){return e$4.getPage(nt,_e).then(function(fe){return fe.getTextContent()}).then(function(fe){var Le=fe.items.map(function(je){return je.str||""}).join("");return Promise.resolve({pageContent:Le,pageIndex:_e})})});return Promise.all(ut).then(function(Ve){return Ve.sort(function(_e,fe){return _e.pageIndex-fe.pageIndex}),Promise.resolve(Ve.map(function(_e){return _e.pageContent}))})}().then(function(nt){return ne.current=nt,Promise.resolve(nt)}):Promise.resolve(ne.current);Ne.then(function(nt){var ut=[];nt.forEach(function(Ve,_e){Ce()({pageIndex:_e,numPages:Be})&&xt.forEach(function(fe){for(var Le,je=0;(Le=fe.regExp.exec(Ve))!==null;)ut.push({keyword:fe.regExp,matchIndex:je,pageIndex:_e,pageText:Ve,startIndex:Le.index,endIndex:fe.regExp.lastIndex}),je++})}),ae(ut),ut.length>0&&(ve(1),ze(ut[0])),pt(ut)})})};return r$4.useEffect(function(){ne.current=[]},[X.current]),{clearKeyword:function(){W.update("keyword",[u$4]),qe(""),ve(0),ae([]),pe(!1),Pe(!1)},changeMatchCase:function(ye){pe(ye),B.length>0&&rt(B,ye,Ie)},changeWholeWords:function(ye){Pe(ye),B.length>0&&rt(B,Se,ye)},currentMatch:ge,jumpToMatch:Oe,jumpToNextMatch:function(){return Oe(ge+1)},jumpToPreviousMatch:function(){return Oe(ge-1)},keywords:B,matchCase:Se,numberOfMatches:Ae.length,wholeWords:Ie,search:function(){return rt(B,Se,Ie)},searchFor:rt,setKeywords:he,keyword:B.length===0?"":(G=B[0],G instanceof RegExp?G.source:typeof G=="string"?G:G.keyword),setKeyword:qe,setTargetPages:function(ye){W.update("targetPageFilter",ye)}}},v$2=function(W){var G=W.children,Y=W.store,q=m$3(Y),X=r$4.useState(!1),K=X[0],B=X[1],he=function(ke){return B(!0)};return r$4.useEffect(function(){return Y.subscribe("doc",he),function(){Y.unsubscribe("doc",he)}},[]),G(c$4(c$4({},q),{isDocumentLoaded:K}))},x=function(W){var G=W.containerRef,Y=W.store,q=r$4.useRef(!1),X=function(){q.current=!0},K=function(){q.current=!1},B=function(he){var ke=G.current;ke&&(he.shiftKey||he.altKey||he.key!=="f"||(e$4.isMac()?he.metaKey&&!he.ctrlKey:he.ctrlKey)&&(q.current||document.activeElement&&ke.contains(document.activeElement))&&(he.preventDefault(),Y.update("areShortcutsPressed",!0)))};return r$4.useEffect(function(){var he=G.current;if(he)return document.addEventListener("keydown",B),he.addEventListener("mouseenter",X),he.addEventListener("mouseleave",K),function(){document.removeEventListener("keydown",B),he.removeEventListener("mouseenter",X),he.removeEventListener("mouseleave",K)}},[G.current]),r$4.createElement(r$4.Fragment,null)},y={left:0,top:8},E$2=function(W){var G=W.store,Y=W.onToggle,q=r$4.useContext(e$4.LocalizationContext).l10n,X=r$4.useContext(e$4.ThemeContext).direction,K=r$4.useState(!1),B=K[0],he=K[1],ke=r$4.useState(!1),Ae=ke[0],ae=ke[1],Re=X===e$4.TextDirection.RightToLeft,ge=m$3(G),ve=ge.clearKeyword,xe=ge.changeMatchCase,Se=ge.changeWholeWords,pe=ge.currentMatch,ne=ge.jumpToNextMatch,we=ge.jumpToPreviousMatch,Ie=ge.keyword,Pe=ge.matchCase,Ee=ge.numberOfMatches,Ce=ge.wholeWords,Oe=ge.search,qe=ge.setKeyword,ze=function(Ge){he(!0),Oe().then(function(Be){he(!1),ae(!0),Ge&&Ge()})};r$4.useEffect(function(){var Ge=G.get("initialKeyword");Ge&&Ge.length===1&&Ie&&ze(function(){G.update("initialKeyword",[])})},[]);var rt=q&&q.search?q.search.enterToSearch:"Enter to search",ye=q&&q.search?q.search.previousMatch:"Previous match",ot=q&&q.search?q.search.nextMatch:"Next match",He=q&&q.search?q.search.close:"Close";return r$4.createElement("div",{className:"rpv-search__popover"},r$4.createElement("div",{className:"rpv-search__popover-input-counter"},r$4.createElement(e$4.TextBox,{ariaLabel:rt,autoFocus:!0,placeholder:rt,type:"text",value:Ie,onChange:function(Ge){ae(!1),qe(Ge)},onKeyDown:function(Ge){Ge.key==="Enter"&&Ie&&(Ae?ne():ze())}}),r$4.createElement("div",{className:e$4.classNames({"rpv-search__popover-counter":!0,"rpv-search__popover-counter--ltr":!Re,"rpv-search__popover-counter--rtl":Re})},B&&r$4.createElement(e$4.Spinner,{testId:"search__popover-searching",size:"1rem"}),!B&&r$4.createElement("span",{"data-testid":"search__popover-num-matches"},pe,"/",Ee))),r$4.createElement("label",{className:"rpv-search__popover-label"},r$4.createElement("input",{className:"rpv-search__popover-label-checkbox","data-testid":"search__popover-match-case",checked:Pe,type:"checkbox",onChange:function(Ge){ae(!1),xe(Ge.target.checked)}})," ",q&&q.search?q.search.matchCase:"Match case"),r$4.createElement("label",{className:"rpv-search__popover-label"},r$4.createElement("input",{className:"rpv-search__popover-label-checkbox",checked:Ce,"data-testid":"search__popover-whole-words",type:"checkbox",onChange:function(Ge){ae(!1),Se(Ge.target.checked)}})," ",q&&q.search?q.search.wholeWords:"Whole words"),r$4.createElement("div",{className:"rpv-search__popover-footer"},r$4.createElement("div",{className:"rpv-search__popover-footer-item"},r$4.createElement(e$4.Tooltip,{ariaControlsSuffix:"search-previous-match",position:Re?e$4.Position.BottomRight:e$4.Position.BottomCenter,target:r$4.createElement(e$4.MinimalButton,{ariaLabel:ye,isDisabled:pe<=1,onClick:we},r$4.createElement(o$4,null)),content:function(){return ye},offset:y})),r$4.createElement("div",{className:"rpv-search__popover-footer-item"},r$4.createElement(e$4.Tooltip,{ariaControlsSuffix:"search-next-match",position:e$4.Position.BottomCenter,target:r$4.createElement(e$4.MinimalButton,{ariaLabel:ot,isDisabled:pe>Ee-1,onClick:ne},r$4.createElement(n$4,null)),content:function(){return ot},offset:y})),r$4.createElement("div",{className:e$4.classNames({"rpv-search__popover-footer-button":!0,"rpv-search__popover-footer-button--ltr":!Re,"rpv-search__popover-footer-button--rtl":Re})},r$4.createElement(e$4.Button,{onClick:function(){Y(),ve()}},He))))},w=function(W){var G=W.children,Y=W.onClick,q=r$4.useContext(e$4.LocalizationContext).l10n,X=q&&q.search?q.search.search:"Search";return G({icon:r$4.createElement(a$4,null),label:X,onClick:Y})},b$2={left:0,top:8},k$1=function(W){var G=W.enableShortcuts,Y=W.store,q=W.onClick,X=G?e$4.isMac()?"Meta+F":"Ctrl+F":"",K=function(B){B&&q()};return r$4.useEffect(function(){return Y.subscribe("areShortcutsPressed",K),function(){Y.unsubscribe("areShortcutsPressed",K)}},[]),r$4.createElement(w,{onClick:q},function(B){return r$4.createElement(e$4.Tooltip,{ariaControlsSuffix:"search-popover",position:e$4.Position.BottomCenter,target:r$4.createElement(e$4.MinimalButton,{ariaKeyShortcuts:X,ariaLabel:B.label,testId:"search__popover-button",onClick:q},B.icon),content:function(){return B.label},offset:b$2})})},S$2={left:0,top:8},C$1=function(W){var G=W.children,Y=W.enableShortcuts,q=W.store,X=r$4.useContext(e$4.ThemeContext).direction===e$4.TextDirection.RightToLeft?e$4.Position.BottomRight:e$4.Position.BottomLeft,K=G||function(B){return r$4.createElement(k$1,c$4({enableShortcuts:Y,store:q},B))};return r$4.createElement(e$4.Popover,{ariaControlsSuffix:"search",lockScroll:!1,position:X,target:function(B){return K({onClick:B})},content:function(B){return r$4.createElement(E$2,{store:q,onToggle:B})},offset:S$2,closeOnClickOutside:!1,closeOnEscape:!0})},P$1=function(W){return Array.isArray(W)?W.map(function(G){return g$2(G)}):[g$2(W)]};search_min.NextIcon=n$4,search_min.PreviousIcon=o$4,search_min.SearchIcon=a$4,search_min.searchPlugin=function(W){var G=r$4.useMemo(function(){return Object.assign({},{enableShortcuts:!0,onHighlightKeyword:function(){}},W)},[]),Y=r$4.useMemo(function(){return e$4.createStore({initialKeyword:W&&W.keyword?Array.isArray(W.keyword)?W.keyword:[W.keyword]:[],keyword:W&&W.keyword?P$1(W.keyword):[u$4],matchPosition:{matchIndex:-1,pageIndex:-1},renderStatus:new Map})},[]),q=m$3(Y),X=q.clearKeyword,K=q.jumpToMatch,B=q.jumpToNextMatch,he=q.jumpToPreviousMatch,ke=q.searchFor,Ae=q.setKeywords,ae=q.setTargetPages,Re=function(ge){return r$4.createElement(C$1,c$4({enableShortcuts:G.enableShortcuts},ge,{store:Y}))};return{install:function(ge){var ve=W&&W.keyword?Array.isArray(W.keyword)?W.keyword:[W.keyword]:[],xe=W&&W.keyword?P$1(W.keyword):[u$4];Y.update("initialKeyword",ve),Y.update("jumpToDestination",ge.jumpToDestination),Y.update("jumpToPage",ge.jumpToPage),Y.update("keyword",xe)},renderPageLayer:function(ge){return r$4.createElement(f$3,{key:ge.pageIndex,numPages:ge.doc.numPages,pageIndex:ge.pageIndex,renderHighlights:W==null?void 0:W.renderHighlights,store:Y,onHighlightKeyword:G.onHighlightKeyword})},renderViewer:function(ge){var ve=ge.slot;return ve.subSlot&&(ve.subSlot.children=r$4.createElement(r$4.Fragment,null,G.enableShortcuts&&r$4.createElement(x,{containerRef:ge.containerRef,store:Y}),ve.subSlot.children)),ve},uninstall:function(ge){var ve=Y.get("renderStatus");ve&&ve.clear()},onDocumentLoad:function(ge){Y.update("doc",ge.doc)},onTextLayerRender:function(ge){var ve=Y.get("renderStatus");ve&&(ve=ve.set(ge.pageIndex,ge),Y.update("renderStatus",ve))},Search:function(ge){return r$4.createElement(v$2,c$4({},ge,{store:Y}))},ShowSearchPopover:Re,ShowSearchPopoverButton:function(){return r$4.createElement(Re,null,function(ge){return r$4.createElement(k$1,c$4({enableShortcuts:G.enableShortcuts,store:Y},ge))})},clearHighlights:function(){X()},highlight:function(ge){var ve=Array.isArray(ge)?ge:[ge];return Ae(ve),ke(ve)},jumpToMatch:K,jumpToNextMatch:B,jumpToPreviousMatch:he,setTargetPages:ae}};/**
* A React component to view a PDF document
*
* @see https://react-pdf-viewer.dev
* @license https://react-pdf-viewer.dev/license
* @copyright 2019-2023 Nguyen Huu Phuoc <me@phuoc.ng>
*/lib$2.exports=search_min;var libExports$4=lib$2.exports,lib$1={exports:{}},theme_min={},e$3=libExports$h;function t$3(W){var G=Object.create(null);return W&&Object.keys(W).forEach(function(Y){if(Y!=="default"){var q=Object.getOwnPropertyDescriptor(W,Y);Object.defineProperty(G,Y,q.get?q:{enumerable:!0,get:function(){return W[Y]}})}}),G.default=W,Object.freeze(G)}var n$3=t$3(T$1),r$3=function(){return n$3.createElement(e$3.Icon,{size:16},n$3.createElement("path",{d:"M19.5,15.106l2.4-2.4a1,1,0,0,0,0-1.414l-2.4-2.4V5.5a1,1,0,0,0-1-1H15.106l-2.4-2.4a1,1,0,0,0-1.414,0l-2.4,2.4H5.5a1,1,0,0,0-1,1V8.894l-2.4,2.4a1,1,0,0,0,0,1.414l2.4,2.4V18.5a1,1,0,0,0,1,1H8.894l2.4,2.4a1,1,0,0,0,1.414,0l2.4-2.4H18.5a1,1,0,0,0,1-1Z"}),n$3.createElement("path",{d:"M10,6.349a6,6,0,0,1,0,11.3,6,6,0,1,0,0-11.3Z"}))},c$3=function(){return n$3.createElement(e$3.Icon,{size:16},n$3.createElement("path",{d:"M19.491,15.106l2.4-2.4a1,1,0,0,0,0-1.414l-2.4-2.4V5.5a1,1,0,0,0-1-1H15.1L12.7,2.1a1,1,0,0,0-1.414,0l-2.4,2.4H5.491a1,1,0,0,0-1,1V8.894l-2.4,2.4a1,1,0,0,0,0,1.414l2.4,2.4V18.5a1,1,0,0,0,1,1H8.885l2.4,2.4a1,1,0,0,0,1.414,0l2.4-2.4h3.394a1,1,0,0,0,1-1Z"}),n$3.createElement("path",{d:"M11.491,6c4,0,6,2.686,6,6s-2,6-6,6Z"}))},o$3=function(){return o$3=Object.assign||function(W){for(var G,Y=1,q=arguments.length;Y<q;Y++)for(var X in G=arguments[Y])Object.prototype.hasOwnProperty.call(G,X)&&(W[X]=G[X]);return W},o$3.apply(this,arguments)},a$3={left:0,top:8},i$3=function(W){var G=W.onClick,Y=n$3.useContext(e$3.ThemeContext),q=n$3.useContext(e$3.LocalizationContext).l10n,X=Y.currentTheme==="dark",K=q&&q.theme?X?q.theme.switchLightTheme:q.theme.switchDarkTheme:X?"Switch to the light theme":"Switch to the dark theme";return n$3.createElement(e$3.Tooltip,{ariaControlsSuffix:"theme-switch",position:e$3.Position.BottomCenter,target:n$3.createElement(e$3.MinimalButton,{ariaLabel:K,testId:"theme__switch-button",onClick:G},X?n$3.createElement(c$3,null):n$3.createElement(r$3,null)),content:function(){return K},offset:a$3})},l$3=function(W){var G=W.children,Y=n$3.useContext(e$3.ThemeContext);return(G||function(q){return n$3.createElement(i$3,{onClick:q.onClick})})({onClick:function(){return Y.setCurrentTheme(Y.currentTheme==="dark"?"light":"dark")}})},u$3=function(W){var G=W.onClick,Y=n$3.useContext(e$3.ThemeContext),q=n$3.useContext(e$3.LocalizationContext).l10n,X=Y.currentTheme==="dark",K=q&&q.theme?X?q.theme.switchLightTheme:q.theme.switchDarkTheme:X?"Switch to the light theme":"Switch to the dark theme";return n$3.createElement(e$3.MenuItem,{icon:X?n$3.createElement(c$3,null):n$3.createElement(r$3,null),testId:"theme__switch-menu",onClick:G},K)};theme_min.DarkIcon=r$3,theme_min.LightIcon=c$3,theme_min.themePlugin=function(){var W=function(G){return n$3.createElement(l$3,o$3({},G))};return{SwitchTheme:W,SwitchThemeButton:function(){return n$3.createElement(W,null,function(G){return n$3.createElement(i$3,o$3({},G))})},SwitchThemeMenuItem:function(G){return n$3.createElement(W,null,function(Y){return n$3.createElement(u$3,{onClick:function(){Y.onClick(),G.onClick()}})})}}};/**
* A React component to view a PDF document
*
* @see https://react-pdf-viewer.dev
* @license https://react-pdf-viewer.dev/license
* @copyright 2019-2023 Nguyen Huu Phuoc <me@phuoc.ng>
*/lib$1.exports=theme_min;var libExports$3=lib$1.exports,lib={exports:{}},zoom_min={},e$2=libExports$h;function t$2(W){var G=Object.create(null);return W&&Object.keys(W).forEach(function(Y){if(Y!=="default"){var q=Object.getOwnPropertyDescriptor(W,Y);Object.defineProperty(G,Y,q.get?q:{enumerable:!0,get:function(){return W[Y]}})}}),G.default=W,Object.freeze(G)}var n$2=t$2(T$1),o$2=function(){return n$2.createElement(e$2.Icon,{ignoreDirection:!0,size:16},n$2.createElement("path",{d:`M10.5,0.499c5.523,0,10,4.477,10,10s-4.477,10-10,10s-10-4.477-10-10S4.977,0.499,10.5,0.499z
            M23.5,23.499
            l-5.929-5.929
            M5.5,10.499h10
            M10.5,5.499v10`}))},r$2=function(){return n$2.createElement(e$2.Icon,{ignoreDirection:!0,size:16},n$2.createElement("path",{d:`M10.5,0.499c5.523,0,10,4.477,10,10s-4.477,10-10,10s-10-4.477-10-10S4.977,0.499,10.5,0.499z
            M23.5,23.499
            l-5.929-5.929
            M5.5,10.499h10`}))},c$2=function(){return c$2=Object.assign||function(W){for(var G,Y=1,q=arguments.length;Y<q;Y++)for(var X in G=arguments[Y])Object.prototype.hasOwnProperty.call(G,X)&&(W[X]=G[X]);return W},c$2.apply(this,arguments)},a$2=function(W){var G=n$2.useState(W.get("scale")||0),Y=G[0],q=G[1],X=function(K){q(K)};return n$2.useEffect(function(){return W.subscribe("scale",X),function(){W.unsubscribe("scale",X)}},[]),{scale:Y}},u$2=function(W){var G=W.children,Y=W.store;return(G||function(q){return n$2.createElement(n$2.Fragment,null,"".concat(Math.round(100*q.scale),"%"))})({scale:a$2(Y).scale})},l$2={passive:!1},i$2=null,s$2=function(W){var G=W.pagesContainerRef,Y=W.store,q=e$2.useDebounceCallback(function(K){var B=Y.get("zoom");B&&B(K)},40),X=function(K){if(K.ctrlKey){K.preventDefault();var B=K.target.getBoundingClientRect(),he=1-K.deltaY/100,ke=K.clientX-B.left,Ae=K.clientY-B.top,ae=Y.get("scale"),Re=(i$2||(i$2=document.createElementNS("http://www.w3.org/2000/svg","svg"))).createSVGMatrix().translate(ke,Ae).scale(he).translate(-ke,-Ae).scale(ae);q(Re.a)}};return e$2.useIsomorphicLayoutEffect(function(){var K=G.current;if(K)return K.addEventListener("wheel",X,l$2),function(){K.removeEventListener("wheel",X)}},[]),n$2.createElement(n$2.Fragment,null)},m$2=[.1,.2,.3,.4,.5,.6,.7,.8,.9,1,1.1,1.3,1.5,1.7,1.9,2.1,2.4,2.7,3,3.3,3.7,4.1,4.6,5.1,5.7,6.3,7,7.7,8.5,9.4,10],f$2=function(W){return m$2.find(function(G){return G>W})||W},v$1=function(W){var G=m$2.findIndex(function(Y){return Y>=W});return G===-1||G===0?W:m$2[G-1]},p$1=function(W){var G=W.containerRef,Y=W.store,q=function(X){if(!X.shiftKey&&!X.altKey&&(e$2.isMac()?X.metaKey:X.ctrlKey)){var K=G.current;if(K&&document.activeElement&&K.contains(document.activeElement)){var B=Y.get("zoom");if(B){var he=Y.get("scale")||1,ke=1;switch(X.key){case"-":ke=v$1(he);break;case"=":ke=f$2(he);break;case"0":ke=1;break;default:ke=he}ke!==he&&(X.preventDefault(),B(ke))}}}};return n$2.useEffect(function(){if(G.current)return document.addEventListener("keydown",q),function(){document.removeEventListener("keydown",q)}},[G.current]),n$2.createElement(n$2.Fragment,null)},z=[.5,.75,1,1.25,1.5,2,3,4],E$1={left:0,top:8},d$2=function(W){var G=W.levels,Y=G===void 0?z:G,q=W.scale,X=W.onZoom,K=n$2.useContext(e$2.LocalizationContext).l10n,B=n$2.useContext(e$2.ThemeContext).direction===e$2.TextDirection.RightToLeft,he=K&&K.zoom?K.zoom.zoomDocument:"Zoom document";return n$2.createElement(e$2.Popover,{ariaControlsSuffix:"zoom",ariaHasPopup:"menu",position:e$2.Position.BottomCenter,target:function(ke){return n$2.createElement(e$2.MinimalButton,{ariaLabel:he,testId:"zoom__popover-target",onClick:function(){ke()}},n$2.createElement("span",{className:"rpv-zoom__popover-target"},n$2.createElement("span",{"data-testid":"zoom__popover-target-scale",className:e$2.classNames({"rpv-zoom__popover-target-scale":!0,"rpv-zoom__popover-target-scale--ltr":!B,"rpv-zoom__popover-target-scale--rtl":B})},Math.round(100*q),"%"),n$2.createElement("span",{className:"rpv-zoom__popover-target-arrow"})))},content:function(ke){return n$2.createElement(e$2.Menu,null,Object.keys(e$2.SpecialZoomLevel).map(function(Ae){var ae=Ae;return n$2.createElement(e$2.MenuItem,{key:ae,onClick:function(){ke(),X(ae)}},function(Re){switch(Re){case e$2.SpecialZoomLevel.ActualSize:return K&&K.zoom?K.zoom.actualSize:"Actual size";case e$2.SpecialZoomLevel.PageFit:return K&&K.zoom?K.zoom.pageFit:"Page fit";case e$2.SpecialZoomLevel.PageWidth:return K&&K.zoom?K.zoom.pageWidth:"Page width"}}(ae))}),n$2.createElement(e$2.MenuDivider,null),Y.map(function(Ae){return n$2.createElement(e$2.MenuItem,{key:Ae,onClick:function(){ke(),X(Ae)}},"".concat(Math.round(100*Ae),"%"))}))},offset:E$1,closeOnClickOutside:!0,closeOnEscape:!0})},g$1=function(W){var G=W.children,Y=W.levels,q=W.store;return(G||function(X){return n$2.createElement(d$2,{levels:Y,scale:X.scale,onZoom:X.onZoom})})({scale:a$2(q).scale,onZoom:function(X){var K=q.get("zoom");K&&K(X)}})},C={left:0,top:8},h$1=function(W){var G=W.enableShortcuts,Y=W.onClick,q=n$2.useContext(e$2.LocalizationContext).l10n,X=q&&q.zoom?q.zoom.zoomIn:"Zoom in",K=G?e$2.isMac()?"Meta+=":"Ctrl+=":"";return n$2.createElement(e$2.Tooltip,{ariaControlsSuffix:"zoom-in",position:e$2.Position.BottomCenter,target:n$2.createElement(e$2.MinimalButton,{ariaKeyShortcuts:K,ariaLabel:X,testId:"zoom__in-button",onClick:Y},n$2.createElement(o$2,null)),content:function(){return X},offset:C})},b$1=function(W){var G=W.children,Y=W.enableShortcuts,q=W.store,X=a$2(q).scale;return(G||h$1)({enableShortcuts:Y,onClick:function(){var K=q.get("zoom");K&&K(f$2(X))}})},k=function(W){var G=W.onClick,Y=n$2.useContext(e$2.LocalizationContext).l10n,q=Y&&Y.zoom?Y.zoom.zoomIn:"Zoom in";return n$2.createElement(e$2.MenuItem,{icon:n$2.createElement(o$2,null),testId:"zoom__in-menu",onClick:G},q)},S$1={left:0,top:8},M$1=function(W){var G=W.enableShortcuts,Y=W.onClick,q=n$2.useContext(e$2.LocalizationContext).l10n,X=q&&q.zoom?q.zoom.zoomOut:"Zoom out",K=G?e$2.isMac()?"Meta+-":"Ctrl+-":"";return n$2.createElement(e$2.Tooltip,{ariaControlsSuffix:"zoom-out",position:e$2.Position.BottomCenter,target:n$2.createElement(e$2.MinimalButton,{ariaKeyShortcuts:K,ariaLabel:X,testId:"zoom__out-button",onClick:Y},n$2.createElement(r$2,null)),content:function(){return X},offset:S$1})},I$1=function(W){var G=W.children,Y=W.enableShortcuts,q=W.store,X=a$2(q).scale;return(G||M$1)({enableShortcuts:Y,onClick:function(){var K=q.get("zoom");K&&K(v$1(X))}})},Z=function(W){var G=W.onClick,Y=n$2.useContext(e$2.LocalizationContext).l10n,q=Y&&Y.zoom?Y.zoom.zoomOut:"Zoom out";return n$2.createElement(e$2.MenuItem,{icon:n$2.createElement(r$2,null),testId:"zoom__out-menu",onClick:G},q)};zoom_min.ZoomInIcon=o$2,zoom_min.ZoomOutIcon=r$2,zoom_min.zoomPlugin=function(W){var G=n$2.useMemo(function(){return Object.assign({},{enableShortcuts:!0},W)},[]),Y=n$2.useMemo(function(){return e$2.createStore({})},[]),q=function(B){return n$2.createElement(b$1,c$2({enableShortcuts:G.enableShortcuts},B,{store:Y}))},X=function(B){return n$2.createElement(I$1,c$2({enableShortcuts:G.enableShortcuts},B,{store:Y}))},K=function(B){return n$2.createElement(g$1,c$2({},B,{store:Y}))};return{renderViewer:function(B){var he=B.slot;if(!G.enableShortcuts)return he;var ke={children:n$2.createElement(n$2.Fragment,null,n$2.createElement(p$1,{containerRef:B.containerRef,store:Y}),n$2.createElement(s$2,{pagesContainerRef:B.pagesContainerRef,store:Y}),he.children)};return c$2(c$2({},he),ke)},install:function(B){Y.update("zoom",B.zoom)},onViewerStateChange:function(B){return Y.update("scale",B.scale),B},zoomTo:function(B){var he=Y.get("zoom");he&&he(B)},CurrentScale:function(B){return n$2.createElement(u$2,c$2({},B,{store:Y}))},ZoomIn:q,ZoomInButton:function(){return n$2.createElement(q,null,function(B){return n$2.createElement(h$1,c$2({},B))})},ZoomInMenuItem:function(B){return n$2.createElement(q,null,function(he){return n$2.createElement(k,{onClick:function(){he.onClick(),B.onClick()}})})},ZoomOut:X,ZoomOutButton:function(){return n$2.createElement(X,null,function(B){return n$2.createElement(M$1,c$2({},B))})},ZoomOutMenuItem:function(B){return n$2.createElement(X,null,function(he){return n$2.createElement(Z,{onClick:function(){he.onClick(),B.onClick()}})})},Zoom:K,ZoomPopover:function(B){return n$2.createElement(K,null,function(he){return n$2.createElement(d$2,c$2({levels:B==null?void 0:B.levels},he))})}}};/**
* A React component to view a PDF document
*
* @see https://react-pdf-viewer.dev
* @license https://react-pdf-viewer.dev/license
* @copyright 2019-2023 Nguyen Huu Phuoc <me@phuoc.ng>
*/lib.exports=zoom_min;var libExports$2=lib.exports,e$1=libExports$h,t$1=libExports$d,r$1=T$1,n$1=libExports$c,o$1=libExports$b,a$1=libExports$a,l$1=libExports$9,i$1=libExports$8,c$1=libExports$7,m$1=libExports$6,u$1=libExports$5,s$1=libExports$4,d$1=libExports$3,p=libExports$2;function v(W){var G=Object.create(null);return W&&Object.keys(W).forEach(function(Y){if(Y!=="default"){var q=Object.getOwnPropertyDescriptor(W,Y);Object.defineProperty(G,Y,q.get?q:{enumerable:!0,get:function(){return W[Y]}})}}),G.default=W,Object.freeze(G)}var _=v(r$1),E=function(){return _.createElement(e$1.Icon,{size:16},_.createElement("path",{d:`M12,0.5c1.381,0,2.5,1.119,2.5,2.5S13.381,5.5,12,5.5S9.5,4.381,9.5,3S10.619,0.5,12,0.5z
            M12,9.5
            c1.381,0,2.5,1.119,2.5,2.5s-1.119,2.5-2.5,2.5S9.5,13.381,9.5,12S10.619,9.5,12,9.5z
            M12,18.5c1.381,0,2.5,1.119,2.5,2.5
            s-1.119,2.5-2.5,2.5S9.5,22.381,9.5,21S10.619,18.5,12,18.5z`}))},g={left:0,top:8},P=function(W){var G=W.toolbarSlot,Y=_.useContext(e$1.LocalizationContext).l10n,q=_.useContext(e$1.ThemeContext).direction===e$1.TextDirection.RightToLeft?e$1.Position.BottomLeft:e$1.Position.BottomRight,X=G.DownloadMenuItem,K=G.EnterFullScreenMenuItem,B=G.GoToFirstPageMenuItem,he=G.GoToLastPageMenuItem,ke=G.GoToNextPageMenuItem,Ae=G.GoToPreviousPageMenuItem,ae=G.OpenMenuItem,Re=G.PrintMenuItem,ge=G.RotateBackwardMenuItem,ve=G.RotateForwardMenuItem,xe=G.ShowPropertiesMenuItem,Se=G.SwitchScrollModeMenuItem,pe=G.SwitchSelectionModeMenuItem,ne=G.SwitchViewModeMenuItem,we=G.SwitchThemeMenuItem;return _.createElement(e$1.Popover,{ariaControlsSuffix:"toolbar-more-actions",ariaHasPopup:"menu",position:q,target:function(Ie,Pe){var Ee=Y&&Y.toolbar?Y.toolbar.moreActions:"More actions";return _.createElement(e$1.Tooltip,{ariaControlsSuffix:"toolbar-more-actions",position:q,target:_.createElement(e$1.MinimalButton,{ariaLabel:Ee,isSelected:Pe,testId:"toolbar__more-actions-popover-target",onClick:Ie},_.createElement(E,null)),content:function(){return Ee},offset:g})},content:function(Ie){return _.createElement(e$1.Menu,null,_.createElement("div",{className:"rpv-core__display--block rpv-core__display--hidden-medium"},_.createElement(we,{onClick:Ie})),_.createElement("div",{className:"rpv-core__display--block rpv-core__display--hidden-medium"},_.createElement(K,{onClick:Ie})),_.createElement("div",{className:"rpv-core__display--block rpv-core__display--hidden-medium"},_.createElement(ae,null)),_.createElement("div",{className:"rpv-core__display--block rpv-core__display--hidden-medium"},_.createElement(Re,{onClick:Ie})),_.createElement("div",{className:"rpv-core__display--block rpv-core__display--hidden-medium"},_.createElement(X,{onClick:Ie})),_.createElement("div",{className:"rpv-core__display--block rpv-core__display--hidden-medium"},_.createElement(e$1.MenuDivider,null)),_.createElement(B,{onClick:Ie}),_.createElement("div",{className:"rpv-core__display--block rpv-core__display--hidden-medium"},_.createElement(Ae,{onClick:Ie})),_.createElement("div",{className:"rpv-core__display--block rpv-core__display--hidden-medium"},_.createElement(ke,{onClick:Ie})),_.createElement(he,{onClick:Ie}),_.createElement(e$1.MenuDivider,null),_.createElement(ve,{onClick:Ie}),_.createElement(ge,{onClick:Ie}),_.createElement(e$1.MenuDivider,null),_.createElement(pe,{mode:t$1.SelectionMode.Text,onClick:Ie}),_.createElement(pe,{mode:t$1.SelectionMode.Hand,onClick:Ie}),_.createElement(e$1.MenuDivider,null),_.createElement(Se,{mode:e$1.ScrollMode.Page,onClick:Ie}),_.createElement(Se,{mode:e$1.ScrollMode.Vertical,onClick:Ie}),_.createElement(Se,{mode:e$1.ScrollMode.Horizontal,onClick:Ie}),_.createElement(Se,{mode:e$1.ScrollMode.Wrapped,onClick:Ie}),_.createElement(e$1.MenuDivider,null),_.createElement("div",{className:"rpv-core__display--hidden rpv-core__display--block-small"},_.createElement(ne,{mode:e$1.ViewMode.SinglePage,onClick:Ie})),_.createElement("div",{className:"rpv-core__display--hidden rpv-core__display--block-small"},_.createElement(ne,{mode:e$1.ViewMode.DualPage,onClick:Ie})),_.createElement("div",{className:"rpv-core__display--hidden rpv-core__display--block-small"},_.createElement(ne,{mode:e$1.ViewMode.DualPageWithCover,onClick:Ie})),_.createElement("div",{className:"rpv-core__display--hidden rpv-core__display--block-small"},_.createElement(e$1.MenuDivider,null)),_.createElement(xe,{onClick:Ie}))},offset:g,closeOnClickOutside:!0,closeOnEscape:!0})},M=function(){return M=Object.assign||function(W){for(var G,Y=1,q=arguments.length;Y<q;Y++)for(var X in G=arguments[Y])Object.prototype.hasOwnProperty.call(G,X)&&(W[X]=G[X]);return W},M.apply(this,arguments)},h=function(W){return function(G){var Y=_.useMemo(function(){return W(G)},[]),q=_.useContext(e$1.ThemeContext).direction===e$1.TextDirection.RightToLeft,X=Y.CurrentPageInput,K=Y.Download,B=Y.EnterFullScreen,he=Y.GoToNextPage,ke=Y.GoToPreviousPage,Ae=Y.NumberOfPages,ae=Y.Open,Re=Y.Print,ge=Y.ShowSearchPopover,ve=Y.SwitchTheme,xe=Y.Zoom,Se=Y.ZoomIn,pe=Y.ZoomOut;return _.createElement("div",{"data-testid":"toolbar",className:e$1.classNames({"rpv-toolbar":!0,"rpv-toolbar--rtl":q}),role:"toolbar","aria-orientation":"horizontal"},_.createElement("div",{className:"rpv-toolbar__left"},_.createElement("div",{className:"rpv-toolbar__item"},_.createElement(ge,null)),_.createElement("div",{className:"rpv-core__display--hidden rpv-core__display--block-small"},_.createElement("div",{className:"rpv-toolbar__item"},_.createElement(ke,null))),_.createElement("div",{className:"rpv-toolbar__item"},_.createElement(X,null),_.createElement("span",{className:"rpv-toolbar__label"},_.createElement(Ae,null))),_.createElement("div",{className:"rpv-core__display--hidden rpv-core__display--block-small"},_.createElement("div",{className:"rpv-toolbar__item"},_.createElement(he,null)))),_.createElement("div",{className:"rpv-toolbar__center"},_.createElement("div",{className:"rpv-toolbar__item"},_.createElement(pe,null)),_.createElement("div",{className:"rpv-core__display--hidden rpv-core__display--block-small"},_.createElement("div",{className:"rpv-toolbar__item"},_.createElement(xe,null))),_.createElement("div",{className:"rpv-toolbar__item"},_.createElement(Se,null))),_.createElement("div",{className:"rpv-toolbar__right"},_.createElement("div",{className:"rpv-core__display--hidden rpv-core__display--block-medium"},_.createElement("div",{className:"rpv-toolbar__item"},_.createElement(ve,null))),_.createElement("div",{className:"rpv-core__display--hidden rpv-core__display--block-medium"},_.createElement("div",{className:"rpv-toolbar__item"},_.createElement(B,null))),_.createElement("div",{className:"rpv-core__display--hidden rpv-core__display--block-medium"},_.createElement("div",{className:"rpv-toolbar__item"},_.createElement(ae,null))),_.createElement("div",{className:"rpv-core__display--hidden rpv-core__display--block-medium"},_.createElement("div",{className:"rpv-toolbar__item"},_.createElement(K,null))),_.createElement("div",{className:"rpv-core__display--hidden rpv-core__display--block-medium"},_.createElement("div",{className:"rpv-toolbar__item"},_.createElement(Re,null))),_.createElement("div",{className:"rpv-toolbar__item"},_.createElement(P,{toolbarSlot:Y}))))}},f$1=function(W){var G=W.NumberOfPages;return Object.assign({},W,{NumberOfPages:function(){return _.createElement(_.Fragment,null,"/ ",_.createElement(G,null))}})},S=function(W){return h(f$1)(W)},I=function(W){var G=W.children,Y=W.slot;return(G||S)(Y)};toolbar_min.MoreActionsPopover=P,toolbar_min.MoreIcon=E,toolbar_min.toolbarPlugin=function(W){var G=n$1.fullScreenPlugin(W?W.fullScreenPlugin:{}),Y=o$1.getFilePlugin(W?W.getFilePlugin:{}),q=a$1.openPlugin(W?W.openPlugin:{}),X=l$1.pageNavigationPlugin(W?W.pageNavigationPlugin:{}),K=i$1.printPlugin(W?W.printPlugin:{}),B=c$1.propertiesPlugin(),he=m$1.rotatePlugin(),ke=u$1.scrollModePlugin(),Ae=s$1.searchPlugin(W?W.searchPlugin:{}),ae=t$1.selectionModePlugin(W?W.selectionModePlugin:{}),Re=d$1.themePlugin(),ge=p.zoomPlugin(W?W.zoomPlugin:{}),ve=[G,Y,q,X,K,B,he,ke,Ae,ae,Re,ge],xe=_.useCallback(function(Se){var pe=G.EnterFullScreen,ne=G.EnterFullScreenMenuItem,we=Y.Download,Ie=Y.DownloadMenuItem,Pe=q.Open,Ee=q.OpenMenuItem,Ce=X.CurrentPageInput,Oe=X.CurrentPageLabel,qe=X.GoToFirstPage,ze=X.GoToFirstPageMenuItem,rt=X.GoToLastPage,ye=X.GoToLastPageMenuItem,ot=X.GoToNextPage,He=X.GoToNextPageMenuItem,Ge=X.GoToPreviousPage,Be=X.GoToPreviousPageMenuItem,xt=X.NumberOfPages,pt=K.Print,Et=K.PrintMenuItem,Ne=B.ShowProperties,nt=B.ShowPropertiesMenuItem,ut=he.Rotate,Ve=he.RotateBackwardMenuItem,_e=he.RotateForwardMenuItem,fe=ke.SwitchScrollMode,Le=ke.SwitchScrollModeMenuItem,je=ke.SwitchViewMode,Fe=ke.SwitchViewModeMenuItem,Xe=Ae.Search,Ye=Ae.ShowSearchPopover,gt=ae.SwitchSelectionMode,Ct=ae.SwitchSelectionModeMenuItem,kt=Re.SwitchTheme,dt=Re.SwitchThemeMenuItem,Mt=ge.CurrentScale,Ot=ge.Zoom,De=ge.ZoomIn,Te=ge.ZoomInMenuItem,We=ge.ZoomOut,Ze=ge.ZoomOutMenuItem;return _.createElement(I,M({},Se,{slot:{CurrentPageInput:Ce,CurrentPageLabel:Oe,CurrentScale:Mt,Download:we,DownloadMenuItem:Ie,EnterFullScreen:pe,EnterFullScreenMenuItem:ne,GoToFirstPage:qe,GoToFirstPageMenuItem:ze,GoToLastPage:rt,GoToLastPageMenuItem:ye,GoToNextPage:ot,GoToNextPageMenuItem:He,GoToPreviousPage:Ge,GoToPreviousPageMenuItem:Be,NumberOfPages:xt,Open:Pe,OpenMenuItem:Ee,Print:pt,PrintMenuItem:Et,Rotate:ut,RotateBackwardMenuItem:Ve,RotateForwardMenuItem:_e,Search:Xe,ShowProperties:Ne,ShowPropertiesMenuItem:nt,ShowSearchPopover:Ye,SwitchScrollMode:fe,SwitchScrollModeMenuItem:Le,SwitchSelectionMode:gt,SwitchSelectionModeMenuItem:Ct,SwitchViewMode:je,SwitchViewModeMenuItem:Fe,SwitchTheme:kt,SwitchThemeMenuItem:dt,Zoom:Ot,ZoomIn:De,ZoomInMenuItem:Te,ZoomOut:We,ZoomOutMenuItem:Ze}}))},[]);return{fullScreenPluginInstance:G,getFilePluginInstance:Y,openPluginInstance:q,pageNavigationPluginInstance:X,printPluginInstance:K,propertiesPluginInstance:B,rotatePluginInstance:he,scrollModePluginInstance:ke,searchPluginInstance:Ae,selectionModePluginInstance:ae,themePluginInstance:Re,zoomPluginInstance:ge,install:function(Se){ve.forEach(function(pe){pe.install&&pe.install(Se)})},renderPageLayer:function(Se){return _.createElement(_.Fragment,null,ve.map(function(pe,ne){return pe.renderPageLayer?_.createElement(_.Fragment,{key:ne},pe.renderPageLayer(Se)):_.createElement(_.Fragment,{key:ne})}))},renderViewer:function(Se){var pe=Se.slot;return ve.forEach(function(ne){ne.renderViewer&&(pe=ne.renderViewer(M(M({},Se),{slot:pe})))}),pe},uninstall:function(Se){ve.forEach(function(pe){pe.uninstall&&pe.uninstall(Se)})},onDocumentLoad:function(Se){ve.forEach(function(pe){pe.onDocumentLoad&&pe.onDocumentLoad(Se)})},onAnnotationLayerRender:function(Se){ve.forEach(function(pe){pe.onAnnotationLayerRender&&pe.onAnnotationLayerRender(Se)})},onTextLayerRender:function(Se){ve.forEach(function(pe){pe.onTextLayerRender&&pe.onTextLayerRender(Se)})},onViewerStateChange:function(Se){var pe=Se;return ve.forEach(function(ne){ne.onViewerStateChange&&(pe=ne.onViewerStateChange(pe))}),pe},renderDefaultToolbar:h,Toolbar:xe}};/**
* A React component to view a PDF document
*
* @see https://react-pdf-viewer.dev
* @license https://react-pdf-viewer.dev/license
* @copyright 2019-2023 Nguyen Huu Phuoc <me@phuoc.ng>
*/lib$c.exports=toolbar_min;var libExports$1=lib$c.exports,e=libExports$h,t=T$1,n=libExports$g,a=libExports$f,r=libExports$e,o=libExports$1;function l(W){var G=Object.create(null);return W&&Object.keys(W).forEach(function(Y){if(Y!=="default"){var q=Object.getOwnPropertyDescriptor(W,Y);Object.defineProperty(G,Y,q.get?q:{enumerable:!0,get:function(){return W[Y]}})}}),G.default=W,Object.freeze(G)}var u=l(t),c=function(){return u.createElement(e.Icon,{size:16},u.createElement("path",{d:`M11.5,1.5h11c0.552,0,1,0.448,1,1v20c0,0.552-0.448,1-1,1h-21c-0.552,0-1-0.448-1-1v-20c0-0.552,0.448-1,1-1h3
            M11.5,10.5c0,0.55-0.3,0.661-0.659,0.248L8,7.5l-2.844,3.246c-0.363,0.414-0.659,0.3-0.659-0.247v-9c0-0.552,0.448-1,1-1h5
            c0.552,0,1,0.448,1,1L11.5,10.5z
            M14.5,6.499h6
            M14.5,10.499h6
            M3.5,14.499h17
            M3.5,18.499h16.497`}))},i=function(){return i=Object.assign||function(W){for(var G,Y=1,q=arguments.length;Y<q;Y++)for(var X in G=arguments[Y])Object.prototype.hasOwnProperty.call(G,X)&&(W[X]=G[X]);return W},i.apply(this,arguments)},s=function(){return u.createElement(e.Icon,{size:16},u.createElement("path",{d:`M7.618,15.345l8.666-8.666c0.78-0.812,2.071-0.838,2.883-0.058s0.838,2.071,0.058,2.883
            c-0.019,0.02-0.038,0.039-0.058,0.058L7.461,21.305c-1.593,1.593-4.175,1.592-5.767,0s-1.592-4.175,0-5.767c0,0,0,0,0,0
            L13.928,3.305c2.189-2.19,5.739-2.19,7.929-0.001s2.19,5.739,0,7.929l0,0L13.192,19.9`}))},d=function(){return u.createElement(e.Icon,{size:16},u.createElement("path",{d:`M10.5,9.5c0,0.552-0.448,1-1,1h-8c-0.552,0-1-0.448-1-1v-8c0-0.552,0.448-1,1-1h8c0.552,0,1,0.448,1,1V9.5z
            M23.5,9.5c0,0.552-0.448,1-1,1h-8c-0.552,0-1-0.448-1-1v-8c0-0.552,0.448-1,1-1h8c0.552,0,1,0.448,1,1V9.5z
            M10.5,22.5 c0,0.552-0.448,1-1,1h-8c-0.552,0-1-0.448-1-1v-8c0-0.552,0.448-1,1-1h8c0.552,0,1,0.448,1,1V22.5z
            M23.5,22.5c0,0.552-0.448,1-1,1 h-8c-0.552,0-1-0.448-1-1v-8c0-0.552,0.448-1,1-1h8c0.552,0,1,0.448,1,1V22.5z`}))},b={left:8,top:0},f={left:-8,top:0},m=function(W){var G=W.attachmentTabContent,Y=W.bookmarkTabContent,q=W.store,X=W.thumbnailTabContent,K=W.tabs,B=u.useRef(),he=u.useContext(e.LocalizationContext).l10n,ke=u.useState(q.get("isCurrentTabOpened")||!1),Ae=ke[0],ae=ke[1],Re=u.useState(Math.max(q.get("currentTab")||0,0)),ge=Re[0],ve=Re[1],xe=u.useContext(e.ThemeContext).direction===e.TextDirection.RightToLeft,Se=[{content:X,icon:u.createElement(d,null),title:he&&he.defaultLayout?he.defaultLayout.thumbnail:"Thumbnail"},{content:Y,icon:u.createElement(c,null),title:he&&he.defaultLayout?he.defaultLayout.bookmark:"Bookmark"},{content:G,icon:u.createElement(s,null),title:he&&he.defaultLayout?he.defaultLayout.attachment:"Attachment"}],pe=K?K(Se):Se,ne=function(Ie){Ie>=0&&Ie<=pe.length-1&&(q.update("isCurrentTabOpened",!0),ve(Ie))},we=function(Ie){ae(Ie)};return u.useEffect(function(){return q.subscribe("currentTab",ne),q.subscribe("isCurrentTabOpened",we),function(){q.unsubscribe("currentTab",ne),q.unsubscribe("isCurrentTabOpened",we)}},[]),pe.length===0?u.createElement(u.Fragment,null):u.createElement(u.Fragment,null,u.createElement("div",{"data-testid":"default-layout__sidebar",className:e.classNames({"rpv-default-layout__sidebar":!0,"rpv-default-layout__sidebar--opened":Ae,"rpv-default-layout__sidebar--ltr":!xe,"rpv-default-layout__sidebar--rtl":xe}),ref:B},u.createElement("div",{className:"rpv-default-layout__sidebar-tabs"},u.createElement("div",{className:"rpv-default-layout__sidebar-headers",role:"tablist","aria-orientation":"vertical"},pe.map(function(Ie,Pe){return u.createElement("div",{"aria-controls":"rpv-default-layout__sidebar-content","aria-selected":ge===Pe,key:Pe,className:"rpv-default-layout__sidebar-header",id:"rpv-default-layout__sidebar-tab-".concat(Pe),role:"tab"},u.createElement(e.Tooltip,{ariaControlsSuffix:"default-layout-sidebar-tab-".concat(Pe),position:xe?e.Position.LeftCenter:e.Position.RightCenter,target:u.createElement(e.MinimalButton,{ariaLabel:Ie.title,isSelected:ge===Pe,onClick:function(){return function(Ee){if(ge===Ee){q.update("isCurrentTabOpened",!q.get("isCurrentTabOpened"));var Ce=B.current;Ce&&Ce.style.width&&Ce.style.removeProperty("width")}else q.update("currentTab",Ee)}(Pe)}},Ie.icon),content:function(){return Ie.title},offset:xe?f:b}))})),u.createElement("div",{"aria-labelledby":"rpv-default-layout__sidebar-tab-".concat(ge),id:"rpv-default-layout__sidebar-content",className:e.classNames({"rpv-default-layout__sidebar-content":!0,"rpv-default-layout__sidebar-content--opened":Ae,"rpv-default-layout__sidebar-content--ltr":!xe,"rpv-default-layout__sidebar-content--rtl":xe}),role:"tabpanel",tabIndex:-1},pe[ge].content))),Ae&&u.createElement(e.Splitter,{constrain:function(Ie){return Ie.firstHalfPercentage>=20&&Ie.firstHalfPercentage<=80}}))};defaultLayout_min.BookmarkIcon=c,defaultLayout_min.FileIcon=s,defaultLayout_min.ThumbnailIcon=d,defaultLayout_min.defaultLayoutPlugin=function(W){var G=u.useMemo(function(){return e.createStore({isCurrentTabOpened:!1,currentTab:0})},[]),Y=n.attachmentPlugin(),q=a.bookmarkPlugin(),X=r.thumbnailPlugin(W?W.thumbnailPlugin:{}),K=o.toolbarPlugin(W?W.toolbarPlugin:{}),B=Y.Attachments,he=q.Bookmarks,ke=X.Thumbnails,Ae=K.Toolbar,ae=W?W.sidebarTabs:function(ge){return ge},Re=[Y,q,X,K];return{attachmentPluginInstance:Y,bookmarkPluginInstance:q,thumbnailPluginInstance:X,toolbarPluginInstance:K,activateTab:function(ge){G.update("currentTab",ge)},toggleTab:function(ge){var ve=G.get("currentTab");G.update("isCurrentTabOpened",!G.get("isCurrentTabOpened")),ve!==ge&&G.update("currentTab",ge)},install:function(ge){Re.forEach(function(ve){ve.install&&ve.install(ge)})},renderPageLayer:function(ge){return u.createElement(u.Fragment,null,Re.map(function(ve,xe){return ve.renderPageLayer?u.createElement(u.Fragment,{key:xe},ve.renderPageLayer(ge)):u.createElement(u.Fragment,{key:xe},u.createElement(u.Fragment,null))}))},renderViewer:function(ge){var ve=ge.slot;Re.forEach(function(Se){Se.renderViewer&&(ve=Se.renderViewer(i(i({},ge),{slot:ve})))});var xe=ve.subSlot&&ve.subSlot.attrs?{className:ve.subSlot.attrs.className,"data-testid":ve.subSlot.attrs["data-testid"],ref:ve.subSlot.attrs.ref,style:ve.subSlot.attrs.style}:{};return ve.children=u.createElement("div",{className:"rpv-default-layout__container"},u.createElement("div",{"data-testid":"default-layout__main",className:e.classNames({"rpv-default-layout__main":!0,"rpv-default-layout__main--rtl":ge.themeContext.direction===e.TextDirection.RightToLeft})},u.createElement(m,{attachmentTabContent:u.createElement(B,null),bookmarkTabContent:u.createElement(he,null),store:G,thumbnailTabContent:u.createElement(ke,null),tabs:ae}),u.createElement("div",{className:"rpv-default-layout__body","data-testid":"default-layout__body"},u.createElement("div",{className:"rpv-default-layout__toolbar"},W&&W.renderToolbar?W.renderToolbar(Ae):u.createElement(Ae,null)),u.createElement("div",i({},xe),ve.subSlot.children))),ve.children),ve.subSlot.attrs={},ve.subSlot.children=u.createElement(u.Fragment,null),ve},uninstall:function(ge){Re.forEach(function(ve){ve.uninstall&&ve.uninstall(ge)})},onDocumentLoad:function(ge){Re.forEach(function(ve){ve.onDocumentLoad&&ve.onDocumentLoad(ge)}),W&&W.setInitialTab&&W.setInitialTab(ge.doc).then(function(ve){G.update("currentTab",ve),G.update("isCurrentTabOpened",!0)})},onAnnotationLayerRender:function(ge){Re.forEach(function(ve){ve.onAnnotationLayerRender&&ve.onAnnotationLayerRender(ge)})},onTextLayerRender:function(ge){Re.forEach(function(ve){ve.onTextLayerRender&&ve.onTextLayerRender(ge)})},onViewerStateChange:function(ge){var ve=ge;return Re.forEach(function(xe){xe.onViewerStateChange&&(ve=xe.onViewerStateChange(ve))}),ve}}},defaultLayout_min.setInitialTabFromPageMode=function(W){return new Promise(function(G,Y){W.getPageMode().then(function(q){if(q)switch(q){case e.PageMode.Attachments:G(2);break;case e.PageMode.Bookmarks:G(1);break;case e.PageMode.Thumbnails:G(0);break;default:G(-1)}else G(-1)})})};/**
* A React component to view a PDF document
*
* @see https://react-pdf-viewer.dev
* @license https://react-pdf-viewer.dev/license
* @copyright 2019-2023 Nguyen Huu Phuoc <me@phuoc.ng>
*/lib$g.exports=defaultLayout_min;var libExports=lib$g.exports;const PDFViewer=({fileUrl:W})=>{const G=libExports.defaultLayoutPlugin();return S$5.jsx(libExports$h.Worker,{workerUrl:"https://unpkg.com/pdfjs-dist@3.11.174/build/pdf.worker.min.js",children:S$5.jsx("div",{className:"h-[80vh] border shadow-sm overflow-hidden",children:S$5.jsx(libExports$h.Viewer,{fileUrl:W,plugins:[G],theme:"light"})})})},PrimeReport=({})=>S$5.jsx("div",{children:S$5.jsx(PDFViewer,{fileUrl:"https://hpdpes1.uploads-1f3.workers.dev/1749307107690-Pagtugon-sa-Ekonomiya-ng-mga-Lalawigan-sa-Rehiyon"})});export{PrimeReport as default};
