import{T as s,S as e}from"./index-CkfK2x5R.js";import{e as g}from"./dateFormmater-loz6_SBV-D2FhJicJ-Zs-g7UCO.js";import{O as b,E as j}from"./loader-CUZWE4u1-Bc9zbGhW-DbwShRTX.js";import{B as N}from"./useQuery-DgcdhVhv-8wfc_FFO-zEQPiMpe.js";import{I as v,L as w,N as _,P as y}from"./index-BVqVjDqr-BUCk0jN3-B3TMTKZT.js";import{f as k}from"./ErrorMsg-BZ4DWXRX-DbEobzLP-DMSNwLQu.js";const S=({title:l,description:a,date_upload:n,image_url:i,edit:c,deleteRow:m,data:r})=>e.jsx("div",{className:"mb-5 flex items-center justify-center",children:e.jsx("div",{className:"max-w-[22rem] w-full bg-white shadow-[4px_6px_10px_-3px_#bfc9d4] rounded-xl border border-white-light dark:border-[#1b2e4b] dark:bg-[#191e3a] dark:shadow-none",children:e.jsxs("div",{className:"py-7 px-6",children:[e.jsx("div",{className:"-mt-7 mb-7 -mx-6 rounded-tl rounded-tr h-[260px] overflow-hidden",children:e.jsx("img",{src:`${i}`,alt:"profile",className:"w-full h-full object-cover"})}),e.jsx("p",{className:"text-primary text-xs mb-1.5 font-bold",children:g(n)}),e.jsx("h5",{className:"text-[#3b3f5c] text-[15px] font-bold mb-4 dark:text-white-light",children:l}),e.jsx("p",{className:"text-white-dark break-words overflow-hidden",children:a})]})})}),E=()=>{const l="gallery";return{fetchAll:async()=>j(`${l}/`)}},B=({})=>{const l=E(),{data:a,refetch:n,isLoading:i,isError:c}=N({queryKey:["gallery"],queryFn:()=>l.fetchAll()}),[m,r]=s.useState(!1);s.useState(0);const[x,I]=s.useState(!0),[d,p]=s.useState(null);a==null||a.data.map(t=>({src:t.image_url,title:t.title,description:x?t.description:""}));const u=t=>{p({src:t.image_url,title:t.title,description:x?t.description:""}),r(!0)},h=()=>{d&&p(t=>{var o;return{...t,description:t.description?"":((o=a.data.find(f=>f.image_url===t.image_url))==null?void 0:o.description)||""}})};return e.jsx(e.Fragment,{children:e.jsxs("div",{className:"lg:panel px-8",children:[e.jsx("div",{className:"lg:mb-10 mb-4 py-2",children:e.jsx("h2",{className:"lg:text-4xl text-2xl font-black text-gray-800 dark:text-white",children:e.jsx("span",{className:"bg-clip-text text-transparent bg-gradient-to-r from-blue-400 to-cyan-500",children:"Gallery"})})}),i&&e.jsx(b,{}),c&&e.jsx(k,{}),a&&a.data&&e.jsx("div",{className:"grid xl:grid-cols-4 grid-cols-1 gap-2",children:a==null?void 0:a.data.map((t,o)=>e.jsx("div",{className:"transform transition-transform duration-300 hover:scale-110",onClick:()=>u(t),children:e.jsx(S,{title:t.title,description:t.description,date_upload:t.date_upload,image_url:t.image_url,data:t})},t.id))}),d&&e.jsx(v,{open:m,close:()=>r(!1),slides:[d],on:{click:h},plugins:[w,_,y],zoom:{maxZoomPixelRatio:4,zoomInMultiplier:2}})]})})};export{B as default};
