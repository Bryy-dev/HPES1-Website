import{n as l$e,k as k$4,T as T$1,o as nb,A as Ad}from"./index-4os2vz5Y.js";var Io=Object.defineProperty,ha=B=>{throw TypeError(B)},Do=(B,q,K)=>q in B?Io(B,q,{enumerable:!0,configurable:!0,writable:!0,value:K}):B[q]=K,$n=(B,q,K)=>Do(B,typeof q!="symbol"?q+"":q,K),fi=(B,q,K)=>q.has(B)||ha("Cannot "+K),V=(B,q,K)=>(fi(B,q,"read from private field"),K?K.call(B):q.get(B)),it=(B,q,K)=>q.has(B)?ha("Cannot add the same private member more than once"):q instanceof WeakSet?q.add(B):q.set(B,K),at=(B,q,K,X)=>(fi(B,q,"write to private field"),q.set(B,K),K),Ue=(B,q,K)=>(fi(B,q,"access private method"),K),Cr=(B,q,K,X)=>({set _(W){at(B,q,W)},get _(){return V(B,q,X)}}),lib$h={exports:{}},core_min={},pdf={exports:{}};const __viteBrowserExternal={},__viteBrowserExternal$1=Object.freeze(Object.defineProperty({__proto__:null,default:__viteBrowserExternal},Symbol.toStringTag,{value:"Module"})),require$$5=l$e(__viteBrowserExternal$1);(function(module,exports){(function(B,q){module.exports=B.pdfjsLib=q()})(globalThis,()=>(()=>{var __webpack_modules__=[,(B,q)=>{var K;Object.defineProperty(q,"__esModule",{value:!0}),q.VerbosityLevel=q.Util=q.UnknownErrorException=q.UnexpectedResponseException=q.TextRenderingMode=q.RenderingIntentFlag=q.PromiseCapability=q.PermissionFlag=q.PasswordResponses=q.PasswordException=q.PageActionEventType=q.OPS=q.MissingPDFException=q.MAX_IMAGE_SIZE_TO_CACHE=q.LINE_FACTOR=q.LINE_DESCENT_FACTOR=q.InvalidPDFException=q.ImageKind=q.IDENTITY_MATRIX=q.FormatError=q.FeatureTest=q.FONT_IDENTITY_MATRIX=q.DocumentActionEventType=q.CMapCompressionType=q.BaseException=q.BASELINE_FACTOR=q.AnnotationType=q.AnnotationReplyType=q.AnnotationPrefix=q.AnnotationMode=q.AnnotationFlag=q.AnnotationFieldFlag=q.AnnotationEditorType=q.AnnotationEditorPrefix=q.AnnotationEditorParamsType=q.AnnotationBorderStyleType=q.AnnotationActionEventType=q.AbortException=void 0,q.assert=tt,q.bytesToString=Ct,q.createValidAbsoluteUrl=Oe,q.getModificationDate=Jt,q.getUuid=Ln,q.getVerbosityLevel=yt,q.info=ut,q.isArrayBuffer=Qt,q.isArrayEqual=Gt,q.isNodeJS=void 0,q.normalizeUnicode=In,q.objectFromMap=De,q.objectSize=Vt,q.setVerbosityLevel=Qe,q.shadow=_e,q.string32=$t,q.stringToBytes=ht,q.stringToPDFString=Et,q.stringToUTF8String=At,q.unreachable=Ne,q.utf8StringToString=jt,q.warn=_t;const X=typeof process=="object"&&process+""=="[object process]"&&!process.versions.nw&&!(process.versions.electron&&process.type&&process.type!=="browser");q.isNodeJS=X;const W=[1,0,0,1,0,0];q.IDENTITY_MATRIX=W;const G=[.001,0,0,.001,0,0];q.FONT_IDENTITY_MATRIX=G;const Y=1e7;q.MAX_IMAGE_SIZE_TO_CACHE=Y;const he=1.35;q.LINE_FACTOR=he;const Ce=.35;q.LINE_DESCENT_FACTOR=Ce;const ke=Ce/he;q.BASELINE_FACTOR=ke;const ae={ANY:1,DISPLAY:2,PRINT:4,SAVE:8,ANNOTATIONS_FORMS:16,ANNOTATIONS_STORAGE:32,ANNOTATIONS_DISABLE:64,OPLIST:256};q.RenderingIntentFlag=ae;const Ae={DISABLE:0,ENABLE:1,ENABLE_FORMS:2,ENABLE_STORAGE:3};q.AnnotationMode=Ae;const ge="pdfjs_internal_editor_";q.AnnotationEditorPrefix=ge;const ve={DISABLE:-1,NONE:0,FREETEXT:3,STAMP:13,INK:15};q.AnnotationEditorType=ve;const xe={RESIZE:1,CREATE:2,FREETEXT_SIZE:11,FREETEXT_COLOR:12,FREETEXT_OPACITY:13,INK_COLOR:21,INK_THICKNESS:22,INK_OPACITY:23};q.AnnotationEditorParamsType=xe;const we={PRINT:4,MODIFY_CONTENTS:8,COPY:16,MODIFY_ANNOTATIONS:32,FILL_INTERACTIVE_FORMS:256,COPY_FOR_ACCESSIBILITY:512,ASSEMBLE:1024,PRINT_HIGH_QUALITY:2048};q.PermissionFlag=we;const fe={FILL:0,STROKE:1,FILL_STROKE:2,INVISIBLE:3,FILL_ADD_TO_PATH:4,STROKE_ADD_TO_PATH:5,FILL_STROKE_ADD_TO_PATH:6,ADD_TO_PATH:7,FILL_STROKE_MASK:3,ADD_TO_PATH_FLAG:4};q.TextRenderingMode=fe;const ne={GRAYSCALE_1BPP:1,RGB_24BPP:2,RGBA_32BPP:3};q.ImageKind=ne;const Se={TEXT:1,LINK:2,FREETEXT:3,LINE:4,SQUARE:5,CIRCLE:6,POLYGON:7,POLYLINE:8,HIGHLIGHT:9,UNDERLINE:10,SQUIGGLY:11,STRIKEOUT:12,STAMP:13,CARET:14,INK:15,POPUP:16,FILEATTACHMENT:17,SOUND:18,MOVIE:19,WIDGET:20,SCREEN:21,PRINTERMARK:22,TRAPNET:23,WATERMARK:24,THREED:25,REDACT:26};q.AnnotationType=Se;const Le={GROUP:"Group",REPLY:"R"};q.AnnotationReplyType=Le;const Me={INVISIBLE:1,HIDDEN:2,PRINT:4,NOZOOM:8,NOROTATE:16,NOVIEW:32,READONLY:64,LOCKED:128,TOGGLENOVIEW:256,LOCKEDCONTENTS:512};q.AnnotationFlag=Me;const Ee={READONLY:1,REQUIRED:2,NOEXPORT:4,MULTILINE:4096,PASSWORD:8192,NOTOGGLETOOFF:16384,RADIO:32768,PUSHBUTTON:65536,COMBO:131072,EDIT:262144,SORT:524288,FILESELECT:1048576,MULTISELECT:2097152,DONOTSPELLCHECK:4194304,DONOTSCROLL:8388608,COMB:16777216,RICHTEXT:33554432,RADIOSINUNISON:33554432,COMMITONSELCHANGE:67108864};q.AnnotationFieldFlag=Ee;const Pe={SOLID:1,DASHED:2,BEVELED:3,INSET:4,UNDERLINE:5};q.AnnotationBorderStyleType=Pe;const Ve={E:"Mouse Enter",X:"Mouse Exit",D:"Mouse Down",U:"Mouse Up",Fo:"Focus",Bl:"Blur",PO:"PageOpen",PC:"PageClose",PV:"PageVisible",PI:"PageInvisible",K:"Keystroke",F:"Format",V:"Validate",C:"Calculate"};q.AnnotationActionEventType=Ve;const Ke={WC:"WillClose",WS:"WillSave",DS:"DidSave",WP:"WillPrint",DP:"DidPrint"};q.DocumentActionEventType=Ke;const ze={O:"PageOpen",C:"PageClose"};q.PageActionEventType=ze;const rt={ERRORS:0,WARNINGS:1,INFOS:5};q.VerbosityLevel=rt;const ye={NONE:0,BINARY:1};q.CMapCompressionType=ye;const ot={dependency:1,setLineWidth:2,setLineCap:3,setLineJoin:4,setMiterLimit:5,setDash:6,setRenderingIntent:7,setFlatness:8,setGState:9,save:10,restore:11,transform:12,moveTo:13,lineTo:14,curveTo:15,curveTo2:16,curveTo3:17,closePath:18,rectangle:19,stroke:20,closeStroke:21,fill:22,eoFill:23,fillStroke:24,eoFillStroke:25,closeFillStroke:26,closeEOFillStroke:27,endPath:28,clip:29,eoClip:30,beginText:31,endText:32,setCharSpacing:33,setWordSpacing:34,setHScale:35,setLeading:36,setFont:37,setTextRenderingMode:38,setTextRise:39,moveText:40,setLeadingMoveText:41,setTextMatrix:42,nextLine:43,showText:44,showSpacedText:45,nextLineShowText:46,nextLineSetSpacingShowText:47,setCharWidth:48,setCharWidthAndBounds:49,setStrokeColorSpace:50,setFillColorSpace:51,setStrokeColor:52,setStrokeColorN:53,setFillColor:54,setFillColorN:55,setStrokeGray:56,setFillGray:57,setStrokeRGBColor:58,setFillRGBColor:59,setStrokeCMYKColor:60,setFillCMYKColor:61,shadingFill:62,beginInlineImage:63,beginImageData:64,endInlineImage:65,paintXObject:66,markPoint:67,markPointProps:68,beginMarkedContent:69,beginMarkedContentProps:70,endMarkedContent:71,beginCompat:72,endCompat:73,paintFormXObjectBegin:74,paintFormXObjectEnd:75,beginGroup:76,endGroup:77,beginAnnotation:80,endAnnotation:81,paintImageMaskXObject:83,paintImageMaskXObjectGroup:84,paintImageXObject:85,paintInlineImageXObject:86,paintInlineImageXObjectGroup:87,paintImageXObjectRepeat:88,paintImageMaskXObjectRepeat:89,paintSolidColorImageMask:90,constructPath:91};q.OPS=ot;const Ye={NEED_PASSWORD:1,INCORRECT_PASSWORD:2};q.PasswordResponses=Ye;let He=rt.WARNINGS;function Qe(Ft){Number.isInteger(Ft)&&(He=Ft)}function yt(){return He}function ut(Ft){He>=rt.INFOS&&console.log(`Info: ${Ft}`)}function _t(Ft){He>=rt.WARNINGS&&console.log(`Warning: ${Ft}`)}function Ne(Ft){throw new Error(Ft)}function tt(Ft,wt){Ft||Ne(wt)}function dt(Ft){switch(Ft==null?void 0:Ft.protocol){case"http:":case"https:":case"ftp:":case"mailto:":case"tel:":return!0;default:return!1}}function Oe(Ft,wt=null,ft=null){if(!Ft)return null;try{if(ft&&typeof Ft=="string"){if(ft.addDefaultProtocol&&Ft.startsWith("www.")){const Zt=Ft.match(/\./g);(Zt==null?void 0:Zt.length)>=2&&(Ft=`http://${Ft}`)}if(ft.tryConvertEncoding)try{Ft=At(Ft)}catch{}}const Yt=wt?new URL(Ft,wt):new URL(Ft);if(dt(Yt))return Yt}catch{}return null}function _e(Ft,wt,ft,Yt=!1){return Object.defineProperty(Ft,wt,{value:ft,enumerable:!Yt,configurable:!0,writable:!1}),ft}const pe=function(){function Ft(wt,ft){this.constructor===Ft&&Ne("Cannot initialize BaseException."),this.message=wt,this.name=ft}return Ft.prototype=new Error,Ft.constructor=Ft,Ft}();q.BaseException=pe;class Fe extends pe{constructor(wt,ft){super(wt,"PasswordException"),this.code=ft}}q.PasswordException=Fe;class je extends pe{constructor(wt,ft){super(wt,"UnknownErrorException"),this.details=ft}}q.UnknownErrorException=je;class Ie extends pe{constructor(wt){super(wt,"InvalidPDFException")}}q.InvalidPDFException=Ie;class qe extends pe{constructor(wt){super(wt,"MissingPDFException")}}q.MissingPDFException=qe;class Ge extends pe{constructor(wt,ft){super(wt,"UnexpectedResponseException"),this.status=ft}}q.UnexpectedResponseException=Ge;class gt extends pe{constructor(wt){super(wt,"FormatError")}}q.FormatError=gt;class Pt extends pe{constructor(wt){super(wt,"AbortException")}}q.AbortException=Pt;function Ct(Ft){(typeof Ft!="object"||(Ft==null?void 0:Ft.length)===void 0)&&Ne("Invalid argument for bytesToString");const wt=Ft.length,ft=8192;if(wt<ft)return String.fromCharCode.apply(null,Ft);const Yt=[];for(let Zt=0;Zt<wt;Zt+=ft){const Kt=Math.min(Zt+ft,wt),Je=Ft.subarray(Zt,Kt);Yt.push(String.fromCharCode.apply(null,Je))}return Yt.join("")}function ht(Ft){typeof Ft!="string"&&Ne("Invalid argument for stringToBytes");const wt=Ft.length,ft=new Uint8Array(wt);for(let Yt=0;Yt<wt;++Yt)ft[Yt]=Ft.charCodeAt(Yt)&255;return ft}function $t(Ft){return String.fromCharCode(Ft>>24&255,Ft>>16&255,Ft>>8&255,Ft&255)}function Vt(Ft){return Object.keys(Ft).length}function De(Ft){const wt=Object.create(null);for(const[ft,Yt]of Ft)wt[ft]=Yt;return wt}function Re(){const Ft=new Uint8Array(4);return Ft[0]=1,new Uint32Array(Ft.buffer,0,1)[0]===1}function Be(){try{return new Function(""),!0}catch{return!1}}class Ze{static get isLittleEndian(){return _e(this,"isLittleEndian",Re())}static get isEvalSupported(){return _e(this,"isEvalSupported",Be())}static get isOffscreenCanvasSupported(){return _e(this,"isOffscreenCanvasSupported",typeof OffscreenCanvas<"u")}static get platform(){return typeof navigator>"u"?_e(this,"platform",{isWin:!1,isMac:!1}):_e(this,"platform",{isWin:navigator.platform.includes("Win"),isMac:navigator.platform.includes("Mac")})}static get isCSSRoundSupported(){var wt,ft;return _e(this,"isCSSRoundSupported",(ft=(wt=globalThis.CSS)==null?void 0:wt.supports)==null?void 0:ft.call(wt,"width: round(1.5px, 1px)"))}}q.FeatureTest=Ze;const ct=[...Array(256).keys()].map(Ft=>Ft.toString(16).padStart(2,"0"));class Mt{static makeHexColor(wt,ft,Yt){return`#${ct[wt]}${ct[ft]}${ct[Yt]}`}static scaleMinMax(wt,ft){let Yt;wt[0]?(wt[0]<0&&(Yt=ft[0],ft[0]=ft[1],ft[1]=Yt),ft[0]*=wt[0],ft[1]*=wt[0],wt[3]<0&&(Yt=ft[2],ft[2]=ft[3],ft[3]=Yt),ft[2]*=wt[3],ft[3]*=wt[3]):(Yt=ft[0],ft[0]=ft[2],ft[2]=Yt,Yt=ft[1],ft[1]=ft[3],ft[3]=Yt,wt[1]<0&&(Yt=ft[2],ft[2]=ft[3],ft[3]=Yt),ft[2]*=wt[1],ft[3]*=wt[1],wt[2]<0&&(Yt=ft[0],ft[0]=ft[1],ft[1]=Yt),ft[0]*=wt[2],ft[1]*=wt[2]),ft[0]+=wt[4],ft[1]+=wt[4],ft[2]+=wt[5],ft[3]+=wt[5]}static transform(wt,ft){return[wt[0]*ft[0]+wt[2]*ft[1],wt[1]*ft[0]+wt[3]*ft[1],wt[0]*ft[2]+wt[2]*ft[3],wt[1]*ft[2]+wt[3]*ft[3],wt[0]*ft[4]+wt[2]*ft[5]+wt[4],wt[1]*ft[4]+wt[3]*ft[5]+wt[5]]}static applyTransform(wt,ft){const Yt=wt[0]*ft[0]+wt[1]*ft[2]+ft[4],Zt=wt[0]*ft[1]+wt[1]*ft[3]+ft[5];return[Yt,Zt]}static applyInverseTransform(wt,ft){const Yt=ft[0]*ft[3]-ft[1]*ft[2],Zt=(wt[0]*ft[3]-wt[1]*ft[2]+ft[2]*ft[5]-ft[4]*ft[3])/Yt,Kt=(-wt[0]*ft[1]+wt[1]*ft[0]+ft[4]*ft[1]-ft[5]*ft[0])/Yt;return[Zt,Kt]}static getAxialAlignedBoundingBox(wt,ft){const Yt=this.applyTransform(wt,ft),Zt=this.applyTransform(wt.slice(2,4),ft),Kt=this.applyTransform([wt[0],wt[3]],ft),Je=this.applyTransform([wt[2],wt[1]],ft);return[Math.min(Yt[0],Zt[0],Kt[0],Je[0]),Math.min(Yt[1],Zt[1],Kt[1],Je[1]),Math.max(Yt[0],Zt[0],Kt[0],Je[0]),Math.max(Yt[1],Zt[1],Kt[1],Je[1])]}static inverseTransform(wt){const ft=wt[0]*wt[3]-wt[1]*wt[2];return[wt[3]/ft,-wt[1]/ft,-wt[2]/ft,wt[0]/ft,(wt[2]*wt[5]-wt[4]*wt[3])/ft,(wt[4]*wt[1]-wt[5]*wt[0])/ft]}static singularValueDecompose2dScale(wt){const ft=[wt[0],wt[2],wt[1],wt[3]],Yt=wt[0]*ft[0]+wt[1]*ft[2],Zt=wt[0]*ft[1]+wt[1]*ft[3],Kt=wt[2]*ft[0]+wt[3]*ft[2],Je=wt[2]*ft[1]+wt[3]*ft[3],Tt=(Yt+Je)/2,Xt=Math.sqrt((Yt+Je)**2-4*(Yt*Je-Kt*Zt))/2,pn=Tt+Xt||1,an=Tt-Xt||1;return[Math.sqrt(pn),Math.sqrt(an)]}static normalizeRect(wt){const ft=wt.slice(0);return wt[0]>wt[2]&&(ft[0]=wt[2],ft[2]=wt[0]),wt[1]>wt[3]&&(ft[1]=wt[3],ft[3]=wt[1]),ft}static intersect(wt,ft){const Yt=Math.max(Math.min(wt[0],wt[2]),Math.min(ft[0],ft[2])),Zt=Math.min(Math.max(wt[0],wt[2]),Math.max(ft[0],ft[2]));if(Yt>Zt)return null;const Kt=Math.max(Math.min(wt[1],wt[3]),Math.min(ft[1],ft[3])),Je=Math.min(Math.max(wt[1],wt[3]),Math.max(ft[1],ft[3]));return Kt>Je?null:[Yt,Kt,Zt,Je]}static bezierBoundingBox(wt,ft,Yt,Zt,Kt,Je,Tt,Xt){const pn=[],an=[[],[]];let Nt,Te,Xe,vt,kt,xt,Lt,Ht;for(let gn=0;gn<2;++gn){if(gn===0?(Te=6*wt-12*Yt+6*Kt,Nt=-3*wt+9*Yt-9*Kt+3*Tt,Xe=3*Yt-3*wt):(Te=6*ft-12*Zt+6*Je,Nt=-3*ft+9*Zt-9*Je+3*Xt,Xe=3*Zt-3*ft),Math.abs(Nt)<1e-12){if(Math.abs(Te)<1e-12)continue;vt=-Xe/Te,0<vt&&vt<1&&pn.push(vt);continue}Lt=Te*Te-4*Xe*Nt,Ht=Math.sqrt(Lt),!(Lt<0)&&(kt=(-Te+Ht)/(2*Nt),0<kt&&kt<1&&pn.push(kt),xt=(-Te-Ht)/(2*Nt),0<xt&&xt<1&&pn.push(xt))}let on=pn.length,en;const qt=on;for(;on--;)vt=pn[on],en=1-vt,an[0][on]=en*en*en*wt+3*en*en*vt*Yt+3*en*vt*vt*Kt+vt*vt*vt*Tt,an[1][on]=en*en*en*ft+3*en*en*vt*Zt+3*en*vt*vt*Je+vt*vt*vt*Xt;return an[0][qt]=wt,an[1][qt]=ft,an[0][qt+1]=Tt,an[1][qt+1]=Xt,an[0].length=an[1].length=qt+2,[Math.min(...an[0]),Math.min(...an[1]),Math.max(...an[0]),Math.max(...an[1])]}}q.Util=Mt;const Rt=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,728,711,710,729,733,731,730,732,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,8226,8224,8225,8230,8212,8211,402,8260,8249,8250,8722,8240,8222,8220,8221,8216,8217,8218,8482,64257,64258,321,338,352,376,381,305,322,339,353,382,0,8364];function Et(Ft){if(Ft[0]>="ï"){let ft;if(Ft[0]==="þ"&&Ft[1]==="ÿ"?ft="utf-16be":Ft[0]==="ÿ"&&Ft[1]==="þ"?ft="utf-16le":Ft[0]==="ï"&&Ft[1]==="»"&&Ft[2]==="¿"&&(ft="utf-8"),ft)try{const Yt=new TextDecoder(ft,{fatal:!0}),Zt=ht(Ft);return Yt.decode(Zt)}catch(Yt){_t(`stringToPDFString: "${Yt}".`)}}const wt=[];for(let ft=0,Yt=Ft.length;ft<Yt;ft++){const Zt=Rt[Ft.charCodeAt(ft)];wt.push(Zt?String.fromCharCode(Zt):Ft.charAt(ft))}return wt.join("")}function At(Ft){return decodeURIComponent(escape(Ft))}function jt(Ft){return unescape(encodeURIComponent(Ft))}function Qt(Ft){return typeof Ft=="object"&&(Ft==null?void 0:Ft.byteLength)!==void 0}function Gt(Ft,wt){if(Ft.length!==wt.length)return!1;for(let ft=0,Yt=Ft.length;ft<Yt;ft++)if(Ft[ft]!==wt[ft])return!1;return!0}function Jt(Ft=new Date){return[Ft.getUTCFullYear().toString(),(Ft.getUTCMonth()+1).toString().padStart(2,"0"),Ft.getUTCDate().toString().padStart(2,"0"),Ft.getUTCHours().toString().padStart(2,"0"),Ft.getUTCMinutes().toString().padStart(2,"0"),Ft.getUTCSeconds().toString().padStart(2,"0")].join("")}class cn{constructor(){it(this,K,!1),this.promise=new Promise((wt,ft)=>{this.resolve=Yt=>{at(this,K,!0),wt(Yt)},this.reject=Yt=>{at(this,K,!0),ft(Yt)}})}get settled(){return V(this,K)}}K=new WeakMap,q.PromiseCapability=cn;let sn=null,rn=null;function In(Ft){return sn||(sn=/([\u00a0\u00b5\u037e\u0eb3\u2000-\u200a\u202f\u2126\ufb00-\ufb04\ufb06\ufb20-\ufb36\ufb38-\ufb3c\ufb3e\ufb40-\ufb41\ufb43-\ufb44\ufb46-\ufba1\ufba4-\ufba9\ufbae-\ufbb1\ufbd3-\ufbdc\ufbde-\ufbe7\ufbea-\ufbf8\ufbfc-\ufbfd\ufc00-\ufc5d\ufc64-\ufcf1\ufcf5-\ufd3d\ufd88\ufdf4\ufdfa-\ufdfb\ufe71\ufe77\ufe79\ufe7b\ufe7d]+)|(\ufb05+)/gu,rn=new Map([["ﬅ","ſt"]])),Ft.replaceAll(sn,(wt,ft,Yt)=>ft?ft.normalize("NFKC"):rn.get(Yt))}function Ln(){if(typeof crypto<"u"&&typeof(crypto==null?void 0:crypto.randomUUID)=="function")return crypto.randomUUID();const Ft=new Uint8Array(32);if(typeof crypto<"u"&&typeof(crypto==null?void 0:crypto.getRandomValues)=="function")crypto.getRandomValues(Ft);else for(let wt=0;wt<32;wt++)Ft[wt]=Math.floor(Math.random()*255);return Ct(Ft)}const Nn="pdfjs_internal_id_";q.AnnotationPrefix=Nn},(__unused_webpack_module,exports,__w_pdfjs_require__)=>{var A,H,R,O,br,zr,me,ue,le,U,be,ce,J,re,Q,Hr,ee,ie,pi,de,te;Object.defineProperty(exports,"__esModule",{value:!0}),exports.RenderTask=exports.PDFWorkerUtil=exports.PDFWorker=exports.PDFPageProxy=exports.PDFDocumentProxy=exports.PDFDocumentLoadingTask=exports.PDFDataRangeTransport=exports.LoopbackPort=exports.DefaultStandardFontDataFactory=exports.DefaultFilterFactory=exports.DefaultCanvasFactory=exports.DefaultCMapReaderFactory=void 0,Object.defineProperty(exports,"SVGGraphics",{enumerable:!0,get:function(){return _displaySvg.SVGGraphics}}),exports.build=void 0,exports.getDocument=getDocument,exports.version=void 0;var _util=__w_pdfjs_require__(1),_annotation_storage=__w_pdfjs_require__(3),_display_utils=__w_pdfjs_require__(6),_font_loader=__w_pdfjs_require__(9),_displayNode_utils=__w_pdfjs_require__(10),_canvas=__w_pdfjs_require__(11),_worker_options=__w_pdfjs_require__(14),_message_handler=__w_pdfjs_require__(15),_metadata=__w_pdfjs_require__(16),_optional_content_config=__w_pdfjs_require__(17),_transport_stream=__w_pdfjs_require__(18),_displayFetch_stream=__w_pdfjs_require__(19),_displayNetwork=__w_pdfjs_require__(22),_displayNode_stream=__w_pdfjs_require__(23),_displaySvg=__w_pdfjs_require__(24),_xfa_text=__w_pdfjs_require__(25);const DEFAULT_RANGE_CHUNK_SIZE=65536,RENDERING_CANCELLED_TIMEOUT=100,DELAYED_CLEANUP_TIMEOUT=5e3,DefaultCanvasFactory=_util.isNodeJS?_displayNode_utils.NodeCanvasFactory:_display_utils.DOMCanvasFactory;exports.DefaultCanvasFactory=DefaultCanvasFactory;const DefaultCMapReaderFactory=_util.isNodeJS?_displayNode_utils.NodeCMapReaderFactory:_display_utils.DOMCMapReaderFactory;exports.DefaultCMapReaderFactory=DefaultCMapReaderFactory;const DefaultFilterFactory=_util.isNodeJS?_displayNode_utils.NodeFilterFactory:_display_utils.DOMFilterFactory;exports.DefaultFilterFactory=DefaultFilterFactory;const DefaultStandardFontDataFactory=_util.isNodeJS?_displayNode_utils.NodeStandardFontDataFactory:_display_utils.DOMStandardFontDataFactory;exports.DefaultStandardFontDataFactory=DefaultStandardFontDataFactory;function getDocument(B){if(typeof B=="string"||B instanceof URL?B={url:B}:(0,_util.isArrayBuffer)(B)&&(B={data:B}),typeof B!="object")throw new Error("Invalid parameter in getDocument, need parameter object.");if(!B.url&&!B.data&&!B.range)throw new Error("Invalid parameter object: need either .data, .range or .url");const q=new PDFDocumentLoadingTask,{docId:K}=q,X=B.url?getUrlProp(B.url):null,W=B.data?getDataProp(B.data):null,G=B.httpHeaders||null,Y=B.withCredentials===!0,he=B.password??null,Ce=B.range instanceof PDFDataRangeTransport?B.range:null,ke=Number.isInteger(B.rangeChunkSize)&&B.rangeChunkSize>0?B.rangeChunkSize:DEFAULT_RANGE_CHUNK_SIZE;let ae=B.worker instanceof PDFWorker?B.worker:null;const Ae=B.verbosity,ge=typeof B.docBaseUrl=="string"&&!(0,_display_utils.isDataScheme)(B.docBaseUrl)?B.docBaseUrl:null,ve=typeof B.cMapUrl=="string"?B.cMapUrl:null,xe=B.cMapPacked!==!1,we=B.CMapReaderFactory||DefaultCMapReaderFactory,fe=typeof B.standardFontDataUrl=="string"?B.standardFontDataUrl:null,ne=B.StandardFontDataFactory||DefaultStandardFontDataFactory,Se=B.stopAtErrors!==!0,Le=Number.isInteger(B.maxImageSize)&&B.maxImageSize>-1?B.maxImageSize:-1,Me=B.isEvalSupported!==!1,Ee=typeof B.isOffscreenCanvasSupported=="boolean"?B.isOffscreenCanvasSupported:!_util.isNodeJS,Pe=Number.isInteger(B.canvasMaxAreaInBytes)?B.canvasMaxAreaInBytes:-1,Ve=typeof B.disableFontFace=="boolean"?B.disableFontFace:_util.isNodeJS,Ke=B.fontExtraProperties===!0,ze=B.enableXfa===!0,rt=B.ownerDocument||globalThis.document,ye=B.disableRange===!0,ot=B.disableStream===!0,Ye=B.disableAutoFetch===!0,He=B.pdfBug===!0,Qe=Ce?Ce.length:B.length??NaN,yt=typeof B.useSystemFonts=="boolean"?B.useSystemFonts:!_util.isNodeJS&&!Ve,ut=typeof B.useWorkerFetch=="boolean"?B.useWorkerFetch:we===_display_utils.DOMCMapReaderFactory&&ne===_display_utils.DOMStandardFontDataFactory&&ve&&fe&&(0,_display_utils.isValidFetchUrl)(ve,document.baseURI)&&(0,_display_utils.isValidFetchUrl)(fe,document.baseURI),_t=B.canvasFactory||new DefaultCanvasFactory({ownerDocument:rt}),Ne=B.filterFactory||new DefaultFilterFactory({docId:K,ownerDocument:rt}),tt=null;(0,_util.setVerbosityLevel)(Ae);const dt={canvasFactory:_t,filterFactory:Ne};if(ut||(dt.cMapReaderFactory=new we({baseUrl:ve,isCompressed:xe}),dt.standardFontDataFactory=new ne({baseUrl:fe})),!ae){const pe={verbosity:Ae,port:_worker_options.GlobalWorkerOptions.workerPort};ae=pe.port?PDFWorker.fromPort(pe):new PDFWorker(pe),q._worker=ae}const Oe={docId:K,apiVersion:"3.11.174",data:W,password:he,disableAutoFetch:Ye,rangeChunkSize:ke,length:Qe,docBaseUrl:ge,enableXfa:ze,evaluatorOptions:{maxImageSize:Le,disableFontFace:Ve,ignoreErrors:Se,isEvalSupported:Me,isOffscreenCanvasSupported:Ee,canvasMaxAreaInBytes:Pe,fontExtraProperties:Ke,useSystemFonts:yt,cMapUrl:ut?ve:null,standardFontDataUrl:ut?fe:null}},_e={ignoreErrors:Se,isEvalSupported:Me,disableFontFace:Ve,fontExtraProperties:Ke,enableXfa:ze,ownerDocument:rt,disableAutoFetch:Ye,pdfBug:He,styleElement:tt};return ae.promise.then(function(){if(q.destroyed)throw new Error("Loading aborted");const pe=_fetchDocument(ae,Oe),Fe=new Promise(function(je){let Ie;Ce?Ie=new _transport_stream.PDFDataTransportStream({length:Qe,initialData:Ce.initialData,progressiveDone:Ce.progressiveDone,contentDispositionFilename:Ce.contentDispositionFilename,disableRange:ye,disableStream:ot},Ce):W||(Ie=(qe=>_util.isNodeJS?new _displayNode_stream.PDFNodeStream(qe):(0,_display_utils.isValidFetchUrl)(qe.url)?new _displayFetch_stream.PDFFetchStream(qe):new _displayNetwork.PDFNetworkStream(qe))({url:X,length:Qe,httpHeaders:G,withCredentials:Y,rangeChunkSize:ke,disableRange:ye,disableStream:ot})),je(Ie)});return Promise.all([pe,Fe]).then(function([je,Ie]){if(q.destroyed)throw new Error("Loading aborted");const qe=new _message_handler.MessageHandler(K,je,ae.port),Ge=new WorkerTransport(qe,q,Ie,_e,dt);q._transport=Ge,qe.send("Ready",null)})}).catch(q._capability.reject),q}async function _fetchDocument(B,q){if(B.destroyed)throw new Error("Worker was destroyed");const K=await B.messageHandler.sendWithPromise("GetDocRequest",q,q.data?[q.data.buffer]:null);if(B.destroyed)throw new Error("Worker was destroyed");return K}function getUrlProp(B){if(B instanceof URL)return B.href;try{return new URL(B,window.location).href}catch{if(_util.isNodeJS&&typeof B=="string")return B}throw new Error("Invalid PDF url data: either string or URL-object is expected in the url property.")}function getDataProp(B){if(_util.isNodeJS&&typeof Buffer<"u"&&B instanceof Buffer)throw new Error("Please provide binary data as `Uint8Array`, rather than `Buffer`.");if(B instanceof Uint8Array&&B.byteLength===B.buffer.byteLength)return B;if(typeof B=="string")return(0,_util.stringToBytes)(B);if(typeof B=="object"&&!isNaN(B==null?void 0:B.length)||(0,_util.isArrayBuffer)(B))return new Uint8Array(B);throw new Error("Invalid PDF binary data: either TypedArray, string, or array-like object is expected in the data property.")}const $=class Ai{constructor(){this._capability=new _util.PromiseCapability,this._transport=null,this._worker=null,this.docId=`d${Cr(Ai,A)._++}`,this.destroyed=!1,this.onPassword=null,this.onProgress=null}get promise(){return this._capability.promise}async destroy(){var q,K,X;this.destroyed=!0;try{(q=this._worker)!=null&&q.port&&(this._worker._pendingDestroy=!0),await((K=this._transport)==null?void 0:K.destroy())}catch(W){throw(X=this._worker)!=null&&X.port&&delete this._worker._pendingDestroy,W}this._transport=null,this._worker&&(this._worker.destroy(),this._worker=null)}};A=new WeakMap,it($,A,0);let PDFDocumentLoadingTask=$;exports.PDFDocumentLoadingTask=PDFDocumentLoadingTask;class PDFDataRangeTransport{constructor(q,K,X=!1,W=null){this.length=q,this.initialData=K,this.progressiveDone=X,this.contentDispositionFilename=W,this._rangeListeners=[],this._progressListeners=[],this._progressiveReadListeners=[],this._progressiveDoneListeners=[],this._readyCapability=new _util.PromiseCapability}addRangeListener(q){this._rangeListeners.push(q)}addProgressListener(q){this._progressListeners.push(q)}addProgressiveReadListener(q){this._progressiveReadListeners.push(q)}addProgressiveDoneListener(q){this._progressiveDoneListeners.push(q)}onDataRange(q,K){for(const X of this._rangeListeners)X(q,K)}onDataProgress(q,K){this._readyCapability.promise.then(()=>{for(const X of this._progressListeners)X(q,K)})}onDataProgressiveRead(q){this._readyCapability.promise.then(()=>{for(const K of this._progressiveReadListeners)K(q)})}onDataProgressiveDone(){this._readyCapability.promise.then(()=>{for(const q of this._progressiveDoneListeners)q()})}transportReady(){this._readyCapability.resolve()}requestDataRange(q,K){(0,_util.unreachable)("Abstract method PDFDataRangeTransport.requestDataRange")}abort(){}}exports.PDFDataRangeTransport=PDFDataRangeTransport;class PDFDocumentProxy{constructor(q,K){this._pdfInfo=q,this._transport=K,Object.defineProperty(this,"getJavaScript",{value:()=>((0,_display_utils.deprecated)("`PDFDocumentProxy.getJavaScript`, please use `PDFDocumentProxy.getJSActions` instead."),this.getJSActions().then(X=>{if(!X)return X;const W=[];for(const G in X)W.push(...X[G]);return W}))})}get annotationStorage(){return this._transport.annotationStorage}get filterFactory(){return this._transport.filterFactory}get numPages(){return this._pdfInfo.numPages}get fingerprints(){return this._pdfInfo.fingerprints}get isPureXfa(){return(0,_util.shadow)(this,"isPureXfa",!!this._transport._htmlForXfa)}get allXfaHtml(){return this._transport._htmlForXfa}getPage(q){return this._transport.getPage(q)}getPageIndex(q){return this._transport.getPageIndex(q)}getDestinations(){return this._transport.getDestinations()}getDestination(q){return this._transport.getDestination(q)}getPageLabels(){return this._transport.getPageLabels()}getPageLayout(){return this._transport.getPageLayout()}getPageMode(){return this._transport.getPageMode()}getViewerPreferences(){return this._transport.getViewerPreferences()}getOpenAction(){return this._transport.getOpenAction()}getAttachments(){return this._transport.getAttachments()}getJSActions(){return this._transport.getDocJSActions()}getOutline(){return this._transport.getOutline()}getOptionalContentConfig(){return this._transport.getOptionalContentConfig()}getPermissions(){return this._transport.getPermissions()}getMetadata(){return this._transport.getMetadata()}getMarkInfo(){return this._transport.getMarkInfo()}getData(){return this._transport.getData()}saveDocument(){return this._transport.saveDocument()}getDownloadInfo(){return this._transport.downloadInfoCapability.promise}cleanup(q=!1){return this._transport.startCleanup(q||this.isPureXfa)}destroy(){return this.loadingTask.destroy()}get loadingParams(){return this._transport.loadingParams}get loadingTask(){return this._transport.loadingTask}getFieldObjects(){return this._transport.getFieldObjects()}hasJSActions(){return this._transport.hasJSActions()}getCalculationOrderIds(){return this._transport.getCalculationOrderIds()}}exports.PDFDocumentProxy=PDFDocumentProxy;class PDFPageProxy{constructor(q,K,X,W=!1){it(this,O),it(this,H,null),it(this,R,!1),this._pageIndex=q,this._pageInfo=K,this._transport=X,this._stats=W?new _display_utils.StatTimer:null,this._pdfBug=W,this.commonObjs=X.commonObjs,this.objs=new PDFObjects,this._maybeCleanupAfterRender=!1,this._intentStates=new Map,this.destroyed=!1}get pageNumber(){return this._pageIndex+1}get rotate(){return this._pageInfo.rotate}get ref(){return this._pageInfo.ref}get userUnit(){return this._pageInfo.userUnit}get view(){return this._pageInfo.view}getViewport({scale:q,rotation:K=this.rotate,offsetX:X=0,offsetY:W=0,dontFlip:G=!1}={}){return new _display_utils.PageViewport({viewBox:this.view,scale:q,rotation:K,offsetX:X,offsetY:W,dontFlip:G})}getAnnotations({intent:q="display"}={}){const K=this._transport.getRenderingIntent(q);return this._transport.getAnnotations(this._pageIndex,K.renderingIntent)}getJSActions(){return this._transport.getPageJSActions(this._pageIndex)}get filterFactory(){return this._transport.filterFactory}get isPureXfa(){return(0,_util.shadow)(this,"isPureXfa",!!this._transport._htmlForXfa)}async getXfa(){var q;return((q=this._transport._htmlForXfa)==null?void 0:q.children[this._pageIndex])||null}render({canvasContext:q,viewport:K,intent:X="display",annotationMode:W=_util.AnnotationMode.ENABLE,transform:G=null,background:Y=null,optionalContentConfigPromise:he=null,annotationCanvasMap:Ce=null,pageColors:ke=null,printAnnotationStorage:ae=null}){var Ae,ge;(Ae=this._stats)==null||Ae.time("Overall");const ve=this._transport.getRenderingIntent(X,W,ae);at(this,R,!1),Ue(this,O,zr).call(this),he||(he=this._transport.getOptionalContentConfig());let xe=this._intentStates.get(ve.cacheKey);xe||(xe=Object.create(null),this._intentStates.set(ve.cacheKey,xe)),xe.streamReaderCancelTimeout&&(clearTimeout(xe.streamReaderCancelTimeout),xe.streamReaderCancelTimeout=null);const we=!!(ve.renderingIntent&_util.RenderingIntentFlag.PRINT);xe.displayReadyCapability||(xe.displayReadyCapability=new _util.PromiseCapability,xe.operatorList={fnArray:[],argsArray:[],lastChunk:!1,separateAnnots:null},(ge=this._stats)==null||ge.time("Page Request"),this._pumpOperatorList(ve));const fe=Le=>{var Me,Ee;xe.renderTasks.delete(ne),(this._maybeCleanupAfterRender||we)&&at(this,R,!0),Ue(this,O,br).call(this,!we),Le?(ne.capability.reject(Le),this._abortOperatorList({intentState:xe,reason:Le instanceof Error?Le:new Error(Le)})):ne.capability.resolve(),(Me=this._stats)==null||Me.timeEnd("Rendering"),(Ee=this._stats)==null||Ee.timeEnd("Overall")},ne=new InternalRenderTask({callback:fe,params:{canvasContext:q,viewport:K,transform:G,background:Y},objs:this.objs,commonObjs:this.commonObjs,annotationCanvasMap:Ce,operatorList:xe.operatorList,pageIndex:this._pageIndex,canvasFactory:this._transport.canvasFactory,filterFactory:this._transport.filterFactory,useRequestAnimationFrame:!we,pdfBug:this._pdfBug,pageColors:ke});(xe.renderTasks||(xe.renderTasks=new Set)).add(ne);const Se=ne.task;return Promise.all([xe.displayReadyCapability.promise,he]).then(([Le,Me])=>{var Ee;if(this.destroyed){fe();return}(Ee=this._stats)==null||Ee.time("Rendering"),ne.initializeGraphics({transparency:Le,optionalContentConfig:Me}),ne.operatorListChanged()}).catch(fe),Se}getOperatorList({intent:q="display",annotationMode:K=_util.AnnotationMode.ENABLE,printAnnotationStorage:X=null}={}){var W;function G(){he.operatorList.lastChunk&&(he.opListReadCapability.resolve(he.operatorList),he.renderTasks.delete(Ce))}const Y=this._transport.getRenderingIntent(q,K,X,!0);let he=this._intentStates.get(Y.cacheKey);he||(he=Object.create(null),this._intentStates.set(Y.cacheKey,he));let Ce;return he.opListReadCapability||(Ce=Object.create(null),Ce.operatorListChanged=G,he.opListReadCapability=new _util.PromiseCapability,(he.renderTasks||(he.renderTasks=new Set)).add(Ce),he.operatorList={fnArray:[],argsArray:[],lastChunk:!1,separateAnnots:null},(W=this._stats)==null||W.time("Page Request"),this._pumpOperatorList(Y)),he.opListReadCapability.promise}streamTextContent({includeMarkedContent:q=!1,disableNormalization:K=!1}={}){return this._transport.messageHandler.sendWithStream("GetTextContent",{pageIndex:this._pageIndex,includeMarkedContent:q===!0,disableNormalization:K===!0},{highWaterMark:100,size(X){return X.items.length}})}getTextContent(q={}){if(this._transport._htmlForXfa)return this.getXfa().then(X=>_xfa_text.XfaText.textContent(X));const K=this.streamTextContent(q);return new Promise(function(X,W){function G(){Y.read().then(function({value:Ce,done:ke}){if(ke){X(he);return}Object.assign(he.styles,Ce.styles),he.items.push(...Ce.items),G()},W)}const Y=K.getReader(),he={items:[],styles:Object.create(null)};G()})}getStructTree(){return this._transport.getStructTree(this._pageIndex)}_destroy(){this.destroyed=!0;const q=[];for(const K of this._intentStates.values())if(this._abortOperatorList({intentState:K,reason:new Error("Page was destroyed."),force:!0}),!K.opListReadCapability)for(const X of K.renderTasks)q.push(X.completed),X.cancel();return this.objs.clear(),at(this,R,!1),Ue(this,O,zr).call(this),Promise.all(q)}cleanup(q=!1){at(this,R,!0);const K=Ue(this,O,br).call(this,!1);return q&&K&&this._stats&&(this._stats=new _display_utils.StatTimer),K}_startRenderPage(q,K){var X,W;const G=this._intentStates.get(K);G&&((X=this._stats)==null||X.timeEnd("Page Request"),(W=G.displayReadyCapability)==null||W.resolve(q))}_renderPageChunk(q,K){for(let X=0,W=q.length;X<W;X++)K.operatorList.fnArray.push(q.fnArray[X]),K.operatorList.argsArray.push(q.argsArray[X]);K.operatorList.lastChunk=q.lastChunk,K.operatorList.separateAnnots=q.separateAnnots;for(const X of K.renderTasks)X.operatorListChanged();q.lastChunk&&Ue(this,O,br).call(this,!0)}_pumpOperatorList({renderingIntent:q,cacheKey:K,annotationStorageSerializable:X}){const{map:W,transfers:G}=X,Y=this._transport.messageHandler.sendWithStream("GetOperatorList",{pageIndex:this._pageIndex,intent:q,cacheKey:K,annotationStorage:W},G).getReader(),he=this._intentStates.get(K);he.streamReader=Y;const Ce=()=>{Y.read().then(({value:ke,done:ae})=>{if(ae){he.streamReader=null;return}this._transport.destroyed||(this._renderPageChunk(ke,he),Ce())},ke=>{if(he.streamReader=null,!this._transport.destroyed){if(he.operatorList){he.operatorList.lastChunk=!0;for(const ae of he.renderTasks)ae.operatorListChanged();Ue(this,O,br).call(this,!0)}if(he.displayReadyCapability)he.displayReadyCapability.reject(ke);else if(he.opListReadCapability)he.opListReadCapability.reject(ke);else throw ke}})};Ce()}_abortOperatorList({intentState:q,reason:K,force:X=!1}){if(q.streamReader){if(q.streamReaderCancelTimeout&&(clearTimeout(q.streamReaderCancelTimeout),q.streamReaderCancelTimeout=null),!X){if(q.renderTasks.size>0)return;if(K instanceof _display_utils.RenderingCancelledException){let W=RENDERING_CANCELLED_TIMEOUT;K.extraDelay>0&&K.extraDelay<1e3&&(W+=K.extraDelay),q.streamReaderCancelTimeout=setTimeout(()=>{q.streamReaderCancelTimeout=null,this._abortOperatorList({intentState:q,reason:K,force:!0})},W);return}}if(q.streamReader.cancel(new _util.AbortException(K.message)).catch(()=>{}),q.streamReader=null,!this._transport.destroyed){for(const[W,G]of this._intentStates)if(G===q){this._intentStates.delete(W);break}this.cleanup()}}}get stats(){return this._stats}}H=new WeakMap,R=new WeakMap,O=new WeakSet,br=function(B=!1){if(Ue(this,O,zr).call(this),!V(this,R)||this.destroyed)return!1;if(B)return at(this,H,setTimeout(()=>{at(this,H,null),Ue(this,O,br).call(this,!1)},DELAYED_CLEANUP_TIMEOUT)),!1;for(const{renderTasks:q,operatorList:K}of this._intentStates.values())if(q.size>0||!K.lastChunk)return!1;return this._intentStates.clear(),this.objs.clear(),at(this,R,!1),!0},zr=function(){V(this,H)&&(clearTimeout(V(this,H)),at(this,H,null))},exports.PDFPageProxy=PDFPageProxy;class LoopbackPort{constructor(){it(this,me,new Set),it(this,ue,Promise.resolve())}postMessage(q,K){const X={data:structuredClone(q,K?{transfer:K}:null)};V(this,ue).then(()=>{for(const W of V(this,me))W.call(this,X)})}addEventListener(q,K){V(this,me).add(K)}removeEventListener(q,K){V(this,me).delete(K)}terminate(){V(this,me).clear()}}me=new WeakMap,ue=new WeakMap,exports.LoopbackPort=LoopbackPort;const PDFWorkerUtil={isWorkerDisabled:!1,fallbackWorkerSrc:null,fakeWorkerId:0};exports.PDFWorkerUtil=PDFWorkerUtil;{if(_util.isNodeJS&&typeof nb=="function")PDFWorkerUtil.isWorkerDisabled=!0,PDFWorkerUtil.fallbackWorkerSrc="./pdf.worker.js";else if(typeof document=="object"){const B=(le=document==null?void 0:document.currentScript)==null?void 0:le.src;B&&(PDFWorkerUtil.fallbackWorkerSrc=B.replace(/(\.(?:min\.)?js)(\?.*)?$/i,".worker$1$2"))}PDFWorkerUtil.isSameOrigin=function(B,q){let K;try{if(K=new URL(B),!K.origin||K.origin==="null")return!1}catch{return!1}const X=new URL(q,K);return K.origin===X.origin},PDFWorkerUtil.createCDNWrapper=function(B){const q=`importScripts("${B}");`;return URL.createObjectURL(new Blob([q]))}}const _PDFWorker=class __PDFWorker{constructor({name:B=null,port:q=null,verbosity:K=(0,_util.getVerbosityLevel)()}={}){var X;if(this.name=B,this.destroyed=!1,this.verbosity=K,this._readyCapability=new _util.PromiseCapability,this._port=null,this._webWorker=null,this._messageHandler=null,q){if((X=V(__PDFWorker,U))!=null&&X.has(q))throw new Error("Cannot use more than one PDFWorker per port.");(V(__PDFWorker,U)||at(__PDFWorker,U,new WeakMap)).set(q,this),this._initializeFromPort(q);return}this._initialize()}get promise(){return this._readyCapability.promise}get port(){return this._port}get messageHandler(){return this._messageHandler}_initializeFromPort(B){this._port=B,this._messageHandler=new _message_handler.MessageHandler("main","worker",B),this._messageHandler.on("ready",function(){}),this._readyCapability.resolve(),this._messageHandler.send("configure",{verbosity:this.verbosity})}_initialize(){if(!PDFWorkerUtil.isWorkerDisabled&&!__PDFWorker._mainThreadWorkerMessageHandler){let{workerSrc:B}=__PDFWorker;try{PDFWorkerUtil.isSameOrigin(window.location.href,B)||(B=PDFWorkerUtil.createCDNWrapper(new URL(B,window.location).href));const q=new Worker(B),K=new _message_handler.MessageHandler("main","worker",q),X=()=>{q.removeEventListener("error",W),K.destroy(),q.terminate(),this.destroyed?this._readyCapability.reject(new Error("Worker was destroyed")):this._setupFakeWorker()},W=()=>{this._webWorker||X()};q.addEventListener("error",W),K.on("test",Y=>{if(q.removeEventListener("error",W),this.destroyed){X();return}Y?(this._messageHandler=K,this._port=q,this._webWorker=q,this._readyCapability.resolve(),K.send("configure",{verbosity:this.verbosity})):(this._setupFakeWorker(),K.destroy(),q.terminate())}),K.on("ready",Y=>{if(q.removeEventListener("error",W),this.destroyed){X();return}try{G()}catch{this._setupFakeWorker()}});const G=()=>{const Y=new Uint8Array;K.send("test",Y,[Y.buffer])};G();return}catch{(0,_util.info)("The worker has been disabled.")}}this._setupFakeWorker()}_setupFakeWorker(){PDFWorkerUtil.isWorkerDisabled||((0,_util.warn)("Setting up fake worker."),PDFWorkerUtil.isWorkerDisabled=!0),__PDFWorker._setupFakeWorkerGlobal.then(B=>{if(this.destroyed){this._readyCapability.reject(new Error("Worker was destroyed"));return}const q=new LoopbackPort;this._port=q;const K=`fake${PDFWorkerUtil.fakeWorkerId++}`,X=new _message_handler.MessageHandler(K+"_worker",K,q);B.setup(X,q);const W=new _message_handler.MessageHandler(K,K+"_worker",q);this._messageHandler=W,this._readyCapability.resolve(),W.send("configure",{verbosity:this.verbosity})}).catch(B=>{this._readyCapability.reject(new Error(`Setting up fake worker failed: "${B.message}".`))})}destroy(){var B;this.destroyed=!0,this._webWorker&&(this._webWorker.terminate(),this._webWorker=null),(B=V(__PDFWorker,U))==null||B.delete(this._port),this._port=null,this._messageHandler&&(this._messageHandler.destroy(),this._messageHandler=null)}static fromPort(B){var q;if(!(B!=null&&B.port))throw new Error("PDFWorker.fromPort - invalid method signature.");const K=(q=V(this,U))==null?void 0:q.get(B.port);if(K){if(K._pendingDestroy)throw new Error("PDFWorker.fromPort - the worker is being destroyed.\nPlease remember to await `PDFDocumentLoadingTask.destroy()`-calls.");return K}return new __PDFWorker(B)}static get workerSrc(){if(_worker_options.GlobalWorkerOptions.workerSrc)return _worker_options.GlobalWorkerOptions.workerSrc;if(PDFWorkerUtil.fallbackWorkerSrc!==null)return _util.isNodeJS||(0,_display_utils.deprecated)('No "GlobalWorkerOptions.workerSrc" specified.'),PDFWorkerUtil.fallbackWorkerSrc;throw new Error('No "GlobalWorkerOptions.workerSrc" specified.')}static get _mainThreadWorkerMessageHandler(){var B;try{return((B=globalThis.pdfjsWorker)==null?void 0:B.WorkerMessageHandler)||null}catch{return null}}static get _setupFakeWorkerGlobal(){const loader=async()=>{const mainWorkerMessageHandler=this._mainThreadWorkerMessageHandler;if(mainWorkerMessageHandler)return mainWorkerMessageHandler;if(_util.isNodeJS&&typeof nb=="function"){const worker=eval("require")(this.workerSrc);return worker.WorkerMessageHandler}return await(0,_display_utils.loadScript)(this.workerSrc),window.pdfjsWorker.WorkerMessageHandler};return(0,_util.shadow)(this,"_setupFakeWorkerGlobal",loader())}};U=new WeakMap,it(_PDFWorker,U);let PDFWorker=_PDFWorker;exports.PDFWorker=PDFWorker;class WorkerTransport{constructor(q,K,X,W,G){it(this,Q),it(this,be,new Map),it(this,ce,new Map),it(this,J,new Map),it(this,re,null),this.messageHandler=q,this.loadingTask=K,this.commonObjs=new PDFObjects,this.fontLoader=new _font_loader.FontLoader({ownerDocument:W.ownerDocument,styleElement:W.styleElement}),this._params=W,this.canvasFactory=G.canvasFactory,this.filterFactory=G.filterFactory,this.cMapReaderFactory=G.cMapReaderFactory,this.standardFontDataFactory=G.standardFontDataFactory,this.destroyed=!1,this.destroyCapability=null,this._networkStream=X,this._fullReader=null,this._lastProgress=null,this.downloadInfoCapability=new _util.PromiseCapability,this.setupMessageHandler()}get annotationStorage(){return(0,_util.shadow)(this,"annotationStorage",new _annotation_storage.AnnotationStorage)}getRenderingIntent(q,K=_util.AnnotationMode.ENABLE,X=null,W=!1){let G=_util.RenderingIntentFlag.DISPLAY,Y=_annotation_storage.SerializableEmpty;switch(q){case"any":G=_util.RenderingIntentFlag.ANY;break;case"display":break;case"print":G=_util.RenderingIntentFlag.PRINT;break;default:(0,_util.warn)(`getRenderingIntent - invalid intent: ${q}`)}switch(K){case _util.AnnotationMode.DISABLE:G+=_util.RenderingIntentFlag.ANNOTATIONS_DISABLE;break;case _util.AnnotationMode.ENABLE:break;case _util.AnnotationMode.ENABLE_FORMS:G+=_util.RenderingIntentFlag.ANNOTATIONS_FORMS;break;case _util.AnnotationMode.ENABLE_STORAGE:G+=_util.RenderingIntentFlag.ANNOTATIONS_STORAGE,Y=(G&_util.RenderingIntentFlag.PRINT&&X instanceof _annotation_storage.PrintAnnotationStorage?X:this.annotationStorage).serializable;break;default:(0,_util.warn)(`getRenderingIntent - invalid annotationMode: ${K}`)}return W&&(G+=_util.RenderingIntentFlag.OPLIST),{renderingIntent:G,cacheKey:`${G}_${Y.hash}`,annotationStorageSerializable:Y}}destroy(){var q;if(this.destroyCapability)return this.destroyCapability.promise;this.destroyed=!0,this.destroyCapability=new _util.PromiseCapability,(q=V(this,re))==null||q.reject(new Error("Worker was destroyed during onPassword callback"));const K=[];for(const W of V(this,ce).values())K.push(W._destroy());V(this,ce).clear(),V(this,J).clear(),this.hasOwnProperty("annotationStorage")&&this.annotationStorage.resetModified();const X=this.messageHandler.sendWithPromise("Terminate",null);return K.push(X),Promise.all(K).then(()=>{var W;this.commonObjs.clear(),this.fontLoader.clear(),V(this,be).clear(),this.filterFactory.destroy(),(W=this._networkStream)==null||W.cancelAllRequests(new _util.AbortException("Worker was terminated.")),this.messageHandler&&(this.messageHandler.destroy(),this.messageHandler=null),this.destroyCapability.resolve()},this.destroyCapability.reject),this.destroyCapability.promise}setupMessageHandler(){const{messageHandler:q,loadingTask:K}=this;q.on("GetReader",(X,W)=>{(0,_util.assert)(this._networkStream,"GetReader - no `IPDFStream` instance available."),this._fullReader=this._networkStream.getFullReader(),this._fullReader.onProgress=G=>{this._lastProgress={loaded:G.loaded,total:G.total}},W.onPull=()=>{this._fullReader.read().then(function({value:G,done:Y}){if(Y){W.close();return}(0,_util.assert)(G instanceof ArrayBuffer,"GetReader - expected an ArrayBuffer."),W.enqueue(new Uint8Array(G),1,[G])}).catch(G=>{W.error(G)})},W.onCancel=G=>{this._fullReader.cancel(G),W.ready.catch(Y=>{if(!this.destroyed)throw Y})}}),q.on("ReaderHeadersReady",X=>{const W=new _util.PromiseCapability,G=this._fullReader;return G.headersReady.then(()=>{var Y;(!G.isStreamingSupported||!G.isRangeSupported)&&(this._lastProgress&&((Y=K.onProgress)==null||Y.call(K,this._lastProgress)),G.onProgress=he=>{var Ce;(Ce=K.onProgress)==null||Ce.call(K,{loaded:he.loaded,total:he.total})}),W.resolve({isStreamingSupported:G.isStreamingSupported,isRangeSupported:G.isRangeSupported,contentLength:G.contentLength})},W.reject),W.promise}),q.on("GetRangeReader",(X,W)=>{(0,_util.assert)(this._networkStream,"GetRangeReader - no `IPDFStream` instance available.");const G=this._networkStream.getRangeReader(X.begin,X.end);if(!G){W.close();return}W.onPull=()=>{G.read().then(function({value:Y,done:he}){if(he){W.close();return}(0,_util.assert)(Y instanceof ArrayBuffer,"GetRangeReader - expected an ArrayBuffer."),W.enqueue(new Uint8Array(Y),1,[Y])}).catch(Y=>{W.error(Y)})},W.onCancel=Y=>{G.cancel(Y),W.ready.catch(he=>{if(!this.destroyed)throw he})}}),q.on("GetDoc",({pdfInfo:X})=>{this._numPages=X.numPages,this._htmlForXfa=X.htmlForXfa,delete X.htmlForXfa,K._capability.resolve(new PDFDocumentProxy(X,this))}),q.on("DocException",function(X){let W;switch(X.name){case"PasswordException":W=new _util.PasswordException(X.message,X.code);break;case"InvalidPDFException":W=new _util.InvalidPDFException(X.message);break;case"MissingPDFException":W=new _util.MissingPDFException(X.message);break;case"UnexpectedResponseException":W=new _util.UnexpectedResponseException(X.message,X.status);break;case"UnknownErrorException":W=new _util.UnknownErrorException(X.message,X.details);break;default:(0,_util.unreachable)("DocException - expected a valid Error.")}K._capability.reject(W)}),q.on("PasswordRequest",X=>{if(at(this,re,new _util.PromiseCapability),K.onPassword){const W=G=>{G instanceof Error?V(this,re).reject(G):V(this,re).resolve({password:G})};try{K.onPassword(W,X.code)}catch(G){V(this,re).reject(G)}}else V(this,re).reject(new _util.PasswordException(X.message,X.code));return V(this,re).promise}),q.on("DataLoaded",X=>{var W;(W=K.onProgress)==null||W.call(K,{loaded:X.length,total:X.length}),this.downloadInfoCapability.resolve(X)}),q.on("StartRenderPage",X=>{this.destroyed||V(this,ce).get(X.pageIndex)._startRenderPage(X.transparency,X.cacheKey)}),q.on("commonobj",([X,W,G])=>{var Y;if(!this.destroyed&&!this.commonObjs.has(X))switch(W){case"Font":const he=this._params;if("error"in G){const ae=G.error;(0,_util.warn)(`Error during font loading: ${ae}`),this.commonObjs.resolve(X,ae);break}const Ce=he.pdfBug&&(Y=globalThis.FontInspector)!=null&&Y.enabled?(ae,Ae)=>globalThis.FontInspector.fontAdded(ae,Ae):null,ke=new _font_loader.FontFaceObject(G,{isEvalSupported:he.isEvalSupported,disableFontFace:he.disableFontFace,ignoreErrors:he.ignoreErrors,inspectFont:Ce});this.fontLoader.bind(ke).catch(ae=>q.sendWithPromise("FontFallback",{id:X})).finally(()=>{!he.fontExtraProperties&&ke.data&&(ke.data=null),this.commonObjs.resolve(X,ke)});break;case"FontPath":case"Image":case"Pattern":this.commonObjs.resolve(X,G);break;default:throw new Error(`Got unknown common object type ${W}`)}}),q.on("obj",([X,W,G,Y])=>{var he;if(this.destroyed)return;const Ce=V(this,ce).get(W);if(!Ce.objs.has(X))switch(G){case"Image":if(Ce.objs.resolve(X,Y),Y){let ke;if(Y.bitmap){const{width:ae,height:Ae}=Y;ke=ae*Ae*4}else ke=((he=Y.data)==null?void 0:he.length)||0;ke>_util.MAX_IMAGE_SIZE_TO_CACHE&&(Ce._maybeCleanupAfterRender=!0)}break;case"Pattern":Ce.objs.resolve(X,Y);break;default:throw new Error(`Got unknown object type ${G}`)}}),q.on("DocProgress",X=>{var W;this.destroyed||(W=K.onProgress)==null||W.call(K,{loaded:X.loaded,total:X.total})}),q.on("FetchBuiltInCMap",X=>this.destroyed?Promise.reject(new Error("Worker was destroyed.")):this.cMapReaderFactory?this.cMapReaderFactory.fetch(X):Promise.reject(new Error("CMapReaderFactory not initialized, see the `useWorkerFetch` parameter."))),q.on("FetchStandardFontData",X=>this.destroyed?Promise.reject(new Error("Worker was destroyed.")):this.standardFontDataFactory?this.standardFontDataFactory.fetch(X):Promise.reject(new Error("StandardFontDataFactory not initialized, see the `useWorkerFetch` parameter.")))}getData(){return this.messageHandler.sendWithPromise("GetData",null)}saveDocument(){var q;this.annotationStorage.size<=0&&(0,_util.warn)("saveDocument called while `annotationStorage` is empty, please use the getData-method instead.");const{map:K,transfers:X}=this.annotationStorage.serializable;return this.messageHandler.sendWithPromise("SaveDocument",{isPureXfa:!!this._htmlForXfa,numPages:this._numPages,annotationStorage:K,filename:((q=this._fullReader)==null?void 0:q.filename)??null},X).finally(()=>{this.annotationStorage.resetModified()})}getPage(q){if(!Number.isInteger(q)||q<=0||q>this._numPages)return Promise.reject(new Error("Invalid page request."));const K=q-1,X=V(this,J).get(K);if(X)return X;const W=this.messageHandler.sendWithPromise("GetPage",{pageIndex:K}).then(G=>{if(this.destroyed)throw new Error("Transport destroyed");const Y=new PDFPageProxy(K,G,this,this._params.pdfBug);return V(this,ce).set(K,Y),Y});return V(this,J).set(K,W),W}getPageIndex(q){return typeof q!="object"||q===null||!Number.isInteger(q.num)||q.num<0||!Number.isInteger(q.gen)||q.gen<0?Promise.reject(new Error("Invalid pageIndex request.")):this.messageHandler.sendWithPromise("GetPageIndex",{num:q.num,gen:q.gen})}getAnnotations(q,K){return this.messageHandler.sendWithPromise("GetAnnotations",{pageIndex:q,intent:K})}getFieldObjects(){return Ue(this,Q,Hr).call(this,"GetFieldObjects")}hasJSActions(){return Ue(this,Q,Hr).call(this,"HasJSActions")}getCalculationOrderIds(){return this.messageHandler.sendWithPromise("GetCalculationOrderIds",null)}getDestinations(){return this.messageHandler.sendWithPromise("GetDestinations",null)}getDestination(q){return typeof q!="string"?Promise.reject(new Error("Invalid destination request.")):this.messageHandler.sendWithPromise("GetDestination",{id:q})}getPageLabels(){return this.messageHandler.sendWithPromise("GetPageLabels",null)}getPageLayout(){return this.messageHandler.sendWithPromise("GetPageLayout",null)}getPageMode(){return this.messageHandler.sendWithPromise("GetPageMode",null)}getViewerPreferences(){return this.messageHandler.sendWithPromise("GetViewerPreferences",null)}getOpenAction(){return this.messageHandler.sendWithPromise("GetOpenAction",null)}getAttachments(){return this.messageHandler.sendWithPromise("GetAttachments",null)}getDocJSActions(){return Ue(this,Q,Hr).call(this,"GetDocJSActions")}getPageJSActions(q){return this.messageHandler.sendWithPromise("GetPageJSActions",{pageIndex:q})}getStructTree(q){return this.messageHandler.sendWithPromise("GetStructTree",{pageIndex:q})}getOutline(){return this.messageHandler.sendWithPromise("GetOutline",null)}getOptionalContentConfig(){return this.messageHandler.sendWithPromise("GetOptionalContentConfig",null).then(q=>new _optional_content_config.OptionalContentConfig(q))}getPermissions(){return this.messageHandler.sendWithPromise("GetPermissions",null)}getMetadata(){const q="GetMetadata",K=V(this,be).get(q);if(K)return K;const X=this.messageHandler.sendWithPromise(q,null).then(W=>{var G,Y;return{info:W[0],metadata:W[1]?new _metadata.Metadata(W[1]):null,contentDispositionFilename:((G=this._fullReader)==null?void 0:G.filename)??null,contentLength:((Y=this._fullReader)==null?void 0:Y.contentLength)??null}});return V(this,be).set(q,X),X}getMarkInfo(){return this.messageHandler.sendWithPromise("GetMarkInfo",null)}async startCleanup(q=!1){if(!this.destroyed){await this.messageHandler.sendWithPromise("Cleanup",null);for(const K of V(this,ce).values())if(!K.cleanup())throw new Error(`startCleanup: Page ${K.pageNumber} is currently rendering.`);this.commonObjs.clear(),q||this.fontLoader.clear(),V(this,be).clear(),this.filterFactory.destroy(!0)}}get loadingParams(){const{disableAutoFetch:q,enableXfa:K}=this._params;return(0,_util.shadow)(this,"loadingParams",{disableAutoFetch:q,enableXfa:K})}}be=new WeakMap,ce=new WeakMap,J=new WeakMap,re=new WeakMap,Q=new WeakSet,Hr=function(B,q=null){const K=V(this,be).get(B);if(K)return K;const X=this.messageHandler.sendWithPromise(B,q);return V(this,be).set(B,X),X};class PDFObjects{constructor(){it(this,ie),it(this,ee,Object.create(null))}get(q,K=null){if(K){const W=Ue(this,ie,pi).call(this,q);return W.capability.promise.then(()=>K(W.data)),null}const X=V(this,ee)[q];if(!(X!=null&&X.capability.settled))throw new Error(`Requesting object that isn't resolved yet ${q}.`);return X.data}has(q){const K=V(this,ee)[q];return(K==null?void 0:K.capability.settled)||!1}resolve(q,K=null){const X=Ue(this,ie,pi).call(this,q);X.data=K,X.capability.resolve()}clear(){var q;for(const K in V(this,ee)){const{data:X}=V(this,ee)[K];(q=X==null?void 0:X.bitmap)==null||q.close()}at(this,ee,Object.create(null))}}ee=new WeakMap,ie=new WeakSet,pi=function(B){var q;return(q=V(this,ee))[B]||(q[B]={capability:new _util.PromiseCapability,data:null})};class RenderTask{constructor(q){it(this,de,null),at(this,de,q),this.onContinue=null}get promise(){return V(this,de).capability.promise}cancel(q=0){V(this,de).cancel(null,q)}get separateAnnots(){const{separateAnnots:q}=V(this,de).operatorList;if(!q)return!1;const{annotationCanvasMap:K}=V(this,de);return q.form||q.canvas&&(K==null?void 0:K.size)>0}}de=new WeakMap,exports.RenderTask=RenderTask;const se=class jr{constructor({callback:q,params:K,objs:X,commonObjs:W,annotationCanvasMap:G,operatorList:Y,pageIndex:he,canvasFactory:Ce,filterFactory:ke,useRequestAnimationFrame:ae=!1,pdfBug:Ae=!1,pageColors:ge=null}){this.callback=q,this.params=K,this.objs=X,this.commonObjs=W,this.annotationCanvasMap=G,this.operatorListIdx=null,this.operatorList=Y,this._pageIndex=he,this.canvasFactory=Ce,this.filterFactory=ke,this._pdfBug=Ae,this.pageColors=ge,this.running=!1,this.graphicsReadyCallback=null,this.graphicsReady=!1,this._useRequestAnimationFrame=ae===!0&&typeof window<"u",this.cancelled=!1,this.capability=new _util.PromiseCapability,this.task=new RenderTask(this),this._cancelBound=this.cancel.bind(this),this._continueBound=this._continue.bind(this),this._scheduleNextBound=this._scheduleNext.bind(this),this._nextBound=this._next.bind(this),this._canvas=K.canvasContext.canvas}get completed(){return this.capability.promise.catch(function(){})}initializeGraphics({transparency:q=!1,optionalContentConfig:K}){var X,W;if(this.cancelled)return;if(this._canvas){if(V(jr,te).has(this._canvas))throw new Error("Cannot use the same canvas during multiple render() operations. Use different canvas or ensure previous operations were cancelled or completed.");V(jr,te).add(this._canvas)}this._pdfBug&&(X=globalThis.StepperManager)!=null&&X.enabled&&(this.stepper=globalThis.StepperManager.create(this._pageIndex),this.stepper.init(this.operatorList),this.stepper.nextBreakPoint=this.stepper.getNextBreakPoint());const{canvasContext:G,viewport:Y,transform:he,background:Ce}=this.params;this.gfx=new _canvas.CanvasGraphics(G,this.commonObjs,this.objs,this.canvasFactory,this.filterFactory,{optionalContentConfig:K},this.annotationCanvasMap,this.pageColors),this.gfx.beginDrawing({transform:he,viewport:Y,transparency:q,background:Ce}),this.operatorListIdx=0,this.graphicsReady=!0,(W=this.graphicsReadyCallback)==null||W.call(this)}cancel(q=null,K=0){var X;this.running=!1,this.cancelled=!0,(X=this.gfx)==null||X.endDrawing(),V(jr,te).delete(this._canvas),this.callback(q||new _display_utils.RenderingCancelledException(`Rendering cancelled, page ${this._pageIndex+1}`,K))}operatorListChanged(){var q;if(!this.graphicsReady){this.graphicsReadyCallback||(this.graphicsReadyCallback=this._continueBound);return}(q=this.stepper)==null||q.updateOperatorList(this.operatorList),!this.running&&this._continue()}_continue(){this.running=!0,!this.cancelled&&(this.task.onContinue?this.task.onContinue(this._scheduleNextBound):this._scheduleNext())}_scheduleNext(){this._useRequestAnimationFrame?window.requestAnimationFrame(()=>{this._nextBound().catch(this._cancelBound)}):Promise.resolve().then(this._nextBound).catch(this._cancelBound)}async _next(){this.cancelled||(this.operatorListIdx=this.gfx.executeOperatorList(this.operatorList,this.operatorListIdx,this._continueBound,this.stepper),this.operatorListIdx===this.operatorList.argsArray.length&&(this.running=!1,this.operatorList.lastChunk&&(this.gfx.endDrawing(),V(jr,te).delete(this._canvas),this.callback())))}};te=new WeakMap,it(se,te,new WeakSet);let InternalRenderTask=se;const version="3.11.174";exports.version=version;const build="ce8716743";exports.build=build},(B,q,K)=>{var X,W,G,Y,he;Object.defineProperty(q,"__esModule",{value:!0}),q.SerializableEmpty=q.PrintAnnotationStorage=q.AnnotationStorage=void 0;var Ce=K(1),ke=K(4),ae=K(8);const Ae=Object.freeze({map:null,hash:"",transfers:void 0});q.SerializableEmpty=Ae;class ge{constructor(){it(this,G),it(this,X,!1),it(this,W,new Map),this.onSetModified=null,this.onResetModified=null,this.onAnnotationEditor=null}getValue(we,fe){const ne=V(this,W).get(we);return ne===void 0?fe:Object.assign(fe,ne)}getRawValue(we){return V(this,W).get(we)}remove(we){if(V(this,W).delete(we),V(this,W).size===0&&this.resetModified(),typeof this.onAnnotationEditor=="function"){for(const fe of V(this,W).values())if(fe instanceof ke.AnnotationEditor)return;this.onAnnotationEditor(null)}}setValue(we,fe){const ne=V(this,W).get(we);let Se=!1;if(ne!==void 0)for(const[Le,Me]of Object.entries(fe))ne[Le]!==Me&&(Se=!0,ne[Le]=Me);else Se=!0,V(this,W).set(we,fe);Se&&Ue(this,G,Y).call(this),fe instanceof ke.AnnotationEditor&&typeof this.onAnnotationEditor=="function"&&this.onAnnotationEditor(fe.constructor._type)}has(we){return V(this,W).has(we)}getAll(){return V(this,W).size>0?(0,Ce.objectFromMap)(V(this,W)):null}setAll(we){for(const[fe,ne]of Object.entries(we))this.setValue(fe,ne)}get size(){return V(this,W).size}resetModified(){V(this,X)&&(at(this,X,!1),typeof this.onResetModified=="function"&&this.onResetModified())}get print(){return new ve(this)}get serializable(){if(V(this,W).size===0)return Ae;const we=new Map,fe=new ae.MurmurHash3_64,ne=[],Se=Object.create(null);let Le=!1;for(const[Me,Ee]of V(this,W)){const Pe=Ee instanceof ke.AnnotationEditor?Ee.serialize(!1,Se):Ee;Pe&&(we.set(Me,Pe),fe.update(`${Me}:${JSON.stringify(Pe)}`),Le||(Le=!!Pe.bitmap))}if(Le)for(const Me of we.values())Me.bitmap&&ne.push(Me.bitmap);return we.size>0?{map:we,hash:fe.hexdigest(),transfers:ne}:Ae}}X=new WeakMap,W=new WeakMap,G=new WeakSet,Y=function(){V(this,X)||(at(this,X,!0),typeof this.onSetModified=="function"&&this.onSetModified())},q.AnnotationStorage=ge;class ve extends ge{constructor(we){super(),it(this,he);const{map:fe,hash:ne,transfers:Se}=we.serializable,Le=structuredClone(fe,Se?{transfer:Se}:null);at(this,he,{map:Le,hash:ne,transfers:Se})}get print(){(0,Ce.unreachable)("Should not call PrintAnnotationStorage.print")}get serializable(){return V(this,he)}}he=new WeakMap,q.PrintAnnotationStorage=ve},(B,q,K)=>{var X,W,G,Y,he,Ce,ke,ae,Ae,ge,ve,xe,we,fe,ne,Se,Le,Me,Ee,Pe,Ve,Ke,ze,rt,ye;Object.defineProperty(q,"__esModule",{value:!0}),q.AnnotationEditor=void 0;var ot=K(5),Ye=K(1),He=K(6);const Qe=class mr{constructor(Ne){it(this,ne),it(this,X,""),it(this,W,!1),it(this,G,null),it(this,Y,null),it(this,he,null),it(this,Ce,!1),it(this,ke,null),it(this,ae,this.focusin.bind(this)),it(this,Ae,this.focusout.bind(this)),it(this,ge,!1),it(this,ve,!1),it(this,xe,!1),$n(this,"_initialOptions",Object.create(null)),$n(this,"_uiManager",null),$n(this,"_focusEventsAllowed",!0),$n(this,"_l10nPromise",null),it(this,we,!1),it(this,fe,mr._zIndex++),this.constructor===mr&&(0,Ye.unreachable)("Cannot initialize AnnotationEditor."),this.parent=Ne.parent,this.id=Ne.id,this.width=this.height=null,this.pageIndex=Ne.parent.pageIndex,this.name=Ne.name,this.div=null,this._uiManager=Ne.uiManager,this.annotationElementId=null,this._willKeepAspectRatio=!1,this._initialOptions.isCentered=Ne.isCentered,this._structTreeParentId=null;const{rotation:tt,rawDims:{pageWidth:dt,pageHeight:Oe,pageX:_e,pageY:pe}}=this.parent.viewport;this.rotation=tt,this.pageRotation=(360+tt-this._uiManager.viewParameters.rotation)%360,this.pageDimensions=[dt,Oe],this.pageTranslation=[_e,pe];const[Fe,je]=this.parentDimensions;this.x=Ne.x/Fe,this.y=Ne.y/je,this.isAttachedToDOM=!1,this.deleted=!1}get editorType(){return Object.getPrototypeOf(this).constructor._type}static get _defaultLineColor(){return(0,Ye.shadow)(this,"_defaultLineColor",this._colorManager.getHexCode("CanvasText"))}static deleteAnnotationElement(Ne){const tt=new ut({id:Ne.parent.getNextId(),parent:Ne.parent,uiManager:Ne._uiManager});tt.annotationElementId=Ne.annotationElementId,tt.deleted=!0,tt._uiManager.addToAnnotationStorage(tt)}static initialize(Ne,tt=null){if(mr._l10nPromise||(mr._l10nPromise=new Map(["editor_alt_text_button_label","editor_alt_text_edit_button_label","editor_alt_text_decorative_tooltip"].map(Oe=>[Oe,Ne.get(Oe)]))),tt!=null&&tt.strings)for(const Oe of tt.strings)mr._l10nPromise.set(Oe,Ne.get(Oe));if(mr._borderLineWidth!==-1)return;const dt=getComputedStyle(document.documentElement);mr._borderLineWidth=parseFloat(dt.getPropertyValue("--outline-width"))||0}static updateDefaultParams(Ne,tt){}static get defaultPropertiesToUpdate(){return[]}static isHandlingMimeForPasting(Ne){return!1}static paste(Ne,tt){(0,Ye.unreachable)("Not implemented")}get propertiesToUpdate(){return[]}get _isDraggable(){return V(this,we)}set _isDraggable(Ne){var tt;at(this,we,Ne),(tt=this.div)==null||tt.classList.toggle("draggable",Ne)}center(){const[Ne,tt]=this.pageDimensions;switch(this.parentRotation){case 90:this.x-=this.height*tt/(Ne*2),this.y+=this.width*Ne/(tt*2);break;case 180:this.x+=this.width/2,this.y+=this.height/2;break;case 270:this.x+=this.height*tt/(Ne*2),this.y-=this.width*Ne/(tt*2);break;default:this.x-=this.width/2,this.y-=this.height/2;break}this.fixAndSetPosition()}addCommands(Ne){this._uiManager.addCommands(Ne)}get currentLayer(){return this._uiManager.currentLayer}setInBackground(){this.div.style.zIndex=0}setInForeground(){this.div.style.zIndex=V(this,fe)}setParent(Ne){Ne!==null&&(this.pageIndex=Ne.pageIndex,this.pageDimensions=Ne.pageDimensions),this.parent=Ne}focusin(Ne){this._focusEventsAllowed&&(V(this,ge)?at(this,ge,!1):this.parent.setSelected(this))}focusout(Ne){var tt;if(!this._focusEventsAllowed||!this.isAttachedToDOM)return;const dt=Ne.relatedTarget;dt!=null&&dt.closest(`#${this.id}`)||(Ne.preventDefault(),(tt=this.parent)!=null&&tt.isMultipleSelection||this.commitOrRemove())}commitOrRemove(){this.isEmpty()?this.remove():this.commit()}commit(){this.addToAnnotationStorage()}addToAnnotationStorage(){this._uiManager.addToAnnotationStorage(this)}setAt(Ne,tt,dt,Oe){const[_e,pe]=this.parentDimensions;[dt,Oe]=this.screenToPageTranslation(dt,Oe),this.x=(Ne+dt)/_e,this.y=(tt+Oe)/pe,this.fixAndSetPosition()}translate(Ne,tt){Ue(this,ne,Se).call(this,this.parentDimensions,Ne,tt)}translateInPage(Ne,tt){Ue(this,ne,Se).call(this,this.pageDimensions,Ne,tt),this.div.scrollIntoView({block:"nearest"})}drag(Ne,tt){const[dt,Oe]=this.parentDimensions;if(this.x+=Ne/dt,this.y+=tt/Oe,this.parent&&(this.x<0||this.x>1||this.y<0||this.y>1)){const{x:Ie,y:qe}=this.div.getBoundingClientRect();this.parent.findNewParent(this,Ie,qe)&&(this.x-=Math.floor(this.x),this.y-=Math.floor(this.y))}let{x:_e,y:pe}=this;const[Fe,je]=Ue(this,ne,Le).call(this);_e+=Fe,pe+=je,this.div.style.left=`${(100*_e).toFixed(2)}%`,this.div.style.top=`${(100*pe).toFixed(2)}%`,this.div.scrollIntoView({block:"nearest"})}fixAndSetPosition(){const[Ne,tt]=this.pageDimensions;let{x:dt,y:Oe,width:_e,height:pe}=this;switch(_e*=Ne,pe*=tt,dt*=Ne,Oe*=tt,this.rotation){case 0:dt=Math.max(0,Math.min(Ne-_e,dt)),Oe=Math.max(0,Math.min(tt-pe,Oe));break;case 90:dt=Math.max(0,Math.min(Ne-pe,dt)),Oe=Math.min(tt,Math.max(_e,Oe));break;case 180:dt=Math.min(Ne,Math.max(_e,dt)),Oe=Math.min(tt,Math.max(pe,Oe));break;case 270:dt=Math.min(Ne,Math.max(pe,dt)),Oe=Math.max(0,Math.min(tt-_e,Oe));break}this.x=dt/=Ne,this.y=Oe/=tt;const[Fe,je]=Ue(this,ne,Le).call(this);dt+=Fe,Oe+=je;const{style:Ie}=this.div;Ie.left=`${(100*dt).toFixed(2)}%`,Ie.top=`${(100*Oe).toFixed(2)}%`,this.moveInDOM()}screenToPageTranslation(Ne,tt){var dt;return Ue(dt=mr,Me,Ee).call(dt,Ne,tt,this.parentRotation)}pageTranslationToScreen(Ne,tt){var dt;return Ue(dt=mr,Me,Ee).call(dt,Ne,tt,360-this.parentRotation)}get parentScale(){return this._uiManager.viewParameters.realScale}get parentRotation(){return(this._uiManager.viewParameters.rotation+this.pageRotation)%360}get parentDimensions(){const{parentScale:Ne,pageDimensions:[tt,dt]}=this,Oe=tt*Ne,_e=dt*Ne;return Ye.FeatureTest.isCSSRoundSupported?[Math.round(Oe),Math.round(_e)]:[Oe,_e]}setDims(Ne,tt){var dt;const[Oe,_e]=this.parentDimensions;this.div.style.width=`${(100*Ne/Oe).toFixed(2)}%`,V(this,Ce)||(this.div.style.height=`${(100*tt/_e).toFixed(2)}%`),(dt=V(this,G))==null||dt.classList.toggle("small",Ne<mr.SMALL_EDITOR_SIZE||tt<mr.SMALL_EDITOR_SIZE)}fixDims(){const{style:Ne}=this.div,{height:tt,width:dt}=Ne,Oe=dt.endsWith("%"),_e=!V(this,Ce)&&tt.endsWith("%");if(Oe&&_e)return;const[pe,Fe]=this.parentDimensions;Oe||(Ne.width=`${(100*parseFloat(dt)/pe).toFixed(2)}%`),!V(this,Ce)&&!_e&&(Ne.height=`${(100*parseFloat(tt)/Fe).toFixed(2)}%`)}getInitialTranslation(){return[0,0]}async addAltTextButton(){if(V(this,G))return;const Ne=at(this,G,document.createElement("button"));Ne.className="altText";const tt=await mr._l10nPromise.get("editor_alt_text_button_label");Ne.textContent=tt,Ne.setAttribute("aria-label",tt),Ne.tabIndex="0",Ne.addEventListener("contextmenu",He.noContextMenu),Ne.addEventListener("pointerdown",dt=>dt.stopPropagation()),Ne.addEventListener("click",dt=>{dt.preventDefault(),this._uiManager.editAltText(this)},{capture:!0}),Ne.addEventListener("keydown",dt=>{dt.target===Ne&&dt.key==="Enter"&&(dt.preventDefault(),this._uiManager.editAltText(this))}),Ue(this,ne,rt).call(this),this.div.append(Ne),mr.SMALL_EDITOR_SIZE||(mr.SMALL_EDITOR_SIZE=Math.min(128,Math.round(Ne.getBoundingClientRect().width*1.4)))}getClientDimensions(){return this.div.getBoundingClientRect()}get altTextData(){return{altText:V(this,X),decorative:V(this,W)}}set altTextData({altText:Ne,decorative:tt}){V(this,X)===Ne&&V(this,W)===tt||(at(this,X,Ne),at(this,W,tt),Ue(this,ne,rt).call(this))}render(){this.div=document.createElement("div"),this.div.setAttribute("data-editor-rotation",(360-this.rotation)%360),this.div.className=this.name,this.div.setAttribute("id",this.id),this.div.setAttribute("tabIndex",0),this.setInForeground(),this.div.addEventListener("focusin",V(this,ae)),this.div.addEventListener("focusout",V(this,Ae));const[Ne,tt]=this.parentDimensions;this.parentRotation%180!==0&&(this.div.style.maxWidth=`${(100*tt/Ne).toFixed(2)}%`,this.div.style.maxHeight=`${(100*Ne/tt).toFixed(2)}%`);const[dt,Oe]=this.getInitialTranslation();return this.translate(dt,Oe),(0,ot.bindEvents)(this,this.div,["pointerdown"]),this.div}pointerdown(Ne){const{isMac:tt}=Ye.FeatureTest.platform;if(Ne.button!==0||Ne.ctrlKey&&tt){Ne.preventDefault();return}at(this,ge,!0),Ue(this,ne,ye).call(this,Ne)}moveInDOM(){var Ne;(Ne=this.parent)==null||Ne.moveEditorInDOM(this)}_setParentAndPosition(Ne,tt,dt){Ne.changeParent(this),this.x=tt,this.y=dt,this.fixAndSetPosition()}getRect(Ne,tt){const dt=this.parentScale,[Oe,_e]=this.pageDimensions,[pe,Fe]=this.pageTranslation,je=Ne/dt,Ie=tt/dt,qe=this.x*Oe,Ge=this.y*_e,gt=this.width*Oe,Pt=this.height*_e;switch(this.rotation){case 0:return[qe+je+pe,_e-Ge-Ie-Pt+Fe,qe+je+gt+pe,_e-Ge-Ie+Fe];case 90:return[qe+Ie+pe,_e-Ge+je+Fe,qe+Ie+Pt+pe,_e-Ge+je+gt+Fe];case 180:return[qe-je-gt+pe,_e-Ge+Ie+Fe,qe-je+pe,_e-Ge+Ie+Pt+Fe];case 270:return[qe-Ie-Pt+pe,_e-Ge-je-gt+Fe,qe-Ie+pe,_e-Ge-je+Fe];default:throw new Error("Invalid rotation")}}getRectInCurrentCoords(Ne,tt){const[dt,Oe,_e,pe]=Ne,Fe=_e-dt,je=pe-Oe;switch(this.rotation){case 0:return[dt,tt-pe,Fe,je];case 90:return[dt,tt-Oe,je,Fe];case 180:return[_e,tt-Oe,Fe,je];case 270:return[_e,tt-pe,je,Fe];default:throw new Error("Invalid rotation")}}onceAdded(){}isEmpty(){return!1}enableEditMode(){at(this,xe,!0)}disableEditMode(){at(this,xe,!1)}isInEditMode(){return V(this,xe)}shouldGetKeyboardEvents(){return!1}needsToBeRebuilt(){return this.div&&!this.isAttachedToDOM}rebuild(){var Ne,tt;(Ne=this.div)==null||Ne.addEventListener("focusin",V(this,ae)),(tt=this.div)==null||tt.addEventListener("focusout",V(this,Ae))}serialize(Ne=!1,tt=null){(0,Ye.unreachable)("An editor must be serializable")}static deserialize(Ne,tt,dt){const Oe=new this.prototype.constructor({parent:tt,id:tt.getNextId(),uiManager:dt});Oe.rotation=Ne.rotation;const[_e,pe]=Oe.pageDimensions,[Fe,je,Ie,qe]=Oe.getRectInCurrentCoords(Ne.rect,pe);return Oe.x=Fe/_e,Oe.y=je/pe,Oe.width=Ie/_e,Oe.height=qe/pe,Oe}remove(){var Ne;this.div.removeEventListener("focusin",V(this,ae)),this.div.removeEventListener("focusout",V(this,Ae)),this.isEmpty()||this.commit(),this.parent?this.parent.remove(this):this._uiManager.removeEditor(this),(Ne=V(this,G))==null||Ne.remove(),at(this,G,null),at(this,Y,null)}get isResizable(){return!1}makeResizable(){this.isResizable&&(Ue(this,ne,Ve).call(this),V(this,ke).classList.remove("hidden"))}select(){var Ne;this.makeResizable(),(Ne=this.div)==null||Ne.classList.add("selectedEditor")}unselect(){var Ne,tt,dt;(Ne=V(this,ke))==null||Ne.classList.add("hidden"),(tt=this.div)==null||tt.classList.remove("selectedEditor"),(dt=this.div)!=null&&dt.contains(document.activeElement)&&this._uiManager.currentLayer.div.focus()}updateParams(Ne,tt){}disableEditing(){V(this,G)&&(V(this,G).hidden=!0)}enableEditing(){V(this,G)&&(V(this,G).hidden=!1)}enterInEditMode(){}get contentDiv(){return this.div}get isEditing(){return V(this,ve)}set isEditing(Ne){at(this,ve,Ne),this.parent&&(Ne?(this.parent.setSelected(this),this.parent.setActiveEditor(this)):this.parent.setActiveEditor(null))}setAspectRatio(Ne,tt){at(this,Ce,!0);const dt=Ne/tt,{style:Oe}=this.div;Oe.aspectRatio=dt,Oe.height="auto"}static get MIN_SIZE(){return 16}};X=new WeakMap,W=new WeakMap,G=new WeakMap,Y=new WeakMap,he=new WeakMap,Ce=new WeakMap,ke=new WeakMap,ae=new WeakMap,Ae=new WeakMap,ge=new WeakMap,ve=new WeakMap,xe=new WeakMap,we=new WeakMap,fe=new WeakMap,ne=new WeakSet,Se=function([_t,Ne],tt,dt){[tt,dt]=this.screenToPageTranslation(tt,dt),this.x+=tt/_t,this.y+=dt/Ne,this.fixAndSetPosition()},Le=function(){const[_t,Ne]=this.parentDimensions,{_borderLineWidth:tt}=Qe,dt=tt/_t,Oe=tt/Ne;switch(this.rotation){case 90:return[-dt,Oe];case 180:return[dt,Oe];case 270:return[dt,-Oe];default:return[-dt,-Oe]}},Me=new WeakSet,Ee=function(_t,Ne,tt){switch(tt){case 90:return[Ne,-_t];case 180:return[-_t,-Ne];case 270:return[-Ne,_t];default:return[_t,Ne]}},Pe=function(_t){switch(_t){case 90:{const[Ne,tt]=this.pageDimensions;return[0,-Ne/tt,tt/Ne,0]}case 180:return[-1,0,0,-1];case 270:{const[Ne,tt]=this.pageDimensions;return[0,Ne/tt,-tt/Ne,0]}default:return[1,0,0,1]}},Ve=function(){if(V(this,ke))return;at(this,ke,document.createElement("div")),V(this,ke).classList.add("resizers");const _t=["topLeft","topRight","bottomRight","bottomLeft"];this._willKeepAspectRatio||_t.push("topMiddle","middleRight","bottomMiddle","middleLeft");for(const Ne of _t){const tt=document.createElement("div");V(this,ke).append(tt),tt.classList.add("resizer",Ne),tt.addEventListener("pointerdown",Ue(this,ne,Ke).bind(this,Ne)),tt.addEventListener("contextmenu",He.noContextMenu)}this.div.prepend(V(this,ke))},Ke=function(_t,Ne){Ne.preventDefault();const{isMac:tt}=Ye.FeatureTest.platform;if(Ne.button!==0||Ne.ctrlKey&&tt)return;const dt=Ue(this,ne,ze).bind(this,_t),Oe=this._isDraggable;this._isDraggable=!1;const _e={passive:!0,capture:!0};window.addEventListener("pointermove",dt,_e);const pe=this.x,Fe=this.y,je=this.width,Ie=this.height,qe=this.parent.div.style.cursor,Ge=this.div.style.cursor;this.div.style.cursor=this.parent.div.style.cursor=window.getComputedStyle(Ne.target).cursor;const gt=()=>{this._isDraggable=Oe,window.removeEventListener("pointerup",gt),window.removeEventListener("blur",gt),window.removeEventListener("pointermove",dt,_e),this.parent.div.style.cursor=qe,this.div.style.cursor=Ge;const Pt=this.x,Ct=this.y,ht=this.width,$t=this.height;Pt===pe&&Ct===Fe&&ht===je&&$t===Ie||this.addCommands({cmd:()=>{this.width=ht,this.height=$t,this.x=Pt,this.y=Ct;const[Vt,De]=this.parentDimensions;this.setDims(Vt*ht,De*$t),this.fixAndSetPosition()},undo:()=>{this.width=je,this.height=Ie,this.x=pe,this.y=Fe;const[Vt,De]=this.parentDimensions;this.setDims(Vt*je,De*Ie),this.fixAndSetPosition()},mustExec:!0})};window.addEventListener("pointerup",gt),window.addEventListener("blur",gt)},ze=function(_t,Ne){const[tt,dt]=this.parentDimensions,Oe=this.x,_e=this.y,pe=this.width,Fe=this.height,je=Qe.MIN_SIZE/tt,Ie=Qe.MIN_SIZE/dt,qe=sn=>Math.round(sn*1e4)/1e4,Ge=Ue(this,ne,Pe).call(this,this.rotation),gt=(sn,rn)=>[Ge[0]*sn+Ge[2]*rn,Ge[1]*sn+Ge[3]*rn],Pt=Ue(this,ne,Pe).call(this,360-this.rotation),Ct=(sn,rn)=>[Pt[0]*sn+Pt[2]*rn,Pt[1]*sn+Pt[3]*rn];let ht,$t,Vt=!1,De=!1;switch(_t){case"topLeft":Vt=!0,ht=(sn,rn)=>[0,0],$t=(sn,rn)=>[sn,rn];break;case"topMiddle":ht=(sn,rn)=>[sn/2,0],$t=(sn,rn)=>[sn/2,rn];break;case"topRight":Vt=!0,ht=(sn,rn)=>[sn,0],$t=(sn,rn)=>[0,rn];break;case"middleRight":De=!0,ht=(sn,rn)=>[sn,rn/2],$t=(sn,rn)=>[0,rn/2];break;case"bottomRight":Vt=!0,ht=(sn,rn)=>[sn,rn],$t=(sn,rn)=>[0,0];break;case"bottomMiddle":ht=(sn,rn)=>[sn/2,rn],$t=(sn,rn)=>[sn/2,0];break;case"bottomLeft":Vt=!0,ht=(sn,rn)=>[0,rn],$t=(sn,rn)=>[sn,0];break;case"middleLeft":De=!0,ht=(sn,rn)=>[0,rn/2],$t=(sn,rn)=>[sn,rn/2];break}const Re=ht(pe,Fe),Be=$t(pe,Fe);let Ze=gt(...Be);const ct=qe(Oe+Ze[0]),Mt=qe(_e+Ze[1]);let Rt=1,Et=1,[At,jt]=this.screenToPageTranslation(Ne.movementX,Ne.movementY);if([At,jt]=Ct(At/tt,jt/dt),Vt){const sn=Math.hypot(pe,Fe);Rt=Et=Math.max(Math.min(Math.hypot(Be[0]-Re[0]-At,Be[1]-Re[1]-jt)/sn,1/pe,1/Fe),je/pe,Ie/Fe)}else De?Rt=Math.max(je,Math.min(1,Math.abs(Be[0]-Re[0]-At)))/pe:Et=Math.max(Ie,Math.min(1,Math.abs(Be[1]-Re[1]-jt)))/Fe;const Qt=qe(pe*Rt),Gt=qe(Fe*Et);Ze=gt(...$t(Qt,Gt));const Jt=ct-Ze[0],cn=Mt-Ze[1];this.width=Qt,this.height=Gt,this.x=Jt,this.y=cn,this.setDims(tt*Qt,dt*Gt),this.fixAndSetPosition()},rt=async function(){var _t;const Ne=V(this,G);if(!Ne)return;if(!V(this,X)&&!V(this,W)){Ne.classList.remove("done"),(_t=V(this,Y))==null||_t.remove();return}Qe._l10nPromise.get("editor_alt_text_edit_button_label").then(dt=>{Ne.setAttribute("aria-label",dt)});let tt=V(this,Y);if(!tt){at(this,Y,tt=document.createElement("span")),tt.className="tooltip",tt.setAttribute("role","tooltip");const dt=tt.id=`alt-text-tooltip-${this.id}`;Ne.setAttribute("aria-describedby",dt);const Oe=100;Ne.addEventListener("mouseenter",()=>{at(this,he,setTimeout(()=>{at(this,he,null),V(this,Y).classList.add("show"),this._uiManager._eventBus.dispatch("reporttelemetry",{source:this,details:{type:"editing",subtype:this.editorType,data:{action:"alt_text_tooltip"}}})},Oe))}),Ne.addEventListener("mouseleave",()=>{var _e;clearTimeout(V(this,he)),at(this,he,null),(_e=V(this,Y))==null||_e.classList.remove("show")})}Ne.classList.add("done"),tt.innerText=V(this,W)?await Qe._l10nPromise.get("editor_alt_text_decorative_tooltip"):V(this,X),tt.parentNode||Ne.append(tt)},ye=function(_t){if(!this._isDraggable)return;const Ne=this._uiManager.isSelected(this);this._uiManager.setUpDragSession();let tt,dt;Ne&&(tt={passive:!0,capture:!0},dt=_e=>{const[pe,Fe]=this.screenToPageTranslation(_e.movementX,_e.movementY);this._uiManager.dragSelectedEditors(pe,Fe)},window.addEventListener("pointermove",dt,tt));const Oe=()=>{if(window.removeEventListener("pointerup",Oe),window.removeEventListener("blur",Oe),Ne&&window.removeEventListener("pointermove",dt,tt),at(this,ge,!1),!this._uiManager.endDragSession()){const{isMac:_e}=Ye.FeatureTest.platform;_t.ctrlKey&&!_e||_t.shiftKey||_t.metaKey&&_e?this.parent.toggleSelected(this):this.parent.setSelected(this)}};window.addEventListener("pointerup",Oe),window.addEventListener("blur",Oe)},it(Qe,Me),$n(Qe,"_borderLineWidth",-1),$n(Qe,"_colorManager",new ot.ColorManager),$n(Qe,"_zIndex",1),$n(Qe,"SMALL_EDITOR_SIZE",0);let yt=Qe;q.AnnotationEditor=yt;class ut extends yt{constructor(Ne){super(Ne),this.annotationElementId=Ne.annotationElementId,this.deleted=!0}serialize(){return{id:this.annotationElementId,deleted:!0,pageIndex:this.pageIndex}}}},(B,q,K)=>{var X,W,G,Y,he,Ce,ke,ae,Ae,ge,ve,xe,we,fe,ne,Se,Le,Me,Ee,Pe,Ve,Ke,ze,rt,ye,ot,Ye,He,Qe,yt,ut,_t,Ne,tt,dt,Oe,_e,pe,Fe,je,Ie,qe,Ge,gt,Pt,Ct,ht,$t,Vt,De,Re,Be,Ze,ct,Mt,Rt,Et,At,jt,Qt;Object.defineProperty(q,"__esModule",{value:!0}),q.KeyboardManager=q.CommandManager=q.ColorManager=q.AnnotationEditorUIManager=void 0,q.bindEvents=cn,q.opacityToHex=sn;var Gt=K(1),Jt=K(6);function cn(Kt,Je,Tt){for(const Xt of Tt)Je.addEventListener(Xt,Kt[Xt].bind(Kt))}function sn(Kt){return Math.round(Math.min(255,Math.max(1,255*Kt))).toString(16).padStart(2,"0")}class rn{constructor(){it(this,X,0)}getId(){return`${Gt.AnnotationEditorPrefix}${Cr(this,X)._++}`}}X=new WeakMap;const In=class{constructor(){it(this,he),it(this,W,(0,Gt.getUuid)()),it(this,G,0),it(this,Y,null)}static get _isSVGFittingCanvas(){const Je='data:image/svg+xml;charset=UTF-8,<svg viewBox="0 0 1 1" width="1" height="1" xmlns="http://www.w3.org/2000/svg"><rect width="1" height="1" style="fill:red;"/></svg>',Tt=new OffscreenCanvas(1,3).getContext("2d"),Xt=new Image;Xt.src=Je;const pn=Xt.decode().then(()=>(Tt.drawImage(Xt,0,0,1,1,0,0,1,3),new Uint32Array(Tt.getImageData(0,0,1,1).data.buffer)[0]===0));return(0,Gt.shadow)(this,"_isSVGFittingCanvas",pn)}async getFromFile(Je){const{lastModified:Tt,name:Xt,size:pn,type:an}=Je;return Ue(this,he,Ce).call(this,`${Tt}_${Xt}_${pn}_${an}`,Je)}async getFromUrl(Je){return Ue(this,he,Ce).call(this,Je,Je)}async getFromId(Je){V(this,Y)||at(this,Y,new Map);const Tt=V(this,Y).get(Je);return Tt?Tt.bitmap?(Tt.refCounter+=1,Tt):Tt.file?this.getFromFile(Tt.file):this.getFromUrl(Tt.url):null}getSvgUrl(Je){const Tt=V(this,Y).get(Je);return Tt!=null&&Tt.isSvg?Tt.svgUrl:null}deleteId(Je){V(this,Y)||at(this,Y,new Map);const Tt=V(this,Y).get(Je);Tt&&(Tt.refCounter-=1,Tt.refCounter===0&&(Tt.bitmap=null))}isValidId(Je){return Je.startsWith(`image_${V(this,W)}_`)}};W=new WeakMap,G=new WeakMap,Y=new WeakMap,he=new WeakSet,Ce=async function(Kt,Je){V(this,Y)||at(this,Y,new Map);let Tt=V(this,Y).get(Kt);if(Tt===null)return null;if(Tt!=null&&Tt.bitmap)return Tt.refCounter+=1,Tt;try{Tt||(Tt={bitmap:null,id:`image_${V(this,W)}_${Cr(this,G)._++}`,refCounter:0,isSvg:!1});let Xt;if(typeof Je=="string"){Tt.url=Je;const pn=await fetch(Je);if(!pn.ok)throw new Error(pn.statusText);Xt=await pn.blob()}else Xt=Tt.file=Je;if(Xt.type==="image/svg+xml"){const pn=In._isSVGFittingCanvas,an=new FileReader,Nt=new Image,Te=new Promise((Xe,vt)=>{Nt.onload=()=>{Tt.bitmap=Nt,Tt.isSvg=!0,Xe()},an.onload=async()=>{const kt=Tt.svgUrl=an.result;Nt.src=await pn?`${kt}#svgView(preserveAspectRatio(none))`:kt},Nt.onerror=an.onerror=vt});an.readAsDataURL(Xt),await Te}else Tt.bitmap=await createImageBitmap(Xt);Tt.refCounter=1}catch(Xt){console.error(Xt),Tt=null}return V(this,Y).set(Kt,Tt),Tt&&V(this,Y).set(Tt.id,Tt),Tt};let Ln=In;class Nn{constructor(Je=128){it(this,ke,[]),it(this,ae,!1),it(this,Ae),it(this,ge,-1),at(this,Ae,Je)}add({cmd:Je,undo:Tt,mustExec:Xt,type:pn=NaN,overwriteIfSameType:an=!1,keepUndo:Nt=!1}){if(Xt&&Je(),V(this,ae))return;const Te={cmd:Je,undo:Tt,type:pn};if(V(this,ge)===-1){V(this,ke).length>0&&(V(this,ke).length=0),at(this,ge,0),V(this,ke).push(Te);return}if(an&&V(this,ke)[V(this,ge)].type===pn){Nt&&(Te.undo=V(this,ke)[V(this,ge)].undo),V(this,ke)[V(this,ge)]=Te;return}const Xe=V(this,ge)+1;Xe===V(this,Ae)?V(this,ke).splice(0,1):(at(this,ge,Xe),Xe<V(this,ke).length&&V(this,ke).splice(Xe)),V(this,ke).push(Te)}undo(){V(this,ge)!==-1&&(at(this,ae,!0),V(this,ke)[V(this,ge)].undo(),at(this,ae,!1),at(this,ge,V(this,ge)-1))}redo(){V(this,ge)<V(this,ke).length-1&&(at(this,ge,V(this,ge)+1),at(this,ae,!0),V(this,ke)[V(this,ge)].cmd(),at(this,ae,!1))}hasSomethingToUndo(){return V(this,ge)!==-1}hasSomethingToRedo(){return V(this,ge)<V(this,ke).length-1}destroy(){at(this,ke,null)}}ke=new WeakMap,ae=new WeakMap,Ae=new WeakMap,ge=new WeakMap,q.CommandManager=Nn;class Ft{constructor(Je){it(this,ve),this.buffer=[],this.callbacks=new Map,this.allKeys=new Set;const{isMac:Tt}=Gt.FeatureTest.platform;for(const[Xt,pn,an={}]of Je)for(const Nt of Xt){const Te=Nt.startsWith("mac+");Tt&&Te?(this.callbacks.set(Nt.slice(4),{callback:pn,options:an}),this.allKeys.add(Nt.split("+").at(-1))):!Tt&&!Te&&(this.callbacks.set(Nt,{callback:pn,options:an}),this.allKeys.add(Nt.split("+").at(-1)))}}exec(Je,Tt){if(!this.allKeys.has(Tt.key))return;const Xt=this.callbacks.get(Ue(this,ve,xe).call(this,Tt));if(!Xt)return;const{callback:pn,options:{bubbles:an=!1,args:Nt=[],checker:Te=null}}=Xt;Te&&!Te(Je,Tt)||(pn.bind(Je,...Nt)(),an||(Tt.stopPropagation(),Tt.preventDefault()))}}ve=new WeakSet,xe=function(Kt){Kt.altKey&&this.buffer.push("alt"),Kt.ctrlKey&&this.buffer.push("ctrl"),Kt.metaKey&&this.buffer.push("meta"),Kt.shiftKey&&this.buffer.push("shift"),this.buffer.push(Kt.key);const Je=this.buffer.join("+");return this.buffer.length=0,Je},q.KeyboardManager=Ft;const wt=class Li{get _colors(){const Je=new Map([["CanvasText",null],["Canvas",null]]);return(0,Jt.getColorValues)(Je),(0,Gt.shadow)(this,"_colors",Je)}convert(Je){const Tt=(0,Jt.getRGB)(Je);if(!window.matchMedia("(forced-colors: active)").matches)return Tt;for(const[Xt,pn]of this._colors)if(pn.every((an,Nt)=>an===Tt[Nt]))return Li._colorsMapping.get(Xt);return Tt}getHexCode(Je){const Tt=this._colors.get(Je);return Tt?Gt.Util.makeHexColor(...Tt):Je}};$n(wt,"_colorsMapping",new Map([["CanvasText",[0,0,0]],["Canvas",[255,255,255]]]));let ft=wt;q.ColorManager=ft;const Yt=class ui{constructor(Je,Tt,Xt,pn,an,Nt){it(this,ht),it(this,we,null),it(this,fe,new Map),it(this,ne,new Map),it(this,Se,null),it(this,Le,null),it(this,Me,new Nn),it(this,Ee,0),it(this,Pe,new Set),it(this,Ve,null),it(this,Ke,null),it(this,ze,new Set),it(this,rt,null),it(this,ye,new rn),it(this,ot,!1),it(this,Ye,!1),it(this,He,null),it(this,Qe,Gt.AnnotationEditorType.NONE),it(this,yt,new Set),it(this,ut,null),it(this,_t,this.blur.bind(this)),it(this,Ne,this.focus.bind(this)),it(this,tt,this.copy.bind(this)),it(this,dt,this.cut.bind(this)),it(this,Oe,this.paste.bind(this)),it(this,_e,this.keydown.bind(this)),it(this,pe,this.onEditingAction.bind(this)),it(this,Fe,this.onPageChanging.bind(this)),it(this,je,this.onScaleChanging.bind(this)),it(this,Ie,this.onRotationChanging.bind(this)),it(this,qe,{isEditing:!1,isEmpty:!0,hasSomethingToUndo:!1,hasSomethingToRedo:!1,hasSelectedEditor:!1}),it(this,Ge,[0,0]),it(this,gt,null),it(this,Pt,null),it(this,Ct,null),at(this,Pt,Je),at(this,Ct,Tt),at(this,Se,Xt),this._eventBus=pn,this._eventBus._on("editingaction",V(this,pe)),this._eventBus._on("pagechanging",V(this,Fe)),this._eventBus._on("scalechanging",V(this,je)),this._eventBus._on("rotationchanging",V(this,Ie)),at(this,Le,an.annotationStorage),at(this,rt,an.filterFactory),at(this,ut,Nt),this.viewParameters={realScale:Jt.PixelsPerInch.PDF_TO_CSS_UNITS,rotation:0}}static get _keyboardManager(){const Je=ui.prototype,Tt=an=>{const{activeElement:Nt}=document;return Nt&&V(an,Pt).contains(Nt)&&an.hasSomethingToControl()},Xt=this.TRANSLATE_SMALL,pn=this.TRANSLATE_BIG;return(0,Gt.shadow)(this,"_keyboardManager",new Ft([[["ctrl+a","mac+meta+a"],Je.selectAll],[["ctrl+z","mac+meta+z"],Je.undo],[["ctrl+y","ctrl+shift+z","mac+meta+shift+z","ctrl+shift+Z","mac+meta+shift+Z"],Je.redo],[["Backspace","alt+Backspace","ctrl+Backspace","shift+Backspace","mac+Backspace","mac+alt+Backspace","mac+ctrl+Backspace","Delete","ctrl+Delete","shift+Delete","mac+Delete"],Je.delete],[["Escape","mac+Escape"],Je.unselectAll],[["ArrowLeft","mac+ArrowLeft"],Je.translateSelectedEditors,{args:[-Xt,0],checker:Tt}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],Je.translateSelectedEditors,{args:[-pn,0],checker:Tt}],[["ArrowRight","mac+ArrowRight"],Je.translateSelectedEditors,{args:[Xt,0],checker:Tt}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],Je.translateSelectedEditors,{args:[pn,0],checker:Tt}],[["ArrowUp","mac+ArrowUp"],Je.translateSelectedEditors,{args:[0,-Xt],checker:Tt}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],Je.translateSelectedEditors,{args:[0,-pn],checker:Tt}],[["ArrowDown","mac+ArrowDown"],Je.translateSelectedEditors,{args:[0,Xt],checker:Tt}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],Je.translateSelectedEditors,{args:[0,pn],checker:Tt}]]))}destroy(){Ue(this,ht,Re).call(this),Ue(this,ht,Vt).call(this),this._eventBus._off("editingaction",V(this,pe)),this._eventBus._off("pagechanging",V(this,Fe)),this._eventBus._off("scalechanging",V(this,je)),this._eventBus._off("rotationchanging",V(this,Ie));for(const Je of V(this,ne).values())Je.destroy();V(this,ne).clear(),V(this,fe).clear(),V(this,ze).clear(),at(this,we,null),V(this,yt).clear(),V(this,Me).destroy(),V(this,Se).destroy()}get hcmFilter(){return(0,Gt.shadow)(this,"hcmFilter",V(this,ut)?V(this,rt).addHCMFilter(V(this,ut).foreground,V(this,ut).background):"none")}get direction(){return(0,Gt.shadow)(this,"direction",getComputedStyle(V(this,Pt)).direction)}editAltText(Je){var Tt;(Tt=V(this,Se))==null||Tt.editAltText(this,Je)}onPageChanging({pageNumber:Je}){at(this,Ee,Je-1)}focusMainContainer(){V(this,Pt).focus()}findParent(Je,Tt){for(const Xt of V(this,ne).values()){const{x:pn,y:an,width:Nt,height:Te}=Xt.div.getBoundingClientRect();if(Je>=pn&&Je<=pn+Nt&&Tt>=an&&Tt<=an+Te)return Xt}return null}disableUserSelect(Je=!1){V(this,Ct).classList.toggle("noUserSelect",Je)}addShouldRescale(Je){V(this,ze).add(Je)}removeShouldRescale(Je){V(this,ze).delete(Je)}onScaleChanging({scale:Je}){this.commitOrRemove(),this.viewParameters.realScale=Je*Jt.PixelsPerInch.PDF_TO_CSS_UNITS;for(const Tt of V(this,ze))Tt.onScaleChanging()}onRotationChanging({pagesRotation:Je}){this.commitOrRemove(),this.viewParameters.rotation=Je}addToAnnotationStorage(Je){!Je.isEmpty()&&V(this,Le)&&!V(this,Le).has(Je.id)&&V(this,Le).setValue(Je.id,Je)}blur(){if(!this.hasSelection)return;const{activeElement:Je}=document;for(const Tt of V(this,yt))if(Tt.div.contains(Je)){at(this,He,[Tt,Je]),Tt._focusEventsAllowed=!1;break}}focus(){if(!V(this,He))return;const[Je,Tt]=V(this,He);at(this,He,null),Tt.addEventListener("focusin",()=>{Je._focusEventsAllowed=!0},{once:!0}),Tt.focus()}addEditListeners(){Ue(this,ht,De).call(this),Ue(this,ht,Be).call(this)}removeEditListeners(){Ue(this,ht,Re).call(this),Ue(this,ht,Ze).call(this)}copy(Je){var Tt;if(Je.preventDefault(),(Tt=V(this,we))==null||Tt.commitOrRemove(),!this.hasSelection)return;const Xt=[];for(const pn of V(this,yt)){const an=pn.serialize(!0);an&&Xt.push(an)}Xt.length!==0&&Je.clipboardData.setData("application/pdfjs",JSON.stringify(Xt))}cut(Je){this.copy(Je),this.delete()}paste(Je){Je.preventDefault();const{clipboardData:Tt}=Je;for(const an of Tt.items)for(const Nt of V(this,Ke))if(Nt.isHandlingMimeForPasting(an.type)){Nt.paste(an,this.currentLayer);return}let Xt=Tt.getData("application/pdfjs");if(!Xt)return;try{Xt=JSON.parse(Xt)}catch(an){(0,Gt.warn)(`paste: "${an.message}".`);return}if(!Array.isArray(Xt))return;this.unselectAll();const pn=this.currentLayer;try{const an=[];for(const Xe of Xt){const vt=pn.deserialize(Xe);if(!vt)return;an.push(vt)}const Nt=()=>{for(const Xe of an)Ue(this,ht,At).call(this,Xe);Ue(this,ht,Qt).call(this,an)},Te=()=>{for(const Xe of an)Xe.remove()};this.addCommands({cmd:Nt,undo:Te,mustExec:!0})}catch(an){(0,Gt.warn)(`paste: "${an.message}".`)}}keydown(Je){var Tt;(Tt=this.getActive())!=null&&Tt.shouldGetKeyboardEvents()||ui._keyboardManager.exec(this,Je)}onEditingAction(Je){["undo","redo","delete","selectAll"].includes(Je.name)&&this[Je.name]()}setEditingState(Je){Je?(Ue(this,ht,$t).call(this),Ue(this,ht,De).call(this),Ue(this,ht,Be).call(this),Ue(this,ht,ct).call(this,{isEditing:V(this,Qe)!==Gt.AnnotationEditorType.NONE,isEmpty:Ue(this,ht,jt).call(this),hasSomethingToUndo:V(this,Me).hasSomethingToUndo(),hasSomethingToRedo:V(this,Me).hasSomethingToRedo(),hasSelectedEditor:!1})):(Ue(this,ht,Vt).call(this),Ue(this,ht,Re).call(this),Ue(this,ht,Ze).call(this),Ue(this,ht,ct).call(this,{isEditing:!1}),this.disableUserSelect(!1))}registerEditorTypes(Je){if(!V(this,Ke)){at(this,Ke,Je);for(const Tt of V(this,Ke))Ue(this,ht,Mt).call(this,Tt.defaultPropertiesToUpdate)}}getId(){return V(this,ye).getId()}get currentLayer(){return V(this,ne).get(V(this,Ee))}getLayer(Je){return V(this,ne).get(Je)}get currentPageIndex(){return V(this,Ee)}addLayer(Je){V(this,ne).set(Je.pageIndex,Je),V(this,ot)?Je.enable():Je.disable()}removeLayer(Je){V(this,ne).delete(Je.pageIndex)}updateMode(Je,Tt=null){if(V(this,Qe)!==Je){if(at(this,Qe,Je),Je===Gt.AnnotationEditorType.NONE){this.setEditingState(!1),Ue(this,ht,Et).call(this);return}this.setEditingState(!0),Ue(this,ht,Rt).call(this),this.unselectAll();for(const Xt of V(this,ne).values())Xt.updateMode(Je);if(Tt){for(const Xt of V(this,fe).values())if(Xt.annotationElementId===Tt){this.setSelected(Xt),Xt.enterInEditMode();break}}}}updateToolbar(Je){Je!==V(this,Qe)&&this._eventBus.dispatch("switchannotationeditormode",{source:this,mode:Je})}updateParams(Je,Tt){if(V(this,Ke)){if(Je===Gt.AnnotationEditorParamsType.CREATE){this.currentLayer.addNewEditor(Je);return}for(const Xt of V(this,yt))Xt.updateParams(Je,Tt);for(const Xt of V(this,Ke))Xt.updateDefaultParams(Je,Tt)}}enableWaiting(Je=!1){if(V(this,Ye)!==Je){at(this,Ye,Je);for(const Tt of V(this,ne).values())Je?Tt.disableClick():Tt.enableClick(),Tt.div.classList.toggle("waiting",Je)}}getEditors(Je){const Tt=[];for(const Xt of V(this,fe).values())Xt.pageIndex===Je&&Tt.push(Xt);return Tt}getEditor(Je){return V(this,fe).get(Je)}addEditor(Je){V(this,fe).set(Je.id,Je)}removeEditor(Je){var Tt;V(this,fe).delete(Je.id),this.unselect(Je),(!Je.annotationElementId||!V(this,Pe).has(Je.annotationElementId))&&((Tt=V(this,Le))==null||Tt.remove(Je.id))}addDeletedAnnotationElement(Je){V(this,Pe).add(Je.annotationElementId),Je.deleted=!0}isDeletedAnnotationElement(Je){return V(this,Pe).has(Je)}removeDeletedAnnotationElement(Je){V(this,Pe).delete(Je.annotationElementId),Je.deleted=!1}setActiveEditor(Je){V(this,we)!==Je&&(at(this,we,Je),Je&&Ue(this,ht,Mt).call(this,Je.propertiesToUpdate))}toggleSelected(Je){if(V(this,yt).has(Je)){V(this,yt).delete(Je),Je.unselect(),Ue(this,ht,ct).call(this,{hasSelectedEditor:this.hasSelection});return}V(this,yt).add(Je),Je.select(),Ue(this,ht,Mt).call(this,Je.propertiesToUpdate),Ue(this,ht,ct).call(this,{hasSelectedEditor:!0})}setSelected(Je){for(const Tt of V(this,yt))Tt!==Je&&Tt.unselect();V(this,yt).clear(),V(this,yt).add(Je),Je.select(),Ue(this,ht,Mt).call(this,Je.propertiesToUpdate),Ue(this,ht,ct).call(this,{hasSelectedEditor:!0})}isSelected(Je){return V(this,yt).has(Je)}unselect(Je){Je.unselect(),V(this,yt).delete(Je),Ue(this,ht,ct).call(this,{hasSelectedEditor:this.hasSelection})}get hasSelection(){return V(this,yt).size!==0}undo(){V(this,Me).undo(),Ue(this,ht,ct).call(this,{hasSomethingToUndo:V(this,Me).hasSomethingToUndo(),hasSomethingToRedo:!0,isEmpty:Ue(this,ht,jt).call(this)})}redo(){V(this,Me).redo(),Ue(this,ht,ct).call(this,{hasSomethingToUndo:!0,hasSomethingToRedo:V(this,Me).hasSomethingToRedo(),isEmpty:Ue(this,ht,jt).call(this)})}addCommands(Je){V(this,Me).add(Je),Ue(this,ht,ct).call(this,{hasSomethingToUndo:!0,hasSomethingToRedo:!1,isEmpty:Ue(this,ht,jt).call(this)})}delete(){if(this.commitOrRemove(),!this.hasSelection)return;const Je=[...V(this,yt)],Tt=()=>{for(const pn of Je)pn.remove()},Xt=()=>{for(const pn of Je)Ue(this,ht,At).call(this,pn)};this.addCommands({cmd:Tt,undo:Xt,mustExec:!0})}commitOrRemove(){var Je;(Je=V(this,we))==null||Je.commitOrRemove()}hasSomethingToControl(){return V(this,we)||this.hasSelection}selectAll(){for(const Je of V(this,yt))Je.commit();Ue(this,ht,Qt).call(this,V(this,fe).values())}unselectAll(){if(V(this,we)){V(this,we).commitOrRemove();return}if(this.hasSelection){for(const Je of V(this,yt))Je.unselect();V(this,yt).clear(),Ue(this,ht,ct).call(this,{hasSelectedEditor:!1})}}translateSelectedEditors(Je,Tt,Xt=!1){if(Xt||this.commitOrRemove(),!this.hasSelection)return;V(this,Ge)[0]+=Je,V(this,Ge)[1]+=Tt;const[pn,an]=V(this,Ge),Nt=[...V(this,yt)];V(this,gt)&&clearTimeout(V(this,gt)),at(this,gt,setTimeout(()=>{at(this,gt,null),V(this,Ge)[0]=V(this,Ge)[1]=0,this.addCommands({cmd:()=>{for(const Xe of Nt)V(this,fe).has(Xe.id)&&Xe.translateInPage(pn,an)},undo:()=>{for(const Xe of Nt)V(this,fe).has(Xe.id)&&Xe.translateInPage(-pn,-an)},mustExec:!1})},1e3));for(const Xe of Nt)Xe.translateInPage(Je,Tt)}setUpDragSession(){if(this.hasSelection){this.disableUserSelect(!0),at(this,Ve,new Map);for(const Je of V(this,yt))V(this,Ve).set(Je,{savedX:Je.x,savedY:Je.y,savedPageIndex:Je.pageIndex,newX:0,newY:0,newPageIndex:-1})}}endDragSession(){if(!V(this,Ve))return!1;this.disableUserSelect(!1);const Je=V(this,Ve);at(this,Ve,null);let Tt=!1;for(const[{x:pn,y:an,pageIndex:Nt},Te]of Je)Te.newX=pn,Te.newY=an,Te.newPageIndex=Nt,Tt||(Tt=pn!==Te.savedX||an!==Te.savedY||Nt!==Te.savedPageIndex);if(!Tt)return!1;const Xt=(pn,an,Nt,Te)=>{if(V(this,fe).has(pn.id)){const Xe=V(this,ne).get(Te);Xe?pn._setParentAndPosition(Xe,an,Nt):(pn.pageIndex=Te,pn.x=an,pn.y=Nt)}};return this.addCommands({cmd:()=>{for(const[pn,{newX:an,newY:Nt,newPageIndex:Te}]of Je)Xt(pn,an,Nt,Te)},undo:()=>{for(const[pn,{savedX:an,savedY:Nt,savedPageIndex:Te}]of Je)Xt(pn,an,Nt,Te)},mustExec:!0}),!0}dragSelectedEditors(Je,Tt){if(V(this,Ve))for(const Xt of V(this,Ve).keys())Xt.drag(Je,Tt)}rebuild(Je){if(Je.parent===null){const Tt=this.getLayer(Je.pageIndex);Tt?(Tt.changeParent(Je),Tt.addOrRebuild(Je)):(this.addEditor(Je),this.addToAnnotationStorage(Je),Je.rebuild())}else Je.parent.addOrRebuild(Je)}isActive(Je){return V(this,we)===Je}getActive(){return V(this,we)}getMode(){return V(this,Qe)}get imageManager(){return(0,Gt.shadow)(this,"imageManager",new Ln)}};we=new WeakMap,fe=new WeakMap,ne=new WeakMap,Se=new WeakMap,Le=new WeakMap,Me=new WeakMap,Ee=new WeakMap,Pe=new WeakMap,Ve=new WeakMap,Ke=new WeakMap,ze=new WeakMap,rt=new WeakMap,ye=new WeakMap,ot=new WeakMap,Ye=new WeakMap,He=new WeakMap,Qe=new WeakMap,yt=new WeakMap,ut=new WeakMap,_t=new WeakMap,Ne=new WeakMap,tt=new WeakMap,dt=new WeakMap,Oe=new WeakMap,_e=new WeakMap,pe=new WeakMap,Fe=new WeakMap,je=new WeakMap,Ie=new WeakMap,qe=new WeakMap,Ge=new WeakMap,gt=new WeakMap,Pt=new WeakMap,Ct=new WeakMap,ht=new WeakSet,$t=function(){window.addEventListener("focus",V(this,Ne)),window.addEventListener("blur",V(this,_t))},Vt=function(){window.removeEventListener("focus",V(this,Ne)),window.removeEventListener("blur",V(this,_t))},De=function(){window.addEventListener("keydown",V(this,_e),{capture:!0})},Re=function(){window.removeEventListener("keydown",V(this,_e),{capture:!0})},Be=function(){document.addEventListener("copy",V(this,tt)),document.addEventListener("cut",V(this,dt)),document.addEventListener("paste",V(this,Oe))},Ze=function(){document.removeEventListener("copy",V(this,tt)),document.removeEventListener("cut",V(this,dt)),document.removeEventListener("paste",V(this,Oe))},ct=function(Kt){Object.entries(Kt).some(([Je,Tt])=>V(this,qe)[Je]!==Tt)&&this._eventBus.dispatch("annotationeditorstateschanged",{source:this,details:Object.assign(V(this,qe),Kt)})},Mt=function(Kt){this._eventBus.dispatch("annotationeditorparamschanged",{source:this,details:Kt})},Rt=function(){if(!V(this,ot)){at(this,ot,!0);for(const Kt of V(this,ne).values())Kt.enable()}},Et=function(){if(this.unselectAll(),V(this,ot)){at(this,ot,!1);for(const Kt of V(this,ne).values())Kt.disable()}},At=function(Kt){const Je=V(this,ne).get(Kt.pageIndex);Je?Je.addOrRebuild(Kt):this.addEditor(Kt)},jt=function(){if(V(this,fe).size===0)return!0;if(V(this,fe).size===1)for(const Kt of V(this,fe).values())return Kt.isEmpty();return!1},Qt=function(Kt){V(this,yt).clear();for(const Je of Kt)Je.isEmpty()||(V(this,yt).add(Je),Je.select());Ue(this,ht,ct).call(this,{hasSelectedEditor:!0})},$n(Yt,"TRANSLATE_SMALL",1),$n(Yt,"TRANSLATE_BIG",10);let Zt=Yt;q.AnnotationEditorUIManager=Zt},(B,q,K)=>{var X,W,G,Y,he,Ce,ke,ae,Ae,ge,ve,xe,we,fe,ne,Se,Le,Me,Ee;Object.defineProperty(q,"__esModule",{value:!0}),q.StatTimer=q.RenderingCancelledException=q.PixelsPerInch=q.PageViewport=q.PDFDateString=q.DOMStandardFontDataFactory=q.DOMSVGFactory=q.DOMFilterFactory=q.DOMCanvasFactory=q.DOMCMapReaderFactory=void 0,q.deprecated=Ie,q.getColorValues=Ct,q.getCurrentTransform=ht,q.getCurrentTransformInverse=$t,q.getFilenameFromUrl=dt,q.getPdfFilenameFromUrl=Oe,q.getRGB=Pt,q.getXfaPageViewport=gt,q.isDataScheme=Ne,q.isPdfFile=tt,q.isValidFetchUrl=pe,q.loadScript=je,q.noContextMenu=Fe,q.setLayerDimensions=Vt;var Pe=K(7),Ve=K(1);const Ke="http://www.w3.org/2000/svg",ze=class{};$n(ze,"CSS",96),$n(ze,"PDF",72),$n(ze,"PDF_TO_CSS_UNITS",ze.CSS/ze.PDF);let rt=ze;q.PixelsPerInch=rt;class ye extends Pe.BaseFilterFactory{constructor({docId:Re,ownerDocument:Be=globalThis.document}={}){super(),it(this,xe),it(this,X),it(this,W),it(this,G),it(this,Y),it(this,he),it(this,Ce),it(this,ke),it(this,ae),it(this,Ae),it(this,ge),it(this,ve,0),at(this,G,Re),at(this,Y,Be)}addFilter(Re){if(!Re)return"none";let Be=V(this,xe,we).get(Re);if(Be)return Be;let Ze,ct,Mt,Rt;if(Re.length===1){const Qt=Re[0],Gt=new Array(256);for(let Jt=0;Jt<256;Jt++)Gt[Jt]=Qt[Jt]/255;Rt=Ze=ct=Mt=Gt.join(",")}else{const[Qt,Gt,Jt]=Re,cn=new Array(256),sn=new Array(256),rn=new Array(256);for(let In=0;In<256;In++)cn[In]=Qt[In]/255,sn[In]=Gt[In]/255,rn[In]=Jt[In]/255;Ze=cn.join(","),ct=sn.join(","),Mt=rn.join(","),Rt=`${Ze}${ct}${Mt}`}if(Be=V(this,xe,we).get(Rt),Be)return V(this,xe,we).set(Re,Be),Be;const Et=`g_${V(this,G)}_transfer_map_${Cr(this,ve)._++}`,At=`url(#${Et})`;V(this,xe,we).set(Re,At),V(this,xe,we).set(Rt,At);const jt=Ue(this,xe,Se).call(this,Et);return Ue(this,xe,Me).call(this,Ze,ct,Mt,jt),At}addHCMFilter(Re,Be){var Ze;const ct=`${Re}-${Be}`;if(V(this,Ce)===ct)return V(this,ke);if(at(this,Ce,ct),at(this,ke,"none"),(Ze=V(this,he))==null||Ze.remove(),!Re||!Be)return V(this,ke);const Mt=Ue(this,xe,Ee).call(this,Re);Re=Ve.Util.makeHexColor(...Mt);const Rt=Ue(this,xe,Ee).call(this,Be);if(Be=Ve.Util.makeHexColor(...Rt),V(this,xe,fe).style.color="",Re==="#000000"&&Be==="#ffffff"||Re===Be)return V(this,ke);const Et=new Array(256);for(let Jt=0;Jt<=255;Jt++){const cn=Jt/255;Et[Jt]=cn<=.03928?cn/12.92:((cn+.055)/1.055)**2.4}const At=Et.join(","),jt=`g_${V(this,G)}_hcm_filter`,Qt=at(this,ae,Ue(this,xe,Se).call(this,jt));Ue(this,xe,Me).call(this,At,At,At,Qt),Ue(this,xe,ne).call(this,Qt);const Gt=(Jt,cn)=>{const sn=Mt[Jt]/255,rn=Rt[Jt]/255,In=new Array(cn+1);for(let Ln=0;Ln<=cn;Ln++)In[Ln]=sn+Ln/cn*(rn-sn);return In.join(",")};return Ue(this,xe,Me).call(this,Gt(0,5),Gt(1,5),Gt(2,5),Qt),at(this,ke,`url(#${jt})`),V(this,ke)}addHighlightHCMFilter(Re,Be,Ze,ct){var Mt;const Rt=`${Re}-${Be}-${Ze}-${ct}`;if(V(this,Ae)===Rt)return V(this,ge);if(at(this,Ae,Rt),at(this,ge,"none"),(Mt=V(this,ae))==null||Mt.remove(),!Re||!Be)return V(this,ge);const[Et,At]=[Re,Be].map(Ue(this,xe,Ee).bind(this));let jt=Math.round(.2126*Et[0]+.7152*Et[1]+.0722*Et[2]),Qt=Math.round(.2126*At[0]+.7152*At[1]+.0722*At[2]),[Gt,Jt]=[Ze,ct].map(Ue(this,xe,Ee).bind(this));Qt<jt&&([jt,Qt,Gt,Jt]=[Qt,jt,Jt,Gt]),V(this,xe,fe).style.color="";const cn=(In,Ln,Nn)=>{const Ft=new Array(256),wt=(Qt-jt)/Nn,ft=In/255,Yt=(Ln-In)/(255*Nn);let Zt=0;for(let Kt=0;Kt<=Nn;Kt++){const Je=Math.round(jt+Kt*wt),Tt=ft+Kt*Yt;for(let Xt=Zt;Xt<=Je;Xt++)Ft[Xt]=Tt;Zt=Je+1}for(let Kt=Zt;Kt<256;Kt++)Ft[Kt]=Ft[Zt-1];return Ft.join(",")},sn=`g_${V(this,G)}_hcm_highlight_filter`,rn=at(this,ae,Ue(this,xe,Se).call(this,sn));return Ue(this,xe,ne).call(this,rn),Ue(this,xe,Me).call(this,cn(Gt[0],Jt[0],5),cn(Gt[1],Jt[1],5),cn(Gt[2],Jt[2],5),rn),at(this,ge,`url(#${sn})`),V(this,ge)}destroy(Re=!1){Re&&(V(this,ke)||V(this,ge))||(V(this,W)&&(V(this,W).parentNode.parentNode.remove(),at(this,W,null)),V(this,X)&&(V(this,X).clear(),at(this,X,null)),at(this,ve,0))}}X=new WeakMap,W=new WeakMap,G=new WeakMap,Y=new WeakMap,he=new WeakMap,Ce=new WeakMap,ke=new WeakMap,ae=new WeakMap,Ae=new WeakMap,ge=new WeakMap,ve=new WeakMap,xe=new WeakSet,we=function(){return V(this,X)||at(this,X,new Map)},fe=function(){if(!V(this,W)){const De=V(this,Y).createElement("div"),{style:Re}=De;Re.visibility="hidden",Re.contain="strict",Re.width=Re.height=0,Re.position="absolute",Re.top=Re.left=0,Re.zIndex=-1;const Be=V(this,Y).createElementNS(Ke,"svg");Be.setAttribute("width",0),Be.setAttribute("height",0),at(this,W,V(this,Y).createElementNS(Ke,"defs")),De.append(Be),Be.append(V(this,W)),V(this,Y).body.append(De)}return V(this,W)},ne=function(De){const Re=V(this,Y).createElementNS(Ke,"feColorMatrix");Re.setAttribute("type","matrix"),Re.setAttribute("values","0.2126 0.7152 0.0722 0 0 0.2126 0.7152 0.0722 0 0 0.2126 0.7152 0.0722 0 0 0 0 0 1 0"),De.append(Re)},Se=function(De){const Re=V(this,Y).createElementNS(Ke,"filter");return Re.setAttribute("color-interpolation-filters","sRGB"),Re.setAttribute("id",De),V(this,xe,fe).append(Re),Re},Le=function(De,Re,Be){const Ze=V(this,Y).createElementNS(Ke,Re);Ze.setAttribute("type","discrete"),Ze.setAttribute("tableValues",Be),De.append(Ze)},Me=function(De,Re,Be,Ze){const ct=V(this,Y).createElementNS(Ke,"feComponentTransfer");Ze.append(ct),Ue(this,xe,Le).call(this,ct,"feFuncR",De),Ue(this,xe,Le).call(this,ct,"feFuncG",Re),Ue(this,xe,Le).call(this,ct,"feFuncB",Be)},Ee=function(De){return V(this,xe,fe).style.color=De,Pt(getComputedStyle(V(this,xe,fe)).getPropertyValue("color"))},q.DOMFilterFactory=ye;class ot extends Pe.BaseCanvasFactory{constructor({ownerDocument:Re=globalThis.document}={}){super(),this._document=Re}_createCanvas(Re,Be){const Ze=this._document.createElement("canvas");return Ze.width=Re,Ze.height=Be,Ze}}q.DOMCanvasFactory=ot;async function Ye(De,Re=!1){if(pe(De,document.baseURI)){const Be=await fetch(De);if(!Be.ok)throw new Error(Be.statusText);return Re?new Uint8Array(await Be.arrayBuffer()):(0,Ve.stringToBytes)(await Be.text())}return new Promise((Be,Ze)=>{const ct=new XMLHttpRequest;ct.open("GET",De,!0),Re&&(ct.responseType="arraybuffer"),ct.onreadystatechange=()=>{if(ct.readyState===XMLHttpRequest.DONE){if(ct.status===200||ct.status===0){let Mt;if(Re&&ct.response?Mt=new Uint8Array(ct.response):!Re&&ct.responseText&&(Mt=(0,Ve.stringToBytes)(ct.responseText)),Mt){Be(Mt);return}}Ze(new Error(ct.statusText))}},ct.send(null)})}class He extends Pe.BaseCMapReaderFactory{_fetchData(Re,Be){return Ye(Re,this.isCompressed).then(Ze=>({cMapData:Ze,compressionType:Be}))}}q.DOMCMapReaderFactory=He;class Qe extends Pe.BaseStandardFontDataFactory{_fetchData(Re){return Ye(Re,!0)}}q.DOMStandardFontDataFactory=Qe;class yt extends Pe.BaseSVGFactory{_createSVG(Re){return document.createElementNS(Ke,Re)}}q.DOMSVGFactory=yt;class ut{constructor({viewBox:Re,scale:Be,rotation:Ze,offsetX:ct=0,offsetY:Mt=0,dontFlip:Rt=!1}){this.viewBox=Re,this.scale=Be,this.rotation=Ze,this.offsetX=ct,this.offsetY=Mt;const Et=(Re[2]+Re[0])/2,At=(Re[3]+Re[1])/2;let jt,Qt,Gt,Jt;switch(Ze%=360,Ze<0&&(Ze+=360),Ze){case 180:jt=-1,Qt=0,Gt=0,Jt=1;break;case 90:jt=0,Qt=1,Gt=1,Jt=0;break;case 270:jt=0,Qt=-1,Gt=-1,Jt=0;break;case 0:jt=1,Qt=0,Gt=0,Jt=-1;break;default:throw new Error("PageViewport: Invalid rotation, must be a multiple of 90 degrees.")}Rt&&(Gt=-Gt,Jt=-Jt);let cn,sn,rn,In;jt===0?(cn=Math.abs(At-Re[1])*Be+ct,sn=Math.abs(Et-Re[0])*Be+Mt,rn=(Re[3]-Re[1])*Be,In=(Re[2]-Re[0])*Be):(cn=Math.abs(Et-Re[0])*Be+ct,sn=Math.abs(At-Re[1])*Be+Mt,rn=(Re[2]-Re[0])*Be,In=(Re[3]-Re[1])*Be),this.transform=[jt*Be,Qt*Be,Gt*Be,Jt*Be,cn-jt*Be*Et-Gt*Be*At,sn-Qt*Be*Et-Jt*Be*At],this.width=rn,this.height=In}get rawDims(){const{viewBox:Re}=this;return(0,Ve.shadow)(this,"rawDims",{pageWidth:Re[2]-Re[0],pageHeight:Re[3]-Re[1],pageX:Re[0],pageY:Re[1]})}clone({scale:Re=this.scale,rotation:Be=this.rotation,offsetX:Ze=this.offsetX,offsetY:ct=this.offsetY,dontFlip:Mt=!1}={}){return new ut({viewBox:this.viewBox.slice(),scale:Re,rotation:Be,offsetX:Ze,offsetY:ct,dontFlip:Mt})}convertToViewportPoint(Re,Be){return Ve.Util.applyTransform([Re,Be],this.transform)}convertToViewportRectangle(Re){const Be=Ve.Util.applyTransform([Re[0],Re[1]],this.transform),Ze=Ve.Util.applyTransform([Re[2],Re[3]],this.transform);return[Be[0],Be[1],Ze[0],Ze[1]]}convertToPdfPoint(Re,Be){return Ve.Util.applyInverseTransform([Re,Be],this.transform)}}q.PageViewport=ut;class _t extends Ve.BaseException{constructor(Re,Be=0){super(Re,"RenderingCancelledException"),this.extraDelay=Be}}q.RenderingCancelledException=_t;function Ne(De){const Re=De.length;let Be=0;for(;Be<Re&&De[Be].trim()==="";)Be++;return De.substring(Be,Be+5).toLowerCase()==="data:"}function tt(De){return typeof De=="string"&&/\.pdf$/i.test(De)}function dt(De,Re=!1){return Re||([De]=De.split(/[#?]/,1)),De.substring(De.lastIndexOf("/")+1)}function Oe(De,Re="document.pdf"){if(typeof De!="string")return Re;if(Ne(De))return(0,Ve.warn)('getPdfFilenameFromUrl: ignore "data:"-URL for performance reasons.'),Re;const Be=/^(?:(?:[^:]+:)?\/\/[^/]+)?([^?#]*)(\?[^#]*)?(#.*)?$/,Ze=/[^/?#=]+\.pdf\b(?!.*\.pdf\b)/i,ct=Be.exec(De);let Mt=Ze.exec(ct[1])||Ze.exec(ct[2])||Ze.exec(ct[3]);if(Mt&&(Mt=Mt[0],Mt.includes("%")))try{Mt=Ze.exec(decodeURIComponent(Mt))[0]}catch{}return Mt||Re}class _e{constructor(){$n(this,"started",Object.create(null)),$n(this,"times",[])}time(Re){Re in this.started&&(0,Ve.warn)(`Timer is already running for ${Re}`),this.started[Re]=Date.now()}timeEnd(Re){Re in this.started||(0,Ve.warn)(`Timer has not been started for ${Re}`),this.times.push({name:Re,start:this.started[Re],end:Date.now()}),delete this.started[Re]}toString(){const Re=[];let Be=0;for(const{name:Ze}of this.times)Be=Math.max(Ze.length,Be);for(const{name:Ze,start:ct,end:Mt}of this.times)Re.push(`${Ze.padEnd(Be)} ${Mt-ct}ms
`);return Re.join("")}}q.StatTimer=_e;function pe(De,Re){try{const{protocol:Be}=Re?new URL(De,Re):new URL(De);return Be==="http:"||Be==="https:"}catch{return!1}}function Fe(De){De.preventDefault()}function je(De,Re=!1){return new Promise((Be,Ze)=>{const ct=document.createElement("script");ct.src=De,ct.onload=function(Mt){Re&&ct.remove(),Be(Mt)},ct.onerror=function(){Ze(new Error(`Cannot load script at: ${ct.src}`))},(document.head||document.documentElement).append(ct)})}function Ie(De){console.log("Deprecated API usage: "+De)}let qe;class Ge{static toDateObject(Re){if(!Re||typeof Re!="string")return null;qe||(qe=new RegExp("^D:(\\d{4})(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?([Z|+|-])?(\\d{2})?'?(\\d{2})?'?"));const Be=qe.exec(Re);if(!Be)return null;const Ze=parseInt(Be[1],10);let ct=parseInt(Be[2],10);ct=ct>=1&&ct<=12?ct-1:0;let Mt=parseInt(Be[3],10);Mt=Mt>=1&&Mt<=31?Mt:1;let Rt=parseInt(Be[4],10);Rt=Rt>=0&&Rt<=23?Rt:0;let Et=parseInt(Be[5],10);Et=Et>=0&&Et<=59?Et:0;let At=parseInt(Be[6],10);At=At>=0&&At<=59?At:0;const jt=Be[7]||"Z";let Qt=parseInt(Be[8],10);Qt=Qt>=0&&Qt<=23?Qt:0;let Gt=parseInt(Be[9],10)||0;return Gt=Gt>=0&&Gt<=59?Gt:0,jt==="-"?(Rt+=Qt,Et+=Gt):jt==="+"&&(Rt-=Qt,Et-=Gt),new Date(Date.UTC(Ze,ct,Mt,Rt,Et,At))}}q.PDFDateString=Ge;function gt(De,{scale:Re=1,rotation:Be=0}){const{width:Ze,height:ct}=De.attributes.style,Mt=[0,0,parseInt(Ze),parseInt(ct)];return new ut({viewBox:Mt,scale:Re,rotation:Be})}function Pt(De){if(De.startsWith("#")){const Re=parseInt(De.slice(1),16);return[(Re&16711680)>>16,(Re&65280)>>8,Re&255]}return De.startsWith("rgb(")?De.slice(4,-1).split(",").map(Re=>parseInt(Re)):De.startsWith("rgba(")?De.slice(5,-1).split(",").map(Re=>parseInt(Re)).slice(0,3):((0,Ve.warn)(`Not a valid color format: "${De}"`),[0,0,0])}function Ct(De){const Re=document.createElement("span");Re.style.visibility="hidden",document.body.append(Re);for(const Be of De.keys()){Re.style.color=Be;const Ze=window.getComputedStyle(Re).color;De.set(Be,Pt(Ze))}Re.remove()}function ht(De){const{a:Re,b:Be,c:Ze,d:ct,e:Mt,f:Rt}=De.getTransform();return[Re,Be,Ze,ct,Mt,Rt]}function $t(De){const{a:Re,b:Be,c:Ze,d:ct,e:Mt,f:Rt}=De.getTransform().invertSelf();return[Re,Be,Ze,ct,Mt,Rt]}function Vt(De,Re,Be=!1,Ze=!0){if(Re instanceof ut){const{pageWidth:ct,pageHeight:Mt}=Re.rawDims,{style:Rt}=De,Et=Ve.FeatureTest.isCSSRoundSupported,At=`var(--scale-factor) * ${ct}px`,jt=`var(--scale-factor) * ${Mt}px`,Qt=Et?`round(${At}, 1px)`:`calc(${At})`,Gt=Et?`round(${jt}, 1px)`:`calc(${jt})`;!Be||Re.rotation%180===0?(Rt.width=Qt,Rt.height=Gt):(Rt.width=Gt,Rt.height=Qt)}Ze&&De.setAttribute("data-main-rotation",Re.rotation)}},(B,q,K)=>{Object.defineProperty(q,"__esModule",{value:!0}),q.BaseStandardFontDataFactory=q.BaseSVGFactory=q.BaseFilterFactory=q.BaseCanvasFactory=q.BaseCMapReaderFactory=void 0;var X=K(1);class W{constructor(){this.constructor===W&&(0,X.unreachable)("Cannot initialize BaseFilterFactory.")}addFilter(ae){return"none"}addHCMFilter(ae,Ae){return"none"}addHighlightHCMFilter(ae,Ae,ge,ve){return"none"}destroy(ae=!1){}}q.BaseFilterFactory=W;class G{constructor(){this.constructor===G&&(0,X.unreachable)("Cannot initialize BaseCanvasFactory.")}create(ae,Ae){if(ae<=0||Ae<=0)throw new Error("Invalid canvas size");const ge=this._createCanvas(ae,Ae);return{canvas:ge,context:ge.getContext("2d")}}reset(ae,Ae,ge){if(!ae.canvas)throw new Error("Canvas is not specified");if(Ae<=0||ge<=0)throw new Error("Invalid canvas size");ae.canvas.width=Ae,ae.canvas.height=ge}destroy(ae){if(!ae.canvas)throw new Error("Canvas is not specified");ae.canvas.width=0,ae.canvas.height=0,ae.canvas=null,ae.context=null}_createCanvas(ae,Ae){(0,X.unreachable)("Abstract method `_createCanvas` called.")}}q.BaseCanvasFactory=G;class Y{constructor({baseUrl:ae=null,isCompressed:Ae=!0}){this.constructor===Y&&(0,X.unreachable)("Cannot initialize BaseCMapReaderFactory."),this.baseUrl=ae,this.isCompressed=Ae}async fetch({name:ae}){if(!this.baseUrl)throw new Error('The CMap "baseUrl" parameter must be specified, ensure that the "cMapUrl" and "cMapPacked" API parameters are provided.');if(!ae)throw new Error("CMap name must be specified.");const Ae=this.baseUrl+ae+(this.isCompressed?".bcmap":""),ge=this.isCompressed?X.CMapCompressionType.BINARY:X.CMapCompressionType.NONE;return this._fetchData(Ae,ge).catch(ve=>{throw new Error(`Unable to load ${this.isCompressed?"binary ":""}CMap at: ${Ae}`)})}_fetchData(ae,Ae){(0,X.unreachable)("Abstract method `_fetchData` called.")}}q.BaseCMapReaderFactory=Y;class he{constructor({baseUrl:ae=null}){this.constructor===he&&(0,X.unreachable)("Cannot initialize BaseStandardFontDataFactory."),this.baseUrl=ae}async fetch({filename:ae}){if(!this.baseUrl)throw new Error('The standard font "baseUrl" parameter must be specified, ensure that the "standardFontDataUrl" API parameter is provided.');if(!ae)throw new Error("Font filename must be specified.");const Ae=`${this.baseUrl}${ae}`;return this._fetchData(Ae).catch(ge=>{throw new Error(`Unable to load font data at: ${Ae}`)})}_fetchData(ae){(0,X.unreachable)("Abstract method `_fetchData` called.")}}q.BaseStandardFontDataFactory=he;class Ce{constructor(){this.constructor===Ce&&(0,X.unreachable)("Cannot initialize BaseSVGFactory.")}create(ae,Ae,ge=!1){if(ae<=0||Ae<=0)throw new Error("Invalid SVG dimensions");const ve=this._createSVG("svg:svg");return ve.setAttribute("version","1.1"),ge||(ve.setAttribute("width",`${ae}px`),ve.setAttribute("height",`${Ae}px`)),ve.setAttribute("preserveAspectRatio","none"),ve.setAttribute("viewBox",`0 0 ${ae} ${Ae}`),ve}createElement(ae){if(typeof ae!="string")throw new Error("Invalid SVG element type");return this._createSVG(ae)}_createSVG(ae){(0,X.unreachable)("Abstract method `_createSVG` called.")}}q.BaseSVGFactory=Ce},(B,q,K)=>{Object.defineProperty(q,"__esModule",{value:!0}),q.MurmurHash3_64=void 0;var X=K(1);const W=3285377520,G=4294901760,Y=65535;class he{constructor(ke){this.h1=ke?ke&4294967295:W,this.h2=ke?ke&4294967295:W}update(ke){let ae,Ae;if(typeof ke=="string"){ae=new Uint8Array(ke.length*2),Ae=0;for(let Ve=0,Ke=ke.length;Ve<Ke;Ve++){const ze=ke.charCodeAt(Ve);ze<=255?ae[Ae++]=ze:(ae[Ae++]=ze>>>8,ae[Ae++]=ze&255)}}else if((0,X.isArrayBuffer)(ke))ae=ke.slice(),Ae=ae.byteLength;else throw new Error("Wrong data format in MurmurHash3_64_update. Input must be a string or array.");const ge=Ae>>2,ve=Ae-ge*4,xe=new Uint32Array(ae.buffer,0,ge);let we=0,fe=0,ne=this.h1,Se=this.h2;const Le=3432918353,Me=461845907,Ee=Le&Y,Pe=Me&Y;for(let Ve=0;Ve<ge;Ve++)Ve&1?(we=xe[Ve],we=we*Le&G|we*Ee&Y,we=we<<15|we>>>17,we=we*Me&G|we*Pe&Y,ne^=we,ne=ne<<13|ne>>>19,ne=ne*5+3864292196):(fe=xe[Ve],fe=fe*Le&G|fe*Ee&Y,fe=fe<<15|fe>>>17,fe=fe*Me&G|fe*Pe&Y,Se^=fe,Se=Se<<13|Se>>>19,Se=Se*5+3864292196);switch(we=0,ve){case 3:we^=ae[ge*4+2]<<16;case 2:we^=ae[ge*4+1]<<8;case 1:we^=ae[ge*4],we=we*Le&G|we*Ee&Y,we=we<<15|we>>>17,we=we*Me&G|we*Pe&Y,ge&1?ne^=we:Se^=we}this.h1=ne,this.h2=Se}hexdigest(){let ke=this.h1,ae=this.h2;return ke^=ae>>>1,ke=ke*3981806797&G|ke*36045&Y,ae=ae*4283543511&G|((ae<<16|ke>>>16)*2950163797&G)>>>16,ke^=ae>>>1,ke=ke*444984403&G|ke*60499&Y,ae=ae*3301882366&G|((ae<<16|ke>>>16)*3120437893&G)>>>16,ke^=ae>>>1,(ke>>>0).toString(16).padStart(8,"0")+(ae>>>0).toString(16).padStart(8,"0")}}q.MurmurHash3_64=he},(B,q,K)=>{var X;Object.defineProperty(q,"__esModule",{value:!0}),q.FontLoader=q.FontFaceObject=void 0;var W=K(1);class G{constructor({ownerDocument:Ce=globalThis.document,styleElement:ke=null}){it(this,X,new Set),this._document=Ce,this.nativeFontFaces=new Set,this.styleElement=null,this.loadingRequests=[],this.loadTestFontId=0}addNativeFontFace(Ce){this.nativeFontFaces.add(Ce),this._document.fonts.add(Ce)}removeNativeFontFace(Ce){this.nativeFontFaces.delete(Ce),this._document.fonts.delete(Ce)}insertRule(Ce){this.styleElement||(this.styleElement=this._document.createElement("style"),this._document.documentElement.getElementsByTagName("head")[0].append(this.styleElement));const ke=this.styleElement.sheet;ke.insertRule(Ce,ke.cssRules.length)}clear(){for(const Ce of this.nativeFontFaces)this._document.fonts.delete(Ce);this.nativeFontFaces.clear(),V(this,X).clear(),this.styleElement&&(this.styleElement.remove(),this.styleElement=null)}async loadSystemFont(Ce){if(!(!Ce||V(this,X).has(Ce.loadedName))){if((0,W.assert)(!this.disableFontFace,"loadSystemFont shouldn't be called when `disableFontFace` is set."),this.isFontLoadingAPISupported){const{loadedName:ke,src:ae,style:Ae}=Ce,ge=new FontFace(ke,ae,Ae);this.addNativeFontFace(ge);try{await ge.load(),V(this,X).add(ke)}catch{(0,W.warn)(`Cannot load system font: ${Ce.baseFontName}, installing it could help to improve PDF rendering.`),this.removeNativeFontFace(ge)}return}(0,W.unreachable)("Not implemented: loadSystemFont without the Font Loading API.")}}async bind(Ce){if(Ce.attached||Ce.missingFile&&!Ce.systemFontInfo)return;if(Ce.attached=!0,Ce.systemFontInfo){await this.loadSystemFont(Ce.systemFontInfo);return}if(this.isFontLoadingAPISupported){const ae=Ce.createNativeFontFace();if(ae){this.addNativeFontFace(ae);try{await ae.loaded}catch(Ae){throw(0,W.warn)(`Failed to load font '${ae.family}': '${Ae}'.`),Ce.disableFontFace=!0,Ae}}return}const ke=Ce.createFontFaceRule();if(ke){if(this.insertRule(ke),this.isSyncFontLoadingSupported)return;await new Promise(ae=>{const Ae=this._queueLoadingCallback(ae);this._prepareFontLoadEvent(Ce,Ae)})}}get isFontLoadingAPISupported(){var Ce;const ke=!!((Ce=this._document)!=null&&Ce.fonts);return(0,W.shadow)(this,"isFontLoadingAPISupported",ke)}get isSyncFontLoadingSupported(){let Ce=!1;return(W.isNodeJS||typeof navigator<"u"&&/Mozilla\/5.0.*?rv:\d+.*? Gecko/.test(navigator.userAgent))&&(Ce=!0),(0,W.shadow)(this,"isSyncFontLoadingSupported",Ce)}_queueLoadingCallback(Ce){function ke(){for((0,W.assert)(!Ae.done,"completeRequest() cannot be called twice."),Ae.done=!0;ae.length>0&&ae[0].done;){const ge=ae.shift();setTimeout(ge.callback,0)}}const{loadingRequests:ae}=this,Ae={done:!1,complete:ke,callback:Ce};return ae.push(Ae),Ae}get _loadTestFont(){const Ce=atob("T1RUTwALAIAAAwAwQ0ZGIDHtZg4AAAOYAAAAgUZGVE1lkzZwAAAEHAAAABxHREVGABQAFQAABDgAAAAeT1MvMlYNYwkAAAEgAAAAYGNtYXABDQLUAAACNAAAAUJoZWFk/xVFDQAAALwAAAA2aGhlYQdkA+oAAAD0AAAAJGhtdHgD6AAAAAAEWAAAAAZtYXhwAAJQAAAAARgAAAAGbmFtZVjmdH4AAAGAAAAAsXBvc3T/hgAzAAADeAAAACAAAQAAAAEAALZRFsRfDzz1AAsD6AAAAADOBOTLAAAAAM4KHDwAAAAAA+gDIQAAAAgAAgAAAAAAAAABAAADIQAAAFoD6AAAAAAD6AABAAAAAAAAAAAAAAAAAAAAAQAAUAAAAgAAAAQD6AH0AAUAAAKKArwAAACMAooCvAAAAeAAMQECAAACAAYJAAAAAAAAAAAAAQAAAAAAAAAAAAAAAFBmRWQAwAAuAC4DIP84AFoDIQAAAAAAAQAAAAAAAAAAACAAIAABAAAADgCuAAEAAAAAAAAAAQAAAAEAAAAAAAEAAQAAAAEAAAAAAAIAAQAAAAEAAAAAAAMAAQAAAAEAAAAAAAQAAQAAAAEAAAAAAAUAAQAAAAEAAAAAAAYAAQAAAAMAAQQJAAAAAgABAAMAAQQJAAEAAgABAAMAAQQJAAIAAgABAAMAAQQJAAMAAgABAAMAAQQJAAQAAgABAAMAAQQJAAUAAgABAAMAAQQJAAYAAgABWABYAAAAAAAAAwAAAAMAAAAcAAEAAAAAADwAAwABAAAAHAAEACAAAAAEAAQAAQAAAC7//wAAAC7////TAAEAAAAAAAABBgAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAMAAAAAAAD/gwAyAAAAAQAAAAAAAAAAAAAAAAAAAAABAAQEAAEBAQJYAAEBASH4DwD4GwHEAvgcA/gXBIwMAYuL+nz5tQXkD5j3CBLnEQACAQEBIVhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYAAABAQAADwACAQEEE/t3Dov6fAH6fAT+fPp8+nwHDosMCvm1Cvm1DAz6fBQAAAAAAAABAAAAAMmJbzEAAAAAzgTjFQAAAADOBOQpAAEAAAAAAAAADAAUAAQAAAABAAAAAgABAAAAAAAAAAAD6AAAAAAAAA==");return(0,W.shadow)(this,"_loadTestFont",Ce)}_prepareFontLoadEvent(Ce,ke){function ae(rt,ye){return rt.charCodeAt(ye)<<24|rt.charCodeAt(ye+1)<<16|rt.charCodeAt(ye+2)<<8|rt.charCodeAt(ye+3)&255}function Ae(rt,ye,ot,Ye){const He=rt.substring(0,ye),Qe=rt.substring(ye+ot);return He+Ye+Qe}let ge,ve;const xe=this._document.createElement("canvas");xe.width=1,xe.height=1;const we=xe.getContext("2d");let fe=0;function ne(rt,ye){if(++fe>30){(0,W.warn)("Load test font never loaded."),ye();return}if(we.font="30px "+rt,we.fillText(".",0,20),we.getImageData(0,0,1,1).data[3]>0){ye();return}setTimeout(ne.bind(null,rt,ye))}const Se=`lt${Date.now()}${this.loadTestFontId++}`;let Le=this._loadTestFont;Le=Ae(Le,976,Se.length,Se);const Me=16,Ee=1482184792;let Pe=ae(Le,Me);for(ge=0,ve=Se.length-3;ge<ve;ge+=4)Pe=Pe-Ee+ae(Se,ge)|0;ge<Se.length&&(Pe=Pe-Ee+ae(Se+"XXX",ge)|0),Le=Ae(Le,Me,4,(0,W.string32)(Pe));const Ve=`url(data:font/opentype;base64,${btoa(Le)});`,Ke=`@font-face {font-family:"${Se}";src:${Ve}}`;this.insertRule(Ke);const ze=this._document.createElement("div");ze.style.visibility="hidden",ze.style.width=ze.style.height="10px",ze.style.position="absolute",ze.style.top=ze.style.left="0px";for(const rt of[Ce.loadedName,Se]){const ye=this._document.createElement("span");ye.textContent="Hi",ye.style.fontFamily=rt,ze.append(ye)}this._document.body.append(ze),ne(Se,()=>{ze.remove(),ke.complete()})}}X=new WeakMap,q.FontLoader=G;class Y{constructor(Ce,{isEvalSupported:ke=!0,disableFontFace:ae=!1,ignoreErrors:Ae=!1,inspectFont:ge=null}){this.compiledGlyphs=Object.create(null);for(const ve in Ce)this[ve]=Ce[ve];this.isEvalSupported=ke!==!1,this.disableFontFace=ae===!0,this.ignoreErrors=Ae===!0,this._inspectFont=ge}createNativeFontFace(){var Ce;if(!this.data||this.disableFontFace)return null;let ke;if(!this.cssFontInfo)ke=new FontFace(this.loadedName,this.data,{});else{const ae={weight:this.cssFontInfo.fontWeight};this.cssFontInfo.italicAngle&&(ae.style=`oblique ${this.cssFontInfo.italicAngle}deg`),ke=new FontFace(this.cssFontInfo.fontFamily,this.data,ae)}return(Ce=this._inspectFont)==null||Ce.call(this,this),ke}createFontFaceRule(){var Ce;if(!this.data||this.disableFontFace)return null;const ke=(0,W.bytesToString)(this.data),ae=`url(data:${this.mimetype};base64,${btoa(ke)});`;let Ae;if(!this.cssFontInfo)Ae=`@font-face {font-family:"${this.loadedName}";src:${ae}}`;else{let ge=`font-weight: ${this.cssFontInfo.fontWeight};`;this.cssFontInfo.italicAngle&&(ge+=`font-style: oblique ${this.cssFontInfo.italicAngle}deg;`),Ae=`@font-face {font-family:"${this.cssFontInfo.fontFamily}";${ge}src:${ae}}`}return(Ce=this._inspectFont)==null||Ce.call(this,this,ae),Ae}getPathGenerator(Ce,ke){if(this.compiledGlyphs[ke]!==void 0)return this.compiledGlyphs[ke];let ae;try{ae=Ce.get(this.loadedName+"_path_"+ke)}catch(Ae){if(!this.ignoreErrors)throw Ae;return(0,W.warn)(`getPathGenerator - ignoring character: "${Ae}".`),this.compiledGlyphs[ke]=function(ge,ve){}}if(this.isEvalSupported&&W.FeatureTest.isEvalSupported){const Ae=[];for(const ge of ae){const ve=ge.args!==void 0?ge.args.join(","):"";Ae.push("c.",ge.cmd,"(",ve,`);
`)}return this.compiledGlyphs[ke]=new Function("c","size",Ae.join(""))}return this.compiledGlyphs[ke]=function(Ae,ge){for(const ve of ae)ve.cmd==="scale"&&(ve.args=[ge,-ge]),Ae[ve.cmd].apply(Ae,ve.args)}}}q.FontFaceObject=Y},(B,q,K)=>{Object.defineProperty(q,"__esModule",{value:!0}),q.NodeStandardFontDataFactory=q.NodeFilterFactory=q.NodeCanvasFactory=q.NodeCMapReaderFactory=void 0;var X=K(7);K(1);const W=function(ke){return new Promise((ae,Ae)=>{require$$5.readFile(ke,(ge,ve)=>{if(ge||!ve){Ae(new Error(ge));return}ae(new Uint8Array(ve))})})};class G extends X.BaseFilterFactory{}q.NodeFilterFactory=G;class Y extends X.BaseCanvasFactory{_createCanvas(ae,Ae){return require$$5.createCanvas(ae,Ae)}}q.NodeCanvasFactory=Y;class he extends X.BaseCMapReaderFactory{_fetchData(ae,Ae){return W(ae).then(ge=>({cMapData:ge,compressionType:Ae}))}}q.NodeCMapReaderFactory=he;class Ce extends X.BaseStandardFontDataFactory{_fetchData(ae){return W(ae)}}q.NodeStandardFontDataFactory=Ce},(B,q,K)=>{var X,W,G;Object.defineProperty(q,"__esModule",{value:!0}),q.CanvasGraphics=void 0;var Y=K(1),he=K(6),Ce=K(12),ke=K(13);const ae=16,Ae=100,ge=4096,ve=15,xe=10,we=1e3,fe=16;function ne(Oe,_e){if(Oe._removeMirroring)throw new Error("Context is already forwarding operations.");Oe.__originalSave=Oe.save,Oe.__originalRestore=Oe.restore,Oe.__originalRotate=Oe.rotate,Oe.__originalScale=Oe.scale,Oe.__originalTranslate=Oe.translate,Oe.__originalTransform=Oe.transform,Oe.__originalSetTransform=Oe.setTransform,Oe.__originalResetTransform=Oe.resetTransform,Oe.__originalClip=Oe.clip,Oe.__originalMoveTo=Oe.moveTo,Oe.__originalLineTo=Oe.lineTo,Oe.__originalBezierCurveTo=Oe.bezierCurveTo,Oe.__originalRect=Oe.rect,Oe.__originalClosePath=Oe.closePath,Oe.__originalBeginPath=Oe.beginPath,Oe._removeMirroring=()=>{Oe.save=Oe.__originalSave,Oe.restore=Oe.__originalRestore,Oe.rotate=Oe.__originalRotate,Oe.scale=Oe.__originalScale,Oe.translate=Oe.__originalTranslate,Oe.transform=Oe.__originalTransform,Oe.setTransform=Oe.__originalSetTransform,Oe.resetTransform=Oe.__originalResetTransform,Oe.clip=Oe.__originalClip,Oe.moveTo=Oe.__originalMoveTo,Oe.lineTo=Oe.__originalLineTo,Oe.bezierCurveTo=Oe.__originalBezierCurveTo,Oe.rect=Oe.__originalRect,Oe.closePath=Oe.__originalClosePath,Oe.beginPath=Oe.__originalBeginPath,delete Oe._removeMirroring},Oe.save=function(){_e.save(),this.__originalSave()},Oe.restore=function(){_e.restore(),this.__originalRestore()},Oe.translate=function(pe,Fe){_e.translate(pe,Fe),this.__originalTranslate(pe,Fe)},Oe.scale=function(pe,Fe){_e.scale(pe,Fe),this.__originalScale(pe,Fe)},Oe.transform=function(pe,Fe,je,Ie,qe,Ge){_e.transform(pe,Fe,je,Ie,qe,Ge),this.__originalTransform(pe,Fe,je,Ie,qe,Ge)},Oe.setTransform=function(pe,Fe,je,Ie,qe,Ge){_e.setTransform(pe,Fe,je,Ie,qe,Ge),this.__originalSetTransform(pe,Fe,je,Ie,qe,Ge)},Oe.resetTransform=function(){_e.resetTransform(),this.__originalResetTransform()},Oe.rotate=function(pe){_e.rotate(pe),this.__originalRotate(pe)},Oe.clip=function(pe){_e.clip(pe),this.__originalClip(pe)},Oe.moveTo=function(pe,Fe){_e.moveTo(pe,Fe),this.__originalMoveTo(pe,Fe)},Oe.lineTo=function(pe,Fe){_e.lineTo(pe,Fe),this.__originalLineTo(pe,Fe)},Oe.bezierCurveTo=function(pe,Fe,je,Ie,qe,Ge){_e.bezierCurveTo(pe,Fe,je,Ie,qe,Ge),this.__originalBezierCurveTo(pe,Fe,je,Ie,qe,Ge)},Oe.rect=function(pe,Fe,je,Ie){_e.rect(pe,Fe,je,Ie),this.__originalRect(pe,Fe,je,Ie)},Oe.closePath=function(){_e.closePath(),this.__originalClosePath()},Oe.beginPath=function(){_e.beginPath(),this.__originalBeginPath()}}class Se{constructor(_e){this.canvasFactory=_e,this.cache=Object.create(null)}getCanvas(_e,pe,Fe){let je;return this.cache[_e]!==void 0?(je=this.cache[_e],this.canvasFactory.reset(je,pe,Fe)):(je=this.canvasFactory.create(pe,Fe),this.cache[_e]=je),je}delete(_e){delete this.cache[_e]}clear(){for(const _e in this.cache){const pe=this.cache[_e];this.canvasFactory.destroy(pe),delete this.cache[_e]}}}function Le(Oe,_e,pe,Fe,je,Ie,qe,Ge,gt,Pt){const[Ct,ht,$t,Vt,De,Re]=(0,he.getCurrentTransform)(Oe);if(ht===0&&$t===0){const ct=qe*Ct+De,Mt=Math.round(ct),Rt=Ge*Vt+Re,Et=Math.round(Rt),At=(qe+gt)*Ct+De,jt=Math.abs(Math.round(At)-Mt)||1,Qt=(Ge+Pt)*Vt+Re,Gt=Math.abs(Math.round(Qt)-Et)||1;return Oe.setTransform(Math.sign(Ct),0,0,Math.sign(Vt),Mt,Et),Oe.drawImage(_e,pe,Fe,je,Ie,0,0,jt,Gt),Oe.setTransform(Ct,ht,$t,Vt,De,Re),[jt,Gt]}if(Ct===0&&Vt===0){const ct=Ge*$t+De,Mt=Math.round(ct),Rt=qe*ht+Re,Et=Math.round(Rt),At=(Ge+Pt)*$t+De,jt=Math.abs(Math.round(At)-Mt)||1,Qt=(qe+gt)*ht+Re,Gt=Math.abs(Math.round(Qt)-Et)||1;return Oe.setTransform(0,Math.sign(ht),Math.sign($t),0,Mt,Et),Oe.drawImage(_e,pe,Fe,je,Ie,0,0,Gt,jt),Oe.setTransform(Ct,ht,$t,Vt,De,Re),[Gt,jt]}Oe.drawImage(_e,pe,Fe,je,Ie,qe,Ge,gt,Pt);const Be=Math.hypot(Ct,ht),Ze=Math.hypot($t,Vt);return[Be*gt,Ze*Pt]}function Me(Oe){const{width:_e,height:pe}=Oe;if(_e>we||pe>we)return null;const Fe=1e3,je=new Uint8Array([0,2,4,0,1,0,5,4,8,10,0,8,0,2,1,0]),Ie=_e+1;let qe=new Uint8Array(Ie*(pe+1)),Ge,gt,Pt;const Ct=_e+7&-8;let ht=new Uint8Array(Ct*pe),$t=0;for(const Be of Oe.data){let Ze=128;for(;Ze>0;)ht[$t++]=Be&Ze?0:255,Ze>>=1}let Vt=0;for($t=0,ht[$t]!==0&&(qe[0]=1,++Vt),gt=1;gt<_e;gt++)ht[$t]!==ht[$t+1]&&(qe[gt]=ht[$t]?2:1,++Vt),$t++;for(ht[$t]!==0&&(qe[gt]=2,++Vt),Ge=1;Ge<pe;Ge++){$t=Ge*Ct,Pt=Ge*Ie,ht[$t-Ct]!==ht[$t]&&(qe[Pt]=ht[$t]?1:8,++Vt);let Be=(ht[$t]?4:0)+(ht[$t-Ct]?8:0);for(gt=1;gt<_e;gt++)Be=(Be>>2)+(ht[$t+1]?4:0)+(ht[$t-Ct+1]?8:0),je[Be]&&(qe[Pt+gt]=je[Be],++Vt),$t++;if(ht[$t-Ct]!==ht[$t]&&(qe[Pt+gt]=ht[$t]?2:4,++Vt),Vt>Fe)return null}for($t=Ct*(pe-1),Pt=Ge*Ie,ht[$t]!==0&&(qe[Pt]=8,++Vt),gt=1;gt<_e;gt++)ht[$t]!==ht[$t+1]&&(qe[Pt+gt]=ht[$t]?4:8,++Vt),$t++;if(ht[$t]!==0&&(qe[Pt+gt]=4,++Vt),Vt>Fe)return null;const De=new Int32Array([0,Ie,-1,0,-Ie,0,0,0,1]),Re=new Path2D;for(Ge=0;Vt&&Ge<=pe;Ge++){let Be=Ge*Ie;const Ze=Be+_e;for(;Be<Ze&&!qe[Be];)Be++;if(Be===Ze)continue;Re.moveTo(Be%Ie,Ge);const ct=Be;let Mt=qe[Be];do{const Rt=De[Mt];do Be+=Rt;while(!qe[Be]);const Et=qe[Be];Et!==5&&Et!==10?(Mt=Et,qe[Be]=0):(Mt=Et&51*Mt>>4,qe[Be]&=Mt>>2|Mt<<2),Re.lineTo(Be%Ie,Be/Ie|0),qe[Be]||--Vt}while(ct!==Be);--Ge}return ht=null,qe=null,function(Be){Be.save(),Be.scale(1/_e,-1/pe),Be.translate(0,-pe),Be.fill(Re),Be.beginPath(),Be.restore()}}class Ee{constructor(_e,pe){this.alphaIsShape=!1,this.fontSize=0,this.fontSizeScale=1,this.textMatrix=Y.IDENTITY_MATRIX,this.textMatrixScale=1,this.fontMatrix=Y.FONT_IDENTITY_MATRIX,this.leading=0,this.x=0,this.y=0,this.lineX=0,this.lineY=0,this.charSpacing=0,this.wordSpacing=0,this.textHScale=1,this.textRenderingMode=Y.TextRenderingMode.FILL,this.textRise=0,this.fillColor="#000000",this.strokeColor="#000000",this.patternFill=!1,this.fillAlpha=1,this.strokeAlpha=1,this.lineWidth=1,this.activeSMask=null,this.transferMaps="none",this.startNewPathAndClipBox([0,0,_e,pe])}clone(){const _e=Object.create(this);return _e.clipBox=this.clipBox.slice(),_e}setCurrentPoint(_e,pe){this.x=_e,this.y=pe}updatePathMinMax(_e,pe,Fe){[pe,Fe]=Y.Util.applyTransform([pe,Fe],_e),this.minX=Math.min(this.minX,pe),this.minY=Math.min(this.minY,Fe),this.maxX=Math.max(this.maxX,pe),this.maxY=Math.max(this.maxY,Fe)}updateRectMinMax(_e,pe){const Fe=Y.Util.applyTransform(pe,_e),je=Y.Util.applyTransform(pe.slice(2),_e);this.minX=Math.min(this.minX,Fe[0],je[0]),this.minY=Math.min(this.minY,Fe[1],je[1]),this.maxX=Math.max(this.maxX,Fe[0],je[0]),this.maxY=Math.max(this.maxY,Fe[1],je[1])}updateScalingPathMinMax(_e,pe){Y.Util.scaleMinMax(_e,pe),this.minX=Math.min(this.minX,pe[0]),this.maxX=Math.max(this.maxX,pe[1]),this.minY=Math.min(this.minY,pe[2]),this.maxY=Math.max(this.maxY,pe[3])}updateCurvePathMinMax(_e,pe,Fe,je,Ie,qe,Ge,gt,Pt,Ct){const ht=Y.Util.bezierBoundingBox(pe,Fe,je,Ie,qe,Ge,gt,Pt);if(Ct){Ct[0]=Math.min(Ct[0],ht[0],ht[2]),Ct[1]=Math.max(Ct[1],ht[0],ht[2]),Ct[2]=Math.min(Ct[2],ht[1],ht[3]),Ct[3]=Math.max(Ct[3],ht[1],ht[3]);return}this.updateRectMinMax(_e,ht)}getPathBoundingBox(_e=Ce.PathType.FILL,pe=null){const Fe=[this.minX,this.minY,this.maxX,this.maxY];if(_e===Ce.PathType.STROKE){pe||(0,Y.unreachable)("Stroke bounding box must include transform.");const je=Y.Util.singularValueDecompose2dScale(pe),Ie=je[0]*this.lineWidth/2,qe=je[1]*this.lineWidth/2;Fe[0]-=Ie,Fe[1]-=qe,Fe[2]+=Ie,Fe[3]+=qe}return Fe}updateClipFromPath(){const _e=Y.Util.intersect(this.clipBox,this.getPathBoundingBox());this.startNewPathAndClipBox(_e||[0,0,0,0])}isEmptyClip(){return this.minX===1/0}startNewPathAndClipBox(_e){this.clipBox=_e,this.minX=1/0,this.minY=1/0,this.maxX=0,this.maxY=0}getClippedPathBoundingBox(_e=Ce.PathType.FILL,pe=null){return Y.Util.intersect(this.clipBox,this.getPathBoundingBox(_e,pe))}}function Pe(Oe,_e){if(typeof ImageData<"u"&&_e instanceof ImageData){Oe.putImageData(_e,0,0);return}const pe=_e.height,Fe=_e.width,je=pe%fe,Ie=(pe-je)/fe,qe=je===0?Ie:Ie+1,Ge=Oe.createImageData(Fe,fe);let gt=0,Pt;const Ct=_e.data,ht=Ge.data;let $t,Vt,De,Re;if(_e.kind===Y.ImageKind.GRAYSCALE_1BPP){const Be=Ct.byteLength,Ze=new Uint32Array(ht.buffer,0,ht.byteLength>>2),ct=Ze.length,Mt=Fe+7>>3,Rt=4294967295,Et=Y.FeatureTest.isLittleEndian?4278190080:255;for($t=0;$t<qe;$t++){for(De=$t<Ie?fe:je,Pt=0,Vt=0;Vt<De;Vt++){const At=Be-gt;let jt=0;const Qt=At>Mt?Fe:At*8-7,Gt=Qt&-8;let Jt=0,cn=0;for(;jt<Gt;jt+=8)cn=Ct[gt++],Ze[Pt++]=cn&128?Rt:Et,Ze[Pt++]=cn&64?Rt:Et,Ze[Pt++]=cn&32?Rt:Et,Ze[Pt++]=cn&16?Rt:Et,Ze[Pt++]=cn&8?Rt:Et,Ze[Pt++]=cn&4?Rt:Et,Ze[Pt++]=cn&2?Rt:Et,Ze[Pt++]=cn&1?Rt:Et;for(;jt<Qt;jt++)Jt===0&&(cn=Ct[gt++],Jt=128),Ze[Pt++]=cn&Jt?Rt:Et,Jt>>=1}for(;Pt<ct;)Ze[Pt++]=0;Oe.putImageData(Ge,0,$t*fe)}}else if(_e.kind===Y.ImageKind.RGBA_32BPP){for(Vt=0,Re=Fe*fe*4,$t=0;$t<Ie;$t++)ht.set(Ct.subarray(gt,gt+Re)),gt+=Re,Oe.putImageData(Ge,0,Vt),Vt+=fe;$t<qe&&(Re=Fe*je*4,ht.set(Ct.subarray(gt,gt+Re)),Oe.putImageData(Ge,0,Vt))}else if(_e.kind===Y.ImageKind.RGB_24BPP)for(De=fe,Re=Fe*De,$t=0;$t<qe;$t++){for($t>=Ie&&(De=je,Re=Fe*De),Pt=0,Vt=Re;Vt--;)ht[Pt++]=Ct[gt++],ht[Pt++]=Ct[gt++],ht[Pt++]=Ct[gt++],ht[Pt++]=255;Oe.putImageData(Ge,0,$t*fe)}else throw new Error(`bad image kind: ${_e.kind}`)}function Ve(Oe,_e){if(_e.bitmap){Oe.drawImage(_e.bitmap,0,0);return}const pe=_e.height,Fe=_e.width,je=pe%fe,Ie=(pe-je)/fe,qe=je===0?Ie:Ie+1,Ge=Oe.createImageData(Fe,fe);let gt=0;const Pt=_e.data,Ct=Ge.data;for(let ht=0;ht<qe;ht++){const $t=ht<Ie?fe:je;({srcPos:gt}=(0,ke.convertBlackAndWhiteToRGBA)({src:Pt,srcPos:gt,dest:Ct,width:Fe,height:$t,nonBlackColor:0})),Oe.putImageData(Ge,0,ht*fe)}}function Ke(Oe,_e){const pe=["strokeStyle","fillStyle","fillRule","globalAlpha","lineWidth","lineCap","lineJoin","miterLimit","globalCompositeOperation","font","filter"];for(const Fe of pe)Oe[Fe]!==void 0&&(_e[Fe]=Oe[Fe]);Oe.setLineDash!==void 0&&(_e.setLineDash(Oe.getLineDash()),_e.lineDashOffset=Oe.lineDashOffset)}function ze(Oe){if(Oe.strokeStyle=Oe.fillStyle="#000000",Oe.fillRule="nonzero",Oe.globalAlpha=1,Oe.lineWidth=1,Oe.lineCap="butt",Oe.lineJoin="miter",Oe.miterLimit=10,Oe.globalCompositeOperation="source-over",Oe.font="10px sans-serif",Oe.setLineDash!==void 0&&(Oe.setLineDash([]),Oe.lineDashOffset=0),!Y.isNodeJS){const{filter:_e}=Oe;_e!=="none"&&_e!==""&&(Oe.filter="none")}}function rt(Oe,_e,pe,Fe){const je=Oe.length;for(let Ie=3;Ie<je;Ie+=4){const qe=Oe[Ie];if(qe===0)Oe[Ie-3]=_e,Oe[Ie-2]=pe,Oe[Ie-1]=Fe;else if(qe<255){const Ge=255-qe;Oe[Ie-3]=Oe[Ie-3]*qe+_e*Ge>>8,Oe[Ie-2]=Oe[Ie-2]*qe+pe*Ge>>8,Oe[Ie-1]=Oe[Ie-1]*qe+Fe*Ge>>8}}}function ye(Oe,_e,pe){const Fe=Oe.length,je=1/255;for(let Ie=3;Ie<Fe;Ie+=4){const qe=pe?pe[Oe[Ie]]:Oe[Ie];_e[Ie]=_e[Ie]*qe*je|0}}function ot(Oe,_e,pe){const Fe=Oe.length;for(let je=3;je<Fe;je+=4){const Ie=Oe[je-3]*77+Oe[je-2]*152+Oe[je-1]*28;_e[je]=pe?_e[je]*pe[Ie>>8]>>8:_e[je]*Ie>>16}}function Ye(Oe,_e,pe,Fe,je,Ie,qe,Ge,gt,Pt,Ct){const ht=!!Ie,$t=ht?Ie[0]:0,Vt=ht?Ie[1]:0,De=ht?Ie[2]:0,Re=je==="Luminosity"?ot:ye,Be=Math.min(Fe,Math.ceil(1048576/pe));for(let Ze=0;Ze<Fe;Ze+=Be){const ct=Math.min(Be,Fe-Ze),Mt=Oe.getImageData(Ge-Pt,Ze+(gt-Ct),pe,ct),Rt=_e.getImageData(Ge,Ze+gt,pe,ct);ht&&rt(Mt.data,$t,Vt,De),Re(Mt.data,Rt.data,qe),_e.putImageData(Rt,Ge,Ze+gt)}}function He(Oe,_e,pe,Fe){const je=Fe[0],Ie=Fe[1],qe=Fe[2]-je,Ge=Fe[3]-Ie;qe===0||Ge===0||(Ye(_e.context,pe,qe,Ge,_e.subtype,_e.backdrop,_e.transferMap,je,Ie,_e.offsetX,_e.offsetY),Oe.save(),Oe.globalAlpha=1,Oe.globalCompositeOperation="source-over",Oe.setTransform(1,0,0,1,0,0),Oe.drawImage(pe.canvas,0,0),Oe.restore())}function Qe(Oe,_e){const pe=Y.Util.singularValueDecompose2dScale(Oe);pe[0]=Math.fround(pe[0]),pe[1]=Math.fround(pe[1]);const Fe=Math.fround((globalThis.devicePixelRatio||1)*he.PixelsPerInch.PDF_TO_CSS_UNITS);return _e!==void 0?_e:pe[0]<=Fe||pe[1]<=Fe}const yt=["butt","round","square"],ut=["miter","round","bevel"],_t={},Ne={},tt=class Fi{constructor(_e,pe,Fe,je,Ie,{optionalContentConfig:qe,markedContentStack:Ge=null},gt,Pt){it(this,X),this.ctx=_e,this.current=new Ee(this.ctx.canvas.width,this.ctx.canvas.height),this.stateStack=[],this.pendingClip=null,this.pendingEOFill=!1,this.res=null,this.xobjs=null,this.commonObjs=pe,this.objs=Fe,this.canvasFactory=je,this.filterFactory=Ie,this.groupStack=[],this.processingType3=null,this.baseTransform=null,this.baseTransformStack=[],this.groupLevel=0,this.smaskStack=[],this.smaskCounter=0,this.tempSMask=null,this.suspendedCtx=null,this.contentVisible=!0,this.markedContentStack=Ge||[],this.optionalContentConfig=qe,this.cachedCanvases=new Se(this.canvasFactory),this.cachedPatterns=new Map,this.annotationCanvasMap=gt,this.viewportScale=1,this.outputScaleX=1,this.outputScaleY=1,this.pageColors=Pt,this._cachedScaleForStroking=[-1,0],this._cachedGetSinglePixelWidth=null,this._cachedBitmapsMap=new Map}getObject(_e,pe=null){return typeof _e=="string"?_e.startsWith("g_")?this.commonObjs.get(_e):this.objs.get(_e):pe}beginDrawing({transform:_e,viewport:pe,transparency:Fe=!1,background:je=null}){const Ie=this.ctx.canvas.width,qe=this.ctx.canvas.height,Ge=this.ctx.fillStyle;if(this.ctx.fillStyle=je||"#ffffff",this.ctx.fillRect(0,0,Ie,qe),this.ctx.fillStyle=Ge,Fe){const gt=this.cachedCanvases.getCanvas("transparent",Ie,qe);this.compositeCtx=this.ctx,this.transparentCanvas=gt.canvas,this.ctx=gt.context,this.ctx.save(),this.ctx.transform(...(0,he.getCurrentTransform)(this.compositeCtx))}this.ctx.save(),ze(this.ctx),_e&&(this.ctx.transform(..._e),this.outputScaleX=_e[0],this.outputScaleY=_e[0]),this.ctx.transform(...pe.transform),this.viewportScale=pe.scale,this.baseTransform=(0,he.getCurrentTransform)(this.ctx)}executeOperatorList(_e,pe,Fe,je){const Ie=_e.argsArray,qe=_e.fnArray;let Ge=pe||0;const gt=Ie.length;if(gt===Ge)return Ge;const Pt=gt-Ge>xe&&typeof Fe=="function",Ct=Pt?Date.now()+ve:0;let ht=0;const $t=this.commonObjs,Vt=this.objs;let De;for(;;){if(je!==void 0&&Ge===je.nextBreakPoint)return je.breakIt(Ge,Fe),Ge;if(De=qe[Ge],De!==Y.OPS.dependency)this[De].apply(this,Ie[Ge]);else for(const Re of Ie[Ge]){const Be=Re.startsWith("g_")?$t:Vt;if(!Be.has(Re))return Be.get(Re,Fe),Ge}if(Ge++,Ge===gt)return Ge;if(Pt&&++ht>xe){if(Date.now()>Ct)return Fe(),Ge;ht=0}}}endDrawing(){Ue(this,X,W).call(this),this.cachedCanvases.clear(),this.cachedPatterns.clear();for(const _e of this._cachedBitmapsMap.values()){for(const pe of _e.values())typeof HTMLCanvasElement<"u"&&pe instanceof HTMLCanvasElement&&(pe.width=pe.height=0);_e.clear()}this._cachedBitmapsMap.clear(),Ue(this,X,G).call(this)}_scaleImage(_e,pe){const Fe=_e.width,je=_e.height;let Ie=Math.max(Math.hypot(pe[0],pe[1]),1),qe=Math.max(Math.hypot(pe[2],pe[3]),1),Ge=Fe,gt=je,Pt="prescale1",Ct,ht;for(;Ie>2&&Ge>1||qe>2&&gt>1;){let $t=Ge,Vt=gt;Ie>2&&Ge>1&&($t=Ge>=16384?Math.floor(Ge/2)-1||1:Math.ceil(Ge/2),Ie/=Ge/$t),qe>2&&gt>1&&(Vt=gt>=16384?Math.floor(gt/2)-1||1:Math.ceil(gt)/2,qe/=gt/Vt),Ct=this.cachedCanvases.getCanvas(Pt,$t,Vt),ht=Ct.context,ht.clearRect(0,0,$t,Vt),ht.drawImage(_e,0,0,Ge,gt,0,0,$t,Vt),_e=Ct.canvas,Ge=$t,gt=Vt,Pt=Pt==="prescale1"?"prescale2":"prescale1"}return{img:_e,paintWidth:Ge,paintHeight:gt}}_createMaskCanvas(_e){const pe=this.ctx,{width:Fe,height:je}=_e,Ie=this.current.fillColor,qe=this.current.patternFill,Ge=(0,he.getCurrentTransform)(pe);let gt,Pt,Ct,ht;if((_e.bitmap||_e.data)&&_e.count>1){const jt=_e.bitmap||_e.data.buffer;Pt=JSON.stringify(qe?Ge:[Ge.slice(0,4),Ie]),gt=this._cachedBitmapsMap.get(jt),gt||(gt=new Map,this._cachedBitmapsMap.set(jt,gt));const Qt=gt.get(Pt);if(Qt&&!qe){const Gt=Math.round(Math.min(Ge[0],Ge[2])+Ge[4]),Jt=Math.round(Math.min(Ge[1],Ge[3])+Ge[5]);return{canvas:Qt,offsetX:Gt,offsetY:Jt}}Ct=Qt}Ct||(ht=this.cachedCanvases.getCanvas("maskCanvas",Fe,je),Ve(ht.context,_e));let $t=Y.Util.transform(Ge,[1/Fe,0,0,-1/je,0,0]);$t=Y.Util.transform($t,[1,0,0,1,0,-je]);const Vt=Y.Util.applyTransform([0,0],$t),De=Y.Util.applyTransform([Fe,je],$t),Re=Y.Util.normalizeRect([Vt[0],Vt[1],De[0],De[1]]),Be=Math.round(Re[2]-Re[0])||1,Ze=Math.round(Re[3]-Re[1])||1,ct=this.cachedCanvases.getCanvas("fillCanvas",Be,Ze),Mt=ct.context,Rt=Math.min(Vt[0],De[0]),Et=Math.min(Vt[1],De[1]);Mt.translate(-Rt,-Et),Mt.transform(...$t),Ct||(Ct=this._scaleImage(ht.canvas,(0,he.getCurrentTransformInverse)(Mt)),Ct=Ct.img,gt&&qe&&gt.set(Pt,Ct)),Mt.imageSmoothingEnabled=Qe((0,he.getCurrentTransform)(Mt),_e.interpolate),Le(Mt,Ct,0,0,Ct.width,Ct.height,0,0,Fe,je),Mt.globalCompositeOperation="source-in";const At=Y.Util.transform((0,he.getCurrentTransformInverse)(Mt),[1,0,0,1,-Rt,-Et]);return Mt.fillStyle=qe?Ie.getPattern(pe,this,At,Ce.PathType.FILL):Ie,Mt.fillRect(0,0,Fe,je),gt&&!qe&&(this.cachedCanvases.delete("fillCanvas"),gt.set(Pt,ct.canvas)),{canvas:ct.canvas,offsetX:Math.round(Rt),offsetY:Math.round(Et)}}setLineWidth(_e){_e!==this.current.lineWidth&&(this._cachedScaleForStroking[0]=-1),this.current.lineWidth=_e,this.ctx.lineWidth=_e}setLineCap(_e){this.ctx.lineCap=yt[_e]}setLineJoin(_e){this.ctx.lineJoin=ut[_e]}setMiterLimit(_e){this.ctx.miterLimit=_e}setDash(_e,pe){const Fe=this.ctx;Fe.setLineDash!==void 0&&(Fe.setLineDash(_e),Fe.lineDashOffset=pe)}setRenderingIntent(_e){}setFlatness(_e){}setGState(_e){for(const[pe,Fe]of _e)switch(pe){case"LW":this.setLineWidth(Fe);break;case"LC":this.setLineCap(Fe);break;case"LJ":this.setLineJoin(Fe);break;case"ML":this.setMiterLimit(Fe);break;case"D":this.setDash(Fe[0],Fe[1]);break;case"RI":this.setRenderingIntent(Fe);break;case"FL":this.setFlatness(Fe);break;case"Font":this.setFont(Fe[0],Fe[1]);break;case"CA":this.current.strokeAlpha=Fe;break;case"ca":this.current.fillAlpha=Fe,this.ctx.globalAlpha=Fe;break;case"BM":this.ctx.globalCompositeOperation=Fe;break;case"SMask":this.current.activeSMask=Fe?this.tempSMask:null,this.tempSMask=null,this.checkSMaskState();break;case"TR":this.ctx.filter=this.current.transferMaps=this.filterFactory.addFilter(Fe);break}}get inSMaskMode(){return!!this.suspendedCtx}checkSMaskState(){const _e=this.inSMaskMode;this.current.activeSMask&&!_e?this.beginSMaskMode():!this.current.activeSMask&&_e&&this.endSMaskMode()}beginSMaskMode(){if(this.inSMaskMode)throw new Error("beginSMaskMode called while already in smask mode");const _e=this.ctx.canvas.width,pe=this.ctx.canvas.height,Fe="smaskGroupAt"+this.groupLevel,je=this.cachedCanvases.getCanvas(Fe,_e,pe);this.suspendedCtx=this.ctx,this.ctx=je.context;const Ie=this.ctx;Ie.setTransform(...(0,he.getCurrentTransform)(this.suspendedCtx)),Ke(this.suspendedCtx,Ie),ne(Ie,this.suspendedCtx),this.setGState([["BM","source-over"],["ca",1],["CA",1]])}endSMaskMode(){if(!this.inSMaskMode)throw new Error("endSMaskMode called while not in smask mode");this.ctx._removeMirroring(),Ke(this.ctx,this.suspendedCtx),this.ctx=this.suspendedCtx,this.suspendedCtx=null}compose(_e){if(!this.current.activeSMask)return;_e?(_e[0]=Math.floor(_e[0]),_e[1]=Math.floor(_e[1]),_e[2]=Math.ceil(_e[2]),_e[3]=Math.ceil(_e[3])):_e=[0,0,this.ctx.canvas.width,this.ctx.canvas.height];const pe=this.current.activeSMask,Fe=this.suspendedCtx;He(Fe,pe,this.ctx,_e),this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.clearRect(0,0,this.ctx.canvas.width,this.ctx.canvas.height),this.ctx.restore()}save(){this.inSMaskMode?(Ke(this.ctx,this.suspendedCtx),this.suspendedCtx.save()):this.ctx.save();const _e=this.current;this.stateStack.push(_e),this.current=_e.clone()}restore(){this.stateStack.length===0&&this.inSMaskMode&&this.endSMaskMode(),this.stateStack.length!==0&&(this.current=this.stateStack.pop(),this.inSMaskMode?(this.suspendedCtx.restore(),Ke(this.suspendedCtx,this.ctx)):this.ctx.restore(),this.checkSMaskState(),this.pendingClip=null,this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null)}transform(_e,pe,Fe,je,Ie,qe){this.ctx.transform(_e,pe,Fe,je,Ie,qe),this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null}constructPath(_e,pe,Fe){const je=this.ctx,Ie=this.current;let qe=Ie.x,Ge=Ie.y,gt,Pt;const Ct=(0,he.getCurrentTransform)(je),ht=Ct[0]===0&&Ct[3]===0||Ct[1]===0&&Ct[2]===0,$t=ht?Fe.slice(0):null;for(let Vt=0,De=0,Re=_e.length;Vt<Re;Vt++)switch(_e[Vt]|0){case Y.OPS.rectangle:qe=pe[De++],Ge=pe[De++];const Be=pe[De++],Ze=pe[De++],ct=qe+Be,Mt=Ge+Ze;je.moveTo(qe,Ge),Be===0||Ze===0?je.lineTo(ct,Mt):(je.lineTo(ct,Ge),je.lineTo(ct,Mt),je.lineTo(qe,Mt)),ht||Ie.updateRectMinMax(Ct,[qe,Ge,ct,Mt]),je.closePath();break;case Y.OPS.moveTo:qe=pe[De++],Ge=pe[De++],je.moveTo(qe,Ge),ht||Ie.updatePathMinMax(Ct,qe,Ge);break;case Y.OPS.lineTo:qe=pe[De++],Ge=pe[De++],je.lineTo(qe,Ge),ht||Ie.updatePathMinMax(Ct,qe,Ge);break;case Y.OPS.curveTo:gt=qe,Pt=Ge,qe=pe[De+4],Ge=pe[De+5],je.bezierCurveTo(pe[De],pe[De+1],pe[De+2],pe[De+3],qe,Ge),Ie.updateCurvePathMinMax(Ct,gt,Pt,pe[De],pe[De+1],pe[De+2],pe[De+3],qe,Ge,$t),De+=6;break;case Y.OPS.curveTo2:gt=qe,Pt=Ge,je.bezierCurveTo(qe,Ge,pe[De],pe[De+1],pe[De+2],pe[De+3]),Ie.updateCurvePathMinMax(Ct,gt,Pt,qe,Ge,pe[De],pe[De+1],pe[De+2],pe[De+3],$t),qe=pe[De+2],Ge=pe[De+3],De+=4;break;case Y.OPS.curveTo3:gt=qe,Pt=Ge,qe=pe[De+2],Ge=pe[De+3],je.bezierCurveTo(pe[De],pe[De+1],qe,Ge,qe,Ge),Ie.updateCurvePathMinMax(Ct,gt,Pt,pe[De],pe[De+1],qe,Ge,qe,Ge,$t),De+=4;break;case Y.OPS.closePath:je.closePath();break}ht&&Ie.updateScalingPathMinMax(Ct,$t),Ie.setCurrentPoint(qe,Ge)}closePath(){this.ctx.closePath()}stroke(_e=!0){const pe=this.ctx,Fe=this.current.strokeColor;pe.globalAlpha=this.current.strokeAlpha,this.contentVisible&&(typeof Fe=="object"&&Fe!=null&&Fe.getPattern?(pe.save(),pe.strokeStyle=Fe.getPattern(pe,this,(0,he.getCurrentTransformInverse)(pe),Ce.PathType.STROKE),this.rescaleAndStroke(!1),pe.restore()):this.rescaleAndStroke(!0)),_e&&this.consumePath(this.current.getClippedPathBoundingBox()),pe.globalAlpha=this.current.fillAlpha}closeStroke(){this.closePath(),this.stroke()}fill(_e=!0){const pe=this.ctx,Fe=this.current.fillColor,je=this.current.patternFill;let Ie=!1;je&&(pe.save(),pe.fillStyle=Fe.getPattern(pe,this,(0,he.getCurrentTransformInverse)(pe),Ce.PathType.FILL),Ie=!0);const qe=this.current.getClippedPathBoundingBox();this.contentVisible&&qe!==null&&(this.pendingEOFill?(pe.fill("evenodd"),this.pendingEOFill=!1):pe.fill()),Ie&&pe.restore(),_e&&this.consumePath(qe)}eoFill(){this.pendingEOFill=!0,this.fill()}fillStroke(){this.fill(!1),this.stroke(!1),this.consumePath()}eoFillStroke(){this.pendingEOFill=!0,this.fillStroke()}closeFillStroke(){this.closePath(),this.fillStroke()}closeEOFillStroke(){this.pendingEOFill=!0,this.closePath(),this.fillStroke()}endPath(){this.consumePath()}clip(){this.pendingClip=_t}eoClip(){this.pendingClip=Ne}beginText(){this.current.textMatrix=Y.IDENTITY_MATRIX,this.current.textMatrixScale=1,this.current.x=this.current.lineX=0,this.current.y=this.current.lineY=0}endText(){const _e=this.pendingTextPaths,pe=this.ctx;if(_e===void 0){pe.beginPath();return}pe.save(),pe.beginPath();for(const Fe of _e)pe.setTransform(...Fe.transform),pe.translate(Fe.x,Fe.y),Fe.addToPath(pe,Fe.fontSize);pe.restore(),pe.clip(),pe.beginPath(),delete this.pendingTextPaths}setCharSpacing(_e){this.current.charSpacing=_e}setWordSpacing(_e){this.current.wordSpacing=_e}setHScale(_e){this.current.textHScale=_e/100}setLeading(_e){this.current.leading=-_e}setFont(_e,pe){var Fe;const je=this.commonObjs.get(_e),Ie=this.current;if(!je)throw new Error(`Can't find font for ${_e}`);if(Ie.fontMatrix=je.fontMatrix||Y.FONT_IDENTITY_MATRIX,(Ie.fontMatrix[0]===0||Ie.fontMatrix[3]===0)&&(0,Y.warn)("Invalid font matrix for font "+_e),pe<0?(pe=-pe,Ie.fontDirection=-1):Ie.fontDirection=1,this.current.font=je,this.current.fontSize=pe,je.isType3Font)return;const qe=je.loadedName||"sans-serif",Ge=((Fe=je.systemFontInfo)==null?void 0:Fe.css)||`"${qe}", ${je.fallbackName}`;let gt="normal";je.black?gt="900":je.bold&&(gt="bold");const Pt=je.italic?"italic":"normal";let Ct=pe;pe<ae?Ct=ae:pe>Ae&&(Ct=Ae),this.current.fontSizeScale=pe/Ct,this.ctx.font=`${Pt} ${gt} ${Ct}px ${Ge}`}setTextRenderingMode(_e){this.current.textRenderingMode=_e}setTextRise(_e){this.current.textRise=_e}moveText(_e,pe){this.current.x=this.current.lineX+=_e,this.current.y=this.current.lineY+=pe}setLeadingMoveText(_e,pe){this.setLeading(-pe),this.moveText(_e,pe)}setTextMatrix(_e,pe,Fe,je,Ie,qe){this.current.textMatrix=[_e,pe,Fe,je,Ie,qe],this.current.textMatrixScale=Math.hypot(_e,pe),this.current.x=this.current.lineX=0,this.current.y=this.current.lineY=0}nextLine(){this.moveText(0,this.current.leading)}paintChar(_e,pe,Fe,je){const Ie=this.ctx,qe=this.current,Ge=qe.font,gt=qe.textRenderingMode,Pt=qe.fontSize/qe.fontSizeScale,Ct=gt&Y.TextRenderingMode.FILL_STROKE_MASK,ht=!!(gt&Y.TextRenderingMode.ADD_TO_PATH_FLAG),$t=qe.patternFill&&!Ge.missingFile;let Vt;(Ge.disableFontFace||ht||$t)&&(Vt=Ge.getPathGenerator(this.commonObjs,_e)),Ge.disableFontFace||$t?(Ie.save(),Ie.translate(pe,Fe),Ie.beginPath(),Vt(Ie,Pt),je&&Ie.setTransform(...je),(Ct===Y.TextRenderingMode.FILL||Ct===Y.TextRenderingMode.FILL_STROKE)&&Ie.fill(),(Ct===Y.TextRenderingMode.STROKE||Ct===Y.TextRenderingMode.FILL_STROKE)&&Ie.stroke(),Ie.restore()):((Ct===Y.TextRenderingMode.FILL||Ct===Y.TextRenderingMode.FILL_STROKE)&&Ie.fillText(_e,pe,Fe),(Ct===Y.TextRenderingMode.STROKE||Ct===Y.TextRenderingMode.FILL_STROKE)&&Ie.strokeText(_e,pe,Fe)),ht&&(this.pendingTextPaths||(this.pendingTextPaths=[])).push({transform:(0,he.getCurrentTransform)(Ie),x:pe,y:Fe,fontSize:Pt,addToPath:Vt})}get isFontSubpixelAAEnabled(){const{context:_e}=this.cachedCanvases.getCanvas("isFontSubpixelAAEnabled",10,10);_e.scale(1.5,1),_e.fillText("I",0,10);const pe=_e.getImageData(0,0,10,10).data;let Fe=!1;for(let je=3;je<pe.length;je+=4)if(pe[je]>0&&pe[je]<255){Fe=!0;break}return(0,Y.shadow)(this,"isFontSubpixelAAEnabled",Fe)}showText(_e){const pe=this.current,Fe=pe.font;if(Fe.isType3Font)return this.showType3Text(_e);const je=pe.fontSize;if(je===0)return;const Ie=this.ctx,qe=pe.fontSizeScale,Ge=pe.charSpacing,gt=pe.wordSpacing,Pt=pe.fontDirection,Ct=pe.textHScale*Pt,ht=_e.length,$t=Fe.vertical,Vt=$t?1:-1,De=Fe.defaultVMetrics,Re=je*pe.fontMatrix[0],Be=pe.textRenderingMode===Y.TextRenderingMode.FILL&&!Fe.disableFontFace&&!pe.patternFill;Ie.save(),Ie.transform(...pe.textMatrix),Ie.translate(pe.x,pe.y+pe.textRise),Pt>0?Ie.scale(Ct,-1):Ie.scale(Ct,1);let Ze;if(pe.patternFill){Ie.save();const At=pe.fillColor.getPattern(Ie,this,(0,he.getCurrentTransformInverse)(Ie),Ce.PathType.FILL);Ze=(0,he.getCurrentTransform)(Ie),Ie.restore(),Ie.fillStyle=At}let ct=pe.lineWidth;const Mt=pe.textMatrixScale;if(Mt===0||ct===0){const At=pe.textRenderingMode&Y.TextRenderingMode.FILL_STROKE_MASK;(At===Y.TextRenderingMode.STROKE||At===Y.TextRenderingMode.FILL_STROKE)&&(ct=this.getSinglePixelWidth())}else ct/=Mt;if(qe!==1&&(Ie.scale(qe,qe),ct/=qe),Ie.lineWidth=ct,Fe.isInvalidPDFjsFont){const At=[];let jt=0;for(const Qt of _e)At.push(Qt.unicode),jt+=Qt.width;Ie.fillText(At.join(""),0,0),pe.x+=jt*Re*Ct,Ie.restore(),this.compose();return}let Rt=0,Et;for(Et=0;Et<ht;++Et){const At=_e[Et];if(typeof At=="number"){Rt+=Vt*At*je/1e3;continue}let jt=!1;const Qt=(At.isSpace?gt:0)+Ge,Gt=At.fontChar,Jt=At.accent;let cn,sn,rn=At.width;if($t){const Ln=At.vmetric||De,Nn=-(At.vmetric?Ln[1]:rn*.5)*Re,Ft=Ln[2]*Re;rn=Ln?-Ln[0]:rn,cn=Nn/qe,sn=(Rt+Ft)/qe}else cn=Rt/qe,sn=0;if(Fe.remeasure&&rn>0){const Ln=Ie.measureText(Gt).width*1e3/je*qe;if(rn<Ln&&this.isFontSubpixelAAEnabled){const Nn=rn/Ln;jt=!0,Ie.save(),Ie.scale(Nn,1),cn/=Nn}else rn!==Ln&&(cn+=(rn-Ln)/2e3*je/qe)}if(this.contentVisible&&(At.isInFont||Fe.missingFile)){if(Be&&!Jt)Ie.fillText(Gt,cn,sn);else if(this.paintChar(Gt,cn,sn,Ze),Jt){const Ln=cn+je*Jt.offset.x/qe,Nn=sn-je*Jt.offset.y/qe;this.paintChar(Jt.fontChar,Ln,Nn,Ze)}}const In=$t?rn*Re-Qt*Pt:rn*Re+Qt*Pt;Rt+=In,jt&&Ie.restore()}$t?pe.y-=Rt:pe.x+=Rt*Ct,Ie.restore(),this.compose()}showType3Text(_e){const pe=this.ctx,Fe=this.current,je=Fe.font,Ie=Fe.fontSize,qe=Fe.fontDirection,Ge=je.vertical?1:-1,gt=Fe.charSpacing,Pt=Fe.wordSpacing,Ct=Fe.textHScale*qe,ht=Fe.fontMatrix||Y.FONT_IDENTITY_MATRIX,$t=_e.length,Vt=Fe.textRenderingMode===Y.TextRenderingMode.INVISIBLE;let De,Re,Be,Ze;if(!(Vt||Ie===0)){for(this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null,pe.save(),pe.transform(...Fe.textMatrix),pe.translate(Fe.x,Fe.y),pe.scale(Ct,qe),De=0;De<$t;++De){if(Re=_e[De],typeof Re=="number"){Ze=Ge*Re*Ie/1e3,this.ctx.translate(Ze,0),Fe.x+=Ze*Ct;continue}const ct=(Re.isSpace?Pt:0)+gt,Mt=je.charProcOperatorList[Re.operatorListId];if(!Mt){(0,Y.warn)(`Type3 character "${Re.operatorListId}" is not available.`);continue}this.contentVisible&&(this.processingType3=Re,this.save(),pe.scale(Ie,Ie),pe.transform(...ht),this.executeOperatorList(Mt),this.restore()),Be=Y.Util.applyTransform([Re.width,0],ht)[0]*Ie+ct,pe.translate(Be,0),Fe.x+=Be*Ct}pe.restore(),this.processingType3=null}}setCharWidth(_e,pe){}setCharWidthAndBounds(_e,pe,Fe,je,Ie,qe){this.ctx.rect(Fe,je,Ie-Fe,qe-je),this.ctx.clip(),this.endPath()}getColorN_Pattern(_e){let pe;if(_e[0]==="TilingPattern"){const Fe=_e[1],je=this.baseTransform||(0,he.getCurrentTransform)(this.ctx),Ie={createCanvasGraphics:qe=>new Fi(qe,this.commonObjs,this.objs,this.canvasFactory,this.filterFactory,{optionalContentConfig:this.optionalContentConfig,markedContentStack:this.markedContentStack})};pe=new Ce.TilingPattern(_e,Fe,this.ctx,Ie,je)}else pe=this._getPattern(_e[1],_e[2]);return pe}setStrokeColorN(){this.current.strokeColor=this.getColorN_Pattern(arguments)}setFillColorN(){this.current.fillColor=this.getColorN_Pattern(arguments),this.current.patternFill=!0}setStrokeRGBColor(_e,pe,Fe){const je=Y.Util.makeHexColor(_e,pe,Fe);this.ctx.strokeStyle=je,this.current.strokeColor=je}setFillRGBColor(_e,pe,Fe){const je=Y.Util.makeHexColor(_e,pe,Fe);this.ctx.fillStyle=je,this.current.fillColor=je,this.current.patternFill=!1}_getPattern(_e,pe=null){let Fe;return this.cachedPatterns.has(_e)?Fe=this.cachedPatterns.get(_e):(Fe=(0,Ce.getShadingPattern)(this.getObject(_e)),this.cachedPatterns.set(_e,Fe)),pe&&(Fe.matrix=pe),Fe}shadingFill(_e){if(!this.contentVisible)return;const pe=this.ctx;this.save();const Fe=this._getPattern(_e);pe.fillStyle=Fe.getPattern(pe,this,(0,he.getCurrentTransformInverse)(pe),Ce.PathType.SHADING);const je=(0,he.getCurrentTransformInverse)(pe);if(je){const{width:Ie,height:qe}=pe.canvas,[Ge,gt,Pt,Ct]=Y.Util.getAxialAlignedBoundingBox([0,0,Ie,qe],je);this.ctx.fillRect(Ge,gt,Pt-Ge,Ct-gt)}else this.ctx.fillRect(-1e10,-1e10,2e10,2e10);this.compose(this.current.getClippedPathBoundingBox()),this.restore()}beginInlineImage(){(0,Y.unreachable)("Should not call beginInlineImage")}beginImageData(){(0,Y.unreachable)("Should not call beginImageData")}paintFormXObjectBegin(_e,pe){if(this.contentVisible&&(this.save(),this.baseTransformStack.push(this.baseTransform),Array.isArray(_e)&&_e.length===6&&this.transform(..._e),this.baseTransform=(0,he.getCurrentTransform)(this.ctx),pe)){const Fe=pe[2]-pe[0],je=pe[3]-pe[1];this.ctx.rect(pe[0],pe[1],Fe,je),this.current.updateRectMinMax((0,he.getCurrentTransform)(this.ctx),pe),this.clip(),this.endPath()}}paintFormXObjectEnd(){this.contentVisible&&(this.restore(),this.baseTransform=this.baseTransformStack.pop())}beginGroup(_e){if(!this.contentVisible)return;this.save(),this.inSMaskMode&&(this.endSMaskMode(),this.current.activeSMask=null);const pe=this.ctx;_e.isolated||(0,Y.info)("TODO: Support non-isolated groups."),_e.knockout&&(0,Y.warn)("Knockout groups not supported.");const Fe=(0,he.getCurrentTransform)(pe);if(_e.matrix&&pe.transform(..._e.matrix),!_e.bbox)throw new Error("Bounding box is required.");let je=Y.Util.getAxialAlignedBoundingBox(_e.bbox,(0,he.getCurrentTransform)(pe));const Ie=[0,0,pe.canvas.width,pe.canvas.height];je=Y.Util.intersect(je,Ie)||[0,0,0,0];const qe=Math.floor(je[0]),Ge=Math.floor(je[1]);let gt=Math.max(Math.ceil(je[2])-qe,1),Pt=Math.max(Math.ceil(je[3])-Ge,1),Ct=1,ht=1;gt>ge&&(Ct=gt/ge,gt=ge),Pt>ge&&(ht=Pt/ge,Pt=ge),this.current.startNewPathAndClipBox([0,0,gt,Pt]);let $t="groupAt"+this.groupLevel;_e.smask&&($t+="_smask_"+this.smaskCounter++%2);const Vt=this.cachedCanvases.getCanvas($t,gt,Pt),De=Vt.context;De.scale(1/Ct,1/ht),De.translate(-qe,-Ge),De.transform(...Fe),_e.smask?this.smaskStack.push({canvas:Vt.canvas,context:De,offsetX:qe,offsetY:Ge,scaleX:Ct,scaleY:ht,subtype:_e.smask.subtype,backdrop:_e.smask.backdrop,transferMap:_e.smask.transferMap||null,startTransformInverse:null}):(pe.setTransform(1,0,0,1,0,0),pe.translate(qe,Ge),pe.scale(Ct,ht),pe.save()),Ke(pe,De),this.ctx=De,this.setGState([["BM","source-over"],["ca",1],["CA",1]]),this.groupStack.push(pe),this.groupLevel++}endGroup(_e){if(!this.contentVisible)return;this.groupLevel--;const pe=this.ctx,Fe=this.groupStack.pop();if(this.ctx=Fe,this.ctx.imageSmoothingEnabled=!1,_e.smask)this.tempSMask=this.smaskStack.pop(),this.restore();else{this.ctx.restore();const je=(0,he.getCurrentTransform)(this.ctx);this.restore(),this.ctx.save(),this.ctx.setTransform(...je);const Ie=Y.Util.getAxialAlignedBoundingBox([0,0,pe.canvas.width,pe.canvas.height],je);this.ctx.drawImage(pe.canvas,0,0),this.ctx.restore(),this.compose(Ie)}}beginAnnotation(_e,pe,Fe,je,Ie){if(Ue(this,X,W).call(this),ze(this.ctx),this.ctx.save(),this.save(),this.baseTransform&&this.ctx.setTransform(...this.baseTransform),Array.isArray(pe)&&pe.length===4){const qe=pe[2]-pe[0],Ge=pe[3]-pe[1];if(Ie&&this.annotationCanvasMap){Fe=Fe.slice(),Fe[4]-=pe[0],Fe[5]-=pe[1],pe=pe.slice(),pe[0]=pe[1]=0,pe[2]=qe,pe[3]=Ge;const[gt,Pt]=Y.Util.singularValueDecompose2dScale((0,he.getCurrentTransform)(this.ctx)),{viewportScale:Ct}=this,ht=Math.ceil(qe*this.outputScaleX*Ct),$t=Math.ceil(Ge*this.outputScaleY*Ct);this.annotationCanvas=this.canvasFactory.create(ht,$t);const{canvas:Vt,context:De}=this.annotationCanvas;this.annotationCanvasMap.set(_e,Vt),this.annotationCanvas.savedCtx=this.ctx,this.ctx=De,this.ctx.save(),this.ctx.setTransform(gt,0,0,-Pt,0,Ge*Pt),ze(this.ctx)}else ze(this.ctx),this.ctx.rect(pe[0],pe[1],qe,Ge),this.ctx.clip(),this.endPath()}this.current=new Ee(this.ctx.canvas.width,this.ctx.canvas.height),this.transform(...Fe),this.transform(...je)}endAnnotation(){this.annotationCanvas&&(this.ctx.restore(),Ue(this,X,G).call(this),this.ctx=this.annotationCanvas.savedCtx,delete this.annotationCanvas.savedCtx,delete this.annotationCanvas)}paintImageMaskXObject(_e){if(!this.contentVisible)return;const pe=_e.count;_e=this.getObject(_e.data,_e),_e.count=pe;const Fe=this.ctx,je=this.processingType3;if(je&&(je.compiled===void 0&&(je.compiled=Me(_e)),je.compiled)){je.compiled(Fe);return}const Ie=this._createMaskCanvas(_e),qe=Ie.canvas;Fe.save(),Fe.setTransform(1,0,0,1,0,0),Fe.drawImage(qe,Ie.offsetX,Ie.offsetY),Fe.restore(),this.compose()}paintImageMaskXObjectRepeat(_e,pe,Fe=0,je=0,Ie,qe){if(!this.contentVisible)return;_e=this.getObject(_e.data,_e);const Ge=this.ctx;Ge.save();const gt=(0,he.getCurrentTransform)(Ge);Ge.transform(pe,Fe,je,Ie,0,0);const Pt=this._createMaskCanvas(_e);Ge.setTransform(1,0,0,1,Pt.offsetX-gt[4],Pt.offsetY-gt[5]);for(let Ct=0,ht=qe.length;Ct<ht;Ct+=2){const $t=Y.Util.transform(gt,[pe,Fe,je,Ie,qe[Ct],qe[Ct+1]]),[Vt,De]=Y.Util.applyTransform([0,0],$t);Ge.drawImage(Pt.canvas,Vt,De)}Ge.restore(),this.compose()}paintImageMaskXObjectGroup(_e){if(!this.contentVisible)return;const pe=this.ctx,Fe=this.current.fillColor,je=this.current.patternFill;for(const Ie of _e){const{data:qe,width:Ge,height:gt,transform:Pt}=Ie,Ct=this.cachedCanvases.getCanvas("maskCanvas",Ge,gt),ht=Ct.context;ht.save();const $t=this.getObject(qe,Ie);Ve(ht,$t),ht.globalCompositeOperation="source-in",ht.fillStyle=je?Fe.getPattern(ht,this,(0,he.getCurrentTransformInverse)(pe),Ce.PathType.FILL):Fe,ht.fillRect(0,0,Ge,gt),ht.restore(),pe.save(),pe.transform(...Pt),pe.scale(1,-1),Le(pe,Ct.canvas,0,0,Ge,gt,0,-1,1,1),pe.restore()}this.compose()}paintImageXObject(_e){if(!this.contentVisible)return;const pe=this.getObject(_e);if(!pe){(0,Y.warn)("Dependent image isn't ready yet");return}this.paintInlineImageXObject(pe)}paintImageXObjectRepeat(_e,pe,Fe,je){if(!this.contentVisible)return;const Ie=this.getObject(_e);if(!Ie){(0,Y.warn)("Dependent image isn't ready yet");return}const qe=Ie.width,Ge=Ie.height,gt=[];for(let Pt=0,Ct=je.length;Pt<Ct;Pt+=2)gt.push({transform:[pe,0,0,Fe,je[Pt],je[Pt+1]],x:0,y:0,w:qe,h:Ge});this.paintInlineImageXObjectGroup(Ie,gt)}applyTransferMapsToCanvas(_e){return this.current.transferMaps!=="none"&&(_e.filter=this.current.transferMaps,_e.drawImage(_e.canvas,0,0),_e.filter="none"),_e.canvas}applyTransferMapsToBitmap(_e){if(this.current.transferMaps==="none")return _e.bitmap;const{bitmap:pe,width:Fe,height:je}=_e,Ie=this.cachedCanvases.getCanvas("inlineImage",Fe,je),qe=Ie.context;return qe.filter=this.current.transferMaps,qe.drawImage(pe,0,0),qe.filter="none",Ie.canvas}paintInlineImageXObject(_e){if(!this.contentVisible)return;const pe=_e.width,Fe=_e.height,je=this.ctx;if(this.save(),!Y.isNodeJS){const{filter:Ge}=je;Ge!=="none"&&Ge!==""&&(je.filter="none")}je.scale(1/pe,-1/Fe);let Ie;if(_e.bitmap)Ie=this.applyTransferMapsToBitmap(_e);else if(typeof HTMLElement=="function"&&_e instanceof HTMLElement||!_e.data)Ie=_e;else{const Ge=this.cachedCanvases.getCanvas("inlineImage",pe,Fe).context;Pe(Ge,_e),Ie=this.applyTransferMapsToCanvas(Ge)}const qe=this._scaleImage(Ie,(0,he.getCurrentTransformInverse)(je));je.imageSmoothingEnabled=Qe((0,he.getCurrentTransform)(je),_e.interpolate),Le(je,qe.img,0,0,qe.paintWidth,qe.paintHeight,0,-Fe,pe,Fe),this.compose(),this.restore()}paintInlineImageXObjectGroup(_e,pe){if(!this.contentVisible)return;const Fe=this.ctx;let je;if(_e.bitmap)je=_e.bitmap;else{const Ie=_e.width,qe=_e.height,Ge=this.cachedCanvases.getCanvas("inlineImage",Ie,qe).context;Pe(Ge,_e),je=this.applyTransferMapsToCanvas(Ge)}for(const Ie of pe)Fe.save(),Fe.transform(...Ie.transform),Fe.scale(1,-1),Le(Fe,je,Ie.x,Ie.y,Ie.w,Ie.h,0,-1,1,1),Fe.restore();this.compose()}paintSolidColorImageMask(){this.contentVisible&&(this.ctx.fillRect(0,0,1,1),this.compose())}markPoint(_e){}markPointProps(_e,pe){}beginMarkedContent(_e){this.markedContentStack.push({visible:!0})}beginMarkedContentProps(_e,pe){_e==="OC"?this.markedContentStack.push({visible:this.optionalContentConfig.isVisible(pe)}):this.markedContentStack.push({visible:!0}),this.contentVisible=this.isContentVisible()}endMarkedContent(){this.markedContentStack.pop(),this.contentVisible=this.isContentVisible()}beginCompat(){}endCompat(){}consumePath(_e){const pe=this.current.isEmptyClip();this.pendingClip&&this.current.updateClipFromPath(),this.pendingClip||this.compose(_e);const Fe=this.ctx;this.pendingClip&&(pe||(this.pendingClip===Ne?Fe.clip("evenodd"):Fe.clip()),this.pendingClip=null),this.current.startNewPathAndClipBox(this.current.clipBox),Fe.beginPath()}getSinglePixelWidth(){if(!this._cachedGetSinglePixelWidth){const _e=(0,he.getCurrentTransform)(this.ctx);if(_e[1]===0&&_e[2]===0)this._cachedGetSinglePixelWidth=1/Math.min(Math.abs(_e[0]),Math.abs(_e[3]));else{const pe=Math.abs(_e[0]*_e[3]-_e[2]*_e[1]),Fe=Math.hypot(_e[0],_e[2]),je=Math.hypot(_e[1],_e[3]);this._cachedGetSinglePixelWidth=Math.max(Fe,je)/pe}}return this._cachedGetSinglePixelWidth}getScaleForStroking(){if(this._cachedScaleForStroking[0]===-1){const{lineWidth:_e}=this.current,{a:pe,b:Fe,c:je,d:Ie}=this.ctx.getTransform();let qe,Ge;if(Fe===0&&je===0){const gt=Math.abs(pe),Pt=Math.abs(Ie);if(gt===Pt)if(_e===0)qe=Ge=1/gt;else{const Ct=gt*_e;qe=Ge=Ct<1?1/Ct:1}else if(_e===0)qe=1/gt,Ge=1/Pt;else{const Ct=gt*_e,ht=Pt*_e;qe=Ct<1?1/Ct:1,Ge=ht<1?1/ht:1}}else{const gt=Math.abs(pe*Ie-Fe*je),Pt=Math.hypot(pe,Fe),Ct=Math.hypot(je,Ie);if(_e===0)qe=Ct/gt,Ge=Pt/gt;else{const ht=_e*gt;qe=Ct>ht?Ct/ht:1,Ge=Pt>ht?Pt/ht:1}}this._cachedScaleForStroking[0]=qe,this._cachedScaleForStroking[1]=Ge}return this._cachedScaleForStroking}rescaleAndStroke(_e){const{ctx:pe}=this,{lineWidth:Fe}=this.current,[je,Ie]=this.getScaleForStroking();if(pe.lineWidth=Fe||1,je===1&&Ie===1){pe.stroke();return}const qe=pe.getLineDash();if(_e&&pe.save(),pe.scale(je,Ie),qe.length>0){const Ge=Math.max(je,Ie);pe.setLineDash(qe.map(gt=>gt/Ge)),pe.lineDashOffset/=Ge}pe.stroke(),_e&&pe.restore()}isContentVisible(){for(let _e=this.markedContentStack.length-1;_e>=0;_e--)if(!this.markedContentStack[_e].visible)return!1;return!0}};X=new WeakSet,W=function(){for(;this.stateStack.length||this.inSMaskMode;)this.restore();this.ctx.restore(),this.transparentCanvas&&(this.ctx=this.compositeCtx,this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.drawImage(this.transparentCanvas,0,0),this.ctx.restore(),this.transparentCanvas=null)},G=function(){if(this.pageColors){const Oe=this.filterFactory.addHCMFilter(this.pageColors.foreground,this.pageColors.background);if(Oe!=="none"){const _e=this.ctx.filter;this.ctx.filter=Oe,this.ctx.drawImage(this.ctx.canvas,0,0),this.ctx.filter=_e}}};let dt=tt;q.CanvasGraphics=dt;for(const Oe in Y.OPS)dt.prototype[Oe]!==void 0&&(dt.prototype[Y.OPS[Oe]]=dt.prototype[Oe])},(B,q,K)=>{Object.defineProperty(q,"__esModule",{value:!0}),q.TilingPattern=q.PathType=void 0,q.getShadingPattern=ve;var X=K(1),W=K(6);const G={FILL:"Fill",STROKE:"Stroke",SHADING:"Shading"};q.PathType=G;function Y(ne,Se){if(!Se)return;const Le=Se[2]-Se[0],Me=Se[3]-Se[1],Ee=new Path2D;Ee.rect(Se[0],Se[1],Le,Me),ne.clip(Ee)}class he{constructor(){this.constructor===he&&(0,X.unreachable)("Cannot initialize BaseShadingPattern.")}getPattern(){(0,X.unreachable)("Abstract method `getPattern` called.")}}class Ce extends he{constructor(Se){super(),this._type=Se[1],this._bbox=Se[2],this._colorStops=Se[3],this._p0=Se[4],this._p1=Se[5],this._r0=Se[6],this._r1=Se[7],this.matrix=null}_createGradient(Se){let Le;this._type==="axial"?Le=Se.createLinearGradient(this._p0[0],this._p0[1],this._p1[0],this._p1[1]):this._type==="radial"&&(Le=Se.createRadialGradient(this._p0[0],this._p0[1],this._r0,this._p1[0],this._p1[1],this._r1));for(const Me of this._colorStops)Le.addColorStop(Me[0],Me[1]);return Le}getPattern(Se,Le,Me,Ee){let Pe;if(Ee===G.STROKE||Ee===G.FILL){const Ve=Le.current.getClippedPathBoundingBox(Ee,(0,W.getCurrentTransform)(Se))||[0,0,0,0],Ke=Math.ceil(Ve[2]-Ve[0])||1,ze=Math.ceil(Ve[3]-Ve[1])||1,rt=Le.cachedCanvases.getCanvas("pattern",Ke,ze,!0),ye=rt.context;ye.clearRect(0,0,ye.canvas.width,ye.canvas.height),ye.beginPath(),ye.rect(0,0,ye.canvas.width,ye.canvas.height),ye.translate(-Ve[0],-Ve[1]),Me=X.Util.transform(Me,[1,0,0,1,Ve[0],Ve[1]]),ye.transform(...Le.baseTransform),this.matrix&&ye.transform(...this.matrix),Y(ye,this._bbox),ye.fillStyle=this._createGradient(ye),ye.fill(),Pe=Se.createPattern(rt.canvas,"no-repeat");const ot=new DOMMatrix(Me);Pe.setTransform(ot)}else Y(Se,this._bbox),Pe=this._createGradient(Se);return Pe}}function ke(ne,Se,Le,Me,Ee,Pe,Ve,Ke){const ze=Se.coords,rt=Se.colors,ye=ne.data,ot=ne.width*4;let Ye;ze[Le+1]>ze[Me+1]&&(Ye=Le,Le=Me,Me=Ye,Ye=Pe,Pe=Ve,Ve=Ye),ze[Me+1]>ze[Ee+1]&&(Ye=Me,Me=Ee,Ee=Ye,Ye=Ve,Ve=Ke,Ke=Ye),ze[Le+1]>ze[Me+1]&&(Ye=Le,Le=Me,Me=Ye,Ye=Pe,Pe=Ve,Ve=Ye);const He=(ze[Le]+Se.offsetX)*Se.scaleX,Qe=(ze[Le+1]+Se.offsetY)*Se.scaleY,yt=(ze[Me]+Se.offsetX)*Se.scaleX,ut=(ze[Me+1]+Se.offsetY)*Se.scaleY,_t=(ze[Ee]+Se.offsetX)*Se.scaleX,Ne=(ze[Ee+1]+Se.offsetY)*Se.scaleY;if(Qe>=Ne)return;const tt=rt[Pe],dt=rt[Pe+1],Oe=rt[Pe+2],_e=rt[Ve],pe=rt[Ve+1],Fe=rt[Ve+2],je=rt[Ke],Ie=rt[Ke+1],qe=rt[Ke+2],Ge=Math.round(Qe),gt=Math.round(Ne);let Pt,Ct,ht,$t,Vt,De,Re,Be;for(let Ze=Ge;Ze<=gt;Ze++){if(Ze<ut){const At=Ze<Qe?0:(Qe-Ze)/(Qe-ut);Pt=He-(He-yt)*At,Ct=tt-(tt-_e)*At,ht=dt-(dt-pe)*At,$t=Oe-(Oe-Fe)*At}else{let At;Ze>Ne?At=1:ut===Ne?At=0:At=(ut-Ze)/(ut-Ne),Pt=yt-(yt-_t)*At,Ct=_e-(_e-je)*At,ht=pe-(pe-Ie)*At,$t=Fe-(Fe-qe)*At}let ct;Ze<Qe?ct=0:Ze>Ne?ct=1:ct=(Qe-Ze)/(Qe-Ne),Vt=He-(He-_t)*ct,De=tt-(tt-je)*ct,Re=dt-(dt-Ie)*ct,Be=Oe-(Oe-qe)*ct;const Mt=Math.round(Math.min(Pt,Vt)),Rt=Math.round(Math.max(Pt,Vt));let Et=ot*Ze+Mt*4;for(let At=Mt;At<=Rt;At++)ct=(Pt-At)/(Pt-Vt),ct<0?ct=0:ct>1&&(ct=1),ye[Et++]=Ct-(Ct-De)*ct|0,ye[Et++]=ht-(ht-Re)*ct|0,ye[Et++]=$t-($t-Be)*ct|0,ye[Et++]=255}}function ae(ne,Se,Le){const Me=Se.coords,Ee=Se.colors;let Pe,Ve;switch(Se.type){case"lattice":const Ke=Se.verticesPerRow,ze=Math.floor(Me.length/Ke)-1,rt=Ke-1;for(Pe=0;Pe<ze;Pe++){let ye=Pe*Ke;for(let ot=0;ot<rt;ot++,ye++)ke(ne,Le,Me[ye],Me[ye+1],Me[ye+Ke],Ee[ye],Ee[ye+1],Ee[ye+Ke]),ke(ne,Le,Me[ye+Ke+1],Me[ye+1],Me[ye+Ke],Ee[ye+Ke+1],Ee[ye+1],Ee[ye+Ke])}break;case"triangles":for(Pe=0,Ve=Me.length;Pe<Ve;Pe+=3)ke(ne,Le,Me[Pe],Me[Pe+1],Me[Pe+2],Ee[Pe],Ee[Pe+1],Ee[Pe+2]);break;default:throw new Error("illegal figure")}}class Ae extends he{constructor(Se){super(),this._coords=Se[2],this._colors=Se[3],this._figures=Se[4],this._bounds=Se[5],this._bbox=Se[7],this._background=Se[8],this.matrix=null}_createMeshCanvas(Se,Le,Me){const Ee=Math.floor(this._bounds[0]),Pe=Math.floor(this._bounds[1]),Ve=Math.ceil(this._bounds[2])-Ee,Ke=Math.ceil(this._bounds[3])-Pe,ze=Math.min(Math.ceil(Math.abs(Ve*Se[0]*1.1)),3e3),rt=Math.min(Math.ceil(Math.abs(Ke*Se[1]*1.1)),3e3),ye=Ve/ze,ot=Ke/rt,Ye={coords:this._coords,colors:this._colors,offsetX:-Ee,offsetY:-Pe,scaleX:1/ye,scaleY:1/ot},He=ze+2*2,Qe=rt+2*2,yt=Me.getCanvas("mesh",He,Qe,!1),ut=yt.context,_t=ut.createImageData(ze,rt);if(Le){const Ne=_t.data;for(let tt=0,dt=Ne.length;tt<dt;tt+=4)Ne[tt]=Le[0],Ne[tt+1]=Le[1],Ne[tt+2]=Le[2],Ne[tt+3]=255}for(const Ne of this._figures)ae(_t,Ne,Ye);return ut.putImageData(_t,2,2),{canvas:yt.canvas,offsetX:Ee-2*ye,offsetY:Pe-2*ot,scaleX:ye,scaleY:ot}}getPattern(Se,Le,Me,Ee){Y(Se,this._bbox);let Pe;if(Ee===G.SHADING)Pe=X.Util.singularValueDecompose2dScale((0,W.getCurrentTransform)(Se));else if(Pe=X.Util.singularValueDecompose2dScale(Le.baseTransform),this.matrix){const Ke=X.Util.singularValueDecompose2dScale(this.matrix);Pe=[Pe[0]*Ke[0],Pe[1]*Ke[1]]}const Ve=this._createMeshCanvas(Pe,Ee===G.SHADING?null:this._background,Le.cachedCanvases);return Ee!==G.SHADING&&(Se.setTransform(...Le.baseTransform),this.matrix&&Se.transform(...this.matrix)),Se.translate(Ve.offsetX,Ve.offsetY),Se.scale(Ve.scaleX,Ve.scaleY),Se.createPattern(Ve.canvas,"no-repeat")}}class ge extends he{getPattern(){return"hotpink"}}function ve(ne){switch(ne[0]){case"RadialAxial":return new Ce(ne);case"Mesh":return new Ae(ne);case"Dummy":return new ge}throw new Error(`Unknown IR type: ${ne[0]}`)}const xe={COLORED:1,UNCOLORED:2},we=class Ii{constructor(Se,Le,Me,Ee,Pe){this.operatorList=Se[2],this.matrix=Se[3]||[1,0,0,1,0,0],this.bbox=Se[4],this.xstep=Se[5],this.ystep=Se[6],this.paintType=Se[7],this.tilingType=Se[8],this.color=Le,this.ctx=Me,this.canvasGraphicsFactory=Ee,this.baseTransform=Pe}createPatternCanvas(Se){const Le=this.operatorList,Me=this.bbox,Ee=this.xstep,Pe=this.ystep,Ve=this.paintType,Ke=this.tilingType,ze=this.color,rt=this.canvasGraphicsFactory;(0,X.info)("TilingType: "+Ke);const ye=Me[0],ot=Me[1],Ye=Me[2],He=Me[3],Qe=X.Util.singularValueDecompose2dScale(this.matrix),yt=X.Util.singularValueDecompose2dScale(this.baseTransform),ut=[Qe[0]*yt[0],Qe[1]*yt[1]],_t=this.getSizeAndScale(Ee,this.ctx.canvas.width,ut[0]),Ne=this.getSizeAndScale(Pe,this.ctx.canvas.height,ut[1]),tt=Se.cachedCanvases.getCanvas("pattern",_t.size,Ne.size,!0),dt=tt.context,Oe=rt.createCanvasGraphics(dt);Oe.groupLevel=Se.groupLevel,this.setFillAndStrokeStyleToContext(Oe,Ve,ze);let _e=ye,pe=ot,Fe=Ye,je=He;return ye<0&&(_e=0,Fe+=Math.abs(ye)),ot<0&&(pe=0,je+=Math.abs(ot)),dt.translate(-(_t.scale*_e),-(Ne.scale*pe)),Oe.transform(_t.scale,0,0,Ne.scale,0,0),dt.save(),this.clipBbox(Oe,_e,pe,Fe,je),Oe.baseTransform=(0,W.getCurrentTransform)(Oe.ctx),Oe.executeOperatorList(Le),Oe.endDrawing(),{canvas:tt.canvas,scaleX:_t.scale,scaleY:Ne.scale,offsetX:_e,offsetY:pe}}getSizeAndScale(Se,Le,Me){Se=Math.abs(Se);const Ee=Math.max(Ii.MAX_PATTERN_SIZE,Le);let Pe=Math.ceil(Se*Me);return Pe>=Ee?Pe=Ee:Me=Pe/Se,{scale:Me,size:Pe}}clipBbox(Se,Le,Me,Ee,Pe){const Ve=Ee-Le,Ke=Pe-Me;Se.ctx.rect(Le,Me,Ve,Ke),Se.current.updateRectMinMax((0,W.getCurrentTransform)(Se.ctx),[Le,Me,Ee,Pe]),Se.clip(),Se.endPath()}setFillAndStrokeStyleToContext(Se,Le,Me){const Ee=Se.ctx,Pe=Se.current;switch(Le){case xe.COLORED:const Ve=this.ctx;Ee.fillStyle=Ve.fillStyle,Ee.strokeStyle=Ve.strokeStyle,Pe.fillColor=Ve.fillStyle,Pe.strokeColor=Ve.strokeStyle;break;case xe.UNCOLORED:const Ke=X.Util.makeHexColor(Me[0],Me[1],Me[2]);Ee.fillStyle=Ke,Ee.strokeStyle=Ke,Pe.fillColor=Ke,Pe.strokeColor=Ke;break;default:throw new X.FormatError(`Unsupported paint type: ${Le}`)}}getPattern(Se,Le,Me,Ee){let Pe=Me;Ee!==G.SHADING&&(Pe=X.Util.transform(Pe,Le.baseTransform),this.matrix&&(Pe=X.Util.transform(Pe,this.matrix)));const Ve=this.createPatternCanvas(Le);let Ke=new DOMMatrix(Pe);Ke=Ke.translate(Ve.offsetX,Ve.offsetY),Ke=Ke.scale(1/Ve.scaleX,1/Ve.scaleY);const ze=Se.createPattern(Ve.canvas,"repeat");return ze.setTransform(Ke),ze}};$n(we,"MAX_PATTERN_SIZE",3e3);let fe=we;q.TilingPattern=fe},(B,q,K)=>{Object.defineProperty(q,"__esModule",{value:!0}),q.convertBlackAndWhiteToRGBA=G,q.convertToRGBA=W,q.grayToRGBA=he;var X=K(1);function W(Ce){switch(Ce.kind){case X.ImageKind.GRAYSCALE_1BPP:return G(Ce);case X.ImageKind.RGB_24BPP:return Y(Ce)}return null}function G({src:Ce,srcPos:ke=0,dest:ae,width:Ae,height:ge,nonBlackColor:ve=4294967295,inverseDecode:xe=!1}){const we=X.FeatureTest.isLittleEndian?4278190080:255,[fe,ne]=xe?[ve,we]:[we,ve],Se=Ae>>3,Le=Ae&7,Me=Ce.length;ae=new Uint32Array(ae.buffer);let Ee=0;for(let Pe=0;Pe<ge;Pe++){for(const Ke=ke+Se;ke<Ke;ke++){const ze=ke<Me?Ce[ke]:255;ae[Ee++]=ze&128?ne:fe,ae[Ee++]=ze&64?ne:fe,ae[Ee++]=ze&32?ne:fe,ae[Ee++]=ze&16?ne:fe,ae[Ee++]=ze&8?ne:fe,ae[Ee++]=ze&4?ne:fe,ae[Ee++]=ze&2?ne:fe,ae[Ee++]=ze&1?ne:fe}if(Le===0)continue;const Ve=ke<Me?Ce[ke++]:255;for(let Ke=0;Ke<Le;Ke++)ae[Ee++]=Ve&1<<7-Ke?ne:fe}return{srcPos:ke,destPos:Ee}}function Y({src:Ce,srcPos:ke=0,dest:ae,destPos:Ae=0,width:ge,height:ve}){let xe=0;const we=Ce.length>>2,fe=new Uint32Array(Ce.buffer,ke,we);if(X.FeatureTest.isLittleEndian){for(;xe<we-2;xe+=3,Ae+=4){const ne=fe[xe],Se=fe[xe+1],Le=fe[xe+2];ae[Ae]=ne|4278190080,ae[Ae+1]=ne>>>24|Se<<8|4278190080,ae[Ae+2]=Se>>>16|Le<<16|4278190080,ae[Ae+3]=Le>>>8|4278190080}for(let ne=xe*4,Se=Ce.length;ne<Se;ne+=3)ae[Ae++]=Ce[ne]|Ce[ne+1]<<8|Ce[ne+2]<<16|4278190080}else{for(;xe<we-2;xe+=3,Ae+=4){const ne=fe[xe],Se=fe[xe+1],Le=fe[xe+2];ae[Ae]=ne|255,ae[Ae+1]=ne<<24|Se>>>8|255,ae[Ae+2]=Se<<16|Le>>>16|255,ae[Ae+3]=Le<<8|255}for(let ne=xe*4,Se=Ce.length;ne<Se;ne+=3)ae[Ae++]=Ce[ne]<<24|Ce[ne+1]<<16|Ce[ne+2]<<8|255}return{srcPos:ke,destPos:Ae}}function he(Ce,ke){if(X.FeatureTest.isLittleEndian)for(let ae=0,Ae=Ce.length;ae<Ae;ae++)ke[ae]=Ce[ae]*65793|4278190080;else for(let ae=0,Ae=Ce.length;ae<Ae;ae++)ke[ae]=Ce[ae]*16843008|255}},(B,q)=>{Object.defineProperty(q,"__esModule",{value:!0}),q.GlobalWorkerOptions=void 0;const K=Object.create(null);q.GlobalWorkerOptions=K,K.workerPort=null,K.workerSrc=""},(B,q,K)=>{var X,W,G,Y;Object.defineProperty(q,"__esModule",{value:!0}),q.MessageHandler=void 0;var he=K(1);const Ce={UNKNOWN:0,DATA:1,ERROR:2},ke={UNKNOWN:0,CANCEL:1,CANCEL_COMPLETE:2,CLOSE:3,ENQUEUE:4,ERROR:5,PULL:6,PULL_COMPLETE:7,START_COMPLETE:8};function ae(ge){switch(ge instanceof Error||typeof ge=="object"&&ge!==null||(0,he.unreachable)('wrapReason: Expected "reason" to be a (possibly cloned) Error.'),ge.name){case"AbortException":return new he.AbortException(ge.message);case"MissingPDFException":return new he.MissingPDFException(ge.message);case"PasswordException":return new he.PasswordException(ge.message,ge.code);case"UnexpectedResponseException":return new he.UnexpectedResponseException(ge.message,ge.status);case"UnknownErrorException":return new he.UnknownErrorException(ge.message,ge.details);default:return new he.UnknownErrorException(ge.message,ge.toString())}}class Ae{constructor(ve,xe,we){it(this,X),this.sourceName=ve,this.targetName=xe,this.comObj=we,this.callbackId=1,this.streamId=1,this.streamSinks=Object.create(null),this.streamControllers=Object.create(null),this.callbackCapabilities=Object.create(null),this.actionHandler=Object.create(null),this._onComObjOnMessage=fe=>{const ne=fe.data;if(ne.targetName!==this.sourceName)return;if(ne.stream){Ue(this,X,G).call(this,ne);return}if(ne.callback){const Le=ne.callbackId,Me=this.callbackCapabilities[Le];if(!Me)throw new Error(`Cannot resolve callback ${Le}`);if(delete this.callbackCapabilities[Le],ne.callback===Ce.DATA)Me.resolve(ne.data);else if(ne.callback===Ce.ERROR)Me.reject(ae(ne.reason));else throw new Error("Unexpected callback case");return}const Se=this.actionHandler[ne.action];if(!Se)throw new Error(`Unknown action from worker: ${ne.action}`);if(ne.callbackId){const Le=this.sourceName,Me=ne.sourceName;new Promise(function(Ee){Ee(Se(ne.data))}).then(function(Ee){we.postMessage({sourceName:Le,targetName:Me,callback:Ce.DATA,callbackId:ne.callbackId,data:Ee})},function(Ee){we.postMessage({sourceName:Le,targetName:Me,callback:Ce.ERROR,callbackId:ne.callbackId,reason:ae(Ee)})});return}if(ne.streamId){Ue(this,X,W).call(this,ne);return}Se(ne.data)},we.addEventListener("message",this._onComObjOnMessage)}on(ve,xe){const we=this.actionHandler;if(we[ve])throw new Error(`There is already an actionName called "${ve}"`);we[ve]=xe}send(ve,xe,we){this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:ve,data:xe},we)}sendWithPromise(ve,xe,we){const fe=this.callbackId++,ne=new he.PromiseCapability;this.callbackCapabilities[fe]=ne;try{this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:ve,callbackId:fe,data:xe},we)}catch(Se){ne.reject(Se)}return ne.promise}sendWithStream(ve,xe,we,fe){const ne=this.streamId++,Se=this.sourceName,Le=this.targetName,Me=this.comObj;return new ReadableStream({start:Ee=>{const Pe=new he.PromiseCapability;return this.streamControllers[ne]={controller:Ee,startCall:Pe,pullCall:null,cancelCall:null,isClosed:!1},Me.postMessage({sourceName:Se,targetName:Le,action:ve,streamId:ne,data:xe,desiredSize:Ee.desiredSize},fe),Pe.promise},pull:Ee=>{const Pe=new he.PromiseCapability;return this.streamControllers[ne].pullCall=Pe,Me.postMessage({sourceName:Se,targetName:Le,stream:ke.PULL,streamId:ne,desiredSize:Ee.desiredSize}),Pe.promise},cancel:Ee=>{(0,he.assert)(Ee instanceof Error,"cancel must have a valid reason");const Pe=new he.PromiseCapability;return this.streamControllers[ne].cancelCall=Pe,this.streamControllers[ne].isClosed=!0,Me.postMessage({sourceName:Se,targetName:Le,stream:ke.CANCEL,streamId:ne,reason:ae(Ee)}),Pe.promise}},we)}destroy(){this.comObj.removeEventListener("message",this._onComObjOnMessage)}}X=new WeakSet,W=function(ge){const ve=ge.streamId,xe=this.sourceName,we=ge.sourceName,fe=this.comObj,ne=this,Se=this.actionHandler[ge.action],Le={enqueue(Me,Ee=1,Pe){if(this.isCancelled)return;const Ve=this.desiredSize;this.desiredSize-=Ee,Ve>0&&this.desiredSize<=0&&(this.sinkCapability=new he.PromiseCapability,this.ready=this.sinkCapability.promise),fe.postMessage({sourceName:xe,targetName:we,stream:ke.ENQUEUE,streamId:ve,chunk:Me},Pe)},close(){this.isCancelled||(this.isCancelled=!0,fe.postMessage({sourceName:xe,targetName:we,stream:ke.CLOSE,streamId:ve}),delete ne.streamSinks[ve])},error(Me){(0,he.assert)(Me instanceof Error,"error must have a valid reason"),!this.isCancelled&&(this.isCancelled=!0,fe.postMessage({sourceName:xe,targetName:we,stream:ke.ERROR,streamId:ve,reason:ae(Me)}))},sinkCapability:new he.PromiseCapability,onPull:null,onCancel:null,isCancelled:!1,desiredSize:ge.desiredSize,ready:null};Le.sinkCapability.resolve(),Le.ready=Le.sinkCapability.promise,this.streamSinks[ve]=Le,new Promise(function(Me){Me(Se(ge.data,Le))}).then(function(){fe.postMessage({sourceName:xe,targetName:we,stream:ke.START_COMPLETE,streamId:ve,success:!0})},function(Me){fe.postMessage({sourceName:xe,targetName:we,stream:ke.START_COMPLETE,streamId:ve,reason:ae(Me)})})},G=function(ge){const ve=ge.streamId,xe=this.sourceName,we=ge.sourceName,fe=this.comObj,ne=this.streamControllers[ve],Se=this.streamSinks[ve];switch(ge.stream){case ke.START_COMPLETE:ge.success?ne.startCall.resolve():ne.startCall.reject(ae(ge.reason));break;case ke.PULL_COMPLETE:ge.success?ne.pullCall.resolve():ne.pullCall.reject(ae(ge.reason));break;case ke.PULL:if(!Se){fe.postMessage({sourceName:xe,targetName:we,stream:ke.PULL_COMPLETE,streamId:ve,success:!0});break}Se.desiredSize<=0&&ge.desiredSize>0&&Se.sinkCapability.resolve(),Se.desiredSize=ge.desiredSize,new Promise(function(Le){var Me;Le((Me=Se.onPull)==null?void 0:Me.call(Se))}).then(function(){fe.postMessage({sourceName:xe,targetName:we,stream:ke.PULL_COMPLETE,streamId:ve,success:!0})},function(Le){fe.postMessage({sourceName:xe,targetName:we,stream:ke.PULL_COMPLETE,streamId:ve,reason:ae(Le)})});break;case ke.ENQUEUE:if((0,he.assert)(ne,"enqueue should have stream controller"),ne.isClosed)break;ne.controller.enqueue(ge.chunk);break;case ke.CLOSE:if((0,he.assert)(ne,"close should have stream controller"),ne.isClosed)break;ne.isClosed=!0,ne.controller.close(),Ue(this,X,Y).call(this,ne,ve);break;case ke.ERROR:(0,he.assert)(ne,"error should have stream controller"),ne.controller.error(ae(ge.reason)),Ue(this,X,Y).call(this,ne,ve);break;case ke.CANCEL_COMPLETE:ge.success?ne.cancelCall.resolve():ne.cancelCall.reject(ae(ge.reason)),Ue(this,X,Y).call(this,ne,ve);break;case ke.CANCEL:if(!Se)break;new Promise(function(Le){var Me;Le((Me=Se.onCancel)==null?void 0:Me.call(Se,ae(ge.reason)))}).then(function(){fe.postMessage({sourceName:xe,targetName:we,stream:ke.CANCEL_COMPLETE,streamId:ve,success:!0})},function(Le){fe.postMessage({sourceName:xe,targetName:we,stream:ke.CANCEL_COMPLETE,streamId:ve,reason:ae(Le)})}),Se.sinkCapability.reject(ae(ge.reason)),Se.isCancelled=!0,delete this.streamSinks[ve];break;default:throw new Error("Unexpected stream case")}},Y=async function(ge,ve){var xe,we,fe;await Promise.allSettled([(xe=ge.startCall)==null?void 0:xe.promise,(we=ge.pullCall)==null?void 0:we.promise,(fe=ge.cancelCall)==null?void 0:fe.promise]),delete this.streamControllers[ve]},q.MessageHandler=Ae},(B,q,K)=>{var X,W;Object.defineProperty(q,"__esModule",{value:!0}),q.Metadata=void 0;var G=K(1);class Y{constructor({parsedData:Ce,rawData:ke}){it(this,X),it(this,W),at(this,X,Ce),at(this,W,ke)}getRaw(){return V(this,W)}get(Ce){return V(this,X).get(Ce)??null}getAll(){return(0,G.objectFromMap)(V(this,X))}has(Ce){return V(this,X).has(Ce)}}X=new WeakMap,W=new WeakMap,q.Metadata=Y},(B,q,K)=>{var X,W,G,Y,he,Ce,ke;Object.defineProperty(q,"__esModule",{value:!0}),q.OptionalContentConfig=void 0;var ae=K(1),Ae=K(8);const ge=Symbol("INTERNAL");class ve{constructor(fe,ne){it(this,X,!0),this.name=fe,this.intent=ne}get visible(){return V(this,X)}_setVisible(fe,ne){fe!==ge&&(0,ae.unreachable)("Internal method `_setVisible` called."),at(this,X,ne)}}X=new WeakMap;class xe{constructor(fe){if(it(this,Ce),it(this,W,null),it(this,G,new Map),it(this,Y,null),it(this,he,null),this.name=null,this.creator=null,fe!==null){this.name=fe.name,this.creator=fe.creator,at(this,he,fe.order);for(const ne of fe.groups)V(this,G).set(ne.id,new ve(ne.name,ne.intent));if(fe.baseState==="OFF")for(const ne of V(this,G).values())ne._setVisible(ge,!1);for(const ne of fe.on)V(this,G).get(ne)._setVisible(ge,!0);for(const ne of fe.off)V(this,G).get(ne)._setVisible(ge,!1);at(this,Y,this.getHash())}}isVisible(fe){if(V(this,G).size===0)return!0;if(!fe)return(0,ae.warn)("Optional content group not defined."),!0;if(fe.type==="OCG")return V(this,G).has(fe.id)?V(this,G).get(fe.id).visible:((0,ae.warn)(`Optional content group not found: ${fe.id}`),!0);if(fe.type==="OCMD"){if(fe.expression)return Ue(this,Ce,ke).call(this,fe.expression);if(!fe.policy||fe.policy==="AnyOn"){for(const ne of fe.ids){if(!V(this,G).has(ne))return(0,ae.warn)(`Optional content group not found: ${ne}`),!0;if(V(this,G).get(ne).visible)return!0}return!1}else if(fe.policy==="AllOn"){for(const ne of fe.ids){if(!V(this,G).has(ne))return(0,ae.warn)(`Optional content group not found: ${ne}`),!0;if(!V(this,G).get(ne).visible)return!1}return!0}else if(fe.policy==="AnyOff"){for(const ne of fe.ids){if(!V(this,G).has(ne))return(0,ae.warn)(`Optional content group not found: ${ne}`),!0;if(!V(this,G).get(ne).visible)return!0}return!1}else if(fe.policy==="AllOff"){for(const ne of fe.ids){if(!V(this,G).has(ne))return(0,ae.warn)(`Optional content group not found: ${ne}`),!0;if(V(this,G).get(ne).visible)return!1}return!0}return(0,ae.warn)(`Unknown optional content policy ${fe.policy}.`),!0}return(0,ae.warn)(`Unknown group type ${fe.type}.`),!0}setVisibility(fe,ne=!0){if(!V(this,G).has(fe)){(0,ae.warn)(`Optional content group not found: ${fe}`);return}V(this,G).get(fe)._setVisible(ge,!!ne),at(this,W,null)}get hasInitialVisibility(){return V(this,Y)===null||this.getHash()===V(this,Y)}getOrder(){return V(this,G).size?V(this,he)?V(this,he).slice():[...V(this,G).keys()]:null}getGroups(){return V(this,G).size>0?(0,ae.objectFromMap)(V(this,G)):null}getGroup(fe){return V(this,G).get(fe)||null}getHash(){if(V(this,W)!==null)return V(this,W);const fe=new Ae.MurmurHash3_64;for(const[ne,Se]of V(this,G))fe.update(`${ne}:${Se.visible}`);return at(this,W,fe.hexdigest())}}W=new WeakMap,G=new WeakMap,Y=new WeakMap,he=new WeakMap,Ce=new WeakSet,ke=function(we){const fe=we.length;if(fe<2)return!0;const ne=we[0];for(let Se=1;Se<fe;Se++){const Le=we[Se];let Me;if(Array.isArray(Le))Me=Ue(this,Ce,ke).call(this,Le);else if(V(this,G).has(Le))Me=V(this,G).get(Le).visible;else return(0,ae.warn)(`Optional content group not found: ${Le}`),!0;switch(ne){case"And":if(!Me)return!1;break;case"Or":if(Me)return!0;break;case"Not":return!Me;default:return!0}}return ne==="And"},q.OptionalContentConfig=xe},(B,q,K)=>{Object.defineProperty(q,"__esModule",{value:!0}),q.PDFDataTransportStream=void 0;var X=K(1),W=K(6);class G{constructor({length:ke,initialData:ae,progressiveDone:Ae=!1,contentDispositionFilename:ge=null,disableRange:ve=!1,disableStream:xe=!1},we){if((0,X.assert)(we,'PDFDataTransportStream - missing required "pdfDataRangeTransport" argument.'),this._queuedChunks=[],this._progressiveDone=Ae,this._contentDispositionFilename=ge,(ae==null?void 0:ae.length)>0){const fe=ae instanceof Uint8Array&&ae.byteLength===ae.buffer.byteLength?ae.buffer:new Uint8Array(ae).buffer;this._queuedChunks.push(fe)}this._pdfDataRangeTransport=we,this._isStreamingSupported=!xe,this._isRangeSupported=!ve,this._contentLength=ke,this._fullRequestReader=null,this._rangeReaders=[],this._pdfDataRangeTransport.addRangeListener((fe,ne)=>{this._onReceiveData({begin:fe,chunk:ne})}),this._pdfDataRangeTransport.addProgressListener((fe,ne)=>{this._onProgress({loaded:fe,total:ne})}),this._pdfDataRangeTransport.addProgressiveReadListener(fe=>{this._onReceiveData({chunk:fe})}),this._pdfDataRangeTransport.addProgressiveDoneListener(()=>{this._onProgressiveDone()}),this._pdfDataRangeTransport.transportReady()}_onReceiveData({begin:ke,chunk:ae}){const Ae=ae instanceof Uint8Array&&ae.byteLength===ae.buffer.byteLength?ae.buffer:new Uint8Array(ae).buffer;if(ke===void 0)this._fullRequestReader?this._fullRequestReader._enqueue(Ae):this._queuedChunks.push(Ae);else{const ge=this._rangeReaders.some(function(ve){return ve._begin!==ke?!1:(ve._enqueue(Ae),!0)});(0,X.assert)(ge,"_onReceiveData - no `PDFDataTransportStreamRangeReader` instance found.")}}get _progressiveDataLength(){var ke;return((ke=this._fullRequestReader)==null?void 0:ke._loaded)??0}_onProgress(ke){var ae,Ae,ge,ve;ke.total===void 0?(Ae=(ae=this._rangeReaders[0])==null?void 0:ae.onProgress)==null||Ae.call(ae,{loaded:ke.loaded}):(ve=(ge=this._fullRequestReader)==null?void 0:ge.onProgress)==null||ve.call(ge,{loaded:ke.loaded,total:ke.total})}_onProgressiveDone(){var ke;(ke=this._fullRequestReader)==null||ke.progressiveDone(),this._progressiveDone=!0}_removeRangeReader(ke){const ae=this._rangeReaders.indexOf(ke);ae>=0&&this._rangeReaders.splice(ae,1)}getFullReader(){(0,X.assert)(!this._fullRequestReader,"PDFDataTransportStream.getFullReader can only be called once.");const ke=this._queuedChunks;return this._queuedChunks=null,new Y(this,ke,this._progressiveDone,this._contentDispositionFilename)}getRangeReader(ke,ae){if(ae<=this._progressiveDataLength)return null;const Ae=new he(this,ke,ae);return this._pdfDataRangeTransport.requestDataRange(ke,ae),this._rangeReaders.push(Ae),Ae}cancelAllRequests(ke){var ae;(ae=this._fullRequestReader)==null||ae.cancel(ke);for(const Ae of this._rangeReaders.slice(0))Ae.cancel(ke);this._pdfDataRangeTransport.abort()}}q.PDFDataTransportStream=G;class Y{constructor(ke,ae,Ae=!1,ge=null){this._stream=ke,this._done=Ae||!1,this._filename=(0,W.isPdfFile)(ge)?ge:null,this._queuedChunks=ae||[],this._loaded=0;for(const ve of this._queuedChunks)this._loaded+=ve.byteLength;this._requests=[],this._headersReady=Promise.resolve(),ke._fullRequestReader=this,this.onProgress=null}_enqueue(ke){this._done||(this._requests.length>0?this._requests.shift().resolve({value:ke,done:!1}):this._queuedChunks.push(ke),this._loaded+=ke.byteLength)}get headersReady(){return this._headersReady}get filename(){return this._filename}get isRangeSupported(){return this._stream._isRangeSupported}get isStreamingSupported(){return this._stream._isStreamingSupported}get contentLength(){return this._stream._contentLength}async read(){if(this._queuedChunks.length>0)return{value:this._queuedChunks.shift(),done:!1};if(this._done)return{value:void 0,done:!0};const ke=new X.PromiseCapability;return this._requests.push(ke),ke.promise}cancel(ke){this._done=!0;for(const ae of this._requests)ae.resolve({value:void 0,done:!0});this._requests.length=0}progressiveDone(){this._done||(this._done=!0)}}class he{constructor(ke,ae,Ae){this._stream=ke,this._begin=ae,this._end=Ae,this._queuedChunk=null,this._requests=[],this._done=!1,this.onProgress=null}_enqueue(ke){if(!this._done){if(this._requests.length===0)this._queuedChunk=ke;else{this._requests.shift().resolve({value:ke,done:!1});for(const ae of this._requests)ae.resolve({value:void 0,done:!0});this._requests.length=0}this._done=!0,this._stream._removeRangeReader(this)}}get isStreamingSupported(){return!1}async read(){if(this._queuedChunk){const ae=this._queuedChunk;return this._queuedChunk=null,{value:ae,done:!1}}if(this._done)return{value:void 0,done:!0};const ke=new X.PromiseCapability;return this._requests.push(ke),ke.promise}cancel(ke){this._done=!0;for(const ae of this._requests)ae.resolve({value:void 0,done:!0});this._requests.length=0,this._stream._removeRangeReader(this)}}},(B,q,K)=>{Object.defineProperty(q,"__esModule",{value:!0}),q.PDFFetchStream=void 0;var X=K(1),W=K(20);function G(Ae,ge,ve){return{method:"GET",headers:Ae,signal:ve.signal,mode:"cors",credentials:ge?"include":"same-origin",redirect:"follow"}}function Y(Ae){const ge=new Headers;for(const ve in Ae){const xe=Ae[ve];xe!==void 0&&ge.append(ve,xe)}return ge}function he(Ae){return Ae instanceof Uint8Array?Ae.buffer:Ae instanceof ArrayBuffer?Ae:((0,X.warn)(`getArrayBuffer - unexpected data format: ${Ae}`),new Uint8Array(Ae).buffer)}class Ce{constructor(ge){this.source=ge,this.isHttp=/^https?:/i.test(ge.url),this.httpHeaders=this.isHttp&&ge.httpHeaders||{},this._fullRequestReader=null,this._rangeRequestReaders=[]}get _progressiveDataLength(){var ge;return((ge=this._fullRequestReader)==null?void 0:ge._loaded)??0}getFullReader(){return(0,X.assert)(!this._fullRequestReader,"PDFFetchStream.getFullReader can only be called once."),this._fullRequestReader=new ke(this),this._fullRequestReader}getRangeReader(ge,ve){if(ve<=this._progressiveDataLength)return null;const xe=new ae(this,ge,ve);return this._rangeRequestReaders.push(xe),xe}cancelAllRequests(ge){var ve;(ve=this._fullRequestReader)==null||ve.cancel(ge);for(const xe of this._rangeRequestReaders.slice(0))xe.cancel(ge)}}q.PDFFetchStream=Ce;class ke{constructor(ge){this._stream=ge,this._reader=null,this._loaded=0,this._filename=null;const ve=ge.source;this._withCredentials=ve.withCredentials||!1,this._contentLength=ve.length,this._headersCapability=new X.PromiseCapability,this._disableRange=ve.disableRange||!1,this._rangeChunkSize=ve.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._abortController=new AbortController,this._isStreamingSupported=!ve.disableStream,this._isRangeSupported=!ve.disableRange,this._headers=Y(this._stream.httpHeaders);const xe=ve.url;fetch(xe,G(this._headers,this._withCredentials,this._abortController)).then(we=>{if(!(0,W.validateResponseStatus)(we.status))throw(0,W.createResponseStatusError)(we.status,xe);this._reader=we.body.getReader(),this._headersCapability.resolve();const fe=Le=>we.headers.get(Le),{allowRangeRequests:ne,suggestedLength:Se}=(0,W.validateRangeRequestCapabilities)({getResponseHeader:fe,isHttp:this._stream.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});this._isRangeSupported=ne,this._contentLength=Se||this._contentLength,this._filename=(0,W.extractFilenameFromHeader)(fe),!this._isStreamingSupported&&this._isRangeSupported&&this.cancel(new X.AbortException("Streaming is disabled."))}).catch(this._headersCapability.reject),this.onProgress=null}get headersReady(){return this._headersCapability.promise}get filename(){return this._filename}get contentLength(){return this._contentLength}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}async read(){var ge;await this._headersCapability.promise;const{value:ve,done:xe}=await this._reader.read();return xe?{value:ve,done:xe}:(this._loaded+=ve.byteLength,(ge=this.onProgress)==null||ge.call(this,{loaded:this._loaded,total:this._contentLength}),{value:he(ve),done:!1})}cancel(ge){var ve;(ve=this._reader)==null||ve.cancel(ge),this._abortController.abort()}}class ae{constructor(ge,ve,xe){this._stream=ge,this._reader=null,this._loaded=0;const we=ge.source;this._withCredentials=we.withCredentials||!1,this._readCapability=new X.PromiseCapability,this._isStreamingSupported=!we.disableStream,this._abortController=new AbortController,this._headers=Y(this._stream.httpHeaders),this._headers.append("Range",`bytes=${ve}-${xe-1}`);const fe=we.url;fetch(fe,G(this._headers,this._withCredentials,this._abortController)).then(ne=>{if(!(0,W.validateResponseStatus)(ne.status))throw(0,W.createResponseStatusError)(ne.status,fe);this._readCapability.resolve(),this._reader=ne.body.getReader()}).catch(this._readCapability.reject),this.onProgress=null}get isStreamingSupported(){return this._isStreamingSupported}async read(){var ge;await this._readCapability.promise;const{value:ve,done:xe}=await this._reader.read();return xe?{value:ve,done:xe}:(this._loaded+=ve.byteLength,(ge=this.onProgress)==null||ge.call(this,{loaded:this._loaded}),{value:he(ve),done:!1})}cancel(ge){var ve;(ve=this._reader)==null||ve.cancel(ge),this._abortController.abort()}}},(B,q,K)=>{Object.defineProperty(q,"__esModule",{value:!0}),q.createResponseStatusError=Ce,q.extractFilenameFromHeader=he,q.validateRangeRequestCapabilities=Y,q.validateResponseStatus=ke;var X=K(1),W=K(21),G=K(6);function Y({getResponseHeader:ae,isHttp:Ae,rangeChunkSize:ge,disableRange:ve}){const xe={allowRangeRequests:!1,suggestedLength:void 0},we=parseInt(ae("Content-Length"),10);return!Number.isInteger(we)||(xe.suggestedLength=we,we<=2*ge)||ve||!Ae||ae("Accept-Ranges")!=="bytes"||(ae("Content-Encoding")||"identity")!=="identity"||(xe.allowRangeRequests=!0),xe}function he(ae){const Ae=ae("Content-Disposition");if(Ae){let ge=(0,W.getFilenameFromContentDispositionHeader)(Ae);if(ge.includes("%"))try{ge=decodeURIComponent(ge)}catch{}if((0,G.isPdfFile)(ge))return ge}return null}function Ce(ae,Ae){return ae===404||ae===0&&Ae.startsWith("file:")?new X.MissingPDFException('Missing PDF "'+Ae+'".'):new X.UnexpectedResponseException(`Unexpected server response (${ae}) while retrieving PDF "${Ae}".`,ae)}function ke(ae){return ae===200||ae===206}},(B,q,K)=>{Object.defineProperty(q,"__esModule",{value:!0}),q.getFilenameFromContentDispositionHeader=W;var X=K(1);function W(G){let Y=!0,he=Ce("filename\\*","i").exec(G);if(he){he=he[1];let we=ge(he);return we=unescape(we),we=ve(we),we=xe(we),ae(we)}if(he=Ae(G),he){const we=xe(he);return ae(we)}if(he=Ce("filename","i").exec(G),he){he=he[1];let we=ge(he);return we=xe(we),ae(we)}function Ce(we,fe){return new RegExp("(?:^|;)\\s*"+we+'\\s*=\\s*([^";\\s][^;\\s]*|"(?:[^"\\\\]|\\\\"?)+"?)',fe)}function ke(we,fe){if(we){if(!/^[\x00-\xFF]+$/.test(fe))return fe;try{const ne=new TextDecoder(we,{fatal:!0}),Se=(0,X.stringToBytes)(fe);fe=ne.decode(Se),Y=!1}catch{}}return fe}function ae(we){return Y&&/[\x80-\xff]/.test(we)&&(we=ke("utf-8",we),Y&&(we=ke("iso-8859-1",we))),we}function Ae(we){const fe=[];let ne;const Se=Ce("filename\\*((?!0\\d)\\d+)(\\*?)","ig");for(;(ne=Se.exec(we))!==null;){let[,Me,Ee,Pe]=ne;if(Me=parseInt(Me,10),Me in fe){if(Me===0)break;continue}fe[Me]=[Ee,Pe]}const Le=[];for(let Me=0;Me<fe.length&&Me in fe;++Me){let[Ee,Pe]=fe[Me];Pe=ge(Pe),Ee&&(Pe=unescape(Pe),Me===0&&(Pe=ve(Pe))),Le.push(Pe)}return Le.join("")}function ge(we){if(we.startsWith('"')){const fe=we.slice(1).split('\\"');for(let ne=0;ne<fe.length;++ne){const Se=fe[ne].indexOf('"');Se!==-1&&(fe[ne]=fe[ne].slice(0,Se),fe.length=ne+1),fe[ne]=fe[ne].replaceAll(/\\(.)/g,"$1")}we=fe.join('"')}return we}function ve(we){const fe=we.indexOf("'");if(fe===-1)return we;const ne=we.slice(0,fe),Se=we.slice(fe+1).replace(/^[^']*'/,"");return ke(ne,Se)}function xe(we){return!we.startsWith("=?")||/[\x00-\x19\x80-\xff]/.test(we)?we:we.replaceAll(/=\?([\w-]*)\?([QqBb])\?((?:[^?]|\?(?!=))*)\?=/g,function(fe,ne,Se,Le){if(Se==="q"||Se==="Q")return Le=Le.replaceAll("_"," "),Le=Le.replaceAll(/=([0-9a-fA-F]{2})/g,function(Me,Ee){return String.fromCharCode(parseInt(Ee,16))}),ke(ne,Le);try{Le=atob(Le)}catch{}return ke(ne,Le)})}return""}},(B,q,K)=>{Object.defineProperty(q,"__esModule",{value:!0}),q.PDFNetworkStream=void 0;var X=K(1),W=K(20);const G=200,Y=206;function he(ge){const ve=ge.response;return typeof ve!="string"?ve:(0,X.stringToBytes)(ve).buffer}class Ce{constructor(ve,xe={}){this.url=ve,this.isHttp=/^https?:/i.test(ve),this.httpHeaders=this.isHttp&&xe.httpHeaders||Object.create(null),this.withCredentials=xe.withCredentials||!1,this.currXhrId=0,this.pendingRequests=Object.create(null)}requestRange(ve,xe,we){const fe={begin:ve,end:xe};for(const ne in we)fe[ne]=we[ne];return this.request(fe)}requestFull(ve){return this.request(ve)}request(ve){const xe=new XMLHttpRequest,we=this.currXhrId++,fe=this.pendingRequests[we]={xhr:xe};xe.open("GET",this.url),xe.withCredentials=this.withCredentials;for(const ne in this.httpHeaders){const Se=this.httpHeaders[ne];Se!==void 0&&xe.setRequestHeader(ne,Se)}return this.isHttp&&"begin"in ve&&"end"in ve?(xe.setRequestHeader("Range",`bytes=${ve.begin}-${ve.end-1}`),fe.expectedStatus=Y):fe.expectedStatus=G,xe.responseType="arraybuffer",ve.onError&&(xe.onerror=function(ne){ve.onError(xe.status)}),xe.onreadystatechange=this.onStateChange.bind(this,we),xe.onprogress=this.onProgress.bind(this,we),fe.onHeadersReceived=ve.onHeadersReceived,fe.onDone=ve.onDone,fe.onError=ve.onError,fe.onProgress=ve.onProgress,xe.send(null),we}onProgress(ve,xe){var we;const fe=this.pendingRequests[ve];fe&&((we=fe.onProgress)==null||we.call(fe,xe))}onStateChange(ve,xe){var we,fe,ne;const Se=this.pendingRequests[ve];if(!Se)return;const Le=Se.xhr;if(Le.readyState>=2&&Se.onHeadersReceived&&(Se.onHeadersReceived(),delete Se.onHeadersReceived),Le.readyState!==4||!(ve in this.pendingRequests))return;if(delete this.pendingRequests[ve],Le.status===0&&this.isHttp){(we=Se.onError)==null||we.call(Se,Le.status);return}const Me=Le.status||G;if(!(Me===G&&Se.expectedStatus===Y)&&Me!==Se.expectedStatus){(fe=Se.onError)==null||fe.call(Se,Le.status);return}const Ee=he(Le);if(Me===Y){const Pe=Le.getResponseHeader("Content-Range"),Ve=/bytes (\d+)-(\d+)\/(\d+)/.exec(Pe);Se.onDone({begin:parseInt(Ve[1],10),chunk:Ee})}else Ee?Se.onDone({begin:0,chunk:Ee}):(ne=Se.onError)==null||ne.call(Se,Le.status)}getRequestXhr(ve){return this.pendingRequests[ve].xhr}isPendingRequest(ve){return ve in this.pendingRequests}abortRequest(ve){const xe=this.pendingRequests[ve].xhr;delete this.pendingRequests[ve],xe.abort()}}class ke{constructor(ve){this._source=ve,this._manager=new Ce(ve.url,{httpHeaders:ve.httpHeaders,withCredentials:ve.withCredentials}),this._rangeChunkSize=ve.rangeChunkSize,this._fullRequestReader=null,this._rangeRequestReaders=[]}_onRangeRequestReaderClosed(ve){const xe=this._rangeRequestReaders.indexOf(ve);xe>=0&&this._rangeRequestReaders.splice(xe,1)}getFullReader(){return(0,X.assert)(!this._fullRequestReader,"PDFNetworkStream.getFullReader can only be called once."),this._fullRequestReader=new ae(this._manager,this._source),this._fullRequestReader}getRangeReader(ve,xe){const we=new Ae(this._manager,ve,xe);return we.onClosed=this._onRangeRequestReaderClosed.bind(this),this._rangeRequestReaders.push(we),we}cancelAllRequests(ve){var xe;(xe=this._fullRequestReader)==null||xe.cancel(ve);for(const we of this._rangeRequestReaders.slice(0))we.cancel(ve)}}q.PDFNetworkStream=ke;class ae{constructor(ve,xe){this._manager=ve;const we={onHeadersReceived:this._onHeadersReceived.bind(this),onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)};this._url=xe.url,this._fullRequestId=ve.requestFull(we),this._headersReceivedCapability=new X.PromiseCapability,this._disableRange=xe.disableRange||!1,this._contentLength=xe.length,this._rangeChunkSize=xe.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._isStreamingSupported=!1,this._isRangeSupported=!1,this._cachedChunks=[],this._requests=[],this._done=!1,this._storedError=void 0,this._filename=null,this.onProgress=null}_onHeadersReceived(){const ve=this._fullRequestId,xe=this._manager.getRequestXhr(ve),we=Se=>xe.getResponseHeader(Se),{allowRangeRequests:fe,suggestedLength:ne}=(0,W.validateRangeRequestCapabilities)({getResponseHeader:we,isHttp:this._manager.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});fe&&(this._isRangeSupported=!0),this._contentLength=ne||this._contentLength,this._filename=(0,W.extractFilenameFromHeader)(we),this._isRangeSupported&&this._manager.abortRequest(ve),this._headersReceivedCapability.resolve()}_onDone(ve){if(ve&&(this._requests.length>0?this._requests.shift().resolve({value:ve.chunk,done:!1}):this._cachedChunks.push(ve.chunk)),this._done=!0,!(this._cachedChunks.length>0)){for(const xe of this._requests)xe.resolve({value:void 0,done:!0});this._requests.length=0}}_onError(ve){this._storedError=(0,W.createResponseStatusError)(ve,this._url),this._headersReceivedCapability.reject(this._storedError);for(const xe of this._requests)xe.reject(this._storedError);this._requests.length=0,this._cachedChunks.length=0}_onProgress(ve){var xe;(xe=this.onProgress)==null||xe.call(this,{loaded:ve.loaded,total:ve.lengthComputable?ve.total:this._contentLength})}get filename(){return this._filename}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}get contentLength(){return this._contentLength}get headersReady(){return this._headersReceivedCapability.promise}async read(){if(this._storedError)throw this._storedError;if(this._cachedChunks.length>0)return{value:this._cachedChunks.shift(),done:!1};if(this._done)return{value:void 0,done:!0};const ve=new X.PromiseCapability;return this._requests.push(ve),ve.promise}cancel(ve){this._done=!0,this._headersReceivedCapability.reject(ve);for(const xe of this._requests)xe.resolve({value:void 0,done:!0});this._requests.length=0,this._manager.isPendingRequest(this._fullRequestId)&&this._manager.abortRequest(this._fullRequestId),this._fullRequestReader=null}}class Ae{constructor(ve,xe,we){this._manager=ve;const fe={onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)};this._url=ve.url,this._requestId=ve.requestRange(xe,we,fe),this._requests=[],this._queuedChunk=null,this._done=!1,this._storedError=void 0,this.onProgress=null,this.onClosed=null}_close(){var ve;(ve=this.onClosed)==null||ve.call(this,this)}_onDone(ve){const xe=ve.chunk;this._requests.length>0?this._requests.shift().resolve({value:xe,done:!1}):this._queuedChunk=xe,this._done=!0;for(const we of this._requests)we.resolve({value:void 0,done:!0});this._requests.length=0,this._close()}_onError(ve){this._storedError=(0,W.createResponseStatusError)(ve,this._url);for(const xe of this._requests)xe.reject(this._storedError);this._requests.length=0,this._queuedChunk=null}_onProgress(ve){var xe;this.isStreamingSupported||(xe=this.onProgress)==null||xe.call(this,{loaded:ve.loaded})}get isStreamingSupported(){return!1}async read(){if(this._storedError)throw this._storedError;if(this._queuedChunk!==null){const xe=this._queuedChunk;return this._queuedChunk=null,{value:xe,done:!1}}if(this._done)return{value:void 0,done:!0};const ve=new X.PromiseCapability;return this._requests.push(ve),ve.promise}cancel(ve){this._done=!0;for(const xe of this._requests)xe.resolve({value:void 0,done:!0});this._requests.length=0,this._manager.isPendingRequest(this._requestId)&&this._manager.abortRequest(this._requestId),this._close()}}},(B,q,K)=>{Object.defineProperty(q,"__esModule",{value:!0}),q.PDFNodeStream=void 0;var X=K(1),W=K(20);const G=/^file:\/\/\/[a-zA-Z]:\//;function Y(we){const fe=require$$5,ne=fe.parse(we);return ne.protocol==="file:"||ne.host?ne:/^[a-z]:[/\\]/i.test(we)?fe.parse(`file:///${we}`):(ne.host||(ne.protocol="file:"),ne)}class he{constructor(fe){this.source=fe,this.url=Y(fe.url),this.isHttp=this.url.protocol==="http:"||this.url.protocol==="https:",this.isFsUrl=this.url.protocol==="file:",this.httpHeaders=this.isHttp&&fe.httpHeaders||{},this._fullRequestReader=null,this._rangeRequestReaders=[]}get _progressiveDataLength(){var fe;return((fe=this._fullRequestReader)==null?void 0:fe._loaded)??0}getFullReader(){return(0,X.assert)(!this._fullRequestReader,"PDFNodeStream.getFullReader can only be called once."),this._fullRequestReader=this.isFsUrl?new ve(this):new Ae(this),this._fullRequestReader}getRangeReader(fe,ne){if(ne<=this._progressiveDataLength)return null;const Se=this.isFsUrl?new xe(this,fe,ne):new ge(this,fe,ne);return this._rangeRequestReaders.push(Se),Se}cancelAllRequests(fe){var ne;(ne=this._fullRequestReader)==null||ne.cancel(fe);for(const Se of this._rangeRequestReaders.slice(0))Se.cancel(fe)}}q.PDFNodeStream=he;class Ce{constructor(fe){this._url=fe.url,this._done=!1,this._storedError=null,this.onProgress=null;const ne=fe.source;this._contentLength=ne.length,this._loaded=0,this._filename=null,this._disableRange=ne.disableRange||!1,this._rangeChunkSize=ne.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._isStreamingSupported=!ne.disableStream,this._isRangeSupported=!ne.disableRange,this._readableStream=null,this._readCapability=new X.PromiseCapability,this._headersCapability=new X.PromiseCapability}get headersReady(){return this._headersCapability.promise}get filename(){return this._filename}get contentLength(){return this._contentLength}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}async read(){var fe;if(await this._readCapability.promise,this._done)return{value:void 0,done:!0};if(this._storedError)throw this._storedError;const ne=this._readableStream.read();return ne===null?(this._readCapability=new X.PromiseCapability,this.read()):(this._loaded+=ne.length,(fe=this.onProgress)==null||fe.call(this,{loaded:this._loaded,total:this._contentLength}),{value:new Uint8Array(ne).buffer,done:!1})}cancel(fe){if(!this._readableStream){this._error(fe);return}this._readableStream.destroy(fe)}_error(fe){this._storedError=fe,this._readCapability.resolve()}_setReadableStream(fe){this._readableStream=fe,fe.on("readable",()=>{this._readCapability.resolve()}),fe.on("end",()=>{fe.destroy(),this._done=!0,this._readCapability.resolve()}),fe.on("error",ne=>{this._error(ne)}),!this._isStreamingSupported&&this._isRangeSupported&&this._error(new X.AbortException("streaming is disabled")),this._storedError&&this._readableStream.destroy(this._storedError)}}class ke{constructor(fe){this._url=fe.url,this._done=!1,this._storedError=null,this.onProgress=null,this._loaded=0,this._readableStream=null,this._readCapability=new X.PromiseCapability;const ne=fe.source;this._isStreamingSupported=!ne.disableStream}get isStreamingSupported(){return this._isStreamingSupported}async read(){var fe;if(await this._readCapability.promise,this._done)return{value:void 0,done:!0};if(this._storedError)throw this._storedError;const ne=this._readableStream.read();return ne===null?(this._readCapability=new X.PromiseCapability,this.read()):(this._loaded+=ne.length,(fe=this.onProgress)==null||fe.call(this,{loaded:this._loaded}),{value:new Uint8Array(ne).buffer,done:!1})}cancel(fe){if(!this._readableStream){this._error(fe);return}this._readableStream.destroy(fe)}_error(fe){this._storedError=fe,this._readCapability.resolve()}_setReadableStream(fe){this._readableStream=fe,fe.on("readable",()=>{this._readCapability.resolve()}),fe.on("end",()=>{fe.destroy(),this._done=!0,this._readCapability.resolve()}),fe.on("error",ne=>{this._error(ne)}),this._storedError&&this._readableStream.destroy(this._storedError)}}function ae(we,fe){return{protocol:we.protocol,auth:we.auth,host:we.hostname,port:we.port,path:we.path,method:"GET",headers:fe}}class Ae extends Ce{constructor(fe){super(fe);const ne=Se=>{if(Se.statusCode===404){const Pe=new X.MissingPDFException(`Missing PDF "${this._url}".`);this._storedError=Pe,this._headersCapability.reject(Pe);return}this._headersCapability.resolve(),this._setReadableStream(Se);const Le=Pe=>this._readableStream.headers[Pe.toLowerCase()],{allowRangeRequests:Me,suggestedLength:Ee}=(0,W.validateRangeRequestCapabilities)({getResponseHeader:Le,isHttp:fe.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});this._isRangeSupported=Me,this._contentLength=Ee||this._contentLength,this._filename=(0,W.extractFilenameFromHeader)(Le)};if(this._request=null,this._url.protocol==="http:"){const Se=require$$5;this._request=Se.request(ae(this._url,fe.httpHeaders),ne)}else{const Se=require$$5;this._request=Se.request(ae(this._url,fe.httpHeaders),ne)}this._request.on("error",Se=>{this._storedError=Se,this._headersCapability.reject(Se)}),this._request.end()}}class ge extends ke{constructor(fe,ne,Se){super(fe),this._httpHeaders={};for(const Me in fe.httpHeaders){const Ee=fe.httpHeaders[Me];Ee!==void 0&&(this._httpHeaders[Me]=Ee)}this._httpHeaders.Range=`bytes=${ne}-${Se-1}`;const Le=Me=>{if(Me.statusCode===404){const Ee=new X.MissingPDFException(`Missing PDF "${this._url}".`);this._storedError=Ee;return}this._setReadableStream(Me)};if(this._request=null,this._url.protocol==="http:"){const Me=require$$5;this._request=Me.request(ae(this._url,this._httpHeaders),Le)}else{const Me=require$$5;this._request=Me.request(ae(this._url,this._httpHeaders),Le)}this._request.on("error",Me=>{this._storedError=Me}),this._request.end()}}class ve extends Ce{constructor(fe){super(fe);let ne=decodeURIComponent(this._url.path);G.test(this._url.href)&&(ne=ne.replace(/^\//,""));const Se=require$$5;Se.lstat(ne,(Le,Me)=>{if(Le){Le.code==="ENOENT"&&(Le=new X.MissingPDFException(`Missing PDF "${ne}".`)),this._storedError=Le,this._headersCapability.reject(Le);return}this._contentLength=Me.size,this._setReadableStream(Se.createReadStream(ne)),this._headersCapability.resolve()})}}class xe extends ke{constructor(fe,ne,Se){super(fe);let Le=decodeURIComponent(this._url.path);G.test(this._url.href)&&(Le=Le.replace(/^\//,""));const Me=require$$5;this._setReadableStream(Me.createReadStream(Le,{start:ne,end:Se-1}))}}},(B,q,K)=>{Object.defineProperty(q,"__esModule",{value:!0}),q.SVGGraphics=void 0;var X=K(6),W=K(1);const G={fontStyle:"normal",fontWeight:"normal",fillColor:"#000000"},Y="http://www.w3.org/XML/1998/namespace",he="http://www.w3.org/1999/xlink",Ce=["butt","round","square"],ke=["miter","round","bevel"],ae=function(Me,Ee="",Pe=!1){if(URL.createObjectURL&&typeof Blob<"u"&&!Pe)return URL.createObjectURL(new Blob([Me],{type:Ee}));const Ve="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";let Ke=`data:${Ee};base64,`;for(let ze=0,rt=Me.length;ze<rt;ze+=3){const ye=Me[ze]&255,ot=Me[ze+1]&255,Ye=Me[ze+2]&255,He=ye>>2,Qe=(ye&3)<<4|ot>>4,yt=ze+1<rt?(ot&15)<<2|Ye>>6:64,ut=ze+2<rt?Ye&63:64;Ke+=Ve[He]+Ve[Qe]+Ve[yt]+Ve[ut]}return Ke},Ae=function(){const Me=new Uint8Array([137,80,78,71,13,10,26,10]),Ee=12,Pe=new Int32Array(256);for(let Ye=0;Ye<256;Ye++){let He=Ye;for(let Qe=0;Qe<8;Qe++)He=He&1?3988292384^He>>1&2147483647:He>>1&2147483647;Pe[Ye]=He}function Ve(Ye,He,Qe){let yt=-1;for(let ut=He;ut<Qe;ut++){const _t=(yt^Ye[ut])&255,Ne=Pe[_t];yt=yt>>>8^Ne}return yt^-1}function Ke(Ye,He,Qe,yt){let ut=yt;const _t=He.length;Qe[ut]=_t>>24&255,Qe[ut+1]=_t>>16&255,Qe[ut+2]=_t>>8&255,Qe[ut+3]=_t&255,ut+=4,Qe[ut]=Ye.charCodeAt(0)&255,Qe[ut+1]=Ye.charCodeAt(1)&255,Qe[ut+2]=Ye.charCodeAt(2)&255,Qe[ut+3]=Ye.charCodeAt(3)&255,ut+=4,Qe.set(He,ut),ut+=He.length;const Ne=Ve(Qe,yt+4,ut);Qe[ut]=Ne>>24&255,Qe[ut+1]=Ne>>16&255,Qe[ut+2]=Ne>>8&255,Qe[ut+3]=Ne&255}function ze(Ye,He,Qe){let yt=1,ut=0;for(let _t=He;_t<Qe;++_t)yt=(yt+(Ye[_t]&255))%65521,ut=(ut+yt)%65521;return ut<<16|yt}function rt(Ye){if(!W.isNodeJS)return ye(Ye);try{const He=parseInt(process.versions.node)>=8?Ye:Buffer.from(Ye),Qe=require$$5.deflateSync(He,{level:9});return Qe instanceof Uint8Array?Qe:new Uint8Array(Qe)}catch(He){(0,W.warn)("Not compressing PNG because zlib.deflateSync is unavailable: "+He)}return ye(Ye)}function ye(Ye){let He=Ye.length;const Qe=65535,yt=Math.ceil(He/Qe),ut=new Uint8Array(2+He+yt*5+4);let _t=0;ut[_t++]=120,ut[_t++]=156;let Ne=0;for(;He>Qe;)ut[_t++]=0,ut[_t++]=255,ut[_t++]=255,ut[_t++]=0,ut[_t++]=0,ut.set(Ye.subarray(Ne,Ne+Qe),_t),_t+=Qe,Ne+=Qe,He-=Qe;ut[_t++]=1,ut[_t++]=He&255,ut[_t++]=He>>8&255,ut[_t++]=~He&65535&255,ut[_t++]=(~He&65535)>>8&255,ut.set(Ye.subarray(Ne),_t),_t+=Ye.length-Ne;const tt=ze(Ye,0,Ye.length);return ut[_t++]=tt>>24&255,ut[_t++]=tt>>16&255,ut[_t++]=tt>>8&255,ut[_t++]=tt&255,ut}function ot(Ye,He,Qe,yt){const ut=Ye.width,_t=Ye.height;let Ne,tt,dt;const Oe=Ye.data;switch(He){case W.ImageKind.GRAYSCALE_1BPP:tt=0,Ne=1,dt=ut+7>>3;break;case W.ImageKind.RGB_24BPP:tt=2,Ne=8,dt=ut*3;break;case W.ImageKind.RGBA_32BPP:tt=6,Ne=8,dt=ut*4;break;default:throw new Error("invalid format")}const _e=new Uint8Array((1+dt)*_t);let pe=0,Fe=0;for(let Pt=0;Pt<_t;++Pt)_e[pe++]=0,_e.set(Oe.subarray(Fe,Fe+dt),pe),Fe+=dt,pe+=dt;if(He===W.ImageKind.GRAYSCALE_1BPP&&yt){pe=0;for(let Pt=0;Pt<_t;Pt++){pe++;for(let Ct=0;Ct<dt;Ct++)_e[pe++]^=255}}const je=new Uint8Array([ut>>24&255,ut>>16&255,ut>>8&255,ut&255,_t>>24&255,_t>>16&255,_t>>8&255,_t&255,Ne,tt,0,0,0]),Ie=rt(_e),qe=Me.length+Ee*3+je.length+Ie.length,Ge=new Uint8Array(qe);let gt=0;return Ge.set(Me,gt),gt+=Me.length,Ke("IHDR",je,Ge,gt),gt+=Ee+je.length,Ke("IDATA",Ie,Ge,gt),gt+=Ee+Ie.length,Ke("IEND",new Uint8Array(0),Ge,gt),ae(Ge,"image/png",Qe)}return function(Ye,He,Qe){const yt=Ye.kind===void 0?W.ImageKind.GRAYSCALE_1BPP:Ye.kind;return ot(Ye,yt,He,Qe)}}();class ge{constructor(){this.fontSizeScale=1,this.fontWeight=G.fontWeight,this.fontSize=0,this.textMatrix=W.IDENTITY_MATRIX,this.fontMatrix=W.FONT_IDENTITY_MATRIX,this.leading=0,this.textRenderingMode=W.TextRenderingMode.FILL,this.textMatrixScale=1,this.x=0,this.y=0,this.lineX=0,this.lineY=0,this.charSpacing=0,this.wordSpacing=0,this.textHScale=1,this.textRise=0,this.fillColor=G.fillColor,this.strokeColor="#000000",this.fillAlpha=1,this.strokeAlpha=1,this.lineWidth=1,this.lineJoin="",this.lineCap="",this.miterLimit=0,this.dashArray=[],this.dashPhase=0,this.dependencies=[],this.activeClipUrl=null,this.clipGroup=null,this.maskId=""}clone(){return Object.create(this)}setCurrentPoint(Ee,Pe){this.x=Ee,this.y=Pe}}function ve(Me){let Ee=[];const Pe=[];for(const Ve of Me){if(Ve.fn==="save"){Ee.push({fnId:92,fn:"group",items:[]}),Pe.push(Ee),Ee=Ee.at(-1).items;continue}Ve.fn==="restore"?Ee=Pe.pop():Ee.push(Ve)}return Ee}function xe(Me){if(Number.isInteger(Me))return Me.toString();const Ee=Me.toFixed(10);let Pe=Ee.length-1;if(Ee[Pe]!=="0")return Ee;do Pe--;while(Ee[Pe]==="0");return Ee.substring(0,Ee[Pe]==="."?Pe:Pe+1)}function we(Me){if(Me[4]===0&&Me[5]===0){if(Me[1]===0&&Me[2]===0)return Me[0]===1&&Me[3]===1?"":`scale(${xe(Me[0])} ${xe(Me[3])})`;if(Me[0]===Me[3]&&Me[1]===-Me[2]){const Ee=Math.acos(Me[0])*180/Math.PI;return`rotate(${xe(Ee)})`}}else if(Me[0]===1&&Me[1]===0&&Me[2]===0&&Me[3]===1)return`translate(${xe(Me[4])} ${xe(Me[5])})`;return`matrix(${xe(Me[0])} ${xe(Me[1])} ${xe(Me[2])} ${xe(Me[3])} ${xe(Me[4])} ${xe(Me[5])})`}let fe=0,ne=0,Se=0;class Le{constructor(Ee,Pe,Ve=!1){(0,X.deprecated)("The SVG back-end is no longer maintained and *may* be removed in the future."),this.svgFactory=new X.DOMSVGFactory,this.current=new ge,this.transformMatrix=W.IDENTITY_MATRIX,this.transformStack=[],this.extraStack=[],this.commonObjs=Ee,this.objs=Pe,this.pendingClip=null,this.pendingEOFill=!1,this.embedFonts=!1,this.embeddedFonts=Object.create(null),this.cssStyle=null,this.forceDataSchema=!!Ve,this._operatorIdMapping=[];for(const Ke in W.OPS)this._operatorIdMapping[W.OPS[Ke]]=Ke}getObject(Ee,Pe=null){return typeof Ee=="string"?Ee.startsWith("g_")?this.commonObjs.get(Ee):this.objs.get(Ee):Pe}save(){this.transformStack.push(this.transformMatrix);const Ee=this.current;this.extraStack.push(Ee),this.current=Ee.clone()}restore(){this.transformMatrix=this.transformStack.pop(),this.current=this.extraStack.pop(),this.pendingClip=null,this.tgrp=null}group(Ee){this.save(),this.executeOpTree(Ee),this.restore()}loadDependencies(Ee){const Pe=Ee.fnArray,Ve=Ee.argsArray;for(let Ke=0,ze=Pe.length;Ke<ze;Ke++)if(Pe[Ke]===W.OPS.dependency)for(const rt of Ve[Ke]){const ye=rt.startsWith("g_")?this.commonObjs:this.objs,ot=new Promise(Ye=>{ye.get(rt,Ye)});this.current.dependencies.push(ot)}return Promise.all(this.current.dependencies)}transform(Ee,Pe,Ve,Ke,ze,rt){const ye=[Ee,Pe,Ve,Ke,ze,rt];this.transformMatrix=W.Util.transform(this.transformMatrix,ye),this.tgrp=null}getSVG(Ee,Pe){this.viewport=Pe;const Ve=this._initialize(Pe);return this.loadDependencies(Ee).then(()=>(this.transformMatrix=W.IDENTITY_MATRIX,this.executeOpTree(this.convertOpList(Ee)),Ve))}convertOpList(Ee){const Pe=this._operatorIdMapping,Ve=Ee.argsArray,Ke=Ee.fnArray,ze=[];for(let rt=0,ye=Ke.length;rt<ye;rt++){const ot=Ke[rt];ze.push({fnId:ot,fn:Pe[ot],args:Ve[rt]})}return ve(ze)}executeOpTree(Ee){for(const Pe of Ee){const Ve=Pe.fn,Ke=Pe.fnId,ze=Pe.args;switch(Ke|0){case W.OPS.beginText:this.beginText();break;case W.OPS.dependency:break;case W.OPS.setLeading:this.setLeading(ze);break;case W.OPS.setLeadingMoveText:this.setLeadingMoveText(ze[0],ze[1]);break;case W.OPS.setFont:this.setFont(ze);break;case W.OPS.showText:this.showText(ze[0]);break;case W.OPS.showSpacedText:this.showText(ze[0]);break;case W.OPS.endText:this.endText();break;case W.OPS.moveText:this.moveText(ze[0],ze[1]);break;case W.OPS.setCharSpacing:this.setCharSpacing(ze[0]);break;case W.OPS.setWordSpacing:this.setWordSpacing(ze[0]);break;case W.OPS.setHScale:this.setHScale(ze[0]);break;case W.OPS.setTextMatrix:this.setTextMatrix(ze[0],ze[1],ze[2],ze[3],ze[4],ze[5]);break;case W.OPS.setTextRise:this.setTextRise(ze[0]);break;case W.OPS.setTextRenderingMode:this.setTextRenderingMode(ze[0]);break;case W.OPS.setLineWidth:this.setLineWidth(ze[0]);break;case W.OPS.setLineJoin:this.setLineJoin(ze[0]);break;case W.OPS.setLineCap:this.setLineCap(ze[0]);break;case W.OPS.setMiterLimit:this.setMiterLimit(ze[0]);break;case W.OPS.setFillRGBColor:this.setFillRGBColor(ze[0],ze[1],ze[2]);break;case W.OPS.setStrokeRGBColor:this.setStrokeRGBColor(ze[0],ze[1],ze[2]);break;case W.OPS.setStrokeColorN:this.setStrokeColorN(ze);break;case W.OPS.setFillColorN:this.setFillColorN(ze);break;case W.OPS.shadingFill:this.shadingFill(ze[0]);break;case W.OPS.setDash:this.setDash(ze[0],ze[1]);break;case W.OPS.setRenderingIntent:this.setRenderingIntent(ze[0]);break;case W.OPS.setFlatness:this.setFlatness(ze[0]);break;case W.OPS.setGState:this.setGState(ze[0]);break;case W.OPS.fill:this.fill();break;case W.OPS.eoFill:this.eoFill();break;case W.OPS.stroke:this.stroke();break;case W.OPS.fillStroke:this.fillStroke();break;case W.OPS.eoFillStroke:this.eoFillStroke();break;case W.OPS.clip:this.clip("nonzero");break;case W.OPS.eoClip:this.clip("evenodd");break;case W.OPS.paintSolidColorImageMask:this.paintSolidColorImageMask();break;case W.OPS.paintImageXObject:this.paintImageXObject(ze[0]);break;case W.OPS.paintInlineImageXObject:this.paintInlineImageXObject(ze[0]);break;case W.OPS.paintImageMaskXObject:this.paintImageMaskXObject(ze[0]);break;case W.OPS.paintFormXObjectBegin:this.paintFormXObjectBegin(ze[0],ze[1]);break;case W.OPS.paintFormXObjectEnd:this.paintFormXObjectEnd();break;case W.OPS.closePath:this.closePath();break;case W.OPS.closeStroke:this.closeStroke();break;case W.OPS.closeFillStroke:this.closeFillStroke();break;case W.OPS.closeEOFillStroke:this.closeEOFillStroke();break;case W.OPS.nextLine:this.nextLine();break;case W.OPS.transform:this.transform(ze[0],ze[1],ze[2],ze[3],ze[4],ze[5]);break;case W.OPS.constructPath:this.constructPath(ze[0],ze[1]);break;case W.OPS.endPath:this.endPath();break;case 92:this.group(Pe.items);break;default:(0,W.warn)(`Unimplemented operator ${Ve}`);break}}}setWordSpacing(Ee){this.current.wordSpacing=Ee}setCharSpacing(Ee){this.current.charSpacing=Ee}nextLine(){this.moveText(0,this.current.leading)}setTextMatrix(Ee,Pe,Ve,Ke,ze,rt){const ye=this.current;ye.textMatrix=ye.lineMatrix=[Ee,Pe,Ve,Ke,ze,rt],ye.textMatrixScale=Math.hypot(Ee,Pe),ye.x=ye.lineX=0,ye.y=ye.lineY=0,ye.xcoords=[],ye.ycoords=[],ye.tspan=this.svgFactory.createElement("svg:tspan"),ye.tspan.setAttributeNS(null,"font-family",ye.fontFamily),ye.tspan.setAttributeNS(null,"font-size",`${xe(ye.fontSize)}px`),ye.tspan.setAttributeNS(null,"y",xe(-ye.y)),ye.txtElement=this.svgFactory.createElement("svg:text"),ye.txtElement.append(ye.tspan)}beginText(){const Ee=this.current;Ee.x=Ee.lineX=0,Ee.y=Ee.lineY=0,Ee.textMatrix=W.IDENTITY_MATRIX,Ee.lineMatrix=W.IDENTITY_MATRIX,Ee.textMatrixScale=1,Ee.tspan=this.svgFactory.createElement("svg:tspan"),Ee.txtElement=this.svgFactory.createElement("svg:text"),Ee.txtgrp=this.svgFactory.createElement("svg:g"),Ee.xcoords=[],Ee.ycoords=[]}moveText(Ee,Pe){const Ve=this.current;Ve.x=Ve.lineX+=Ee,Ve.y=Ve.lineY+=Pe,Ve.xcoords=[],Ve.ycoords=[],Ve.tspan=this.svgFactory.createElement("svg:tspan"),Ve.tspan.setAttributeNS(null,"font-family",Ve.fontFamily),Ve.tspan.setAttributeNS(null,"font-size",`${xe(Ve.fontSize)}px`),Ve.tspan.setAttributeNS(null,"y",xe(-Ve.y))}showText(Ee){const Pe=this.current,Ve=Pe.font,Ke=Pe.fontSize;if(Ke===0)return;const ze=Pe.fontSizeScale,rt=Pe.charSpacing,ye=Pe.wordSpacing,ot=Pe.fontDirection,Ye=Pe.textHScale*ot,He=Ve.vertical,Qe=He?1:-1,yt=Ve.defaultVMetrics,ut=Ke*Pe.fontMatrix[0];let _t=0;for(const dt of Ee){if(dt===null){_t+=ot*ye;continue}else if(typeof dt=="number"){_t+=Qe*dt*Ke/1e3;continue}const Oe=(dt.isSpace?ye:0)+rt,_e=dt.fontChar;let pe,Fe,je=dt.width;if(He){let qe;const Ge=dt.vmetric||yt;qe=dt.vmetric?Ge[1]:je*.5,qe=-qe*ut;const gt=Ge[2]*ut;je=Ge?-Ge[0]:je,pe=qe/ze,Fe=(_t+gt)/ze}else pe=_t/ze,Fe=0;(dt.isInFont||Ve.missingFile)&&(Pe.xcoords.push(Pe.x+pe),He&&Pe.ycoords.push(-Pe.y+Fe),Pe.tspan.textContent+=_e);const Ie=He?je*ut-Oe*ot:je*ut+Oe*ot;_t+=Ie}Pe.tspan.setAttributeNS(null,"x",Pe.xcoords.map(xe).join(" ")),He?Pe.tspan.setAttributeNS(null,"y",Pe.ycoords.map(xe).join(" ")):Pe.tspan.setAttributeNS(null,"y",xe(-Pe.y)),He?Pe.y-=_t:Pe.x+=_t*Ye,Pe.tspan.setAttributeNS(null,"font-family",Pe.fontFamily),Pe.tspan.setAttributeNS(null,"font-size",`${xe(Pe.fontSize)}px`),Pe.fontStyle!==G.fontStyle&&Pe.tspan.setAttributeNS(null,"font-style",Pe.fontStyle),Pe.fontWeight!==G.fontWeight&&Pe.tspan.setAttributeNS(null,"font-weight",Pe.fontWeight);const Ne=Pe.textRenderingMode&W.TextRenderingMode.FILL_STROKE_MASK;if(Ne===W.TextRenderingMode.FILL||Ne===W.TextRenderingMode.FILL_STROKE?(Pe.fillColor!==G.fillColor&&Pe.tspan.setAttributeNS(null,"fill",Pe.fillColor),Pe.fillAlpha<1&&Pe.tspan.setAttributeNS(null,"fill-opacity",Pe.fillAlpha)):Pe.textRenderingMode===W.TextRenderingMode.ADD_TO_PATH?Pe.tspan.setAttributeNS(null,"fill","transparent"):Pe.tspan.setAttributeNS(null,"fill","none"),Ne===W.TextRenderingMode.STROKE||Ne===W.TextRenderingMode.FILL_STROKE){const dt=1/(Pe.textMatrixScale||1);this._setStrokeAttributes(Pe.tspan,dt)}let tt=Pe.textMatrix;Pe.textRise!==0&&(tt=tt.slice(),tt[5]+=Pe.textRise),Pe.txtElement.setAttributeNS(null,"transform",`${we(tt)} scale(${xe(Ye)}, -1)`),Pe.txtElement.setAttributeNS(Y,"xml:space","preserve"),Pe.txtElement.append(Pe.tspan),Pe.txtgrp.append(Pe.txtElement),this._ensureTransformGroup().append(Pe.txtElement)}setLeadingMoveText(Ee,Pe){this.setLeading(-Pe),this.moveText(Ee,Pe)}addFontStyle(Ee){if(!Ee.data)throw new Error('addFontStyle: No font data available, ensure that the "fontExtraProperties" API parameter is set.');this.cssStyle||(this.cssStyle=this.svgFactory.createElement("svg:style"),this.cssStyle.setAttributeNS(null,"type","text/css"),this.defs.append(this.cssStyle));const Pe=ae(Ee.data,Ee.mimetype,this.forceDataSchema);this.cssStyle.textContent+=`@font-face { font-family: "${Ee.loadedName}"; src: url(${Pe}); }
`}setFont(Ee){const Pe=this.current,Ve=this.commonObjs.get(Ee[0]);let Ke=Ee[1];Pe.font=Ve,this.embedFonts&&!Ve.missingFile&&!this.embeddedFonts[Ve.loadedName]&&(this.addFontStyle(Ve),this.embeddedFonts[Ve.loadedName]=Ve),Pe.fontMatrix=Ve.fontMatrix||W.FONT_IDENTITY_MATRIX;let ze="normal";Ve.black?ze="900":Ve.bold&&(ze="bold");const rt=Ve.italic?"italic":"normal";Ke<0?(Ke=-Ke,Pe.fontDirection=-1):Pe.fontDirection=1,Pe.fontSize=Ke,Pe.fontFamily=Ve.loadedName,Pe.fontWeight=ze,Pe.fontStyle=rt,Pe.tspan=this.svgFactory.createElement("svg:tspan"),Pe.tspan.setAttributeNS(null,"y",xe(-Pe.y)),Pe.xcoords=[],Pe.ycoords=[]}endText(){var Ee;const Pe=this.current;Pe.textRenderingMode&W.TextRenderingMode.ADD_TO_PATH_FLAG&&(Ee=Pe.txtElement)!=null&&Ee.hasChildNodes()&&(Pe.element=Pe.txtElement,this.clip("nonzero"),this.endPath())}setLineWidth(Ee){Ee>0&&(this.current.lineWidth=Ee)}setLineCap(Ee){this.current.lineCap=Ce[Ee]}setLineJoin(Ee){this.current.lineJoin=ke[Ee]}setMiterLimit(Ee){this.current.miterLimit=Ee}setStrokeAlpha(Ee){this.current.strokeAlpha=Ee}setStrokeRGBColor(Ee,Pe,Ve){this.current.strokeColor=W.Util.makeHexColor(Ee,Pe,Ve)}setFillAlpha(Ee){this.current.fillAlpha=Ee}setFillRGBColor(Ee,Pe,Ve){this.current.fillColor=W.Util.makeHexColor(Ee,Pe,Ve),this.current.tspan=this.svgFactory.createElement("svg:tspan"),this.current.xcoords=[],this.current.ycoords=[]}setStrokeColorN(Ee){this.current.strokeColor=this._makeColorN_Pattern(Ee)}setFillColorN(Ee){this.current.fillColor=this._makeColorN_Pattern(Ee)}shadingFill(Ee){const{width:Pe,height:Ve}=this.viewport,Ke=W.Util.inverseTransform(this.transformMatrix),[ze,rt,ye,ot]=W.Util.getAxialAlignedBoundingBox([0,0,Pe,Ve],Ke),Ye=this.svgFactory.createElement("svg:rect");Ye.setAttributeNS(null,"x",ze),Ye.setAttributeNS(null,"y",rt),Ye.setAttributeNS(null,"width",ye-ze),Ye.setAttributeNS(null,"height",ot-rt),Ye.setAttributeNS(null,"fill",this._makeShadingPattern(Ee)),this.current.fillAlpha<1&&Ye.setAttributeNS(null,"fill-opacity",this.current.fillAlpha),this._ensureTransformGroup().append(Ye)}_makeColorN_Pattern(Ee){return Ee[0]==="TilingPattern"?this._makeTilingPattern(Ee):this._makeShadingPattern(Ee)}_makeTilingPattern(Ee){const Pe=Ee[1],Ve=Ee[2],Ke=Ee[3]||W.IDENTITY_MATRIX,[ze,rt,ye,ot]=Ee[4],Ye=Ee[5],He=Ee[6],Qe=Ee[7],yt=`shading${Se++}`,[ut,_t,Ne,tt]=W.Util.normalizeRect([...W.Util.applyTransform([ze,rt],Ke),...W.Util.applyTransform([ye,ot],Ke)]),[dt,Oe]=W.Util.singularValueDecompose2dScale(Ke),_e=Ye*dt,pe=He*Oe,Fe=this.svgFactory.createElement("svg:pattern");Fe.setAttributeNS(null,"id",yt),Fe.setAttributeNS(null,"patternUnits","userSpaceOnUse"),Fe.setAttributeNS(null,"width",_e),Fe.setAttributeNS(null,"height",pe),Fe.setAttributeNS(null,"x",`${ut}`),Fe.setAttributeNS(null,"y",`${_t}`);const je=this.svg,Ie=this.transformMatrix,qe=this.current.fillColor,Ge=this.current.strokeColor,gt=this.svgFactory.create(Ne-ut,tt-_t);if(this.svg=gt,this.transformMatrix=Ke,Qe===2){const Pt=W.Util.makeHexColor(...Pe);this.current.fillColor=Pt,this.current.strokeColor=Pt}return this.executeOpTree(this.convertOpList(Ve)),this.svg=je,this.transformMatrix=Ie,this.current.fillColor=qe,this.current.strokeColor=Ge,Fe.append(gt.childNodes[0]),this.defs.append(Fe),`url(#${yt})`}_makeShadingPattern(Ee){switch(typeof Ee=="string"&&(Ee=this.objs.get(Ee)),Ee[0]){case"RadialAxial":const Pe=`shading${Se++}`,Ve=Ee[3];let Ke;switch(Ee[1]){case"axial":const ze=Ee[4],rt=Ee[5];Ke=this.svgFactory.createElement("svg:linearGradient"),Ke.setAttributeNS(null,"id",Pe),Ke.setAttributeNS(null,"gradientUnits","userSpaceOnUse"),Ke.setAttributeNS(null,"x1",ze[0]),Ke.setAttributeNS(null,"y1",ze[1]),Ke.setAttributeNS(null,"x2",rt[0]),Ke.setAttributeNS(null,"y2",rt[1]);break;case"radial":const ye=Ee[4],ot=Ee[5],Ye=Ee[6],He=Ee[7];Ke=this.svgFactory.createElement("svg:radialGradient"),Ke.setAttributeNS(null,"id",Pe),Ke.setAttributeNS(null,"gradientUnits","userSpaceOnUse"),Ke.setAttributeNS(null,"cx",ot[0]),Ke.setAttributeNS(null,"cy",ot[1]),Ke.setAttributeNS(null,"r",He),Ke.setAttributeNS(null,"fx",ye[0]),Ke.setAttributeNS(null,"fy",ye[1]),Ke.setAttributeNS(null,"fr",Ye);break;default:throw new Error(`Unknown RadialAxial type: ${Ee[1]}`)}for(const ze of Ve){const rt=this.svgFactory.createElement("svg:stop");rt.setAttributeNS(null,"offset",ze[0]),rt.setAttributeNS(null,"stop-color",ze[1]),Ke.append(rt)}return this.defs.append(Ke),`url(#${Pe})`;case"Mesh":return(0,W.warn)("Unimplemented pattern Mesh"),null;case"Dummy":return"hotpink";default:throw new Error(`Unknown IR type: ${Ee[0]}`)}}setDash(Ee,Pe){this.current.dashArray=Ee,this.current.dashPhase=Pe}constructPath(Ee,Pe){const Ve=this.current;let Ke=Ve.x,ze=Ve.y,rt=[],ye=0;for(const ot of Ee)switch(ot|0){case W.OPS.rectangle:Ke=Pe[ye++],ze=Pe[ye++];const Ye=Pe[ye++],He=Pe[ye++],Qe=Ke+Ye,yt=ze+He;rt.push("M",xe(Ke),xe(ze),"L",xe(Qe),xe(ze),"L",xe(Qe),xe(yt),"L",xe(Ke),xe(yt),"Z");break;case W.OPS.moveTo:Ke=Pe[ye++],ze=Pe[ye++],rt.push("M",xe(Ke),xe(ze));break;case W.OPS.lineTo:Ke=Pe[ye++],ze=Pe[ye++],rt.push("L",xe(Ke),xe(ze));break;case W.OPS.curveTo:Ke=Pe[ye+4],ze=Pe[ye+5],rt.push("C",xe(Pe[ye]),xe(Pe[ye+1]),xe(Pe[ye+2]),xe(Pe[ye+3]),xe(Ke),xe(ze)),ye+=6;break;case W.OPS.curveTo2:rt.push("C",xe(Ke),xe(ze),xe(Pe[ye]),xe(Pe[ye+1]),xe(Pe[ye+2]),xe(Pe[ye+3])),Ke=Pe[ye+2],ze=Pe[ye+3],ye+=4;break;case W.OPS.curveTo3:Ke=Pe[ye+2],ze=Pe[ye+3],rt.push("C",xe(Pe[ye]),xe(Pe[ye+1]),xe(Ke),xe(ze),xe(Ke),xe(ze)),ye+=4;break;case W.OPS.closePath:rt.push("Z");break}rt=rt.join(" "),Ve.path&&Ee.length>0&&Ee[0]!==W.OPS.rectangle&&Ee[0]!==W.OPS.moveTo?rt=Ve.path.getAttributeNS(null,"d")+rt:(Ve.path=this.svgFactory.createElement("svg:path"),this._ensureTransformGroup().append(Ve.path)),Ve.path.setAttributeNS(null,"d",rt),Ve.path.setAttributeNS(null,"fill","none"),Ve.element=Ve.path,Ve.setCurrentPoint(Ke,ze)}endPath(){const Ee=this.current;if(Ee.path=null,!this.pendingClip)return;if(!Ee.element){this.pendingClip=null;return}const Pe=`clippath${fe++}`,Ve=this.svgFactory.createElement("svg:clipPath");Ve.setAttributeNS(null,"id",Pe),Ve.setAttributeNS(null,"transform",we(this.transformMatrix));const Ke=Ee.element.cloneNode(!0);if(this.pendingClip==="evenodd"?Ke.setAttributeNS(null,"clip-rule","evenodd"):Ke.setAttributeNS(null,"clip-rule","nonzero"),this.pendingClip=null,Ve.append(Ke),this.defs.append(Ve),Ee.activeClipUrl){Ee.clipGroup=null;for(const ze of this.extraStack)ze.clipGroup=null;Ve.setAttributeNS(null,"clip-path",Ee.activeClipUrl)}Ee.activeClipUrl=`url(#${Pe})`,this.tgrp=null}clip(Ee){this.pendingClip=Ee}closePath(){const Ee=this.current;if(Ee.path){const Pe=`${Ee.path.getAttributeNS(null,"d")}Z`;Ee.path.setAttributeNS(null,"d",Pe)}}setLeading(Ee){this.current.leading=-Ee}setTextRise(Ee){this.current.textRise=Ee}setTextRenderingMode(Ee){this.current.textRenderingMode=Ee}setHScale(Ee){this.current.textHScale=Ee/100}setRenderingIntent(Ee){}setFlatness(Ee){}setGState(Ee){for(const[Pe,Ve]of Ee)switch(Pe){case"LW":this.setLineWidth(Ve);break;case"LC":this.setLineCap(Ve);break;case"LJ":this.setLineJoin(Ve);break;case"ML":this.setMiterLimit(Ve);break;case"D":this.setDash(Ve[0],Ve[1]);break;case"RI":this.setRenderingIntent(Ve);break;case"FL":this.setFlatness(Ve);break;case"Font":this.setFont(Ve);break;case"CA":this.setStrokeAlpha(Ve);break;case"ca":this.setFillAlpha(Ve);break;default:(0,W.warn)(`Unimplemented graphic state operator ${Pe}`);break}}fill(){const Ee=this.current;Ee.element&&(Ee.element.setAttributeNS(null,"fill",Ee.fillColor),Ee.element.setAttributeNS(null,"fill-opacity",Ee.fillAlpha),this.endPath())}stroke(){const Ee=this.current;Ee.element&&(this._setStrokeAttributes(Ee.element),Ee.element.setAttributeNS(null,"fill","none"),this.endPath())}_setStrokeAttributes(Ee,Pe=1){const Ve=this.current;let Ke=Ve.dashArray;Pe!==1&&Ke.length>0&&(Ke=Ke.map(function(ze){return Pe*ze})),Ee.setAttributeNS(null,"stroke",Ve.strokeColor),Ee.setAttributeNS(null,"stroke-opacity",Ve.strokeAlpha),Ee.setAttributeNS(null,"stroke-miterlimit",xe(Ve.miterLimit)),Ee.setAttributeNS(null,"stroke-linecap",Ve.lineCap),Ee.setAttributeNS(null,"stroke-linejoin",Ve.lineJoin),Ee.setAttributeNS(null,"stroke-width",xe(Pe*Ve.lineWidth)+"px"),Ee.setAttributeNS(null,"stroke-dasharray",Ke.map(xe).join(" ")),Ee.setAttributeNS(null,"stroke-dashoffset",xe(Pe*Ve.dashPhase)+"px")}eoFill(){var Ee;(Ee=this.current.element)==null||Ee.setAttributeNS(null,"fill-rule","evenodd"),this.fill()}fillStroke(){this.stroke(),this.fill()}eoFillStroke(){var Ee;(Ee=this.current.element)==null||Ee.setAttributeNS(null,"fill-rule","evenodd"),this.fillStroke()}closeStroke(){this.closePath(),this.stroke()}closeFillStroke(){this.closePath(),this.fillStroke()}closeEOFillStroke(){this.closePath(),this.eoFillStroke()}paintSolidColorImageMask(){const Ee=this.svgFactory.createElement("svg:rect");Ee.setAttributeNS(null,"x","0"),Ee.setAttributeNS(null,"y","0"),Ee.setAttributeNS(null,"width","1px"),Ee.setAttributeNS(null,"height","1px"),Ee.setAttributeNS(null,"fill",this.current.fillColor),this._ensureTransformGroup().append(Ee)}paintImageXObject(Ee){const Pe=this.getObject(Ee);if(!Pe){(0,W.warn)(`Dependent image with object ID ${Ee} is not ready yet`);return}this.paintInlineImageXObject(Pe)}paintInlineImageXObject(Ee,Pe){const Ve=Ee.width,Ke=Ee.height,ze=Ae(Ee,this.forceDataSchema,!!Pe),rt=this.svgFactory.createElement("svg:rect");rt.setAttributeNS(null,"x","0"),rt.setAttributeNS(null,"y","0"),rt.setAttributeNS(null,"width",xe(Ve)),rt.setAttributeNS(null,"height",xe(Ke)),this.current.element=rt,this.clip("nonzero");const ye=this.svgFactory.createElement("svg:image");ye.setAttributeNS(he,"xlink:href",ze),ye.setAttributeNS(null,"x","0"),ye.setAttributeNS(null,"y",xe(-Ke)),ye.setAttributeNS(null,"width",xe(Ve)+"px"),ye.setAttributeNS(null,"height",xe(Ke)+"px"),ye.setAttributeNS(null,"transform",`scale(${xe(1/Ve)} ${xe(-1/Ke)})`),Pe?Pe.append(ye):this._ensureTransformGroup().append(ye)}paintImageMaskXObject(Ee){const Pe=this.getObject(Ee.data,Ee);if(Pe.bitmap){(0,W.warn)("paintImageMaskXObject: ImageBitmap support is not implemented, ensure that the `isOffscreenCanvasSupported` API parameter is disabled.");return}const Ve=this.current,Ke=Pe.width,ze=Pe.height,rt=Ve.fillColor;Ve.maskId=`mask${ne++}`;const ye=this.svgFactory.createElement("svg:mask");ye.setAttributeNS(null,"id",Ve.maskId);const ot=this.svgFactory.createElement("svg:rect");ot.setAttributeNS(null,"x","0"),ot.setAttributeNS(null,"y","0"),ot.setAttributeNS(null,"width",xe(Ke)),ot.setAttributeNS(null,"height",xe(ze)),ot.setAttributeNS(null,"fill",rt),ot.setAttributeNS(null,"mask",`url(#${Ve.maskId})`),this.defs.append(ye),this._ensureTransformGroup().append(ot),this.paintInlineImageXObject(Pe,ye)}paintFormXObjectBegin(Ee,Pe){if(Array.isArray(Ee)&&Ee.length===6&&this.transform(Ee[0],Ee[1],Ee[2],Ee[3],Ee[4],Ee[5]),Pe){const Ve=Pe[2]-Pe[0],Ke=Pe[3]-Pe[1],ze=this.svgFactory.createElement("svg:rect");ze.setAttributeNS(null,"x",Pe[0]),ze.setAttributeNS(null,"y",Pe[1]),ze.setAttributeNS(null,"width",xe(Ve)),ze.setAttributeNS(null,"height",xe(Ke)),this.current.element=ze,this.clip("nonzero"),this.endPath()}}paintFormXObjectEnd(){}_initialize(Ee){const Pe=this.svgFactory.create(Ee.width,Ee.height),Ve=this.svgFactory.createElement("svg:defs");Pe.append(Ve),this.defs=Ve;const Ke=this.svgFactory.createElement("svg:g");return Ke.setAttributeNS(null,"transform",we(Ee.transform)),Pe.append(Ke),this.svg=Ke,Pe}_ensureClipGroup(){if(!this.current.clipGroup){const Ee=this.svgFactory.createElement("svg:g");Ee.setAttributeNS(null,"clip-path",this.current.activeClipUrl),this.svg.append(Ee),this.current.clipGroup=Ee}return this.current.clipGroup}_ensureTransformGroup(){return this.tgrp||(this.tgrp=this.svgFactory.createElement("svg:g"),this.tgrp.setAttributeNS(null,"transform",we(this.transformMatrix)),this.current.activeClipUrl?this._ensureClipGroup().append(this.tgrp):this.svg.append(this.tgrp)),this.tgrp}}q.SVGGraphics=Le},(B,q)=>{Object.defineProperty(q,"__esModule",{value:!0}),q.XfaText=void 0;class K{static textContent(W){const G=[],Y={items:G,styles:Object.create(null)};function he(Ce){var ke;if(!Ce)return;let ae=null;const Ae=Ce.name;if(Ae==="#text")ae=Ce.value;else if(K.shouldBuildText(Ae))(ke=Ce==null?void 0:Ce.attributes)!=null&&ke.textContent?ae=Ce.attributes.textContent:Ce.value&&(ae=Ce.value);else return;if(ae!==null&&G.push({str:ae}),!!Ce.children)for(const ge of Ce.children)he(ge)}return he(W),Y}static shouldBuildText(W){return!(W==="textarea"||W==="input"||W==="option"||W==="select")}}q.XfaText=K},(B,q,K)=>{Object.defineProperty(q,"__esModule",{value:!0}),q.TextLayerRenderTask=void 0,q.renderTextLayer=we,q.updateTextLayer=fe;var X=K(1),W=K(6);const G=1e5,Y=30,he=.8,Ce=new Map;function ke(ne,Se){let Le;if(Se&&X.FeatureTest.isOffscreenCanvasSupported)Le=new OffscreenCanvas(ne,ne).getContext("2d",{alpha:!1});else{const Me=document.createElement("canvas");Me.width=Me.height=ne,Le=Me.getContext("2d",{alpha:!1})}return Le}function ae(ne,Se){const Le=Ce.get(ne);if(Le)return Le;const Me=ke(Y,Se);Me.font=`${Y}px ${ne}`;const Ee=Me.measureText("");let Pe=Ee.fontBoundingBoxAscent,Ve=Math.abs(Ee.fontBoundingBoxDescent);if(Pe){const ze=Pe/(Pe+Ve);return Ce.set(ne,ze),Me.canvas.width=Me.canvas.height=0,ze}Me.strokeStyle="red",Me.clearRect(0,0,Y,Y),Me.strokeText("g",0,0);let Ke=Me.getImageData(0,0,Y,Y).data;Ve=0;for(let ze=Ke.length-1-3;ze>=0;ze-=4)if(Ke[ze]>0){Ve=Math.ceil(ze/4/Y);break}Me.clearRect(0,0,Y,Y),Me.strokeText("A",0,Y),Ke=Me.getImageData(0,0,Y,Y).data,Pe=0;for(let ze=0,rt=Ke.length;ze<rt;ze+=4)if(Ke[ze]>0){Pe=Y-Math.floor(ze/4/Y);break}if(Me.canvas.width=Me.canvas.height=0,Pe){const ze=Pe/(Pe+Ve);return Ce.set(ne,ze),ze}return Ce.set(ne,he),he}function Ae(ne,Se,Le){const Me=document.createElement("span"),Ee={angle:0,canvasWidth:0,hasText:Se.str!=="",hasEOL:Se.hasEOL,fontSize:0};ne._textDivs.push(Me);const Pe=X.Util.transform(ne._transform,Se.transform);let Ve=Math.atan2(Pe[1],Pe[0]);const Ke=Le[Se.fontName];Ke.vertical&&(Ve+=Math.PI/2);const ze=Math.hypot(Pe[2],Pe[3]),rt=ze*ae(Ke.fontFamily,ne._isOffscreenCanvasSupported);let ye,ot;Ve===0?(ye=Pe[4],ot=Pe[5]-rt):(ye=Pe[4]+rt*Math.sin(Ve),ot=Pe[5]-rt*Math.cos(Ve));const Ye="calc(var(--scale-factor)*",He=Me.style;ne._container===ne._rootContainer?(He.left=`${(100*ye/ne._pageWidth).toFixed(2)}%`,He.top=`${(100*ot/ne._pageHeight).toFixed(2)}%`):(He.left=`${Ye}${ye.toFixed(2)}px)`,He.top=`${Ye}${ot.toFixed(2)}px)`),He.fontSize=`${Ye}${ze.toFixed(2)}px)`,He.fontFamily=Ke.fontFamily,Ee.fontSize=ze,Me.setAttribute("role","presentation"),Me.textContent=Se.str,Me.dir=Se.dir,ne._fontInspectorEnabled&&(Me.dataset.fontName=Se.fontName),Ve!==0&&(Ee.angle=Ve*(180/Math.PI));let Qe=!1;if(Se.str.length>1)Qe=!0;else if(Se.str!==" "&&Se.transform[0]!==Se.transform[3]){const yt=Math.abs(Se.transform[0]),ut=Math.abs(Se.transform[3]);yt!==ut&&Math.max(yt,ut)/Math.min(yt,ut)>1.5&&(Qe=!0)}Qe&&(Ee.canvasWidth=Ke.vertical?Se.height:Se.width),ne._textDivProperties.set(Me,Ee),ne._isReadableStream&&ne._layoutText(Me)}function ge(ne){const{div:Se,scale:Le,properties:Me,ctx:Ee,prevFontSize:Pe,prevFontFamily:Ve}=ne,{style:Ke}=Se;let ze="";if(Me.canvasWidth!==0&&Me.hasText){const{fontFamily:rt}=Ke,{canvasWidth:ye,fontSize:ot}=Me;(Pe!==ot||Ve!==rt)&&(Ee.font=`${ot*Le}px ${rt}`,ne.prevFontSize=ot,ne.prevFontFamily=rt);const{width:Ye}=Ee.measureText(Se.textContent);Ye>0&&(ze=`scaleX(${ye*Le/Ye})`)}Me.angle!==0&&(ze=`rotate(${Me.angle}deg) ${ze}`),ze.length>0&&(Ke.transform=ze)}function ve(ne){if(ne._canceled)return;const Se=ne._textDivs,Le=ne._capability;if(Se.length>G){Le.resolve();return}if(!ne._isReadableStream)for(const Me of Se)ne._layoutText(Me);Le.resolve()}class xe{constructor({textContentSource:Se,container:Le,viewport:Me,textDivs:Ee,textDivProperties:Pe,textContentItemsStr:Ve,isOffscreenCanvasSupported:Ke}){var ze;this._textContentSource=Se,this._isReadableStream=Se instanceof ReadableStream,this._container=this._rootContainer=Le,this._textDivs=Ee||[],this._textContentItemsStr=Ve||[],this._isOffscreenCanvasSupported=Ke,this._fontInspectorEnabled=!!((ze=globalThis.FontInspector)!=null&&ze.enabled),this._reader=null,this._textDivProperties=Pe||new WeakMap,this._canceled=!1,this._capability=new X.PromiseCapability,this._layoutTextParams={prevFontSize:null,prevFontFamily:null,div:null,scale:Me.scale*(globalThis.devicePixelRatio||1),properties:null,ctx:ke(0,Ke)};const{pageWidth:rt,pageHeight:ye,pageX:ot,pageY:Ye}=Me.rawDims;this._transform=[1,0,0,-1,-ot,Ye+ye],this._pageWidth=rt,this._pageHeight=ye,(0,W.setLayerDimensions)(Le,Me),this._capability.promise.finally(()=>{this._layoutTextParams=null}).catch(()=>{})}get promise(){return this._capability.promise}cancel(){this._canceled=!0,this._reader&&(this._reader.cancel(new X.AbortException("TextLayer task cancelled.")).catch(()=>{}),this._reader=null),this._capability.reject(new X.AbortException("TextLayer task cancelled."))}_processItems(Se,Le){for(const Me of Se){if(Me.str===void 0){if(Me.type==="beginMarkedContentProps"||Me.type==="beginMarkedContent"){const Ee=this._container;this._container=document.createElement("span"),this._container.classList.add("markedContent"),Me.id!==null&&this._container.setAttribute("id",`${Me.id}`),Ee.append(this._container)}else Me.type==="endMarkedContent"&&(this._container=this._container.parentNode);continue}this._textContentItemsStr.push(Me.str),Ae(this,Me,Le)}}_layoutText(Se){const Le=this._layoutTextParams.properties=this._textDivProperties.get(Se);if(this._layoutTextParams.div=Se,ge(this._layoutTextParams),Le.hasText&&this._container.append(Se),Le.hasEOL){const Me=document.createElement("br");Me.setAttribute("role","presentation"),this._container.append(Me)}}_render(){const Se=new X.PromiseCapability;let Le=Object.create(null);if(this._isReadableStream){const Me=()=>{this._reader.read().then(({value:Ee,done:Pe})=>{if(Pe){Se.resolve();return}Object.assign(Le,Ee.styles),this._processItems(Ee.items,Le),Me()},Se.reject)};this._reader=this._textContentSource.getReader(),Me()}else if(this._textContentSource){const{items:Me,styles:Ee}=this._textContentSource;this._processItems(Me,Ee),Se.resolve()}else throw new Error('No "textContentSource" parameter specified.');Se.promise.then(()=>{Le=null,ve(this)},this._capability.reject)}}q.TextLayerRenderTask=xe;function we(ne){!ne.textContentSource&&(ne.textContent||ne.textContentStream)&&((0,W.deprecated)("The TextLayerRender `textContent`/`textContentStream` parameters will be removed in the future, please use `textContentSource` instead."),ne.textContentSource=ne.textContent||ne.textContentStream);const{container:Se,viewport:Le}=ne,Me=getComputedStyle(Se),Ee=Me.getPropertyValue("visibility"),Pe=parseFloat(Me.getPropertyValue("--scale-factor"));Ee==="visible"&&(!Pe||Math.abs(Pe-Le.scale)>1e-5)&&console.error("The `--scale-factor` CSS-variable must be set, to the same value as `viewport.scale`, either on the `container`-element itself or higher up in the DOM.");const Ve=new xe(ne);return Ve._render(),Ve}function fe({container:ne,viewport:Se,textDivs:Le,textDivProperties:Me,isOffscreenCanvasSupported:Ee,mustRotate:Pe=!0,mustRescale:Ve=!0}){if(Pe&&(0,W.setLayerDimensions)(ne,{rotation:Se.rotation}),Ve){const Ke=ke(0,Ee),ze={prevFontSize:null,prevFontFamily:null,div:null,scale:Se.scale*(globalThis.devicePixelRatio||1),properties:null,ctx:Ke};for(const rt of Le)ze.properties=Me.get(rt),ze.div=rt,ge(ze)}}},(B,q,K)=>{var X,W,G,Y,he,Ce,ke,ae,Ae,ge,ve,xe,we,fe,ne;Object.defineProperty(q,"__esModule",{value:!0}),q.AnnotationEditorLayer=void 0;var Se=K(1),Le=K(4),Me=K(28),Ee=K(33),Pe=K(6),Ve=K(34);const Ke=class di{constructor({uiManager:ye,pageIndex:ot,div:Ye,accessibilityManager:He,annotationLayer:Qe,viewport:yt,l10n:ut}){it(this,ve),it(this,X),it(this,W,!1),it(this,G,null),it(this,Y,this.pointerup.bind(this)),it(this,he,this.pointerdown.bind(this)),it(this,Ce,new Map),it(this,ke,!1),it(this,ae,!1),it(this,Ae,!1),it(this,ge);const _t=[Me.FreeTextEditor,Ee.InkEditor,Ve.StampEditor];if(!di._initialized){di._initialized=!0;for(const Ne of _t)Ne.initialize(ut)}ye.registerEditorTypes(_t),at(this,ge,ye),this.pageIndex=ot,this.div=Ye,at(this,X,He),at(this,G,Qe),this.viewport=yt,V(this,ge).addLayer(this)}get isEmpty(){return V(this,Ce).size===0}updateToolbar(ye){V(this,ge).updateToolbar(ye)}updateMode(ye=V(this,ge).getMode()){Ue(this,ve,ne).call(this),ye===Se.AnnotationEditorType.INK?(this.addInkEditorIfNeeded(!1),this.disableClick()):this.enableClick(),ye!==Se.AnnotationEditorType.NONE&&(this.div.classList.toggle("freeTextEditing",ye===Se.AnnotationEditorType.FREETEXT),this.div.classList.toggle("inkEditing",ye===Se.AnnotationEditorType.INK),this.div.classList.toggle("stampEditing",ye===Se.AnnotationEditorType.STAMP),this.div.hidden=!1)}addInkEditorIfNeeded(ye){if(!(!ye&&V(this,ge).getMode()!==Se.AnnotationEditorType.INK)){if(!ye){for(const ot of V(this,Ce).values())if(ot.isEmpty()){ot.setInBackground();return}}Ue(this,ve,we).call(this,{offsetX:0,offsetY:0},!1).setInBackground()}}setEditingState(ye){V(this,ge).setEditingState(ye)}addCommands(ye){V(this,ge).addCommands(ye)}enable(){this.div.style.pointerEvents="auto";const ye=new Set;for(const Ye of V(this,Ce).values())Ye.enableEditing(),Ye.annotationElementId&&ye.add(Ye.annotationElementId);if(!V(this,G))return;const ot=V(this,G).getEditableAnnotations();for(const Ye of ot){if(Ye.hide(),V(this,ge).isDeletedAnnotationElement(Ye.data.id)||ye.has(Ye.data.id))continue;const He=this.deserialize(Ye);He&&(this.addOrRebuild(He),He.enableEditing())}}disable(){var ye;at(this,Ae,!0),this.div.style.pointerEvents="none";const ot=new Set;for(const Ye of V(this,Ce).values()){if(Ye.disableEditing(),!Ye.annotationElementId||Ye.serialize()!==null){ot.add(Ye.annotationElementId);continue}(ye=this.getEditableAnnotation(Ye.annotationElementId))==null||ye.show(),Ye.remove()}if(V(this,G)){const Ye=V(this,G).getEditableAnnotations();for(const He of Ye){const{id:Qe}=He.data;ot.has(Qe)||V(this,ge).isDeletedAnnotationElement(Qe)||He.show()}}Ue(this,ve,ne).call(this),this.isEmpty&&(this.div.hidden=!0),at(this,Ae,!1)}getEditableAnnotation(ye){var ot;return((ot=V(this,G))==null?void 0:ot.getEditableAnnotation(ye))||null}setActiveEditor(ye){V(this,ge).getActive()!==ye&&V(this,ge).setActiveEditor(ye)}enableClick(){this.div.addEventListener("pointerdown",V(this,he)),this.div.addEventListener("pointerup",V(this,Y))}disableClick(){this.div.removeEventListener("pointerdown",V(this,he)),this.div.removeEventListener("pointerup",V(this,Y))}attach(ye){V(this,Ce).set(ye.id,ye);const{annotationElementId:ot}=ye;ot&&V(this,ge).isDeletedAnnotationElement(ot)&&V(this,ge).removeDeletedAnnotationElement(ye)}detach(ye){var ot;V(this,Ce).delete(ye.id),(ot=V(this,X))==null||ot.removePointerInTextLayer(ye.contentDiv),!V(this,Ae)&&ye.annotationElementId&&V(this,ge).addDeletedAnnotationElement(ye)}remove(ye){this.detach(ye),V(this,ge).removeEditor(ye),ye.div.contains(document.activeElement)&&setTimeout(()=>{V(this,ge).focusMainContainer()},0),ye.div.remove(),ye.isAttachedToDOM=!1,V(this,ae)||this.addInkEditorIfNeeded(!1)}changeParent(ye){var ot;ye.parent!==this&&(ye.annotationElementId&&(V(this,ge).addDeletedAnnotationElement(ye.annotationElementId),Le.AnnotationEditor.deleteAnnotationElement(ye),ye.annotationElementId=null),this.attach(ye),(ot=ye.parent)==null||ot.detach(ye),ye.setParent(this),ye.div&&ye.isAttachedToDOM&&(ye.div.remove(),this.div.append(ye.div)))}add(ye){if(this.changeParent(ye),V(this,ge).addEditor(ye),this.attach(ye),!ye.isAttachedToDOM){const ot=ye.render();this.div.append(ot),ye.isAttachedToDOM=!0}ye.fixAndSetPosition(),ye.onceAdded(),V(this,ge).addToAnnotationStorage(ye)}moveEditorInDOM(ye){var ot;if(!ye.isAttachedToDOM)return;const{activeElement:Ye}=document;ye.div.contains(Ye)&&(ye._focusEventsAllowed=!1,setTimeout(()=>{ye.div.contains(document.activeElement)?ye._focusEventsAllowed=!0:(ye.div.addEventListener("focusin",()=>{ye._focusEventsAllowed=!0},{once:!0}),Ye.focus())},0)),ye._structTreeParentId=(ot=V(this,X))==null?void 0:ot.moveElementInDOM(this.div,ye.div,ye.contentDiv,!0)}addOrRebuild(ye){ye.needsToBeRebuilt()?ye.rebuild():this.add(ye)}addUndoableEditor(ye){const ot=()=>ye._uiManager.rebuild(ye),Ye=()=>{ye.remove()};this.addCommands({cmd:ot,undo:Ye,mustExec:!1})}getNextId(){return V(this,ge).getId()}pasteEditor(ye,ot){V(this,ge).updateToolbar(ye),V(this,ge).updateMode(ye);const{offsetX:Ye,offsetY:He}=Ue(this,ve,fe).call(this),Qe=this.getNextId(),yt=Ue(this,ve,xe).call(this,{parent:this,id:Qe,x:Ye,y:He,uiManager:V(this,ge),isCentered:!0,...ot});yt&&this.add(yt)}deserialize(ye){switch(ye.annotationType??ye.annotationEditorType){case Se.AnnotationEditorType.FREETEXT:return Me.FreeTextEditor.deserialize(ye,this,V(this,ge));case Se.AnnotationEditorType.INK:return Ee.InkEditor.deserialize(ye,this,V(this,ge));case Se.AnnotationEditorType.STAMP:return Ve.StampEditor.deserialize(ye,this,V(this,ge))}return null}addNewEditor(){Ue(this,ve,we).call(this,Ue(this,ve,fe).call(this),!0)}setSelected(ye){V(this,ge).setSelected(ye)}toggleSelected(ye){V(this,ge).toggleSelected(ye)}isSelected(ye){return V(this,ge).isSelected(ye)}unselect(ye){V(this,ge).unselect(ye)}pointerup(ye){const{isMac:ot}=Se.FeatureTest.platform;if(!(ye.button!==0||ye.ctrlKey&&ot)&&ye.target===this.div&&V(this,ke)){if(at(this,ke,!1),!V(this,W)){at(this,W,!0);return}if(V(this,ge).getMode()===Se.AnnotationEditorType.STAMP){V(this,ge).unselectAll();return}Ue(this,ve,we).call(this,ye,!1)}}pointerdown(ye){if(V(this,ke)){at(this,ke,!1);return}const{isMac:ot}=Se.FeatureTest.platform;if(ye.button!==0||ye.ctrlKey&&ot||ye.target!==this.div)return;at(this,ke,!0);const Ye=V(this,ge).getActive();at(this,W,!Ye||Ye.isEmpty())}findNewParent(ye,ot,Ye){const He=V(this,ge).findParent(ot,Ye);return He===null||He===this?!1:(He.changeParent(ye),!0)}destroy(){var ye,ot;((ye=V(this,ge).getActive())==null?void 0:ye.parent)===this&&(V(this,ge).commitOrRemove(),V(this,ge).setActiveEditor(null));for(const Ye of V(this,Ce).values())(ot=V(this,X))==null||ot.removePointerInTextLayer(Ye.contentDiv),Ye.setParent(null),Ye.isAttachedToDOM=!1,Ye.div.remove();this.div=null,V(this,Ce).clear(),V(this,ge).removeLayer(this)}render({viewport:ye}){this.viewport=ye,(0,Pe.setLayerDimensions)(this.div,ye);for(const ot of V(this,ge).getEditors(this.pageIndex))this.add(ot);this.updateMode()}update({viewport:ye}){V(this,ge).commitOrRemove(),this.viewport=ye,(0,Pe.setLayerDimensions)(this.div,{rotation:ye.rotation}),this.updateMode()}get pageDimensions(){const{pageWidth:ye,pageHeight:ot}=this.viewport.rawDims;return[ye,ot]}};X=new WeakMap,W=new WeakMap,G=new WeakMap,Y=new WeakMap,he=new WeakMap,Ce=new WeakMap,ke=new WeakMap,ae=new WeakMap,Ae=new WeakMap,ge=new WeakMap,ve=new WeakSet,xe=function(rt){switch(V(this,ge).getMode()){case Se.AnnotationEditorType.FREETEXT:return new Me.FreeTextEditor(rt);case Se.AnnotationEditorType.INK:return new Ee.InkEditor(rt);case Se.AnnotationEditorType.STAMP:return new Ve.StampEditor(rt)}return null},we=function(rt,ye){const ot=this.getNextId(),Ye=Ue(this,ve,xe).call(this,{parent:this,id:ot,x:rt.offsetX,y:rt.offsetY,uiManager:V(this,ge),isCentered:ye});return Ye&&this.add(Ye),Ye},fe=function(){const{x:rt,y:ye,width:ot,height:Ye}=this.div.getBoundingClientRect(),He=Math.max(0,rt),Qe=Math.max(0,ye),yt=Math.min(window.innerWidth,rt+ot),ut=Math.min(window.innerHeight,ye+Ye),_t=(He+yt)/2-rt,Ne=(Qe+ut)/2-ye,[tt,dt]=this.viewport.rotation%180===0?[_t,Ne]:[Ne,_t];return{offsetX:tt,offsetY:dt}},ne=function(){at(this,ae,!0);for(const rt of V(this,Ce).values())rt.isEmpty()&&rt.remove();at(this,ae,!1)},$n(Ke,"_initialized",!1);let ze=Ke;q.AnnotationEditorLayer=ze},(B,q,K)=>{var X,W,G,Y,he,Ce,ke,ae,Ae,ge,ve,xe,we,fe,ne,Se,Le;Object.defineProperty(q,"__esModule",{value:!0}),q.FreeTextEditor=void 0;var Me=K(1),Ee=K(5),Pe=K(4),Ve=K(29);const Ke=class Er extends Pe.AnnotationEditor{constructor(ye){super({...ye,name:"freeTextEditor"}),it(this,ge),it(this,X,this.editorDivBlur.bind(this)),it(this,W,this.editorDivFocus.bind(this)),it(this,G,this.editorDivInput.bind(this)),it(this,Y,this.editorDivKeydown.bind(this)),it(this,he),it(this,Ce,""),it(this,ke,`${this.id}-editor`),it(this,ae),it(this,Ae,null),at(this,he,ye.color||Er._defaultColor||Pe.AnnotationEditor._defaultLineColor),at(this,ae,ye.fontSize||Er._defaultFontSize)}static get _keyboardManager(){const ye=Er.prototype,ot=Qe=>Qe.isEmpty(),Ye=Ee.AnnotationEditorUIManager.TRANSLATE_SMALL,He=Ee.AnnotationEditorUIManager.TRANSLATE_BIG;return(0,Me.shadow)(this,"_keyboardManager",new Ee.KeyboardManager([[["ctrl+s","mac+meta+s","ctrl+p","mac+meta+p"],ye.commitOrRemove,{bubbles:!0}],[["ctrl+Enter","mac+meta+Enter","Escape","mac+Escape"],ye.commitOrRemove],[["ArrowLeft","mac+ArrowLeft"],ye._translateEmpty,{args:[-Ye,0],checker:ot}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],ye._translateEmpty,{args:[-He,0],checker:ot}],[["ArrowRight","mac+ArrowRight"],ye._translateEmpty,{args:[Ye,0],checker:ot}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],ye._translateEmpty,{args:[He,0],checker:ot}],[["ArrowUp","mac+ArrowUp"],ye._translateEmpty,{args:[0,-Ye],checker:ot}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],ye._translateEmpty,{args:[0,-He],checker:ot}],[["ArrowDown","mac+ArrowDown"],ye._translateEmpty,{args:[0,Ye],checker:ot}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],ye._translateEmpty,{args:[0,He],checker:ot}]]))}static initialize(ye){Pe.AnnotationEditor.initialize(ye,{strings:["free_text2_default_content","editor_free_text2_aria_label"]});const ot=getComputedStyle(document.documentElement);this._internalPadding=parseFloat(ot.getPropertyValue("--freetext-padding"))}static updateDefaultParams(ye,ot){switch(ye){case Me.AnnotationEditorParamsType.FREETEXT_SIZE:Er._defaultFontSize=ot;break;case Me.AnnotationEditorParamsType.FREETEXT_COLOR:Er._defaultColor=ot;break}}updateParams(ye,ot){switch(ye){case Me.AnnotationEditorParamsType.FREETEXT_SIZE:Ue(this,ge,ve).call(this,ot);break;case Me.AnnotationEditorParamsType.FREETEXT_COLOR:Ue(this,ge,xe).call(this,ot);break}}static get defaultPropertiesToUpdate(){return[[Me.AnnotationEditorParamsType.FREETEXT_SIZE,Er._defaultFontSize],[Me.AnnotationEditorParamsType.FREETEXT_COLOR,Er._defaultColor||Pe.AnnotationEditor._defaultLineColor]]}get propertiesToUpdate(){return[[Me.AnnotationEditorParamsType.FREETEXT_SIZE,V(this,ae)],[Me.AnnotationEditorParamsType.FREETEXT_COLOR,V(this,he)]]}_translateEmpty(ye,ot){this._uiManager.translateSelectedEditors(ye,ot,!0)}getInitialTranslation(){const ye=this.parentScale;return[-Er._internalPadding*ye,-(Er._internalPadding+V(this,ae))*ye]}rebuild(){this.parent&&(super.rebuild(),this.div!==null&&(this.isAttachedToDOM||this.parent.add(this)))}enableEditMode(){this.isInEditMode()||(this.parent.setEditingState(!1),this.parent.updateToolbar(Me.AnnotationEditorType.FREETEXT),super.enableEditMode(),this.overlayDiv.classList.remove("enabled"),this.editorDiv.contentEditable=!0,this._isDraggable=!1,this.div.removeAttribute("aria-activedescendant"),this.editorDiv.addEventListener("keydown",V(this,Y)),this.editorDiv.addEventListener("focus",V(this,W)),this.editorDiv.addEventListener("blur",V(this,X)),this.editorDiv.addEventListener("input",V(this,G)))}disableEditMode(){this.isInEditMode()&&(this.parent.setEditingState(!0),super.disableEditMode(),this.overlayDiv.classList.add("enabled"),this.editorDiv.contentEditable=!1,this.div.setAttribute("aria-activedescendant",V(this,ke)),this._isDraggable=!0,this.editorDiv.removeEventListener("keydown",V(this,Y)),this.editorDiv.removeEventListener("focus",V(this,W)),this.editorDiv.removeEventListener("blur",V(this,X)),this.editorDiv.removeEventListener("input",V(this,G)),this.div.focus({preventScroll:!0}),this.isEditing=!1,this.parent.div.classList.add("freeTextEditing"))}focusin(ye){this._focusEventsAllowed&&(super.focusin(ye),ye.target!==this.editorDiv&&this.editorDiv.focus())}onceAdded(){var ye;if(this.width){Ue(this,ge,Le).call(this);return}this.enableEditMode(),this.editorDiv.focus(),(ye=this._initialOptions)!=null&&ye.isCentered&&this.center(),this._initialOptions=null}isEmpty(){return!this.editorDiv||this.editorDiv.innerText.trim()===""}remove(){this.isEditing=!1,this.parent&&(this.parent.setEditingState(!0),this.parent.div.classList.add("freeTextEditing")),super.remove()}commit(){if(!this.isInEditMode())return;super.commit(),this.disableEditMode();const ye=V(this,Ce),ot=at(this,Ce,Ue(this,ge,we).call(this).trimEnd());if(ye===ot)return;const Ye=He=>{if(at(this,Ce,He),!He){this.remove();return}Ue(this,ge,ne).call(this),this._uiManager.rebuild(this),Ue(this,ge,fe).call(this)};this.addCommands({cmd:()=>{Ye(ot)},undo:()=>{Ye(ye)},mustExec:!1}),Ue(this,ge,fe).call(this)}shouldGetKeyboardEvents(){return this.isInEditMode()}enterInEditMode(){this.enableEditMode(),this.editorDiv.focus()}dblclick(ye){this.enterInEditMode()}keydown(ye){ye.target===this.div&&ye.key==="Enter"&&(this.enterInEditMode(),ye.preventDefault())}editorDivKeydown(ye){Er._keyboardManager.exec(this,ye)}editorDivFocus(ye){this.isEditing=!0}editorDivBlur(ye){this.isEditing=!1}editorDivInput(ye){this.parent.div.classList.toggle("freeTextEditing",this.isEmpty())}disableEditing(){this.editorDiv.setAttribute("role","comment"),this.editorDiv.removeAttribute("aria-multiline")}enableEditing(){this.editorDiv.setAttribute("role","textbox"),this.editorDiv.setAttribute("aria-multiline",!0)}render(){if(this.div)return this.div;let ye,ot;this.width&&(ye=this.x,ot=this.y),super.render(),this.editorDiv=document.createElement("div"),this.editorDiv.className="internal",this.editorDiv.setAttribute("id",V(this,ke)),this.enableEditing(),Pe.AnnotationEditor._l10nPromise.get("editor_free_text2_aria_label").then(He=>{var Qe;return(Qe=this.editorDiv)==null?void 0:Qe.setAttribute("aria-label",He)}),Pe.AnnotationEditor._l10nPromise.get("free_text2_default_content").then(He=>{var Qe;return(Qe=this.editorDiv)==null?void 0:Qe.setAttribute("default-content",He)}),this.editorDiv.contentEditable=!0;const{style:Ye}=this.editorDiv;if(Ye.fontSize=`calc(${V(this,ae)}px * var(--scale-factor))`,Ye.color=V(this,he),this.div.append(this.editorDiv),this.overlayDiv=document.createElement("div"),this.overlayDiv.classList.add("overlay","enabled"),this.div.append(this.overlayDiv),(0,Ee.bindEvents)(this,this.div,["dblclick","keydown"]),this.width){const[He,Qe]=this.parentDimensions;if(this.annotationElementId){const{position:yt}=V(this,Ae);let[ut,_t]=this.getInitialTranslation();[ut,_t]=this.pageTranslationToScreen(ut,_t);const[Ne,tt]=this.pageDimensions,[dt,Oe]=this.pageTranslation;let _e,pe;switch(this.rotation){case 0:_e=ye+(yt[0]-dt)/Ne,pe=ot+this.height-(yt[1]-Oe)/tt;break;case 90:_e=ye+(yt[0]-dt)/Ne,pe=ot-(yt[1]-Oe)/tt,[ut,_t]=[_t,-ut];break;case 180:_e=ye-this.width+(yt[0]-dt)/Ne,pe=ot-(yt[1]-Oe)/tt,[ut,_t]=[-ut,-_t];break;case 270:_e=ye+(yt[0]-dt-this.height*tt)/Ne,pe=ot+(yt[1]-Oe-this.width*Ne)/tt,[ut,_t]=[-_t,ut];break}this.setAt(_e*He,pe*Qe,ut,_t)}else this.setAt(ye*He,ot*Qe,this.width*He,this.height*Qe);Ue(this,ge,ne).call(this),this._isDraggable=!0,this.editorDiv.contentEditable=!1}else this._isDraggable=!1,this.editorDiv.contentEditable=!0;return this.div}get contentDiv(){return this.editorDiv}static deserialize(ye,ot,Ye){let He=null;if(ye instanceof Ve.FreeTextAnnotationElement){const{data:{defaultAppearanceData:{fontSize:yt,fontColor:ut},rect:_t,rotation:Ne,id:tt},textContent:dt,textPosition:Oe,parent:{page:{pageNumber:_e}}}=ye;if(!dt||dt.length===0)return null;He=ye={annotationType:Me.AnnotationEditorType.FREETEXT,color:Array.from(ut),fontSize:yt,value:dt.join(`
`),position:Oe,pageIndex:_e-1,rect:_t,rotation:Ne,id:tt,deleted:!1}}const Qe=super.deserialize(ye,ot,Ye);return at(Qe,ae,ye.fontSize),at(Qe,he,Me.Util.makeHexColor(...ye.color)),at(Qe,Ce,ye.value),Qe.annotationElementId=ye.id||null,at(Qe,Ae,He),Qe}serialize(ye=!1){if(this.isEmpty())return null;if(this.deleted)return{pageIndex:this.pageIndex,id:this.annotationElementId,deleted:!0};const ot=Er._internalPadding*this.parentScale,Ye=this.getRect(ot,ot),He=Pe.AnnotationEditor._colorManager.convert(this.isAttachedToDOM?getComputedStyle(this.editorDiv).color:V(this,he)),Qe={annotationType:Me.AnnotationEditorType.FREETEXT,color:He,fontSize:V(this,ae),value:V(this,Ce),pageIndex:this.pageIndex,rect:Ye,rotation:this.rotation,structTreeParentId:this._structTreeParentId};return ye?Qe:this.annotationElementId&&!Ue(this,ge,Se).call(this,Qe)?null:(Qe.id=this.annotationElementId,Qe)}};X=new WeakMap,W=new WeakMap,G=new WeakMap,Y=new WeakMap,he=new WeakMap,Ce=new WeakMap,ke=new WeakMap,ae=new WeakMap,Ae=new WeakMap,ge=new WeakSet,ve=function(rt){const ye=Ye=>{this.editorDiv.style.fontSize=`calc(${Ye}px * var(--scale-factor))`,this.translate(0,-(Ye-V(this,ae))*this.parentScale),at(this,ae,Ye),Ue(this,ge,fe).call(this)},ot=V(this,ae);this.addCommands({cmd:()=>{ye(rt)},undo:()=>{ye(ot)},mustExec:!0,type:Me.AnnotationEditorParamsType.FREETEXT_SIZE,overwriteIfSameType:!0,keepUndo:!0})},xe=function(rt){const ye=V(this,he);this.addCommands({cmd:()=>{at(this,he,this.editorDiv.style.color=rt)},undo:()=>{at(this,he,this.editorDiv.style.color=ye)},mustExec:!0,type:Me.AnnotationEditorParamsType.FREETEXT_COLOR,overwriteIfSameType:!0,keepUndo:!0})},we=function(){const rt=this.editorDiv.getElementsByTagName("div");if(rt.length===0)return this.editorDiv.innerText;const ye=[];for(const ot of rt)ye.push(ot.innerText.replace(/\r\n?|\n/,""));return ye.join(`
`)},fe=function(){const[rt,ye]=this.parentDimensions;let ot;if(this.isAttachedToDOM)ot=this.div.getBoundingClientRect();else{const{currentLayer:Ye,div:He}=this,Qe=He.style.display;He.style.display="hidden",Ye.div.append(this.div),ot=He.getBoundingClientRect(),He.remove(),He.style.display=Qe}this.rotation%180===this.parentRotation%180?(this.width=ot.width/rt,this.height=ot.height/ye):(this.width=ot.height/rt,this.height=ot.width/ye),this.fixAndSetPosition()},ne=function(){if(this.editorDiv.replaceChildren(),!!V(this,Ce))for(const rt of V(this,Ce).split(`
`)){const ye=document.createElement("div");ye.append(rt?document.createTextNode(rt):document.createElement("br")),this.editorDiv.append(ye)}},Se=function(rt){const{value:ye,fontSize:ot,color:Ye,rect:He,pageIndex:Qe}=V(this,Ae);return rt.value!==ye||rt.fontSize!==ot||rt.rect.some((yt,ut)=>Math.abs(yt-He[ut])>=1)||rt.color.some((yt,ut)=>yt!==Ye[ut])||rt.pageIndex!==Qe},Le=function(rt=!1){if(!this.annotationElementId)return;if(Ue(this,ge,fe).call(this),!rt&&(this.width===0||this.height===0)){setTimeout(()=>Ue(this,ge,Le).call(this,!0),0);return}const ye=Ke._internalPadding*this.parentScale;V(this,Ae).rect=this.getRect(ye,ye)},$n(Ke,"_freeTextDefaultContent",""),$n(Ke,"_internalPadding",0),$n(Ke,"_defaultColor",null),$n(Ke,"_defaultFontSize",10),$n(Ke,"_type","freetext");let ze=Ke;q.FreeTextEditor=ze},(B,q,K)=>{var X,W,G,Y,he,Ce,ke,ae,Ae,ge,ve,xe,we,fe,ne,Se,Le,Me,Ee,Pe,Ve,Ke,ze,rt,ye,ot,Ye,He,Qe,yt,ut,_t,Ne,tt,dt,Oe,_e,pe,Fe,je;Object.defineProperty(q,"__esModule",{value:!0}),q.StampAnnotationElement=q.InkAnnotationElement=q.FreeTextAnnotationElement=q.AnnotationLayer=void 0;var Ie=K(1),qe=K(6),Ge=K(3),gt=K(30),Pt=K(31),Ct=K(32);const ht=1e3,$t=9,Vt=new WeakSet;function De(Nt){return{width:Nt[2]-Nt[0],height:Nt[3]-Nt[1]}}class Re{static create(Te){switch(Te.data.annotationType){case Ie.AnnotationType.LINK:return new ct(Te);case Ie.AnnotationType.TEXT:return new Mt(Te);case Ie.AnnotationType.WIDGET:switch(Te.data.fieldType){case"Tx":return new Et(Te);case"Btn":return Te.data.radioButton?new Qt(Te):Te.data.checkBox?new jt(Te):new Gt(Te);case"Ch":return new Jt(Te);case"Sig":return new At(Te)}return new Rt(Te);case Ie.AnnotationType.POPUP:return new cn(Te);case Ie.AnnotationType.FREETEXT:return new rn(Te);case Ie.AnnotationType.LINE:return new In(Te);case Ie.AnnotationType.SQUARE:return new Ln(Te);case Ie.AnnotationType.CIRCLE:return new Nn(Te);case Ie.AnnotationType.POLYLINE:return new Ft(Te);case Ie.AnnotationType.CARET:return new ft(Te);case Ie.AnnotationType.INK:return new Yt(Te);case Ie.AnnotationType.POLYGON:return new wt(Te);case Ie.AnnotationType.HIGHLIGHT:return new Zt(Te);case Ie.AnnotationType.UNDERLINE:return new Kt(Te);case Ie.AnnotationType.SQUIGGLY:return new Je(Te);case Ie.AnnotationType.STRIKEOUT:return new Tt(Te);case Ie.AnnotationType.STAMP:return new Xt(Te);case Ie.AnnotationType.FILEATTACHMENT:return new pn(Te);default:return new Ze(Te)}}}const Be=class Di{constructor(Te,{isRenderable:Xe=!1,ignoreBorder:vt=!1,createQuadrilaterals:kt=!1}={}){it(this,X,!1),this.isRenderable=Xe,this.data=Te.data,this.layer=Te.layer,this.linkService=Te.linkService,this.downloadManager=Te.downloadManager,this.imageResourcesPath=Te.imageResourcesPath,this.renderForms=Te.renderForms,this.svgFactory=Te.svgFactory,this.annotationStorage=Te.annotationStorage,this.enableScripting=Te.enableScripting,this.hasJSActions=Te.hasJSActions,this._fieldObjects=Te.fieldObjects,this.parent=Te.parent,Xe&&(this.container=this._createContainer(vt)),kt&&this._createQuadrilaterals()}static _hasPopupData({titleObj:Te,contentsObj:Xe,richText:vt}){return!!(Te!=null&&Te.str||Xe!=null&&Xe.str||vt!=null&&vt.str)}get hasPopupData(){return Di._hasPopupData(this.data)}_createContainer(Te){const{data:Xe,parent:{page:vt,viewport:kt}}=this,xt=document.createElement("section");xt.setAttribute("data-annotation-id",Xe.id),this instanceof Rt||(xt.tabIndex=ht),xt.style.zIndex=this.parent.zIndex++,this.data.popupRef&&xt.setAttribute("aria-haspopup","dialog"),Xe.noRotate&&xt.classList.add("norotate");const{pageWidth:Lt,pageHeight:Ht,pageX:on,pageY:en}=kt.rawDims;if(!Xe.rect||this instanceof cn){const{rotation:En}=Xe;return!Xe.hasOwnCanvas&&En!==0&&this.setRotation(En,xt),xt}const{width:qt,height:gn}=De(Xe.rect),tn=Ie.Util.normalizeRect([Xe.rect[0],vt.view[3]-Xe.rect[1]+vt.view[1],Xe.rect[2],vt.view[3]-Xe.rect[3]+vt.view[1]]);if(!Te&&Xe.borderStyle.width>0){xt.style.borderWidth=`${Xe.borderStyle.width}px`;const En=Xe.borderStyle.horizontalCornerRadius,An=Xe.borderStyle.verticalCornerRadius;if(En>0||An>0){const Gn=`calc(${En}px * var(--scale-factor)) / calc(${An}px * var(--scale-factor))`;xt.style.borderRadius=Gn}else if(this instanceof Qt){const Gn=`calc(${qt}px * var(--scale-factor)) / calc(${gn}px * var(--scale-factor))`;xt.style.borderRadius=Gn}switch(Xe.borderStyle.style){case Ie.AnnotationBorderStyleType.SOLID:xt.style.borderStyle="solid";break;case Ie.AnnotationBorderStyleType.DASHED:xt.style.borderStyle="dashed";break;case Ie.AnnotationBorderStyleType.BEVELED:(0,Ie.warn)("Unimplemented border style: beveled");break;case Ie.AnnotationBorderStyleType.INSET:(0,Ie.warn)("Unimplemented border style: inset");break;case Ie.AnnotationBorderStyleType.UNDERLINE:xt.style.borderBottomStyle="solid";break}const Bn=Xe.borderColor||null;Bn?(at(this,X,!0),xt.style.borderColor=Ie.Util.makeHexColor(Bn[0]|0,Bn[1]|0,Bn[2]|0)):xt.style.borderWidth=0}xt.style.left=`${100*(tn[0]-on)/Lt}%`,xt.style.top=`${100*(tn[1]-en)/Ht}%`;const{rotation:ln}=Xe;return Xe.hasOwnCanvas||ln===0?(xt.style.width=`${100*qt/Lt}%`,xt.style.height=`${100*gn/Ht}%`):this.setRotation(ln,xt),xt}setRotation(Te,Xe=this.container){if(!this.data.rect)return;const{pageWidth:vt,pageHeight:kt}=this.parent.viewport.rawDims,{width:xt,height:Lt}=De(this.data.rect);let Ht,on;Te%180===0?(Ht=100*xt/vt,on=100*Lt/kt):(Ht=100*Lt/vt,on=100*xt/kt),Xe.style.width=`${Ht}%`,Xe.style.height=`${on}%`,Xe.setAttribute("data-main-rotation",(360-Te)%360)}get _commonActions(){const Te=(Xe,vt,kt)=>{const xt=kt.detail[Xe],Lt=xt[0],Ht=xt.slice(1);kt.target.style[vt]=gt.ColorConverters[`${Lt}_HTML`](Ht),this.annotationStorage.setValue(this.data.id,{[vt]:gt.ColorConverters[`${Lt}_rgb`](Ht)})};return(0,Ie.shadow)(this,"_commonActions",{display:Xe=>{const{display:vt}=Xe.detail,kt=vt%2===1;this.container.style.visibility=kt?"hidden":"visible",this.annotationStorage.setValue(this.data.id,{noView:kt,noPrint:vt===1||vt===2})},print:Xe=>{this.annotationStorage.setValue(this.data.id,{noPrint:!Xe.detail.print})},hidden:Xe=>{const{hidden:vt}=Xe.detail;this.container.style.visibility=vt?"hidden":"visible",this.annotationStorage.setValue(this.data.id,{noPrint:vt,noView:vt})},focus:Xe=>{setTimeout(()=>Xe.target.focus({preventScroll:!1}),0)},userName:Xe=>{Xe.target.title=Xe.detail.userName},readonly:Xe=>{Xe.target.disabled=Xe.detail.readonly},required:Xe=>{this._setRequired(Xe.target,Xe.detail.required)},bgColor:Xe=>{Te("bgColor","backgroundColor",Xe)},fillColor:Xe=>{Te("fillColor","backgroundColor",Xe)},fgColor:Xe=>{Te("fgColor","color",Xe)},textColor:Xe=>{Te("textColor","color",Xe)},borderColor:Xe=>{Te("borderColor","borderColor",Xe)},strokeColor:Xe=>{Te("strokeColor","borderColor",Xe)},rotation:Xe=>{const vt=Xe.detail.rotation;this.setRotation(vt),this.annotationStorage.setValue(this.data.id,{rotation:vt})}})}_dispatchEventFromSandbox(Te,Xe){const vt=this._commonActions;for(const kt of Object.keys(Xe.detail)){const xt=Te[kt]||vt[kt];xt==null||xt(Xe)}}_setDefaultPropertiesFromJS(Te){if(!this.enableScripting)return;const Xe=this.annotationStorage.getRawValue(this.data.id);if(!Xe)return;const vt=this._commonActions;for(const[kt,xt]of Object.entries(Xe)){const Lt=vt[kt];if(Lt){const Ht={detail:{[kt]:xt},target:Te};Lt(Ht),delete Xe[kt]}}}_createQuadrilaterals(){if(!this.container)return;const{quadPoints:Te}=this.data;if(!Te)return;const[Xe,vt,kt,xt]=this.data.rect;if(Te.length===1){const[,{x:An,y:Bn},{x:Gn,y:Yn}]=Te[0];if(kt===An&&xt===Bn&&Xe===Gn&&vt===Yn)return}const{style:Lt}=this.container;let Ht;if(V(this,X)){const{borderColor:An,borderWidth:Bn}=Lt;Lt.borderWidth=0,Ht=["url('data:image/svg+xml;utf8,",'<svg xmlns="http://www.w3.org/2000/svg"',' preserveAspectRatio="none" viewBox="0 0 1 1">',`<g fill="transparent" stroke="${An}" stroke-width="${Bn}">`],this.container.classList.add("hasBorder")}const on=kt-Xe,en=xt-vt,{svgFactory:qt}=this,gn=qt.createElement("svg");gn.classList.add("quadrilateralsContainer"),gn.setAttribute("width",0),gn.setAttribute("height",0);const tn=qt.createElement("defs");gn.append(tn);const ln=qt.createElement("clipPath"),En=`clippath_${this.data.id}`;ln.setAttribute("id",En),ln.setAttribute("clipPathUnits","objectBoundingBox"),tn.append(ln);for(const[,{x:An,y:Bn},{x:Gn,y:Yn}]of Te){const nr=qt.createElement("rect"),Pr=(Gn-Xe)/on,Mr=(xt-Bn)/en,Sr=(An-Gn)/on,Ur=(Bn-Yn)/en;nr.setAttribute("x",Pr),nr.setAttribute("y",Mr),nr.setAttribute("width",Sr),nr.setAttribute("height",Ur),ln.append(nr),Ht==null||Ht.push(`<rect vector-effect="non-scaling-stroke" x="${Pr}" y="${Mr}" width="${Sr}" height="${Ur}"/>`)}V(this,X)&&(Ht.push("</g></svg>')"),Lt.backgroundImage=Ht.join("")),this.container.append(gn),this.container.style.clipPath=`url(#${En})`}_createPopup(){const{container:Te,data:Xe}=this;Te.setAttribute("aria-haspopup","dialog");const vt=new cn({data:{color:Xe.color,titleObj:Xe.titleObj,modificationDate:Xe.modificationDate,contentsObj:Xe.contentsObj,richText:Xe.richText,parentRect:Xe.rect,borderStyle:0,id:`popup_${Xe.id}`,rotation:Xe.rotation},parent:this.parent,elements:[this]});this.parent.div.append(vt.render())}render(){(0,Ie.unreachable)("Abstract method `AnnotationElement.render` called")}_getElementsByName(Te,Xe=null){const vt=[];if(this._fieldObjects){const kt=this._fieldObjects[Te];if(kt)for(const{page:xt,id:Lt,exportValues:Ht}of kt){if(xt===-1||Lt===Xe)continue;const on=typeof Ht=="string"?Ht:null,en=document.querySelector(`[data-element-id="${Lt}"]`);if(en&&!Vt.has(en)){(0,Ie.warn)(`_getElementsByName - element not allowed: ${Lt}`);continue}vt.push({id:Lt,exportValue:on,domElement:en})}return vt}for(const kt of document.getElementsByName(Te)){const{exportValue:xt}=kt,Lt=kt.getAttribute("data-element-id");Lt!==Xe&&Vt.has(kt)&&vt.push({id:Lt,exportValue:xt,domElement:kt})}return vt}show(){var Te;this.container&&(this.container.hidden=!1),(Te=this.popup)==null||Te.maybeShow()}hide(){var Te;this.container&&(this.container.hidden=!0),(Te=this.popup)==null||Te.forceHide()}getElementsToTriggerPopup(){return this.container}addHighlightArea(){const Te=this.getElementsToTriggerPopup();if(Array.isArray(Te))for(const Xe of Te)Xe.classList.add("highlightArea");else Te.classList.add("highlightArea")}_editOnDoubleClick(){const{annotationEditorType:Te,data:{id:Xe}}=this;this.container.addEventListener("dblclick",()=>{var vt;(vt=this.linkService.eventBus)==null||vt.dispatch("switchannotationeditormode",{source:this,mode:Te,editId:Xe})})}};X=new WeakMap;let Ze=Be;class ct extends Ze{constructor(Te,Xe=null){super(Te,{isRenderable:!0,ignoreBorder:!!(Xe!=null&&Xe.ignoreBorder),createQuadrilaterals:!0}),it(this,W),this.isTooltipOnly=Te.data.isTooltipOnly}render(){const{data:Te,linkService:Xe}=this,vt=document.createElement("a");vt.setAttribute("data-element-id",Te.id);let kt=!1;return Te.url?(Xe.addLinkAttributes(vt,Te.url,Te.newWindow),kt=!0):Te.action?(this._bindNamedAction(vt,Te.action),kt=!0):Te.attachment?(this._bindAttachment(vt,Te.attachment),kt=!0):Te.setOCGState?(Ue(this,W,Y).call(this,vt,Te.setOCGState),kt=!0):Te.dest?(this._bindLink(vt,Te.dest),kt=!0):(Te.actions&&(Te.actions.Action||Te.actions["Mouse Up"]||Te.actions["Mouse Down"])&&this.enableScripting&&this.hasJSActions&&(this._bindJSAction(vt,Te),kt=!0),Te.resetForm?(this._bindResetFormAction(vt,Te.resetForm),kt=!0):this.isTooltipOnly&&!kt&&(this._bindLink(vt,""),kt=!0)),this.container.classList.add("linkAnnotation"),kt&&this.container.append(vt),this.container}_bindLink(Te,Xe){Te.href=this.linkService.getDestinationHash(Xe),Te.onclick=()=>(Xe&&this.linkService.goToDestination(Xe),!1),(Xe||Xe==="")&&Ue(this,W,G).call(this)}_bindNamedAction(Te,Xe){Te.href=this.linkService.getAnchorUrl(""),Te.onclick=()=>(this.linkService.executeNamedAction(Xe),!1),Ue(this,W,G).call(this)}_bindAttachment(Te,Xe){Te.href=this.linkService.getAnchorUrl(""),Te.onclick=()=>{var vt;return(vt=this.downloadManager)==null||vt.openOrDownloadData(this.container,Xe.content,Xe.filename),!1},Ue(this,W,G).call(this)}_bindJSAction(Te,Xe){Te.href=this.linkService.getAnchorUrl("");const vt=new Map([["Action","onclick"],["Mouse Up","onmouseup"],["Mouse Down","onmousedown"]]);for(const kt of Object.keys(Xe.actions)){const xt=vt.get(kt);xt&&(Te[xt]=()=>{var Lt;return(Lt=this.linkService.eventBus)==null||Lt.dispatch("dispatcheventinsandbox",{source:this,detail:{id:Xe.id,name:kt}}),!1})}Te.onclick||(Te.onclick=()=>!1),Ue(this,W,G).call(this)}_bindResetFormAction(Te,Xe){const vt=Te.onclick;if(vt||(Te.href=this.linkService.getAnchorUrl("")),Ue(this,W,G).call(this),!this._fieldObjects){(0,Ie.warn)('_bindResetFormAction - "resetForm" action not supported, ensure that the `fieldObjects` parameter is provided.'),vt||(Te.onclick=()=>!1);return}Te.onclick=()=>{var kt;vt==null||vt();const{fields:xt,refs:Lt,include:Ht}=Xe,on=[];if(xt.length!==0||Lt.length!==0){const gn=new Set(Lt);for(const tn of xt){const ln=this._fieldObjects[tn]||[];for(const{id:En}of ln)gn.add(En)}for(const tn of Object.values(this._fieldObjects))for(const ln of tn)gn.has(ln.id)===Ht&&on.push(ln)}else for(const gn of Object.values(this._fieldObjects))on.push(...gn);const en=this.annotationStorage,qt=[];for(const gn of on){const{id:tn}=gn;switch(qt.push(tn),gn.type){case"text":{const En=gn.defaultValue||"";en.setValue(tn,{value:En});break}case"checkbox":case"radiobutton":{const En=gn.defaultValue===gn.exportValues;en.setValue(tn,{value:En});break}case"combobox":case"listbox":{const En=gn.defaultValue||"";en.setValue(tn,{value:En});break}default:continue}const ln=document.querySelector(`[data-element-id="${tn}"]`);if(ln){if(!Vt.has(ln)){(0,Ie.warn)(`_bindResetFormAction - element not allowed: ${tn}`);continue}}else continue;ln.dispatchEvent(new Event("resetform"))}return this.enableScripting&&((kt=this.linkService.eventBus)==null||kt.dispatch("dispatcheventinsandbox",{source:this,detail:{id:"app",ids:qt,name:"ResetForm"}})),!1}}}W=new WeakSet,G=function(){this.container.setAttribute("data-internal-link","")},Y=function(Nt,Te){Nt.href=this.linkService.getAnchorUrl(""),Nt.onclick=()=>(this.linkService.executeSetOCGState(Te),!1),Ue(this,W,G).call(this)};class Mt extends Ze{constructor(Te){super(Te,{isRenderable:!0})}render(){this.container.classList.add("textAnnotation");const Te=document.createElement("img");return Te.src=this.imageResourcesPath+"annotation-"+this.data.name.toLowerCase()+".svg",Te.alt="[{{type}} Annotation]",Te.dataset.l10nId="text_annotation_type",Te.dataset.l10nArgs=JSON.stringify({type:this.data.name}),!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.append(Te),this.container}}class Rt extends Ze{render(){return this.data.alternativeText&&(this.container.title=this.data.alternativeText),this.container}showElementAndHideCanvas(Te){var Xe;this.data.hasOwnCanvas&&(((Xe=Te.previousSibling)==null?void 0:Xe.nodeName)==="CANVAS"&&(Te.previousSibling.hidden=!0),Te.hidden=!1)}_getKeyModifier(Te){const{isWin:Xe,isMac:vt}=Ie.FeatureTest.platform;return Xe&&Te.ctrlKey||vt&&Te.metaKey}_setEventListener(Te,Xe,vt,kt,xt){vt.includes("mouse")?Te.addEventListener(vt,Lt=>{var Ht;(Ht=this.linkService.eventBus)==null||Ht.dispatch("dispatcheventinsandbox",{source:this,detail:{id:this.data.id,name:kt,value:xt(Lt),shift:Lt.shiftKey,modifier:this._getKeyModifier(Lt)}})}):Te.addEventListener(vt,Lt=>{var Ht;if(vt==="blur"){if(!Xe.focused||!Lt.relatedTarget)return;Xe.focused=!1}else if(vt==="focus"){if(Xe.focused)return;Xe.focused=!0}xt&&((Ht=this.linkService.eventBus)==null||Ht.dispatch("dispatcheventinsandbox",{source:this,detail:{id:this.data.id,name:kt,value:xt(Lt)}}))})}_setEventListeners(Te,Xe,vt,kt){var xt,Lt,Ht;for(const[on,en]of vt)(en==="Action"||(xt=this.data.actions)!=null&&xt[en])&&((en==="Focus"||en==="Blur")&&(Xe||(Xe={focused:!1})),this._setEventListener(Te,Xe,on,en,kt),en==="Focus"&&!((Lt=this.data.actions)!=null&&Lt.Blur)?this._setEventListener(Te,Xe,"blur","Blur",null):en==="Blur"&&!((Ht=this.data.actions)!=null&&Ht.Focus)&&this._setEventListener(Te,Xe,"focus","Focus",null))}_setBackgroundColor(Te){const Xe=this.data.backgroundColor||null;Te.style.backgroundColor=Xe===null?"transparent":Ie.Util.makeHexColor(Xe[0],Xe[1],Xe[2])}_setTextStyle(Te){const Xe=["left","center","right"],{fontColor:vt}=this.data.defaultAppearanceData,kt=this.data.defaultAppearanceData.fontSize||$t,xt=Te.style;let Lt;const Ht=2,on=en=>Math.round(10*en)/10;if(this.data.multiLine){const en=Math.abs(this.data.rect[3]-this.data.rect[1]-Ht),qt=Math.round(en/(Ie.LINE_FACTOR*kt))||1,gn=en/qt;Lt=Math.min(kt,on(gn/Ie.LINE_FACTOR))}else{const en=Math.abs(this.data.rect[3]-this.data.rect[1]-Ht);Lt=Math.min(kt,on(en/Ie.LINE_FACTOR))}xt.fontSize=`calc(${Lt}px * var(--scale-factor))`,xt.color=Ie.Util.makeHexColor(vt[0],vt[1],vt[2]),this.data.textAlignment!==null&&(xt.textAlign=Xe[this.data.textAlignment])}_setRequired(Te,Xe){Xe?Te.setAttribute("required",!0):Te.removeAttribute("required"),Te.setAttribute("aria-required",Xe)}}class Et extends Rt{constructor(Te){const Xe=Te.renderForms||!Te.data.hasAppearance&&!!Te.data.fieldValue;super(Te,{isRenderable:Xe})}setPropertyOnSiblings(Te,Xe,vt,kt){const xt=this.annotationStorage;for(const Lt of this._getElementsByName(Te.name,Te.id))Lt.domElement&&(Lt.domElement[Xe]=vt),xt.setValue(Lt.id,{[kt]:vt})}render(){var Te,Xe;const vt=this.annotationStorage,kt=this.data.id;this.container.classList.add("textWidgetAnnotation");let xt=null;if(this.renderForms){const Lt=vt.getValue(kt,{value:this.data.fieldValue});let Ht=Lt.value||"";const on=vt.getValue(kt,{charLimit:this.data.maxLen}).charLimit;on&&Ht.length>on&&(Ht=Ht.slice(0,on));let en=Lt.formattedValue||((Te=this.data.textContent)==null?void 0:Te.join(`
`))||null;en&&this.data.comb&&(en=en.replaceAll(/\s+/g,""));const qt={userValue:Ht,formattedValue:en,lastCommittedValue:null,commitKey:1,focused:!1};this.data.multiLine?(xt=document.createElement("textarea"),xt.textContent=en??Ht,this.data.doNotScroll&&(xt.style.overflowY="hidden")):(xt=document.createElement("input"),xt.type="text",xt.setAttribute("value",en??Ht),this.data.doNotScroll&&(xt.style.overflowX="hidden")),this.data.hasOwnCanvas&&(xt.hidden=!0),Vt.add(xt),xt.setAttribute("data-element-id",kt),xt.disabled=this.data.readOnly,xt.name=this.data.fieldName,xt.tabIndex=ht,this._setRequired(xt,this.data.required),on&&(xt.maxLength=on),xt.addEventListener("input",tn=>{vt.setValue(kt,{value:tn.target.value}),this.setPropertyOnSiblings(xt,"value",tn.target.value,"value"),qt.formattedValue=null}),xt.addEventListener("resetform",tn=>{const ln=this.data.defaultFieldValue??"";xt.value=qt.userValue=ln,qt.formattedValue=null});let gn=tn=>{const{formattedValue:ln}=qt;ln!=null&&(tn.target.value=ln),tn.target.scrollLeft=0};if(this.enableScripting&&this.hasJSActions){xt.addEventListener("focus",ln=>{if(qt.focused)return;const{target:En}=ln;qt.userValue&&(En.value=qt.userValue),qt.lastCommittedValue=En.value,qt.commitKey=1,qt.focused=!0}),xt.addEventListener("updatefromsandbox",ln=>{this.showElementAndHideCanvas(ln.target);const En={value(An){qt.userValue=An.detail.value??"",vt.setValue(kt,{value:qt.userValue.toString()}),An.target.value=qt.userValue},formattedValue(An){const{formattedValue:Bn}=An.detail;qt.formattedValue=Bn,Bn!=null&&An.target!==document.activeElement&&(An.target.value=Bn),vt.setValue(kt,{formattedValue:Bn})},selRange(An){An.target.setSelectionRange(...An.detail.selRange)},charLimit:An=>{var Bn;const{charLimit:Gn}=An.detail,{target:Yn}=An;if(Gn===0){Yn.removeAttribute("maxLength");return}Yn.setAttribute("maxLength",Gn);let nr=qt.userValue;!nr||nr.length<=Gn||(nr=nr.slice(0,Gn),Yn.value=qt.userValue=nr,vt.setValue(kt,{value:nr}),(Bn=this.linkService.eventBus)==null||Bn.dispatch("dispatcheventinsandbox",{source:this,detail:{id:kt,name:"Keystroke",value:nr,willCommit:!0,commitKey:1,selStart:Yn.selectionStart,selEnd:Yn.selectionEnd}}))}};this._dispatchEventFromSandbox(En,ln)}),xt.addEventListener("keydown",ln=>{var En;qt.commitKey=1;let An=-1;if(ln.key==="Escape"?An=0:ln.key==="Enter"&&!this.data.multiLine?An=2:ln.key==="Tab"&&(qt.commitKey=3),An===-1)return;const{value:Bn}=ln.target;qt.lastCommittedValue!==Bn&&(qt.lastCommittedValue=Bn,qt.userValue=Bn,(En=this.linkService.eventBus)==null||En.dispatch("dispatcheventinsandbox",{source:this,detail:{id:kt,name:"Keystroke",value:Bn,willCommit:!0,commitKey:An,selStart:ln.target.selectionStart,selEnd:ln.target.selectionEnd}}))});const tn=gn;gn=null,xt.addEventListener("blur",ln=>{var En;if(!qt.focused||!ln.relatedTarget)return;qt.focused=!1;const{value:An}=ln.target;qt.userValue=An,qt.lastCommittedValue!==An&&((En=this.linkService.eventBus)==null||En.dispatch("dispatcheventinsandbox",{source:this,detail:{id:kt,name:"Keystroke",value:An,willCommit:!0,commitKey:qt.commitKey,selStart:ln.target.selectionStart,selEnd:ln.target.selectionEnd}})),tn(ln)}),(Xe=this.data.actions)!=null&&Xe.Keystroke&&xt.addEventListener("beforeinput",ln=>{var En;qt.lastCommittedValue=null;const{data:An,target:Bn}=ln,{value:Gn,selectionStart:Yn,selectionEnd:nr}=Bn;let Pr=Yn,Mr=nr;switch(ln.inputType){case"deleteWordBackward":{const Sr=Gn.substring(0,Yn).match(/\w*[^\w]*$/);Sr&&(Pr-=Sr[0].length);break}case"deleteWordForward":{const Sr=Gn.substring(Yn).match(/^[^\w]*\w*/);Sr&&(Mr+=Sr[0].length);break}case"deleteContentBackward":Yn===nr&&(Pr-=1);break;case"deleteContentForward":Yn===nr&&(Mr+=1);break}ln.preventDefault(),(En=this.linkService.eventBus)==null||En.dispatch("dispatcheventinsandbox",{source:this,detail:{id:kt,name:"Keystroke",value:Gn,change:An||"",willCommit:!1,selStart:Pr,selEnd:Mr}})}),this._setEventListeners(xt,qt,[["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],ln=>ln.target.value)}if(gn&&xt.addEventListener("blur",gn),this.data.comb){const tn=(this.data.rect[2]-this.data.rect[0])/on;xt.classList.add("comb"),xt.style.letterSpacing=`calc(${tn}px * var(--scale-factor) - 1ch)`}}else xt=document.createElement("div"),xt.textContent=this.data.fieldValue,xt.style.verticalAlign="middle",xt.style.display="table-cell";return this._setTextStyle(xt),this._setBackgroundColor(xt),this._setDefaultPropertiesFromJS(xt),this.container.append(xt),this.container}}class At extends Rt{constructor(Te){super(Te,{isRenderable:!!Te.data.hasOwnCanvas})}}class jt extends Rt{constructor(Te){super(Te,{isRenderable:Te.renderForms})}render(){const Te=this.annotationStorage,Xe=this.data,vt=Xe.id;let kt=Te.getValue(vt,{value:Xe.exportValue===Xe.fieldValue}).value;typeof kt=="string"&&(kt=kt!=="Off",Te.setValue(vt,{value:kt})),this.container.classList.add("buttonWidgetAnnotation","checkBox");const xt=document.createElement("input");return Vt.add(xt),xt.setAttribute("data-element-id",vt),xt.disabled=Xe.readOnly,this._setRequired(xt,this.data.required),xt.type="checkbox",xt.name=Xe.fieldName,kt&&xt.setAttribute("checked",!0),xt.setAttribute("exportValue",Xe.exportValue),xt.tabIndex=ht,xt.addEventListener("change",Lt=>{const{name:Ht,checked:on}=Lt.target;for(const en of this._getElementsByName(Ht,vt)){const qt=on&&en.exportValue===Xe.exportValue;en.domElement&&(en.domElement.checked=qt),Te.setValue(en.id,{value:qt})}Te.setValue(vt,{value:on})}),xt.addEventListener("resetform",Lt=>{const Ht=Xe.defaultFieldValue||"Off";Lt.target.checked=Ht===Xe.exportValue}),this.enableScripting&&this.hasJSActions&&(xt.addEventListener("updatefromsandbox",Lt=>{const Ht={value(on){on.target.checked=on.detail.value!=="Off",Te.setValue(vt,{value:on.target.checked})}};this._dispatchEventFromSandbox(Ht,Lt)}),this._setEventListeners(xt,null,[["change","Validate"],["change","Action"],["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],Lt=>Lt.target.checked)),this._setBackgroundColor(xt),this._setDefaultPropertiesFromJS(xt),this.container.append(xt),this.container}}class Qt extends Rt{constructor(Te){super(Te,{isRenderable:Te.renderForms})}render(){this.container.classList.add("buttonWidgetAnnotation","radioButton");const Te=this.annotationStorage,Xe=this.data,vt=Xe.id;let kt=Te.getValue(vt,{value:Xe.fieldValue===Xe.buttonValue}).value;typeof kt=="string"&&(kt=kt!==Xe.buttonValue,Te.setValue(vt,{value:kt}));const xt=document.createElement("input");if(Vt.add(xt),xt.setAttribute("data-element-id",vt),xt.disabled=Xe.readOnly,this._setRequired(xt,this.data.required),xt.type="radio",xt.name=Xe.fieldName,kt&&xt.setAttribute("checked",!0),xt.tabIndex=ht,xt.addEventListener("change",Lt=>{const{name:Ht,checked:on}=Lt.target;for(const en of this._getElementsByName(Ht,vt))Te.setValue(en.id,{value:!1});Te.setValue(vt,{value:on})}),xt.addEventListener("resetform",Lt=>{const Ht=Xe.defaultFieldValue;Lt.target.checked=Ht!=null&&Ht===Xe.buttonValue}),this.enableScripting&&this.hasJSActions){const Lt=Xe.buttonValue;xt.addEventListener("updatefromsandbox",Ht=>{const on={value:en=>{const qt=Lt===en.detail.value;for(const gn of this._getElementsByName(en.target.name)){const tn=qt&&gn.id===vt;gn.domElement&&(gn.domElement.checked=tn),Te.setValue(gn.id,{value:tn})}}};this._dispatchEventFromSandbox(on,Ht)}),this._setEventListeners(xt,null,[["change","Validate"],["change","Action"],["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],Ht=>Ht.target.checked)}return this._setBackgroundColor(xt),this._setDefaultPropertiesFromJS(xt),this.container.append(xt),this.container}}class Gt extends ct{constructor(Te){super(Te,{ignoreBorder:Te.data.hasAppearance})}render(){const Te=super.render();Te.classList.add("buttonWidgetAnnotation","pushButton"),this.data.alternativeText&&(Te.title=this.data.alternativeText);const Xe=Te.lastChild;return this.enableScripting&&this.hasJSActions&&Xe&&(this._setDefaultPropertiesFromJS(Xe),Xe.addEventListener("updatefromsandbox",vt=>{this._dispatchEventFromSandbox({},vt)})),Te}}class Jt extends Rt{constructor(Te){super(Te,{isRenderable:Te.renderForms})}render(){this.container.classList.add("choiceWidgetAnnotation");const Te=this.annotationStorage,Xe=this.data.id,vt=Te.getValue(Xe,{value:this.data.fieldValue}),kt=document.createElement("select");Vt.add(kt),kt.setAttribute("data-element-id",Xe),kt.disabled=this.data.readOnly,this._setRequired(kt,this.data.required),kt.name=this.data.fieldName,kt.tabIndex=ht;let xt=this.data.combo&&this.data.options.length>0;this.data.combo||(kt.size=this.data.options.length,this.data.multiSelect&&(kt.multiple=!0)),kt.addEventListener("resetform",qt=>{const gn=this.data.defaultFieldValue;for(const tn of kt.options)tn.selected=tn.value===gn});for(const qt of this.data.options){const gn=document.createElement("option");gn.textContent=qt.displayValue,gn.value=qt.exportValue,vt.value.includes(qt.exportValue)&&(gn.setAttribute("selected",!0),xt=!1),kt.append(gn)}let Lt=null;if(xt){const qt=document.createElement("option");qt.value=" ",qt.setAttribute("hidden",!0),qt.setAttribute("selected",!0),kt.prepend(qt),Lt=()=>{qt.remove(),kt.removeEventListener("input",Lt),Lt=null},kt.addEventListener("input",Lt)}const Ht=qt=>{const gn=qt?"value":"textContent",{options:tn,multiple:ln}=kt;return ln?Array.prototype.filter.call(tn,En=>En.selected).map(En=>En[gn]):tn.selectedIndex===-1?null:tn[tn.selectedIndex][gn]};let on=Ht(!1);const en=qt=>{const gn=qt.target.options;return Array.prototype.map.call(gn,tn=>({displayValue:tn.textContent,exportValue:tn.value}))};return this.enableScripting&&this.hasJSActions?(kt.addEventListener("updatefromsandbox",qt=>{const gn={value(tn){Lt==null||Lt();const ln=tn.detail.value,En=new Set(Array.isArray(ln)?ln:[ln]);for(const An of kt.options)An.selected=En.has(An.value);Te.setValue(Xe,{value:Ht(!0)}),on=Ht(!1)},multipleSelection(tn){kt.multiple=!0},remove(tn){const ln=kt.options,En=tn.detail.remove;ln[En].selected=!1,kt.remove(En),ln.length>0&&Array.prototype.findIndex.call(ln,An=>An.selected)===-1&&(ln[0].selected=!0),Te.setValue(Xe,{value:Ht(!0),items:en(tn)}),on=Ht(!1)},clear(tn){for(;kt.length!==0;)kt.remove(0);Te.setValue(Xe,{value:null,items:[]}),on=Ht(!1)},insert(tn){const{index:ln,displayValue:En,exportValue:An}=tn.detail.insert,Bn=kt.children[ln],Gn=document.createElement("option");Gn.textContent=En,Gn.value=An,Bn?Bn.before(Gn):kt.append(Gn),Te.setValue(Xe,{value:Ht(!0),items:en(tn)}),on=Ht(!1)},items(tn){const{items:ln}=tn.detail;for(;kt.length!==0;)kt.remove(0);for(const En of ln){const{displayValue:An,exportValue:Bn}=En,Gn=document.createElement("option");Gn.textContent=An,Gn.value=Bn,kt.append(Gn)}kt.options.length>0&&(kt.options[0].selected=!0),Te.setValue(Xe,{value:Ht(!0),items:en(tn)}),on=Ht(!1)},indices(tn){const ln=new Set(tn.detail.indices);for(const En of tn.target.options)En.selected=ln.has(En.index);Te.setValue(Xe,{value:Ht(!0)}),on=Ht(!1)},editable(tn){tn.target.disabled=!tn.detail.editable}};this._dispatchEventFromSandbox(gn,qt)}),kt.addEventListener("input",qt=>{var gn;const tn=Ht(!0);Te.setValue(Xe,{value:tn}),qt.preventDefault(),(gn=this.linkService.eventBus)==null||gn.dispatch("dispatcheventinsandbox",{source:this,detail:{id:Xe,name:"Keystroke",value:on,changeEx:tn,willCommit:!1,commitKey:1,keyDown:!1}})}),this._setEventListeners(kt,null,[["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"],["input","Action"],["input","Validate"]],qt=>qt.target.value)):kt.addEventListener("input",function(qt){Te.setValue(Xe,{value:Ht(!0)})}),this.data.combo&&this._setTextStyle(kt),this._setBackgroundColor(kt),this._setDefaultPropertiesFromJS(kt),this.container.append(kt),this.container}}class cn extends Ze{constructor(Te){const{data:Xe,elements:vt}=Te;super(Te,{isRenderable:Ze._hasPopupData(Xe)}),this.elements=vt}render(){this.container.classList.add("popupAnnotation");const Te=new sn({container:this.container,color:this.data.color,titleObj:this.data.titleObj,modificationDate:this.data.modificationDate,contentsObj:this.data.contentsObj,richText:this.data.richText,rect:this.data.rect,parentRect:this.data.parentRect||null,parent:this.parent,elements:this.elements,open:this.data.open}),Xe=[];for(const vt of this.elements)vt.popup=Te,Xe.push(vt.data.id),vt.addHighlightArea();return this.container.setAttribute("aria-controls",Xe.map(vt=>`${Ie.AnnotationPrefix}${vt}`).join(",")),this.container}}class sn{constructor({container:Te,color:Xe,elements:vt,titleObj:kt,modificationDate:xt,contentsObj:Lt,richText:Ht,parent:on,rect:en,parentRect:qt,open:gn}){it(this,Ke),it(this,he,null),it(this,Ce,Ue(this,Ke,ze).bind(this)),it(this,ke,Ue(this,Ke,ot).bind(this)),it(this,ae,Ue(this,Ke,ye).bind(this)),it(this,Ae,Ue(this,Ke,rt).bind(this)),it(this,ge,null),it(this,ve,null),it(this,xe,null),it(this,we,null),it(this,fe,null),it(this,ne,null),it(this,Se,!1),it(this,Le,null),it(this,Me,null),it(this,Ee,null),it(this,Pe,null),it(this,Ve,!1);var tn;at(this,ve,Te),at(this,Pe,kt),at(this,xe,Lt),at(this,Ee,Ht),at(this,fe,on),at(this,ge,Xe),at(this,Me,en),at(this,ne,qt),at(this,we,vt);const ln=qe.PDFDateString.toDateObject(xt);ln&&at(this,he,on.l10n.get("annotation_date_string",{date:ln.toLocaleDateString(),time:ln.toLocaleTimeString()})),this.trigger=vt.flatMap(En=>En.getElementsToTriggerPopup());for(const En of this.trigger)En.addEventListener("click",V(this,Ae)),En.addEventListener("mouseenter",V(this,ae)),En.addEventListener("mouseleave",V(this,ke)),En.classList.add("popupTriggerArea");for(const En of vt)(tn=En.container)==null||tn.addEventListener("keydown",V(this,Ce));V(this,ve).hidden=!0,gn&&Ue(this,Ke,rt).call(this)}render(){if(V(this,Le))return;const{page:{view:Te},viewport:{rawDims:{pageWidth:Xe,pageHeight:vt,pageX:kt,pageY:xt}}}=V(this,fe),Lt=at(this,Le,document.createElement("div"));if(Lt.className="popup",V(this,ge)){const Yn=Lt.style.outlineColor=Ie.Util.makeHexColor(...V(this,ge));CSS.supports("background-color","color-mix(in srgb, red 30%, white)")?Lt.style.backgroundColor=`color-mix(in srgb, ${Yn} 30%, white)`:Lt.style.backgroundColor=Ie.Util.makeHexColor(...V(this,ge).map(nr=>Math.floor(.7*(255-nr)+nr)))}const Ht=document.createElement("span");Ht.className="header";const on=document.createElement("h1");if(Ht.append(on),{dir:on.dir,str:on.textContent}=V(this,Pe),Lt.append(Ht),V(this,he)){const Yn=document.createElement("span");Yn.classList.add("popupDate"),V(this,he).then(nr=>{Yn.textContent=nr}),Ht.append(Yn)}const en=V(this,xe),qt=V(this,Ee);if(qt!=null&&qt.str&&(!(en!=null&&en.str)||en.str===qt.str))Ct.XfaLayer.render({xfaHtml:qt.html,intent:"richText",div:Lt}),Lt.lastChild.classList.add("richText","popupContent");else{const Yn=this._formatContents(en);Lt.append(Yn)}let gn=!!V(this,ne),tn=gn?V(this,ne):V(this,Me);for(const Yn of V(this,we))if(!tn||Ie.Util.intersect(Yn.data.rect,tn)!==null){tn=Yn.data.rect,gn=!0;break}const ln=Ie.Util.normalizeRect([tn[0],Te[3]-tn[1]+Te[1],tn[2],Te[3]-tn[3]+Te[1]]),En=gn?tn[2]-tn[0]+5:0,An=ln[0]+En,Bn=ln[1],{style:Gn}=V(this,ve);Gn.left=`${100*(An-kt)/Xe}%`,Gn.top=`${100*(Bn-xt)/vt}%`,V(this,ve).append(Lt)}_formatContents({str:Te,dir:Xe}){const vt=document.createElement("p");vt.classList.add("popupContent"),vt.dir=Xe;const kt=Te.split(/(?:\r\n?|\n)/);for(let xt=0,Lt=kt.length;xt<Lt;++xt){const Ht=kt[xt];vt.append(document.createTextNode(Ht)),xt<Lt-1&&vt.append(document.createElement("br"))}return vt}forceHide(){at(this,Ve,this.isVisible),V(this,Ve)&&(V(this,ve).hidden=!0)}maybeShow(){V(this,Ve)&&(at(this,Ve,!1),V(this,ve).hidden=!1)}get isVisible(){return V(this,ve).hidden===!1}}he=new WeakMap,Ce=new WeakMap,ke=new WeakMap,ae=new WeakMap,Ae=new WeakMap,ge=new WeakMap,ve=new WeakMap,xe=new WeakMap,we=new WeakMap,fe=new WeakMap,ne=new WeakMap,Se=new WeakMap,Le=new WeakMap,Me=new WeakMap,Ee=new WeakMap,Pe=new WeakMap,Ve=new WeakMap,Ke=new WeakSet,ze=function(Nt){Nt.altKey||Nt.shiftKey||Nt.ctrlKey||Nt.metaKey||(Nt.key==="Enter"||Nt.key==="Escape"&&V(this,Se))&&Ue(this,Ke,rt).call(this)},rt=function(){at(this,Se,!V(this,Se)),V(this,Se)?(Ue(this,Ke,ye).call(this),V(this,ve).addEventListener("click",V(this,Ae)),V(this,ve).addEventListener("keydown",V(this,Ce))):(Ue(this,Ke,ot).call(this),V(this,ve).removeEventListener("click",V(this,Ae)),V(this,ve).removeEventListener("keydown",V(this,Ce)))},ye=function(){V(this,Le)||this.render(),this.isVisible?V(this,Se)&&V(this,ve).classList.add("focused"):(V(this,ve).hidden=!1,V(this,ve).style.zIndex=parseInt(V(this,ve).style.zIndex)+1e3)},ot=function(){V(this,ve).classList.remove("focused"),!(V(this,Se)||!this.isVisible)&&(V(this,ve).hidden=!0,V(this,ve).style.zIndex=parseInt(V(this,ve).style.zIndex)-1e3)};class rn extends Ze{constructor(Te){super(Te,{isRenderable:!0,ignoreBorder:!0}),this.textContent=Te.data.textContent,this.textPosition=Te.data.textPosition,this.annotationEditorType=Ie.AnnotationEditorType.FREETEXT}render(){if(this.container.classList.add("freeTextAnnotation"),this.textContent){const Te=document.createElement("div");Te.classList.add("annotationTextContent"),Te.setAttribute("role","comment");for(const Xe of this.textContent){const vt=document.createElement("span");vt.textContent=Xe,Te.append(vt)}this.container.append(Te)}return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this._editOnDoubleClick(),this.container}}q.FreeTextAnnotationElement=rn;class In extends Ze{constructor(Te){super(Te,{isRenderable:!0,ignoreBorder:!0}),it(this,Ye,null)}render(){this.container.classList.add("lineAnnotation");const Te=this.data,{width:Xe,height:vt}=De(Te.rect),kt=this.svgFactory.create(Xe,vt,!0),xt=at(this,Ye,this.svgFactory.createElement("svg:line"));return xt.setAttribute("x1",Te.rect[2]-Te.lineCoordinates[0]),xt.setAttribute("y1",Te.rect[3]-Te.lineCoordinates[1]),xt.setAttribute("x2",Te.rect[2]-Te.lineCoordinates[2]),xt.setAttribute("y2",Te.rect[3]-Te.lineCoordinates[3]),xt.setAttribute("stroke-width",Te.borderStyle.width||1),xt.setAttribute("stroke","transparent"),xt.setAttribute("fill","transparent"),kt.append(xt),this.container.append(kt),!Te.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return V(this,Ye)}addHighlightArea(){this.container.classList.add("highlightArea")}}Ye=new WeakMap;class Ln extends Ze{constructor(Te){super(Te,{isRenderable:!0,ignoreBorder:!0}),it(this,He,null)}render(){this.container.classList.add("squareAnnotation");const Te=this.data,{width:Xe,height:vt}=De(Te.rect),kt=this.svgFactory.create(Xe,vt,!0),xt=Te.borderStyle.width,Lt=at(this,He,this.svgFactory.createElement("svg:rect"));return Lt.setAttribute("x",xt/2),Lt.setAttribute("y",xt/2),Lt.setAttribute("width",Xe-xt),Lt.setAttribute("height",vt-xt),Lt.setAttribute("stroke-width",xt||1),Lt.setAttribute("stroke","transparent"),Lt.setAttribute("fill","transparent"),kt.append(Lt),this.container.append(kt),!Te.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return V(this,He)}addHighlightArea(){this.container.classList.add("highlightArea")}}He=new WeakMap;class Nn extends Ze{constructor(Te){super(Te,{isRenderable:!0,ignoreBorder:!0}),it(this,Qe,null)}render(){this.container.classList.add("circleAnnotation");const Te=this.data,{width:Xe,height:vt}=De(Te.rect),kt=this.svgFactory.create(Xe,vt,!0),xt=Te.borderStyle.width,Lt=at(this,Qe,this.svgFactory.createElement("svg:ellipse"));return Lt.setAttribute("cx",Xe/2),Lt.setAttribute("cy",vt/2),Lt.setAttribute("rx",Xe/2-xt/2),Lt.setAttribute("ry",vt/2-xt/2),Lt.setAttribute("stroke-width",xt||1),Lt.setAttribute("stroke","transparent"),Lt.setAttribute("fill","transparent"),kt.append(Lt),this.container.append(kt),!Te.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return V(this,Qe)}addHighlightArea(){this.container.classList.add("highlightArea")}}Qe=new WeakMap;class Ft extends Ze{constructor(Te){super(Te,{isRenderable:!0,ignoreBorder:!0}),it(this,yt,null),this.containerClassName="polylineAnnotation",this.svgElementName="svg:polyline"}render(){this.container.classList.add(this.containerClassName);const Te=this.data,{width:Xe,height:vt}=De(Te.rect),kt=this.svgFactory.create(Xe,vt,!0);let xt=[];for(const Ht of Te.vertices){const on=Ht.x-Te.rect[0],en=Te.rect[3]-Ht.y;xt.push(on+","+en)}xt=xt.join(" ");const Lt=at(this,yt,this.svgFactory.createElement(this.svgElementName));return Lt.setAttribute("points",xt),Lt.setAttribute("stroke-width",Te.borderStyle.width||1),Lt.setAttribute("stroke","transparent"),Lt.setAttribute("fill","transparent"),kt.append(Lt),this.container.append(kt),!Te.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return V(this,yt)}addHighlightArea(){this.container.classList.add("highlightArea")}}yt=new WeakMap;class wt extends Ft{constructor(Te){super(Te),this.containerClassName="polygonAnnotation",this.svgElementName="svg:polygon"}}class ft extends Ze{constructor(Te){super(Te,{isRenderable:!0,ignoreBorder:!0})}render(){return this.container.classList.add("caretAnnotation"),!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container}}class Yt extends Ze{constructor(Te){super(Te,{isRenderable:!0,ignoreBorder:!0}),it(this,ut,[]),this.containerClassName="inkAnnotation",this.svgElementName="svg:polyline",this.annotationEditorType=Ie.AnnotationEditorType.INK}render(){this.container.classList.add(this.containerClassName);const Te=this.data,{width:Xe,height:vt}=De(Te.rect),kt=this.svgFactory.create(Xe,vt,!0);for(const xt of Te.inkLists){let Lt=[];for(const on of xt){const en=on.x-Te.rect[0],qt=Te.rect[3]-on.y;Lt.push(`${en},${qt}`)}Lt=Lt.join(" ");const Ht=this.svgFactory.createElement(this.svgElementName);V(this,ut).push(Ht),Ht.setAttribute("points",Lt),Ht.setAttribute("stroke-width",Te.borderStyle.width||1),Ht.setAttribute("stroke","transparent"),Ht.setAttribute("fill","transparent"),!Te.popupRef&&this.hasPopupData&&this._createPopup(),kt.append(Ht)}return this.container.append(kt),this.container}getElementsToTriggerPopup(){return V(this,ut)}addHighlightArea(){this.container.classList.add("highlightArea")}}ut=new WeakMap,q.InkAnnotationElement=Yt;class Zt extends Ze{constructor(Te){super(Te,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("highlightAnnotation"),this.container}}class Kt extends Ze{constructor(Te){super(Te,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("underlineAnnotation"),this.container}}class Je extends Ze{constructor(Te){super(Te,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("squigglyAnnotation"),this.container}}class Tt extends Ze{constructor(Te){super(Te,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("strikeoutAnnotation"),this.container}}class Xt extends Ze{constructor(Te){super(Te,{isRenderable:!0,ignoreBorder:!0})}render(){return this.container.classList.add("stampAnnotation"),!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container}}q.StampAnnotationElement=Xt;class pn extends Ze{constructor(Te){var Xe;super(Te,{isRenderable:!0}),it(this,Ne),it(this,_t,null);const{filename:vt,content:kt}=this.data.file;this.filename=(0,qe.getFilenameFromUrl)(vt,!0),this.content=kt,(Xe=this.linkService.eventBus)==null||Xe.dispatch("fileattachmentannotation",{source:this,filename:vt,content:kt})}render(){this.container.classList.add("fileAttachmentAnnotation");const{container:Te,data:Xe}=this;let vt;Xe.hasAppearance||Xe.fillAlpha===0?vt=document.createElement("div"):(vt=document.createElement("img"),vt.src=`${this.imageResourcesPath}annotation-${/paperclip/i.test(Xe.name)?"paperclip":"pushpin"}.svg`,Xe.fillAlpha&&Xe.fillAlpha<1&&(vt.style=`filter: opacity(${Math.round(Xe.fillAlpha*100)}%);`)),vt.addEventListener("dblclick",Ue(this,Ne,tt).bind(this)),at(this,_t,vt);const{isMac:kt}=Ie.FeatureTest.platform;return Te.addEventListener("keydown",xt=>{xt.key==="Enter"&&(kt?xt.metaKey:xt.ctrlKey)&&Ue(this,Ne,tt).call(this)}),!Xe.popupRef&&this.hasPopupData?this._createPopup():vt.classList.add("popupTriggerArea"),Te.append(vt),Te}getElementsToTriggerPopup(){return V(this,_t)}addHighlightArea(){this.container.classList.add("highlightArea")}}_t=new WeakMap,Ne=new WeakSet,tt=function(){var Nt;(Nt=this.downloadManager)==null||Nt.openOrDownloadData(this.container,this.content,this.filename)};class an{constructor({div:Te,accessibilityManager:Xe,annotationCanvasMap:vt,l10n:kt,page:xt,viewport:Lt}){it(this,pe),it(this,dt,null),it(this,Oe,null),it(this,_e,new Map),this.div=Te,at(this,dt,Xe),at(this,Oe,vt),this.l10n=kt,this.page=xt,this.viewport=Lt,this.zIndex=0,this.l10n||(this.l10n=Pt.NullL10n)}async render(Te){const{annotations:Xe}=Te,vt=this.div;(0,qe.setLayerDimensions)(vt,this.viewport);const kt=new Map,xt={data:null,layer:vt,linkService:Te.linkService,downloadManager:Te.downloadManager,imageResourcesPath:Te.imageResourcesPath||"",renderForms:Te.renderForms!==!1,svgFactory:new qe.DOMSVGFactory,annotationStorage:Te.annotationStorage||new Ge.AnnotationStorage,enableScripting:Te.enableScripting===!0,hasJSActions:Te.hasJSActions,fieldObjects:Te.fieldObjects,parent:this,elements:null};for(const Lt of Xe){if(Lt.noHTML)continue;const Ht=Lt.annotationType===Ie.AnnotationType.POPUP;if(Ht){const qt=kt.get(Lt.id);if(!qt)continue;xt.elements=qt}else{const{width:qt,height:gn}=De(Lt.rect);if(qt<=0||gn<=0)continue}xt.data=Lt;const on=Re.create(xt);if(!on.isRenderable)continue;if(!Ht&&Lt.popupRef){const qt=kt.get(Lt.popupRef);qt?qt.push(on):kt.set(Lt.popupRef,[on])}on.annotationEditorType>0&&V(this,_e).set(on.data.id,on);const en=on.render();Lt.hidden&&(en.style.visibility="hidden"),Ue(this,pe,Fe).call(this,en,Lt.id)}Ue(this,pe,je).call(this),await this.l10n.translate(vt)}update({viewport:Te}){const Xe=this.div;this.viewport=Te,(0,qe.setLayerDimensions)(Xe,{rotation:Te.rotation}),Ue(this,pe,je).call(this),Xe.hidden=!1}getEditableAnnotations(){return Array.from(V(this,_e).values())}getEditableAnnotation(Te){return V(this,_e).get(Te)}}dt=new WeakMap,Oe=new WeakMap,_e=new WeakMap,pe=new WeakSet,Fe=function(Nt,Te){var Xe;const vt=Nt.firstChild||Nt;vt.id=`${Ie.AnnotationPrefix}${Te}`,this.div.append(Nt),(Xe=V(this,dt))==null||Xe.moveElementInDOM(this.div,Nt,vt,!1)},je=function(){if(!V(this,Oe))return;const Nt=this.div;for(const[Te,Xe]of V(this,Oe)){const vt=Nt.querySelector(`[data-annotation-id="${Te}"]`);if(!vt)continue;const{firstChild:kt}=vt;kt?kt.nodeName==="CANVAS"?kt.replaceWith(Xe):kt.before(Xe):vt.append(Xe)}V(this,Oe).clear()},q.AnnotationLayer=an},(B,q)=>{Object.defineProperty(q,"__esModule",{value:!0}),q.ColorConverters=void 0;function K(G){return Math.floor(Math.max(0,Math.min(1,G))*255).toString(16).padStart(2,"0")}function X(G){return Math.max(0,Math.min(255,255*G))}class W{static CMYK_G([Y,he,Ce,ke]){return["G",1-Math.min(1,.3*Y+.59*Ce+.11*he+ke)]}static G_CMYK([Y]){return["CMYK",0,0,0,1-Y]}static G_RGB([Y]){return["RGB",Y,Y,Y]}static G_rgb([Y]){return Y=X(Y),[Y,Y,Y]}static G_HTML([Y]){const he=K(Y);return`#${he}${he}${he}`}static RGB_G([Y,he,Ce]){return["G",.3*Y+.59*he+.11*Ce]}static RGB_rgb(Y){return Y.map(X)}static RGB_HTML(Y){return`#${Y.map(K).join("")}`}static T_HTML(){return"#00000000"}static T_rgb(){return[null]}static CMYK_RGB([Y,he,Ce,ke]){return["RGB",1-Math.min(1,Y+ke),1-Math.min(1,Ce+ke),1-Math.min(1,he+ke)]}static CMYK_rgb([Y,he,Ce,ke]){return[X(1-Math.min(1,Y+ke)),X(1-Math.min(1,Ce+ke)),X(1-Math.min(1,he+ke))]}static CMYK_HTML(Y){const he=this.CMYK_RGB(Y).slice(1);return this.RGB_HTML(he)}static RGB_CMYK([Y,he,Ce]){const ke=1-Y,ae=1-he,Ae=1-Ce,ge=Math.min(ke,ae,Ae);return["CMYK",ke,ae,Ae,ge]}}q.ColorConverters=W},(B,q)=>{Object.defineProperty(q,"__esModule",{value:!0}),q.NullL10n=void 0,q.getL10nFallback=X;const K={of_pages:"of {{pagesCount}}",page_of_pages:"({{pageNumber}} of {{pagesCount}})",document_properties_kb:"{{size_kb}} KB ({{size_b}} bytes)",document_properties_mb:"{{size_mb}} MB ({{size_b}} bytes)",document_properties_date_string:"{{date}}, {{time}}",document_properties_page_size_unit_inches:"in",document_properties_page_size_unit_millimeters:"mm",document_properties_page_size_orientation_portrait:"portrait",document_properties_page_size_orientation_landscape:"landscape",document_properties_page_size_name_a3:"A3",document_properties_page_size_name_a4:"A4",document_properties_page_size_name_letter:"Letter",document_properties_page_size_name_legal:"Legal",document_properties_page_size_dimension_string:"{{width}} × {{height}} {{unit}} ({{orientation}})",document_properties_page_size_dimension_name_string:"{{width}} × {{height}} {{unit}} ({{name}}, {{orientation}})",document_properties_linearized_yes:"Yes",document_properties_linearized_no:"No",additional_layers:"Additional Layers",page_landmark:"Page {{page}}",thumb_page_title:"Page {{page}}",thumb_page_canvas:"Thumbnail of Page {{page}}",find_reached_top:"Reached top of document, continued from bottom",find_reached_bottom:"Reached end of document, continued from top","find_match_count[one]":"{{current}} of {{total}} match","find_match_count[other]":"{{current}} of {{total}} matches","find_match_count_limit[one]":"More than {{limit}} match","find_match_count_limit[other]":"More than {{limit}} matches",find_not_found:"Phrase not found",page_scale_width:"Page Width",page_scale_fit:"Page Fit",page_scale_auto:"Automatic Zoom",page_scale_actual:"Actual Size",page_scale_percent:"{{scale}}%",loading_error:"An error occurred while loading the PDF.",invalid_file_error:"Invalid or corrupted PDF file.",missing_file_error:"Missing PDF file.",unexpected_response_error:"Unexpected server response.",rendering_error:"An error occurred while rendering the page.",annotation_date_string:"{{date}}, {{time}}",printing_not_supported:"Warning: Printing is not fully supported by this browser.",printing_not_ready:"Warning: The PDF is not fully loaded for printing.",web_fonts_disabled:"Web fonts are disabled: unable to use embedded PDF fonts.",free_text2_default_content:"Start typing…",editor_free_text2_aria_label:"Text Editor",editor_ink2_aria_label:"Draw Editor",editor_ink_canvas_aria_label:"User-created image",editor_alt_text_button_label:"Alt text",editor_alt_text_edit_button_label:"Edit alt text",editor_alt_text_decorative_tooltip:"Marked as decorative"};K.print_progress_percent="{{progress}}%";function X(Y,he){switch(Y){case"find_match_count":Y=`find_match_count[${he.total===1?"one":"other"}]`;break;case"find_match_count_limit":Y=`find_match_count_limit[${he.limit===1?"one":"other"}]`;break}return K[Y]||""}function W(Y,he){return he?Y.replaceAll(/\{\{\s*(\w+)\s*\}\}/g,(Ce,ke)=>ke in he?he[ke]:"{{"+ke+"}}"):Y}const G={async getLanguage(){return"en-us"},async getDirection(){return"ltr"},async get(Y,he=null,Ce=X(Y,he)){return W(Ce,he)},async translate(Y){}};q.NullL10n=G},(B,q,K)=>{Object.defineProperty(q,"__esModule",{value:!0}),q.XfaLayer=void 0;var X=K(25);class W{static setupStorage(Y,he,Ce,ke,ae){const Ae=ke.getValue(he,{value:null});switch(Ce.name){case"textarea":if(Ae.value!==null&&(Y.textContent=Ae.value),ae==="print")break;Y.addEventListener("input",ge=>{ke.setValue(he,{value:ge.target.value})});break;case"input":if(Ce.attributes.type==="radio"||Ce.attributes.type==="checkbox"){if(Ae.value===Ce.attributes.xfaOn?Y.setAttribute("checked",!0):Ae.value===Ce.attributes.xfaOff&&Y.removeAttribute("checked"),ae==="print")break;Y.addEventListener("change",ge=>{ke.setValue(he,{value:ge.target.checked?ge.target.getAttribute("xfaOn"):ge.target.getAttribute("xfaOff")})})}else{if(Ae.value!==null&&Y.setAttribute("value",Ae.value),ae==="print")break;Y.addEventListener("input",ge=>{ke.setValue(he,{value:ge.target.value})})}break;case"select":if(Ae.value!==null){Y.setAttribute("value",Ae.value);for(const ge of Ce.children)ge.attributes.value===Ae.value?ge.attributes.selected=!0:ge.attributes.hasOwnProperty("selected")&&delete ge.attributes.selected}Y.addEventListener("input",ge=>{const ve=ge.target.options,xe=ve.selectedIndex===-1?"":ve[ve.selectedIndex].value;ke.setValue(he,{value:xe})});break}}static setAttributes({html:Y,element:he,storage:Ce=null,intent:ke,linkService:ae}){const{attributes:Ae}=he,ge=Y instanceof HTMLAnchorElement;Ae.type==="radio"&&(Ae.name=`${Ae.name}-${ke}`);for(const[ve,xe]of Object.entries(Ae))if(xe!=null)switch(ve){case"class":xe.length&&Y.setAttribute(ve,xe.join(" "));break;case"dataId":break;case"id":Y.setAttribute("data-element-id",xe);break;case"style":Object.assign(Y.style,xe);break;case"textContent":Y.textContent=xe;break;default:(!ge||ve!=="href"&&ve!=="newWindow")&&Y.setAttribute(ve,xe)}ge&&ae.addLinkAttributes(Y,Ae.href,Ae.newWindow),Ce&&Ae.dataId&&this.setupStorage(Y,Ae.dataId,he,Ce)}static render(Y){var he;const Ce=Y.annotationStorage,ke=Y.linkService,ae=Y.xfaHtml,Ae=Y.intent||"display",ge=document.createElement(ae.name);ae.attributes&&this.setAttributes({html:ge,element:ae,intent:Ae,linkService:ke});const ve=[[ae,-1,ge]],xe=Y.div;if(xe.append(ge),Y.viewport){const fe=`matrix(${Y.viewport.transform.join(",")})`;xe.style.transform=fe}Ae!=="richText"&&xe.setAttribute("class","xfaLayer xfaFont");const we=[];for(;ve.length>0;){const[fe,ne,Se]=ve.at(-1);if(ne+1===fe.children.length){ve.pop();continue}const Le=fe.children[++ve.at(-1)[1]];if(Le===null)continue;const{name:Me}=Le;if(Me==="#text"){const Pe=document.createTextNode(Le.value);we.push(Pe),Se.append(Pe);continue}const Ee=(he=Le==null?void 0:Le.attributes)!=null&&he.xmlns?document.createElementNS(Le.attributes.xmlns,Me):document.createElement(Me);if(Se.append(Ee),Le.attributes&&this.setAttributes({html:Ee,element:Le,storage:Ce,intent:Ae,linkService:ke}),Le.children&&Le.children.length>0)ve.push([Le,-1,Ee]);else if(Le.value){const Pe=document.createTextNode(Le.value);X.XfaText.shouldBuildText(Me)&&we.push(Pe),Ee.append(Pe)}}for(const fe of xe.querySelectorAll(".xfaNonInteractive input, .xfaNonInteractive textarea"))fe.setAttribute("readOnly",!0);return{textDivs:we}}static update(Y){const he=`matrix(${Y.viewport.transform.join(",")})`;Y.div.style.transform=he,Y.div.hidden=!1}}q.XfaLayer=W},(B,q,K)=>{var X,W,G,Y,he,Ce,ke,ae,Ae,ge,ve,xe,we,fe,ne,Se,Le,Me,Ee,Pe,Ve,Ke,ze,rt,ye,ot,Ye,He,Qe,yt,ut,_t,Ne,tt,dt,Oe,_e,pe,Fe,je,Ie,qe;Object.defineProperty(q,"__esModule",{value:!0}),q.InkEditor=void 0;var Ge=K(1),gt=K(4),Pt=K(29),Ct=K(6),ht=K(5);const $t=class wr extends gt.AnnotationEditor{constructor(Re){super({...Re,name:"inkEditor"}),it(this,ne),it(this,X,0),it(this,W,0),it(this,G,this.canvasPointermove.bind(this)),it(this,Y,this.canvasPointerleave.bind(this)),it(this,he,this.canvasPointerup.bind(this)),it(this,Ce,this.canvasPointerdown.bind(this)),it(this,ke,new Path2D),it(this,ae,!1),it(this,Ae,!1),it(this,ge,!1),it(this,ve,null),it(this,xe,0),it(this,we,0),it(this,fe,null),this.color=Re.color||null,this.thickness=Re.thickness||null,this.opacity=Re.opacity||null,this.paths=[],this.bezierPath2D=[],this.allRawPaths=[],this.currentPath=[],this.scaleFactor=1,this.translationX=this.translationY=0,this.x=0,this.y=0,this._willKeepAspectRatio=!0}static initialize(Re){gt.AnnotationEditor.initialize(Re,{strings:["editor_ink_canvas_aria_label","editor_ink2_aria_label"]})}static updateDefaultParams(Re,Be){switch(Re){case Ge.AnnotationEditorParamsType.INK_THICKNESS:wr._defaultThickness=Be;break;case Ge.AnnotationEditorParamsType.INK_COLOR:wr._defaultColor=Be;break;case Ge.AnnotationEditorParamsType.INK_OPACITY:wr._defaultOpacity=Be/100;break}}updateParams(Re,Be){switch(Re){case Ge.AnnotationEditorParamsType.INK_THICKNESS:Ue(this,ne,Se).call(this,Be);break;case Ge.AnnotationEditorParamsType.INK_COLOR:Ue(this,ne,Le).call(this,Be);break;case Ge.AnnotationEditorParamsType.INK_OPACITY:Ue(this,ne,Me).call(this,Be);break}}static get defaultPropertiesToUpdate(){return[[Ge.AnnotationEditorParamsType.INK_THICKNESS,wr._defaultThickness],[Ge.AnnotationEditorParamsType.INK_COLOR,wr._defaultColor||gt.AnnotationEditor._defaultLineColor],[Ge.AnnotationEditorParamsType.INK_OPACITY,Math.round(wr._defaultOpacity*100)]]}get propertiesToUpdate(){return[[Ge.AnnotationEditorParamsType.INK_THICKNESS,this.thickness||wr._defaultThickness],[Ge.AnnotationEditorParamsType.INK_COLOR,this.color||wr._defaultColor||gt.AnnotationEditor._defaultLineColor],[Ge.AnnotationEditorParamsType.INK_OPACITY,Math.round(100*(this.opacity??wr._defaultOpacity))]]}rebuild(){this.parent&&(super.rebuild(),this.div!==null&&(this.canvas||(Ue(this,ne,yt).call(this),Ue(this,ne,ut).call(this)),this.isAttachedToDOM||(this.parent.add(this),Ue(this,ne,_t).call(this)),Ue(this,ne,qe).call(this)))}remove(){this.canvas!==null&&(this.isEmpty()||this.commit(),this.canvas.width=this.canvas.height=0,this.canvas.remove(),this.canvas=null,V(this,ve).disconnect(),at(this,ve,null),super.remove())}setParent(Re){!this.parent&&Re?this._uiManager.removeShouldRescale(this):this.parent&&Re===null&&this._uiManager.addShouldRescale(this),super.setParent(Re)}onScaleChanging(){const[Re,Be]=this.parentDimensions,Ze=this.width*Re,ct=this.height*Be;this.setDimensions(Ze,ct)}enableEditMode(){V(this,ae)||this.canvas===null||(super.enableEditMode(),this._isDraggable=!1,this.canvas.addEventListener("pointerdown",V(this,Ce)))}disableEditMode(){!this.isInEditMode()||this.canvas===null||(super.disableEditMode(),this._isDraggable=!this.isEmpty(),this.div.classList.remove("editing"),this.canvas.removeEventListener("pointerdown",V(this,Ce)))}onceAdded(){this._isDraggable=!this.isEmpty()}isEmpty(){return this.paths.length===0||this.paths.length===1&&this.paths[0].length===0}commit(){V(this,ae)||(super.commit(),this.isEditing=!1,this.disableEditMode(),this.setInForeground(),at(this,ae,!0),this.div.classList.add("disabled"),Ue(this,ne,qe).call(this,!0),this.makeResizable(),this.parent.addInkEditorIfNeeded(!0),this.moveInDOM(),this.div.focus({preventScroll:!0}))}focusin(Re){this._focusEventsAllowed&&(super.focusin(Re),this.enableEditMode())}canvasPointerdown(Re){Re.button!==0||!this.isInEditMode()||V(this,ae)||(this.setInForeground(),Re.preventDefault(),Re.type!=="mouse"&&this.div.focus(),Ue(this,ne,Ve).call(this,Re.offsetX,Re.offsetY))}canvasPointermove(Re){Re.preventDefault(),Ue(this,ne,Ke).call(this,Re.offsetX,Re.offsetY)}canvasPointerup(Re){Re.preventDefault(),Ue(this,ne,Qe).call(this,Re)}canvasPointerleave(Re){Ue(this,ne,Qe).call(this,Re)}get isResizable(){return!this.isEmpty()&&V(this,ae)}render(){if(this.div)return this.div;let Re,Be;this.width&&(Re=this.x,Be=this.y),super.render(),gt.AnnotationEditor._l10nPromise.get("editor_ink2_aria_label").then(Et=>{var At;return(At=this.div)==null?void 0:At.setAttribute("aria-label",Et)});const[Ze,ct,Mt,Rt]=Ue(this,ne,Ee).call(this);if(this.setAt(Ze,ct,0,0),this.setDims(Mt,Rt),Ue(this,ne,yt).call(this),this.width){const[Et,At]=this.parentDimensions;this.setAspectRatio(this.width*Et,this.height*At),this.setAt(Re*Et,Be*At,this.width*Et,this.height*At),at(this,ge,!0),Ue(this,ne,_t).call(this),this.setDims(this.width*Et,this.height*At),Ue(this,ne,He).call(this),this.div.classList.add("disabled")}else this.div.classList.add("editing"),this.enableEditMode();return Ue(this,ne,ut).call(this),this.div}setDimensions(Re,Be){const Ze=Math.round(Re),ct=Math.round(Be);if(V(this,xe)===Ze&&V(this,we)===ct)return;at(this,xe,Ze),at(this,we,ct),this.canvas.style.visibility="hidden";const[Mt,Rt]=this.parentDimensions;this.width=Re/Mt,this.height=Be/Rt,this.fixAndSetPosition(),V(this,ae)&&Ue(this,ne,Ne).call(this,Re,Be),Ue(this,ne,_t).call(this),Ue(this,ne,He).call(this),this.canvas.style.visibility="visible",this.fixDims()}static deserialize(Re,Be,Ze){var ct,Mt,Rt;if(Re instanceof Pt.InkAnnotationElement)return null;const Et=super.deserialize(Re,Be,Ze);Et.thickness=Re.thickness,Et.color=Ge.Util.makeHexColor(...Re.color),Et.opacity=Re.opacity;const[At,jt]=Et.pageDimensions,Qt=Et.width*At,Gt=Et.height*jt,Jt=Et.parentScale,cn=Re.thickness/2;at(Et,ae,!0),at(Et,xe,Math.round(Qt)),at(Et,we,Math.round(Gt));const{paths:sn,rect:rn,rotation:In}=Re;for(let{bezier:Nn}of sn){Nn=Ue(ct=wr,dt,pe).call(ct,Nn,rn,In);const Ft=[];Et.paths.push(Ft);let wt=Jt*(Nn[0]-cn),ft=Jt*(Nn[1]-cn);for(let Zt=2,Kt=Nn.length;Zt<Kt;Zt+=6){const Je=Jt*(Nn[Zt]-cn),Tt=Jt*(Nn[Zt+1]-cn),Xt=Jt*(Nn[Zt+2]-cn),pn=Jt*(Nn[Zt+3]-cn),an=Jt*(Nn[Zt+4]-cn),Nt=Jt*(Nn[Zt+5]-cn);Ft.push([[wt,ft],[Je,Tt],[Xt,pn],[an,Nt]]),wt=an,ft=Nt}const Yt=Ue(this,dt,Oe).call(this,Ft);Et.bezierPath2D.push(Yt)}const Ln=Ue(Mt=Et,ne,je).call(Mt);return at(Et,W,Math.max(gt.AnnotationEditor.MIN_SIZE,Ln[2]-Ln[0])),at(Et,X,Math.max(gt.AnnotationEditor.MIN_SIZE,Ln[3]-Ln[1])),Ue(Rt=Et,ne,Ne).call(Rt,Qt,Gt),Et}serialize(){if(this.isEmpty())return null;const Re=this.getRect(0,0),Be=gt.AnnotationEditor._colorManager.convert(this.ctx.strokeStyle);return{annotationType:Ge.AnnotationEditorType.INK,color:Be,thickness:this.thickness,opacity:this.opacity,paths:Ue(this,ne,Fe).call(this,this.scaleFactor/this.parentScale,this.translationX,this.translationY,Re),pageIndex:this.pageIndex,rect:Re,rotation:this.rotation,structTreeParentId:this._structTreeParentId}}};X=new WeakMap,W=new WeakMap,G=new WeakMap,Y=new WeakMap,he=new WeakMap,Ce=new WeakMap,ke=new WeakMap,ae=new WeakMap,Ae=new WeakMap,ge=new WeakMap,ve=new WeakMap,xe=new WeakMap,we=new WeakMap,fe=new WeakMap,ne=new WeakSet,Se=function(De){const Re=this.thickness;this.addCommands({cmd:()=>{this.thickness=De,Ue(this,ne,qe).call(this)},undo:()=>{this.thickness=Re,Ue(this,ne,qe).call(this)},mustExec:!0,type:Ge.AnnotationEditorParamsType.INK_THICKNESS,overwriteIfSameType:!0,keepUndo:!0})},Le=function(De){const Re=this.color;this.addCommands({cmd:()=>{this.color=De,Ue(this,ne,He).call(this)},undo:()=>{this.color=Re,Ue(this,ne,He).call(this)},mustExec:!0,type:Ge.AnnotationEditorParamsType.INK_COLOR,overwriteIfSameType:!0,keepUndo:!0})},Me=function(De){De/=100;const Re=this.opacity;this.addCommands({cmd:()=>{this.opacity=De,Ue(this,ne,He).call(this)},undo:()=>{this.opacity=Re,Ue(this,ne,He).call(this)},mustExec:!0,type:Ge.AnnotationEditorParamsType.INK_OPACITY,overwriteIfSameType:!0,keepUndo:!0})},Ee=function(){const{parentRotation:De,parentDimensions:[Re,Be]}=this;switch(De){case 90:return[0,Be,Be,Re];case 180:return[Re,Be,Re,Be];case 270:return[Re,0,Be,Re];default:return[0,0,Re,Be]}},Pe=function(){const{ctx:De,color:Re,opacity:Be,thickness:Ze,parentScale:ct,scaleFactor:Mt}=this;De.lineWidth=Ze*ct/Mt,De.lineCap="round",De.lineJoin="round",De.miterLimit=10,De.strokeStyle=`${Re}${(0,ht.opacityToHex)(Be)}`},Ve=function(De,Re){this.canvas.addEventListener("contextmenu",Ct.noContextMenu),this.canvas.addEventListener("pointerleave",V(this,Y)),this.canvas.addEventListener("pointermove",V(this,G)),this.canvas.addEventListener("pointerup",V(this,he)),this.canvas.removeEventListener("pointerdown",V(this,Ce)),this.isEditing=!0,V(this,ge)||(at(this,ge,!0),Ue(this,ne,_t).call(this),this.thickness||(this.thickness=$t._defaultThickness),this.color||(this.color=$t._defaultColor||gt.AnnotationEditor._defaultLineColor),this.opacity??(this.opacity=$t._defaultOpacity)),this.currentPath.push([De,Re]),at(this,Ae,!1),Ue(this,ne,Pe).call(this),at(this,fe,()=>{Ue(this,ne,ye).call(this),V(this,fe)&&window.requestAnimationFrame(V(this,fe))}),window.requestAnimationFrame(V(this,fe))},Ke=function(De,Re){const[Be,Ze]=this.currentPath.at(-1);if(this.currentPath.length>1&&De===Be&&Re===Ze)return;const ct=this.currentPath;let Mt=V(this,ke);if(ct.push([De,Re]),at(this,Ae,!0),ct.length<=2){Mt.moveTo(...ct[0]),Mt.lineTo(De,Re);return}ct.length===3&&(at(this,ke,Mt=new Path2D),Mt.moveTo(...ct[0])),Ue(this,ne,ot).call(this,Mt,...ct.at(-3),...ct.at(-2),De,Re)},ze=function(){if(this.currentPath.length===0)return;const De=this.currentPath.at(-1);V(this,ke).lineTo(...De)},rt=function(De,Re){at(this,fe,null),De=Math.min(Math.max(De,0),this.canvas.width),Re=Math.min(Math.max(Re,0),this.canvas.height),Ue(this,ne,Ke).call(this,De,Re),Ue(this,ne,ze).call(this);let Be;if(this.currentPath.length!==1)Be=Ue(this,ne,Ye).call(this);else{const Et=[De,Re];Be=[[Et,Et.slice(),Et.slice(),Et]]}const Ze=V(this,ke),ct=this.currentPath;this.currentPath=[],at(this,ke,new Path2D);const Mt=()=>{this.allRawPaths.push(ct),this.paths.push(Be),this.bezierPath2D.push(Ze),this.rebuild()},Rt=()=>{this.allRawPaths.pop(),this.paths.pop(),this.bezierPath2D.pop(),this.paths.length===0?this.remove():(this.canvas||(Ue(this,ne,yt).call(this),Ue(this,ne,ut).call(this)),Ue(this,ne,qe).call(this))};this.addCommands({cmd:Mt,undo:Rt,mustExec:!0})},ye=function(){if(!V(this,Ae))return;at(this,Ae,!1);const De=Math.ceil(this.thickness*this.parentScale),Re=this.currentPath.slice(-3),Be=Re.map(Mt=>Mt[0]),Ze=Re.map(Mt=>Mt[1]);Math.min(...Be)-De,Math.max(...Be)+De,Math.min(...Ze)-De,Math.max(...Ze)+De;const{ctx:ct}=this;ct.save(),ct.clearRect(0,0,this.canvas.width,this.canvas.height);for(const Mt of this.bezierPath2D)ct.stroke(Mt);ct.stroke(V(this,ke)),ct.restore()},ot=function(De,Re,Be,Ze,ct,Mt,Rt){const Et=(Re+Ze)/2,At=(Be+ct)/2,jt=(Ze+Mt)/2,Qt=(ct+Rt)/2;De.bezierCurveTo(Et+2*(Ze-Et)/3,At+2*(ct-At)/3,jt+2*(Ze-jt)/3,Qt+2*(ct-Qt)/3,jt,Qt)},Ye=function(){const De=this.currentPath;if(De.length<=2)return[[De[0],De[0],De.at(-1),De.at(-1)]];const Re=[];let Be,[Ze,ct]=De[0];for(Be=1;Be<De.length-2;Be++){const[Gt,Jt]=De[Be],[cn,sn]=De[Be+1],rn=(Gt+cn)/2,In=(Jt+sn)/2,Ln=[Ze+2*(Gt-Ze)/3,ct+2*(Jt-ct)/3],Nn=[rn+2*(Gt-rn)/3,In+2*(Jt-In)/3];Re.push([[Ze,ct],Ln,Nn,[rn,In]]),[Ze,ct]=[rn,In]}const[Mt,Rt]=De[Be],[Et,At]=De[Be+1],jt=[Ze+2*(Mt-Ze)/3,ct+2*(Rt-ct)/3],Qt=[Et+2*(Mt-Et)/3,At+2*(Rt-At)/3];return Re.push([[Ze,ct],jt,Qt,[Et,At]]),Re},He=function(){if(this.isEmpty()){Ue(this,ne,tt).call(this);return}Ue(this,ne,Pe).call(this);const{canvas:De,ctx:Re}=this;Re.setTransform(1,0,0,1,0,0),Re.clearRect(0,0,De.width,De.height),Ue(this,ne,tt).call(this);for(const Be of this.bezierPath2D)Re.stroke(Be)},Qe=function(De){this.canvas.removeEventListener("pointerleave",V(this,Y)),this.canvas.removeEventListener("pointermove",V(this,G)),this.canvas.removeEventListener("pointerup",V(this,he)),this.canvas.addEventListener("pointerdown",V(this,Ce)),setTimeout(()=>{this.canvas.removeEventListener("contextmenu",Ct.noContextMenu)},10),Ue(this,ne,rt).call(this,De.offsetX,De.offsetY),this.addToAnnotationStorage(),this.setInBackground()},yt=function(){this.canvas=document.createElement("canvas"),this.canvas.width=this.canvas.height=0,this.canvas.className="inkEditorCanvas",gt.AnnotationEditor._l10nPromise.get("editor_ink_canvas_aria_label").then(De=>{var Re;return(Re=this.canvas)==null?void 0:Re.setAttribute("aria-label",De)}),this.div.append(this.canvas),this.ctx=this.canvas.getContext("2d")},ut=function(){at(this,ve,new ResizeObserver(De=>{const Re=De[0].contentRect;Re.width&&Re.height&&this.setDimensions(Re.width,Re.height)})),V(this,ve).observe(this.div)},_t=function(){if(!V(this,ge))return;const[De,Re]=this.parentDimensions;this.canvas.width=Math.ceil(this.width*De),this.canvas.height=Math.ceil(this.height*Re),Ue(this,ne,tt).call(this)},Ne=function(De,Re){const Be=Ue(this,ne,Ie).call(this),Ze=(De-Be)/V(this,W),ct=(Re-Be)/V(this,X);this.scaleFactor=Math.min(Ze,ct)},tt=function(){const De=Ue(this,ne,Ie).call(this)/2;this.ctx.setTransform(this.scaleFactor,0,0,this.scaleFactor,this.translationX*this.scaleFactor+De,this.translationY*this.scaleFactor+De)},dt=new WeakSet,Oe=function(De){const Re=new Path2D;for(let Be=0,Ze=De.length;Be<Ze;Be++){const[ct,Mt,Rt,Et]=De[Be];Be===0&&Re.moveTo(...ct),Re.bezierCurveTo(Mt[0],Mt[1],Rt[0],Rt[1],Et[0],Et[1])}return Re},_e=function(De,Re,Be){const[Ze,ct,Mt,Rt]=Re;switch(Be){case 0:for(let Et=0,At=De.length;Et<At;Et+=2)De[Et]+=Ze,De[Et+1]=Rt-De[Et+1];break;case 90:for(let Et=0,At=De.length;Et<At;Et+=2){const jt=De[Et];De[Et]=De[Et+1]+Ze,De[Et+1]=jt+ct}break;case 180:for(let Et=0,At=De.length;Et<At;Et+=2)De[Et]=Mt-De[Et],De[Et+1]+=ct;break;case 270:for(let Et=0,At=De.length;Et<At;Et+=2){const jt=De[Et];De[Et]=Mt-De[Et+1],De[Et+1]=Rt-jt}break;default:throw new Error("Invalid rotation")}return De},pe=function(De,Re,Be){const[Ze,ct,Mt,Rt]=Re;switch(Be){case 0:for(let Et=0,At=De.length;Et<At;Et+=2)De[Et]-=Ze,De[Et+1]=Rt-De[Et+1];break;case 90:for(let Et=0,At=De.length;Et<At;Et+=2){const jt=De[Et];De[Et]=De[Et+1]-ct,De[Et+1]=jt-Ze}break;case 180:for(let Et=0,At=De.length;Et<At;Et+=2)De[Et]=Mt-De[Et],De[Et+1]-=ct;break;case 270:for(let Et=0,At=De.length;Et<At;Et+=2){const jt=De[Et];De[Et]=Rt-De[Et+1],De[Et+1]=Mt-jt}break;default:throw new Error("Invalid rotation")}return De},Fe=function(De,Re,Be,Ze){var ct,Mt;const Rt=[],Et=this.thickness/2,At=De*Re+Et,jt=De*Be+Et;for(const Qt of this.paths){const Gt=[],Jt=[];for(let cn=0,sn=Qt.length;cn<sn;cn++){const[rn,In,Ln,Nn]=Qt[cn],Ft=De*rn[0]+At,wt=De*rn[1]+jt,ft=De*In[0]+At,Yt=De*In[1]+jt,Zt=De*Ln[0]+At,Kt=De*Ln[1]+jt,Je=De*Nn[0]+At,Tt=De*Nn[1]+jt;cn===0&&(Gt.push(Ft,wt),Jt.push(Ft,wt)),Gt.push(ft,Yt,Zt,Kt,Je,Tt),Jt.push(ft,Yt),cn===sn-1&&Jt.push(Je,Tt)}Rt.push({bezier:Ue(ct=$t,dt,_e).call(ct,Gt,Ze,this.rotation),points:Ue(Mt=$t,dt,_e).call(Mt,Jt,Ze,this.rotation)})}return Rt},je=function(){let De=1/0,Re=-1/0,Be=1/0,Ze=-1/0;for(const ct of this.paths)for(const[Mt,Rt,Et,At]of ct){const jt=Ge.Util.bezierBoundingBox(...Mt,...Rt,...Et,...At);De=Math.min(De,jt[0]),Be=Math.min(Be,jt[1]),Re=Math.max(Re,jt[2]),Ze=Math.max(Ze,jt[3])}return[De,Be,Re,Ze]},Ie=function(){return V(this,ae)?Math.ceil(this.thickness*this.parentScale):0},qe=function(De=!1){if(this.isEmpty())return;if(!V(this,ae)){Ue(this,ne,He).call(this);return}const Re=Ue(this,ne,je).call(this),Be=Ue(this,ne,Ie).call(this);at(this,W,Math.max(gt.AnnotationEditor.MIN_SIZE,Re[2]-Re[0])),at(this,X,Math.max(gt.AnnotationEditor.MIN_SIZE,Re[3]-Re[1]));const Ze=Math.ceil(Be+V(this,W)*this.scaleFactor),ct=Math.ceil(Be+V(this,X)*this.scaleFactor),[Mt,Rt]=this.parentDimensions;this.width=Ze/Mt,this.height=ct/Rt,this.setAspectRatio(Ze,ct);const Et=this.translationX,At=this.translationY;this.translationX=-Re[0],this.translationY=-Re[1],Ue(this,ne,_t).call(this),Ue(this,ne,He).call(this),at(this,xe,Ze),at(this,we,ct),this.setDims(Ze,ct);const jt=De?Be/this.scaleFactor/2:0;this.translate(Et-this.translationX-jt,At-this.translationY-jt)},it($t,dt),$n($t,"_defaultColor",null),$n($t,"_defaultOpacity",1),$n($t,"_defaultThickness",1),$n($t,"_type","ink");let Vt=$t;q.InkEditor=Vt},(B,q,K)=>{var X,W,G,Y,he,Ce,ke,ae,Ae,ge,ve,xe,we,fe,ne,Se,Le,Me,Ee,Pe;Object.defineProperty(q,"__esModule",{value:!0}),q.StampEditor=void 0;var Ve=K(1),Ke=K(4),ze=K(6),rt=K(29);const ye=class extends Ke.AnnotationEditor{constructor(He){super({...He,name:"stampEditor"}),it(this,ve),it(this,X,null),it(this,W,null),it(this,G,null),it(this,Y,null),it(this,he,null),it(this,Ce,null),it(this,ke,null),it(this,ae,null),it(this,Ae,!1),it(this,ge,!1),at(this,Y,He.bitmapUrl),at(this,he,He.bitmapFile)}static initialize(He){Ke.AnnotationEditor.initialize(He)}static get supportedTypes(){const He=["apng","avif","bmp","gif","jpeg","png","svg+xml","webp","x-icon"];return(0,Ve.shadow)(this,"supportedTypes",He.map(Qe=>`image/${Qe}`))}static get supportedTypesStr(){return(0,Ve.shadow)(this,"supportedTypesStr",this.supportedTypes.join(","))}static isHandlingMimeForPasting(He){return this.supportedTypes.includes(He)}static paste(He,Qe){Qe.pasteEditor(Ve.AnnotationEditorType.STAMP,{bitmapFile:He.getAsFile()})}remove(){var He,Qe;V(this,W)&&(at(this,X,null),this._uiManager.imageManager.deleteId(V(this,W)),(He=V(this,Ce))==null||He.remove(),at(this,Ce,null),(Qe=V(this,ke))==null||Qe.disconnect(),at(this,ke,null)),super.remove()}rebuild(){if(!this.parent){V(this,W)&&Ue(this,ve,fe).call(this);return}super.rebuild(),this.div!==null&&(V(this,W)&&Ue(this,ve,fe).call(this),this.isAttachedToDOM||this.parent.add(this))}onceAdded(){this._isDraggable=!0,this.div.focus()}isEmpty(){return!(V(this,G)||V(this,X)||V(this,Y)||V(this,he))}get isResizable(){return!0}render(){if(this.div)return this.div;let He,Qe;if(this.width&&(He=this.x,Qe=this.y),super.render(),this.div.hidden=!0,V(this,X)?Ue(this,ve,ne).call(this):Ue(this,ve,fe).call(this),this.width){const[yt,ut]=this.parentDimensions;this.setAt(He*yt,Qe*ut,this.width*yt,this.height*ut)}return this.div}static deserialize(He,Qe,yt){if(He instanceof rt.StampAnnotationElement)return null;const ut=super.deserialize(He,Qe,yt),{rect:_t,bitmapUrl:Ne,bitmapId:tt,isSvg:dt,accessibilityData:Oe}=He;tt&&yt.imageManager.isValidId(tt)?at(ut,W,tt):at(ut,Y,Ne),at(ut,Ae,dt);const[_e,pe]=ut.pageDimensions;return ut.width=(_t[2]-_t[0])/_e,ut.height=(_t[3]-_t[1])/pe,Oe&&(ut.altTextData=Oe),ut}serialize(He=!1,Qe=null){if(this.isEmpty())return null;const yt={annotationType:Ve.AnnotationEditorType.STAMP,bitmapId:V(this,W),pageIndex:this.pageIndex,rect:this.getRect(0,0),rotation:this.rotation,isSvg:V(this,Ae),structTreeParentId:this._structTreeParentId};if(He)return yt.bitmapUrl=Ue(this,ve,Ee).call(this,!0),yt.accessibilityData=this.altTextData,yt;const{decorative:ut,altText:_t}=this.altTextData;if(!ut&&_t&&(yt.accessibilityData={type:"Figure",alt:_t}),Qe===null)return yt;Qe.stamps||(Qe.stamps=new Map);const Ne=V(this,Ae)?(yt.rect[2]-yt.rect[0])*(yt.rect[3]-yt.rect[1]):null;if(!Qe.stamps.has(V(this,W)))Qe.stamps.set(V(this,W),{area:Ne,serialized:yt}),yt.bitmap=Ue(this,ve,Ee).call(this,!1);else if(V(this,Ae)){const tt=Qe.stamps.get(V(this,W));Ne>tt.area&&(tt.area=Ne,tt.serialized.bitmap.close(),tt.serialized.bitmap=Ue(this,ve,Ee).call(this,!1))}return yt}};X=new WeakMap,W=new WeakMap,G=new WeakMap,Y=new WeakMap,he=new WeakMap,Ce=new WeakMap,ke=new WeakMap,ae=new WeakMap,Ae=new WeakMap,ge=new WeakMap,ve=new WeakSet,xe=function(Ye,He=!1){if(!Ye){this.remove();return}at(this,X,Ye.bitmap),He||(at(this,W,Ye.id),at(this,Ae,Ye.isSvg)),Ue(this,ve,ne).call(this)},we=function(){at(this,G,null),this._uiManager.enableWaiting(!1),V(this,Ce)&&this.div.focus()},fe=function(){if(V(this,W)){this._uiManager.enableWaiting(!0),this._uiManager.imageManager.getFromId(V(this,W)).then(He=>Ue(this,ve,xe).call(this,He,!0)).finally(()=>Ue(this,ve,we).call(this));return}if(V(this,Y)){const He=V(this,Y);at(this,Y,null),this._uiManager.enableWaiting(!0),at(this,G,this._uiManager.imageManager.getFromUrl(He).then(Qe=>Ue(this,ve,xe).call(this,Qe)).finally(()=>Ue(this,ve,we).call(this)));return}if(V(this,he)){const He=V(this,he);at(this,he,null),this._uiManager.enableWaiting(!0),at(this,G,this._uiManager.imageManager.getFromFile(He).then(Qe=>Ue(this,ve,xe).call(this,Qe)).finally(()=>Ue(this,ve,we).call(this)));return}const Ye=document.createElement("input");Ye.type="file",Ye.accept=ye.supportedTypesStr,at(this,G,new Promise(He=>{Ye.addEventListener("change",async()=>{if(!Ye.files||Ye.files.length===0)this.remove();else{this._uiManager.enableWaiting(!0);const Qe=await this._uiManager.imageManager.getFromFile(Ye.files[0]);Ue(this,ve,xe).call(this,Qe)}He()}),Ye.addEventListener("cancel",()=>{this.remove(),He()})}).finally(()=>Ue(this,ve,we).call(this))),Ye.click()},ne=function(){const{div:Ye}=this;let{width:He,height:Qe}=V(this,X);const[yt,ut]=this.pageDimensions,_t=.75;if(this.width)He=this.width*yt,Qe=this.height*ut;else if(He>_t*yt||Qe>_t*ut){const Oe=Math.min(_t*yt/He,_t*ut/Qe);He*=Oe,Qe*=Oe}const[Ne,tt]=this.parentDimensions;this.setDims(He*Ne/yt,Qe*tt/ut),this._uiManager.enableWaiting(!1);const dt=at(this,Ce,document.createElement("canvas"));Ye.append(dt),Ye.hidden=!1,Ue(this,ve,Me).call(this,He,Qe),Ue(this,ve,Pe).call(this),V(this,ge)||(this.parent.addUndoableEditor(this),at(this,ge,!0)),this._uiManager._eventBus.dispatch("reporttelemetry",{source:this,details:{type:"editing",subtype:this.editorType,data:{action:"inserted_image"}}}),this.addAltTextButton()},Se=function(Ye,He){var Qe;const[yt,ut]=this.parentDimensions;this.width=Ye/yt,this.height=He/ut,this.setDims(Ye,He),(Qe=this._initialOptions)!=null&&Qe.isCentered?this.center():this.fixAndSetPosition(),this._initialOptions=null,V(this,ae)!==null&&clearTimeout(V(this,ae)),at(this,ae,setTimeout(()=>{at(this,ae,null),Ue(this,ve,Me).call(this,Ye,He)},200))},Le=function(Ye,He){const{width:Qe,height:yt}=V(this,X);let ut=Qe,_t=yt,Ne=V(this,X);for(;ut>2*Ye||_t>2*He;){const tt=ut,dt=_t;ut>2*Ye&&(ut=ut>=16384?Math.floor(ut/2)-1:Math.ceil(ut/2)),_t>2*He&&(_t=_t>=16384?Math.floor(_t/2)-1:Math.ceil(_t/2));const Oe=new OffscreenCanvas(ut,_t);Oe.getContext("2d").drawImage(Ne,0,0,tt,dt,0,0,ut,_t),Ne=Oe.transferToImageBitmap()}return Ne},Me=function(Ye,He){Ye=Math.ceil(Ye),He=Math.ceil(He);const Qe=V(this,Ce);if(!Qe||Qe.width===Ye&&Qe.height===He)return;Qe.width=Ye,Qe.height=He;const yt=V(this,Ae)?V(this,X):Ue(this,ve,Le).call(this,Ye,He),ut=Qe.getContext("2d");ut.filter=this._uiManager.hcmFilter,ut.drawImage(yt,0,0,yt.width,yt.height,0,0,Ye,He)},Ee=function(Ye){if(Ye){if(V(this,Ae)){const Qe=this._uiManager.imageManager.getSvgUrl(V(this,W));if(Qe)return Qe}const He=document.createElement("canvas");return{width:He.width,height:He.height}=V(this,X),He.getContext("2d").drawImage(V(this,X),0,0),He.toDataURL()}if(V(this,Ae)){const[He,Qe]=this.pageDimensions,yt=Math.round(this.width*He*ze.PixelsPerInch.PDF_TO_CSS_UNITS),ut=Math.round(this.height*Qe*ze.PixelsPerInch.PDF_TO_CSS_UNITS),_t=new OffscreenCanvas(yt,ut);return _t.getContext("2d").drawImage(V(this,X),0,0,V(this,X).width,V(this,X).height,0,0,yt,ut),_t.transferToImageBitmap()}return structuredClone(V(this,X))},Pe=function(){at(this,ke,new ResizeObserver(Ye=>{const He=Ye[0].contentRect;He.width&&He.height&&Ue(this,ve,Se).call(this,He.width,He.height)})),V(this,ke).observe(this.div)},$n(ye,"_type","stamp");let ot=ye;q.StampEditor=ot}],__webpack_module_cache__={};function __w_pdfjs_require__(B){var q=__webpack_module_cache__[B];if(q!==void 0)return q.exports;var K=__webpack_module_cache__[B]={exports:{}};return __webpack_modules__[B](K,K.exports,__w_pdfjs_require__),K.exports}var __webpack_exports__={};return(()=>{var B=__webpack_exports__;Object.defineProperty(B,"__esModule",{value:!0}),Object.defineProperty(B,"AbortException",{enumerable:!0,get:function(){return q.AbortException}}),Object.defineProperty(B,"AnnotationEditorLayer",{enumerable:!0,get:function(){return G.AnnotationEditorLayer}}),Object.defineProperty(B,"AnnotationEditorParamsType",{enumerable:!0,get:function(){return q.AnnotationEditorParamsType}}),Object.defineProperty(B,"AnnotationEditorType",{enumerable:!0,get:function(){return q.AnnotationEditorType}}),Object.defineProperty(B,"AnnotationEditorUIManager",{enumerable:!0,get:function(){return Y.AnnotationEditorUIManager}}),Object.defineProperty(B,"AnnotationLayer",{enumerable:!0,get:function(){return he.AnnotationLayer}}),Object.defineProperty(B,"AnnotationMode",{enumerable:!0,get:function(){return q.AnnotationMode}}),Object.defineProperty(B,"CMapCompressionType",{enumerable:!0,get:function(){return q.CMapCompressionType}}),Object.defineProperty(B,"DOMSVGFactory",{enumerable:!0,get:function(){return X.DOMSVGFactory}}),Object.defineProperty(B,"FeatureTest",{enumerable:!0,get:function(){return q.FeatureTest}}),Object.defineProperty(B,"GlobalWorkerOptions",{enumerable:!0,get:function(){return Ce.GlobalWorkerOptions}}),Object.defineProperty(B,"ImageKind",{enumerable:!0,get:function(){return q.ImageKind}}),Object.defineProperty(B,"InvalidPDFException",{enumerable:!0,get:function(){return q.InvalidPDFException}}),Object.defineProperty(B,"MissingPDFException",{enumerable:!0,get:function(){return q.MissingPDFException}}),Object.defineProperty(B,"OPS",{enumerable:!0,get:function(){return q.OPS}}),Object.defineProperty(B,"PDFDataRangeTransport",{enumerable:!0,get:function(){return K.PDFDataRangeTransport}}),Object.defineProperty(B,"PDFDateString",{enumerable:!0,get:function(){return X.PDFDateString}}),Object.defineProperty(B,"PDFWorker",{enumerable:!0,get:function(){return K.PDFWorker}}),Object.defineProperty(B,"PasswordResponses",{enumerable:!0,get:function(){return q.PasswordResponses}}),Object.defineProperty(B,"PermissionFlag",{enumerable:!0,get:function(){return q.PermissionFlag}}),Object.defineProperty(B,"PixelsPerInch",{enumerable:!0,get:function(){return X.PixelsPerInch}}),Object.defineProperty(B,"PromiseCapability",{enumerable:!0,get:function(){return q.PromiseCapability}}),Object.defineProperty(B,"RenderingCancelledException",{enumerable:!0,get:function(){return X.RenderingCancelledException}}),Object.defineProperty(B,"SVGGraphics",{enumerable:!0,get:function(){return K.SVGGraphics}}),Object.defineProperty(B,"UnexpectedResponseException",{enumerable:!0,get:function(){return q.UnexpectedResponseException}}),Object.defineProperty(B,"Util",{enumerable:!0,get:function(){return q.Util}}),Object.defineProperty(B,"VerbosityLevel",{enumerable:!0,get:function(){return q.VerbosityLevel}}),Object.defineProperty(B,"XfaLayer",{enumerable:!0,get:function(){return ke.XfaLayer}}),Object.defineProperty(B,"build",{enumerable:!0,get:function(){return K.build}}),Object.defineProperty(B,"createValidAbsoluteUrl",{enumerable:!0,get:function(){return q.createValidAbsoluteUrl}}),Object.defineProperty(B,"getDocument",{enumerable:!0,get:function(){return K.getDocument}}),Object.defineProperty(B,"getFilenameFromUrl",{enumerable:!0,get:function(){return X.getFilenameFromUrl}}),Object.defineProperty(B,"getPdfFilenameFromUrl",{enumerable:!0,get:function(){return X.getPdfFilenameFromUrl}}),Object.defineProperty(B,"getXfaPageViewport",{enumerable:!0,get:function(){return X.getXfaPageViewport}}),Object.defineProperty(B,"isDataScheme",{enumerable:!0,get:function(){return X.isDataScheme}}),Object.defineProperty(B,"isPdfFile",{enumerable:!0,get:function(){return X.isPdfFile}}),Object.defineProperty(B,"loadScript",{enumerable:!0,get:function(){return X.loadScript}}),Object.defineProperty(B,"noContextMenu",{enumerable:!0,get:function(){return X.noContextMenu}}),Object.defineProperty(B,"normalizeUnicode",{enumerable:!0,get:function(){return q.normalizeUnicode}}),Object.defineProperty(B,"renderTextLayer",{enumerable:!0,get:function(){return W.renderTextLayer}}),Object.defineProperty(B,"setLayerDimensions",{enumerable:!0,get:function(){return X.setLayerDimensions}}),Object.defineProperty(B,"shadow",{enumerable:!0,get:function(){return q.shadow}}),Object.defineProperty(B,"updateTextLayer",{enumerable:!0,get:function(){return W.updateTextLayer}}),Object.defineProperty(B,"version",{enumerable:!0,get:function(){return K.version}});var q=__w_pdfjs_require__(1),K=__w_pdfjs_require__(2),X=__w_pdfjs_require__(6),W=__w_pdfjs_require__(26),G=__w_pdfjs_require__(27),Y=__w_pdfjs_require__(5),he=__w_pdfjs_require__(29),Ce=__w_pdfjs_require__(14),ke=__w_pdfjs_require__(32)})(),__webpack_exports__})())})(pdf);var pdfExports=pdf.exports;(function(B){var q=T$1,K=pdfExports;function X(oe){var $e=Object.create(null);return oe&&Object.keys(oe).forEach(function(We){if(We!=="default"){var et=Object.getOwnPropertyDescriptor(oe,We);Object.defineProperty($e,We,et.get?et:{enumerable:!0,get:function(){return oe[We]}})}}),$e.default=oe,Object.freeze($e)}var W,G=X(q),Y=X(K);B.AnnotationType=void 0,(W=B.AnnotationType||(B.AnnotationType={}))[W.Text=1]="Text",W[W.Link=2]="Link",W[W.FreeText=3]="FreeText",W[W.Line=4]="Line",W[W.Square=5]="Square",W[W.Circle=6]="Circle",W[W.Polygon=7]="Polygon",W[W.Polyline=8]="Polyline",W[W.Highlight=9]="Highlight",W[W.Underline=10]="Underline",W[W.Squiggly=11]="Squiggly",W[W.StrikeOut=12]="StrikeOut",W[W.Stamp=13]="Stamp",W[W.Caret=14]="Caret",W[W.Ink=15]="Ink",W[W.Popup=16]="Popup",W[W.FileAttachment=17]="FileAttachment";var he=function(oe,$e){return he=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(We,et){We.__proto__=et}||function(We,et){for(var st in et)Object.prototype.hasOwnProperty.call(et,st)&&(We[st]=et[st])},he(oe,$e)};function Ce(oe,$e){if(typeof $e!="function"&&$e!==null)throw new TypeError("Class extends value "+String($e)+" is not a constructor or null");function We(){this.constructor=oe}he(oe,$e),oe.prototype=$e===null?Object.create($e):(We.prototype=$e.prototype,new We)}var ke,ae=function(){return ae=Object.assign||function(oe){for(var $e,We=1,et=arguments.length;We<et;We++)for(var st in $e=arguments[We])Object.prototype.hasOwnProperty.call($e,st)&&(oe[st]=$e[st]);return oe},ae.apply(this,arguments)};B.TextDirection=void 0,(ke=B.TextDirection||(B.TextDirection={})).RightToLeft="RTL",ke.LeftToRight="LTR";var Ae,ge=G.createContext({currentTheme:"light",direction:B.TextDirection.LeftToRight,setCurrentTheme:function(){}}),ve=function(oe){var $e=[];return Object.keys(oe).forEach(function(We){We&&oe[We]&&$e.push(We)}),$e.join(" ")},xe=typeof window<"u"?G.useLayoutEffect:G.useEffect,we=function(oe){var $e=G.useRef(null),We=oe.once,et=oe.threshold,st=oe.onVisibilityChanged;return xe(function(){var lt=$e.current;if(lt){var St=new IntersectionObserver(function(pt){pt.forEach(function(nt){var bt=nt.isIntersecting,mt=nt.intersectionRatio;st({isVisible:bt,ratio:mt}),bt&&We&&(St.unobserve(lt),St.disconnect())})},{threshold:et||0});return St.observe(lt),function(){St.unobserve(lt),St.disconnect()}}},[]),$e},fe=function(oe){var $e=oe.children,We=oe.ignoreDirection,et=We!==void 0&&We,st=oe.size,lt=st===void 0?24:st,St=G.useContext(ge).direction,pt=!et&&St===B.TextDirection.RightToLeft,nt="".concat(lt||24,"px");return G.createElement("svg",{"aria-hidden":"true",className:ve({"rpv-core__icon":!0,"rpv-core__icon--rtl":pt}),focusable:"false",height:nt,viewBox:"0 0 24 24",width:nt},$e)},ne=function(){return G.createElement(fe,{size:16},G.createElement("path",{d:"M23.5,0.499l-16.5,23l-6.5-6.5"}))},Se=function(oe){var $e=oe.children,We=oe.testId,et=oe.onClick,st=G.useContext(ge).direction===B.TextDirection.RightToLeft,lt=We?{"data-testid":We}:{};return G.createElement("button",ae({className:ve({"rpv-core__primary-button":!0,"rpv-core__primary-button--rtl":st}),type:"button",onClick:et},lt),$e)},Le=function(oe){var $e=oe.size,We=$e===void 0?"4rem":$e,et=oe.testId,st=G.useState(!1),lt=st[0],St=st[1],pt=et?{"data-testid":et}:{},nt=we({onVisibilityChanged:function(bt){St(bt.isVisible)}});return G.createElement("div",ae({},pt,{className:ve({"rpv-core__spinner":!0,"rpv-core__spinner--animating":lt}),ref:nt,style:{height:We,width:We}}))},Me=function(oe){var $e=oe.ariaLabel,We=$e===void 0?"":$e,et=oe.autoFocus,st=et!==void 0&&et,lt=oe.placeholder,St=lt===void 0?"":lt,pt=oe.testId,nt=oe.type,bt=nt===void 0?"text":nt,mt=oe.value,Ot=mt===void 0?"":mt,Dt=oe.onChange,It=oe.onKeyDown,Wt=It===void 0?function(){}:It,zt=G.useContext(ge).direction,Ut=G.useRef(),Rn=zt===B.TextDirection.RightToLeft,vn={ref:Ut,"data-testid":"","aria-label":We,className:ve({"rpv-core__textbox":!0,"rpv-core__textbox--rtl":Rn}),placeholder:St,value:Ot,onChange:function(bn){return Dt(bn.target.value)},onKeyDown:Wt};return pt&&(vn["data-testid"]=pt),xe(function(){if(st){var bn=Ut.current;if(bn){var Sn=window.scrollX,un=window.scrollY;bn.focus(),window.scrollTo(Sn,un)}}},[]),bt==="text"?G.createElement("input",ae({type:"text"},vn)):G.createElement("input",ae({type:"password"},vn))};(function(oe){oe[oe.ExitFullScreen=0]="ExitFullScreen",oe[oe.FullScreenChange=1]="FullScreenChange",oe[oe.FullScreenElement=2]="FullScreenElement",oe[oe.FullScreenEnabled=3]="FullScreenEnabled",oe[oe.RequestFullScreen=4]="RequestFullScreen"})(Ae||(Ae={}));var Ee,Pe={ExitFullScreen:"exitFullscreen",FullScreenChange:"fullscreenchange",FullScreenElement:"fullscreenElement",FullScreenEnabled:"fullscreenEnabled",RequestFullScreen:"requestFullscreen"},Ve={ExitFullScreen:"webkitExitFullscreen",FullScreenChange:"webkitfullscreenchange",FullScreenElement:"webkitFullscreenElement",FullScreenEnabled:"webkitFullscreenEnabled",RequestFullScreen:"webkitRequestFullscreen"},Ke={ExitFullScreen:"msExitFullscreen",FullScreenChange:"msFullscreenChange",FullScreenElement:"msFullscreenElement",FullScreenEnabled:"msFullscreenEnabled",RequestFullScreen:"msRequestFullscreen"},ze=typeof window<"u",rt=ze&&(Ae.FullScreenEnabled in document&&Pe||Ve.FullScreenEnabled in document&&Ve||Ke.FullScreenEnabled in document&&Ke)||Pe,ye=function(){return ze&&rt.FullScreenEnabled in document&&document[rt.FullScreenEnabled]===!0},ot=function(oe){return ze?oe[rt.ExitFullScreen]():Promise.resolve({})},Ye=function(){return ze?document[rt.FullScreenElement]:null},He=function(oe,$e){var We=G.useRef(),et=function(){We.current&&clearTimeout(We.current)};return G.useEffect(function(){return function(){return et()}},[]),G.useCallback(function(){for(var st=[],lt=0;lt<arguments.length;lt++)st[lt]=arguments[lt];et(),We.current=setTimeout(function(){oe.apply(void 0,st)},$e)},[oe,$e])},Qe=function(){var oe=G.useRef(!1);return G.useEffect(function(){return oe.current=!0,function(){oe.current=!1}},[]),oe},yt=function(oe){var $e=G.useRef(oe);return G.useEffect(function(){$e.current=oe},[oe]),$e.current};(function(oe){oe.NotRenderedYet="NotRenderedYet",oe.Rendering="Rendering",oe.Rendered="Rendered"})(Ee||(Ee={}));var ut,_t=-9999,Ne=function(oe){var $e=oe.doc,We=$e.numPages,et=$e.loadingTask.docId,st=G.useMemo(function(){return Array(We).fill(null).map(function(pt,nt){return{pageIndex:nt,renderStatus:Ee.NotRenderedYet,visibility:_t}})},[et]),lt=G.useRef({currentRenderingPage:-1,startRange:0,endRange:We-1,visibilities:st}),St=function(pt,nt){lt.current.visibilities[pt].visibility=nt};return{getHighestPriorityPage:function(){var pt=lt.current.visibilities.slice(lt.current.startRange,lt.current.endRange+1).filter(function(Dt){return Dt.visibility>_t});if(!pt.length)return-1;for(var nt=pt[0].pageIndex,bt=pt[pt.length-1].pageIndex,mt=pt.length,Ot=0;Ot<mt;Ot++){if(pt[Ot].renderStatus===Ee.Rendering)return-1;if(pt[Ot].renderStatus===Ee.NotRenderedYet)return pt[Ot].pageIndex}return bt+1<We&&lt.current.visibilities[bt+1].renderStatus!==Ee.Rendered?bt+1:nt-1>=0&&lt.current.visibilities[nt-1].renderStatus!==Ee.Rendered?nt-1:-1},isInRange:function(pt){return pt>=lt.current.startRange&&pt<=lt.current.endRange},markNotRendered:function(){for(var pt=0;pt<We;pt++)lt.current.visibilities[pt].renderStatus=Ee.NotRenderedYet},markRendered:function(pt){lt.current.visibilities[pt].renderStatus=Ee.Rendered},markRendering:function(pt){lt.current.currentRenderingPage!==-1&&lt.current.currentRenderingPage!==pt&&lt.current.visibilities[lt.current.currentRenderingPage].renderStatus===Ee.Rendering&&(lt.current.visibilities[lt.current.currentRenderingPage].renderStatus=Ee.NotRenderedYet),lt.current.visibilities[pt].renderStatus=Ee.Rendering,lt.current.currentRenderingPage=pt},setOutOfRange:function(pt){St(pt,_t)},setRange:function(pt,nt){lt.current.startRange=pt,lt.current.endRange=nt;for(var bt=0;bt<We;bt++)(bt<pt||bt>nt)&&(lt.current.visibilities[bt].visibility=_t,lt.current.visibilities[bt].renderStatus=Ee.NotRenderedYet)},setVisibility:St}},tt={core:{askingPassword:{requirePasswordToOpen:"This document requires a password to open",submit:"Submit"},wrongPassword:{tryAgain:"The password is wrong. Please try again"},pageLabel:"Page {{pageIndex}}"}},dt=G.createContext({l10n:tt,setL10n:function(){}}),Oe=0,_e=function(){return Oe++},pe=function(oe,$e,We){var et=function(st){var lt=$e.current;if(lt){var St=st.target;if(St instanceof Element&&St.shadowRoot){var pt=st.composedPath();pt.length>0&&!lt.contains(pt[0])&&We()}else lt.contains(St)||We()}};G.useEffect(function(){if(oe){var st={capture:!0};return document.addEventListener("click",et,st),function(){document.removeEventListener("click",et,st)}}},[])},Fe=function(oe){var $e=function(We){We.key==="Escape"&&oe()};G.useEffect(function(){return document.addEventListener("keyup",$e),function(){document.removeEventListener("keyup",$e)}},[])},je=function(oe){var $e=oe.ariaControlsSuffix,We=oe.children,et=oe.closeOnClickOutside,st=oe.closeOnEscape,lt=oe.onToggle,St=G.useRef(),pt=G.useContext(ge).direction===B.TextDirection.RightToLeft;return G.useEffect(function(){var nt=window.getComputedStyle(document.body).overflow;return document.body.style.overflow="hidden",function(){document.body.style.overflow=nt}},[]),Fe(function(){St.current&&st&&lt()}),pe(et,St,lt),xe(function(){var nt=St.current;if(nt){var bt=.75*document.body.clientHeight;nt.getBoundingClientRect().height>=bt&&(nt.style.overflow="auto",nt.style.maxHeight="".concat(bt,"px"))}},[]),G.createElement("div",{"aria-modal":"true",className:ve({"rpv-core__modal-body":!0,"rpv-core__modal-body--rtl":pt}),id:"rpv-core__modal-body-".concat($e),ref:St,role:"dialog",tabIndex:-1},We)},Ie=function(oe){var $e=oe.children;return G.createElement("div",{className:"rpv-core__modal-overlay"},$e)};B.ToggleStatus=void 0,(ut=B.ToggleStatus||(B.ToggleStatus={})).Close="Close",ut.Open="Open",ut.Toggle="Toggle";var qe,Ge=function(oe){var $e=G.useState(oe),We=$e[0],et=$e[1];return{opened:We,toggle:function(st){switch(st){case B.ToggleStatus.Close:et(!1);break;case B.ToggleStatus.Open:et(!0);break;case B.ToggleStatus.Toggle:default:et(function(lt){return!lt})}}}},gt=function(oe){var $e=oe.content,We=oe.isOpened,et=We!==void 0&&We,st=oe.target,lt=Ge(et),St=lt.opened,pt=lt.toggle;return G.createElement(G.Fragment,null,st&&st(pt,St),St&&$e(pt))};B.Position=void 0,(qe=B.Position||(B.Position={})).TopLeft="TOP_LEFT",qe.TopCenter="TOP_CENTER",qe.TopRight="TOP_RIGHT",qe.RightTop="RIGHT_TOP",qe.RightCenter="RIGHT_CENTER",qe.RightBottom="RIGHT_BOTTOM",qe.BottomLeft="BOTTOM_LEFT",qe.BottomCenter="BOTTOM_CENTER",qe.BottomRight="BOTTOM_RIGHT",qe.LeftTop="LEFT_TOP",qe.LeftCenter="LEFT_CENTER",qe.LeftBottom="LEFT_BOTTOM";var Pt,Ct,ht,$t,Vt,De,Re,Be,Ze=function(oe,$e,We,et,st){xe(function(){var lt=$e.current,St=oe.current,pt=We.current;if(St&&lt&&pt){var nt=pt.getBoundingClientRect(),bt=function(Dt,It,Wt,zt){var Ut=It.getBoundingClientRect(),Rn=Dt.getBoundingClientRect(),vn=Rn.height,bn=Rn.width,Sn=0,un=0;switch(Wt){case B.Position.TopLeft:Sn=Ut.top-vn,un=Ut.left;break;case B.Position.TopCenter:Sn=Ut.top-vn,un=Ut.left+Ut.width/2-bn/2;break;case B.Position.TopRight:Sn=Ut.top-vn,un=Ut.left+Ut.width-bn;break;case B.Position.RightTop:Sn=Ut.top,un=Ut.left+Ut.width;break;case B.Position.RightCenter:Sn=Ut.top+Ut.height/2-vn/2,un=Ut.left+Ut.width;break;case B.Position.RightBottom:Sn=Ut.top+Ut.height-vn,un=Ut.left+Ut.width;break;case B.Position.BottomLeft:Sn=Ut.top+Ut.height,un=Ut.left;break;case B.Position.BottomCenter:Sn=Ut.top+Ut.height,un=Ut.left+Ut.width/2-bn/2;break;case B.Position.BottomRight:Sn=Ut.top+Ut.height,un=Ut.left+Ut.width-bn;break;case B.Position.LeftTop:Sn=Ut.top,un=Ut.left-bn;break;case B.Position.LeftCenter:Sn=Ut.top+Ut.height/2-vn/2,un=Ut.left-bn;break;case B.Position.LeftBottom:Sn=Ut.top+Ut.height-vn,un=Ut.left-bn}return{left:un+(zt.left||0),top:Sn+(zt.top||0)}}(St,lt,et,st),mt=bt.top,Ot=bt.left;St.style.top="".concat(mt-nt.top,"px"),St.style.left="".concat(Ot-nt.left,"px")}},[])},ct=function(oe){var $e,We=oe.customClassName,et=oe.position;return G.createElement("div",{className:ve(($e={"rpv-core__arrow":!0,"rpv-core__arrow--tl":et===B.Position.TopLeft,"rpv-core__arrow--tc":et===B.Position.TopCenter,"rpv-core__arrow--tr":et===B.Position.TopRight,"rpv-core__arrow--rt":et===B.Position.RightTop,"rpv-core__arrow--rc":et===B.Position.RightCenter,"rpv-core__arrow--rb":et===B.Position.RightBottom,"rpv-core__arrow--bl":et===B.Position.BottomLeft,"rpv-core__arrow--bc":et===B.Position.BottomCenter,"rpv-core__arrow--br":et===B.Position.BottomRight,"rpv-core__arrow--lt":et===B.Position.LeftTop,"rpv-core__arrow--lc":et===B.Position.LeftCenter,"rpv-core__arrow--lb":et===B.Position.LeftBottom},$e["".concat(We)]=We!=="",$e))})},Mt=function(oe){var $e=oe.ariaControlsSuffix,We=oe.children,et=oe.closeOnClickOutside,st=oe.offset,lt=oe.position,St=oe.targetRef,pt=oe.onClose,nt=G.useRef(),bt=G.useRef(),mt=G.useRef(),Ot=G.useContext(ge).direction===B.TextDirection.RightToLeft;pe(et,nt,pt),Ze(nt,St,mt,lt,st),xe(function(){var It=bt.current;if(It){var Wt=.75*document.body.clientHeight;It.getBoundingClientRect().height>=Wt&&(It.style.overflow="auto",It.style.maxHeight="".concat(Wt,"px"))}},[]);var Dt="rpv-core__popover-body-inner-".concat($e);return G.createElement(G.Fragment,null,G.createElement("div",{ref:mt,style:{left:0,position:"absolute",top:0}}),G.createElement("div",{"aria-describedby":Dt,className:ve({"rpv-core__popover-body":!0,"rpv-core__popover-body--rtl":Ot}),id:"rpv-core__popover-body-".concat($e),ref:nt,role:"dialog",tabIndex:-1},G.createElement(ct,{customClassName:"rpv-core__popover-body-arrow",position:lt}),G.createElement("div",{id:Dt,ref:bt},We)))},Rt=function(oe){var $e=oe.closeOnEscape,We=oe.onClose,et=G.useRef();return Fe(function(){et.current&&$e&&We()}),G.createElement("div",{className:"rpv-core__popover-overlay",ref:et})},Et=function(oe){var $e=oe.ariaControlsSuffix,We=oe.children,et=oe.contentRef,st=oe.offset,lt=oe.position,St=oe.targetRef,pt=G.useRef(),nt=G.useContext(ge).direction===B.TextDirection.RightToLeft;return Ze(et,St,pt,lt,st),G.createElement(G.Fragment,null,G.createElement("div",{ref:pt,style:{left:0,position:"absolute",top:0}}),G.createElement("div",{className:ve({"rpv-core__tooltip-body":!0,"rpv-core__tooltip-body--rtl":nt}),id:"rpv-core__tooltip-body-".concat($e),ref:et,role:"tooltip"},G.createElement(ct,{customClassName:"rpv-core__tooltip-body-arrow",position:lt}),G.createElement("div",{className:"rpv-core__tooltip-body-content"},We)))};B.FullScreenMode=void 0,(Pt=B.FullScreenMode||(B.FullScreenMode={})).Normal="Normal",Pt.Entering="Entering",Pt.Entered="Entered",Pt.EnteredCompletely="EnteredCompletely",Pt.Exitting="Exitting",Pt.Exited="Exited",B.LayerRenderStatus=void 0,(Ct=B.LayerRenderStatus||(B.LayerRenderStatus={}))[Ct.PreRender=0]="PreRender",Ct[Ct.DidRender=1]="DidRender",B.PageMode=void 0,(ht=B.PageMode||(B.PageMode={})).Attachments="UseAttachments",ht.Bookmarks="UseOutlines",ht.ContentGroup="UseOC",ht.Default="UserNone",ht.FullScreen="FullScreen",ht.Thumbnails="UseThumbs",B.PasswordStatus=void 0,($t=B.PasswordStatus||(B.PasswordStatus={})).RequiredPassword="RequiredPassword",$t.WrongPassword="WrongPassword",B.RotateDirection=void 0,(Vt=B.RotateDirection||(B.RotateDirection={})).Backward="Backward",Vt.Forward="Forward",B.ScrollMode=void 0,(De=B.ScrollMode||(B.ScrollMode={})).Page="Page",De.Horizontal="Horizontal",De.Vertical="Vertical",De.Wrapped="Wrapped",B.SpecialZoomLevel=void 0,(Re=B.SpecialZoomLevel||(B.SpecialZoomLevel={})).ActualSize="ActualSize",Re.PageFit="PageFit",Re.PageWidth="PageWidth",B.ViewMode=void 0,(Be=B.ViewMode||(B.ViewMode={})).DualPage="DualPage",Be.DualPageWithCover="DualPageWithCover",Be.SinglePage="SinglePage";var At,jt=function(oe,$e){return oe.reduce(function(We,et,st){return st%$e?We[We.length-1].push(et):We.push([et]),We},[])},Qt=function(oe,$e){switch($e[1].name){case"XYZ":return{bottomOffset:function(We,et){return $e[3]===null?et:$e[3]},leftOffset:function(We,et){return $e[2]===null?0:$e[2]},pageIndex:oe,scaleTo:$e[4]};case"Fit":case"FitB":return{bottomOffset:0,leftOffset:0,pageIndex:oe,scaleTo:B.SpecialZoomLevel.PageFit};case"FitH":case"FitBH":return{bottomOffset:$e[2],leftOffset:0,pageIndex:oe,scaleTo:B.SpecialZoomLevel.PageWidth};default:return{bottomOffset:0,leftOffset:0,pageIndex:oe,scaleTo:1}}},Gt=new Map,Jt=new Map,cn=function(oe,$e){return"".concat(oe.loadingTask.docId,"___").concat($e.num,"R").concat($e.gen===0?"":$e.gen)},sn=function(oe,$e,We){Gt.set(cn(oe,$e),We)},rn=function(oe,$e){if(!oe)return Promise.reject("The document is not loaded yet");var We="".concat(oe.loadingTask.docId,"___").concat($e),et=Jt.get(We);return et?Promise.resolve(et):new Promise(function(st,lt){oe.getPage($e+1).then(function(St){Jt.set(We,St),St.ref&&sn(oe,St.ref,$e),st(St)})})},In=function(oe,$e){return new Promise(function(We){new Promise(function(et){typeof $e=="string"?oe.getDestination($e).then(function(st){et(st)}):et($e)}).then(function(et){if(typeof et[0]=="object"&&et[0]!==null){var st=et[0],lt=function(pt,nt){var bt=cn(pt,nt);return Gt.has(bt)?Gt.get(bt):null}(oe,st);lt===null?oe.getPageIndex(st).then(function(pt){sn(oe,st,pt),In(oe,$e).then(function(nt){return We(nt)})}):We(Qt(lt,et))}else{var St=Qt(et[0],et);We(St)}})})};(function(oe){oe[oe.Solid=1]="Solid",oe[oe.Dashed=2]="Dashed",oe[oe.Beveled=3]="Beveled",oe[oe.Inset=4]="Inset",oe[oe.Underline=5]="Underline"})(At||(At={}));var Ln,Nn=new RegExp("^D:(\\d{4})(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?([Z|+|-])?(\\d{2})?'?(\\d{2})?'?"),Ft=function(oe,$e,We,et){var st=parseInt(oe,10);return st>=$e&&st<=We?st:et},wt=function(oe){return oe.contentsObj?oe.contentsObj.str:oe.contents||""},ft=function(oe){return oe.titleObj?oe.titleObj.str:oe.title||""},Yt=function(oe){var $e=oe.annotation,We=G.useContext(ge).direction,et=ft($e),st=wt($e),lt=We===B.TextDirection.RightToLeft,St=G.useRef(),pt="";if($e.modificationDate){var nt=function(bt){var mt=Nn.exec(bt);if(!mt)return null;var Ot=parseInt(mt[1],10),Dt=Ft(mt[2],1,12,1)-1,It=Ft(mt[3],1,31,1),Wt=Ft(mt[4],0,23,0),zt=Ft(mt[5],0,59,0),Ut=Ft(mt[6],0,59,0),Rn=mt[7]||"Z",vn=Ft(mt[8],0,23,0),bn=Ft(mt[9],0,59,0);switch(Rn){case"-":Wt+=vn,zt+=bn;break;case"+":Wt-=vn,zt-=bn}return new Date(Date.UTC(Ot,Dt,It,Wt,zt,Ut))}($e.modificationDate);pt=nt?"".concat(nt.toLocaleDateString(),", ").concat(nt.toLocaleTimeString()):""}return G.useLayoutEffect(function(){if(St.current){var bt=document.querySelector('[data-annotation-id="'.concat($e.id,'"]'));if(bt){var mt=bt;return mt.style.zIndex+=1,function(){mt.style.zIndex="".concat(parseInt(mt.style.zIndex,10)-1)}}}},[]),G.createElement("div",{ref:St,className:ve({"rpv-core__annotation-popup-wrapper":!0,"rpv-core__annotation-popup-wrapper--rtl":lt}),style:{top:$e.annotationType===B.AnnotationType.Popup?"":"100%"}},et&&G.createElement(G.Fragment,null,G.createElement("div",{className:ve({"rpv-core__annotation-popup-title":!0,"rpv-core__annotation-popup-title--ltr":!lt,"rpv-core__annotation-popup-title--rtl":lt})},et),G.createElement("div",{className:"rpv-core__annotation-popup-date"},pt)),st&&G.createElement("div",{className:"rpv-core__annotation-popup-content"},st.split(`
`).map(function(bt,mt){return G.createElement(G.Fragment,{key:mt},bt,G.createElement("br",null))})))};(function(oe){oe.Click="Click",oe.Hover="Hover"})(Ln||(Ln={}));var Zt,Kt=function(oe){var $e,We=oe.annotation,et=oe.children,st=oe.ignoreBorder,lt=oe.hasPopup,St=oe.isRenderable,pt=oe.page,nt=oe.viewport,bt=We.rect,mt=function(){var yn=Ge(!1),jn=yn.opened,Vn=yn.toggle,Un=G.useState(Ln.Hover),zn=Un[0],qn=Un[1];return{opened:jn,closeOnHover:function(){zn===Ln.Hover&&Vn(B.ToggleStatus.Close)},openOnHover:function(){zn===Ln.Hover&&Vn(B.ToggleStatus.Open)},toggleOnClick:function(){switch(zn){case Ln.Click:jn&&qn(Ln.Hover),Vn(B.ToggleStatus.Toggle);break;case Ln.Hover:qn(Ln.Click),Vn(B.ToggleStatus.Open)}}}}(),Ot=mt.closeOnHover,Dt=mt.opened,It=mt.openOnHover,Wt=mt.toggleOnClick,zt=($e=[bt[0],pt.view[3]+pt.view[1]-bt[1],bt[2],pt.view[3]+pt.view[1]-bt[3]],[Math.min($e[0],$e[2]),Math.min($e[1],$e[3]),Math.max($e[0],$e[2]),Math.max($e[1],$e[3])]),Ut=bt[2]-bt[0],Rn=bt[3]-bt[1],vn={borderColor:"",borderRadius:"",borderStyle:"",borderWidth:""};if(!st&&We.borderStyle.width>0){switch(We.borderStyle.style){case At.Dashed:vn.borderStyle="dashed";break;case At.Solid:vn.borderStyle="solid";break;case At.Underline:vn=Object.assign({borderBottomStyle:"solid"},vn);case At.Beveled:case At.Inset:}var bn=We.borderStyle.width;vn.borderWidth="".concat(bn,"px"),We.borderStyle.style!==At.Underline&&(Ut-=2*bn,Rn-=2*bn);var Sn=We.borderStyle,un=Sn.horizontalCornerRadius,xn=Sn.verticalCornerRadius;(un>0||xn>0)&&(vn.borderRadius="".concat(un,"px / ").concat(xn,"px")),We.color?vn.borderColor="rgb(".concat(0|We.color[0],", ").concat(0|We.color[1],", ").concat(0|We.color[2],")"):vn.borderWidth="0"}return G.createElement(G.Fragment,null,St&&et({popup:{opened:Dt,closeOnHover:Ot,openOnHover:It,toggleOnClick:Wt},slot:{attrs:{style:Object.assign({height:"".concat(Rn,"px"),left:"".concat(zt[0],"px"),top:"".concat(zt[1],"px"),transform:"matrix(".concat(nt.transform.join(","),")"),transformOrigin:"-".concat(zt[0],"px -").concat(zt[1],"px"),width:"".concat(Ut,"px")},vn)},children:G.createElement(G.Fragment,null,lt&&Dt&&G.createElement(Yt,{annotation:We}))}}))},Je=function(oe){var $e=oe.annotation,We=oe.page,et=oe.viewport,st=$e.hasPopup===!1,lt=ft($e),St=wt($e),pt=!!($e.hasPopup||lt||St);return G.createElement(Kt,{annotation:$e,hasPopup:st,ignoreBorder:!0,isRenderable:pt,page:We,viewport:et},function(nt){return G.createElement("div",ae({},nt.slot.attrs,{className:"rpv-core__annotation rpv-core__annotation--caret","data-annotation-id":$e.id,onClick:nt.popup.toggleOnClick,onMouseEnter:nt.popup.openOnHover,onMouseLeave:nt.popup.closeOnHover}),nt.slot.children)})},Tt=function(oe){var $e=oe.annotation,We=oe.page,et=oe.viewport,st=$e.hasPopup===!1,lt=ft($e),St=wt($e),pt=!!($e.hasPopup||lt||St),nt=$e.rect,bt=nt[2]-nt[0],mt=nt[3]-nt[1],Ot=$e.borderStyle.width;return G.createElement(Kt,{annotation:$e,hasPopup:st,ignoreBorder:!0,isRenderable:pt,page:We,viewport:et},function(Dt){return G.createElement("div",ae({},Dt.slot.attrs,{className:"rpv-core__annotation rpv-core__annotation--circle","data-annotation-id":$e.id,onClick:Dt.popup.toggleOnClick,onMouseEnter:Dt.popup.openOnHover,onMouseLeave:Dt.popup.closeOnHover}),G.createElement("svg",{height:"".concat(mt,"px"),preserveAspectRatio:"none",version:"1.1",viewBox:"0 0 ".concat(bt," ").concat(mt),width:"".concat(bt,"px")},G.createElement("circle",{cy:mt/2,fill:"none",rx:bt/2-Ot/2,ry:mt/2-Ot/2,stroke:"transparent",strokeWidth:Ot||1})),Dt.slot.children)})},Xt=function(oe){var $e=oe.annotation,We=oe.page,et=oe.viewport,st=ft($e),lt=wt($e),St=!($e.hasPopup!==!1||!st&&!lt),pt=function(){var nt,bt,mt,Ot,Dt=$e.file;Dt&&(nt=Dt.filename,bt=Dt.content,mt=typeof bt=="string"?"":URL.createObjectURL(new Blob([bt],{type:""})),(Ot=document.createElement("a")).style.display="none",Ot.href=mt||nt,Ot.setAttribute("download",function(It){var Wt=It.split("/").pop();return Wt?Wt.split("#")[0].split("?")[0]:It}(nt)),document.body.appendChild(Ot),Ot.click(),document.body.removeChild(Ot),mt&&URL.revokeObjectURL(mt))};return G.createElement(Kt,{annotation:$e,hasPopup:St,ignoreBorder:!0,isRenderable:!0,page:We,viewport:et},function(nt){return G.createElement("div",ae({},nt.slot.attrs,{className:"rpv-core__annotation rpv-core__annotation--file-attachment","data-annotation-id":$e.id,onClick:nt.popup.toggleOnClick,onDoubleClick:pt,onMouseEnter:nt.popup.openOnHover,onMouseLeave:nt.popup.closeOnHover}),nt.slot.children)})},pn=function(oe){var $e=oe.annotation,We=oe.page,et=oe.viewport,st=$e.hasPopup===!1,lt=ft($e),St=wt($e),pt=!!($e.hasPopup||lt||St);return G.createElement(Kt,{annotation:$e,hasPopup:st,ignoreBorder:!0,isRenderable:pt,page:We,viewport:et},function(nt){return G.createElement("div",ae({},nt.slot.attrs,{className:"rpv-core__annotation rpv-core__annotation--free-text","data-annotation-id":$e.id,onClick:nt.popup.toggleOnClick,onMouseEnter:nt.popup.openOnHover,onMouseLeave:nt.popup.closeOnHover}),nt.slot.children)})},an=function(oe){var $e=oe.annotation,We=oe.page,et=oe.viewport,st=ft($e),lt=wt($e),St=!(!st&&!lt),pt=!$e.parentType||["Circle","Ink","Line","Polygon","PolyLine","Square"].indexOf($e.parentType)!==-1;return xe(function(){if($e.parentId){var nt=document.querySelector('[data-annotation-id="'.concat($e.parentId,'"]')),bt=document.querySelector('[data-annotation-id="'.concat($e.id,'"]'));if(nt&&bt){var mt=parseFloat(nt.style.left),Ot=parseFloat(nt.style.top)+parseFloat(nt.style.height);bt.style.left="".concat(mt,"px"),bt.style.top="".concat(Ot,"px"),bt.style.transformOrigin="-".concat(mt,"px -").concat(Ot,"px")}}},[]),G.createElement(Kt,{annotation:$e,hasPopup:pt,ignoreBorder:!1,isRenderable:St,page:We,viewport:et},function(nt){return G.createElement("div",ae({},nt.slot.attrs,{className:"rpv-core__annotation rpv-core__annotation--popup","data-annotation-id":$e.id}),G.createElement(Yt,{annotation:$e}))})},Nt=function(oe){var $e=oe.annotation,We=oe.childAnnotation,et=oe.page,st=oe.viewport,lt=$e.hasPopup===!1,St=ft($e),pt=wt($e),nt=!!($e.hasPopup||St||pt);if($e.quadPoints&&$e.quadPoints.length>0){var bt=$e.quadPoints.map(function(mt){return Object.assign({},$e,{rect:[mt[2].x,mt[2].y,mt[1].x,mt[1].y],quadPoints:[]})});return G.createElement(G.Fragment,null,bt.map(function(mt,Ot){return G.createElement(Nt,{key:Ot,annotation:mt,childAnnotation:We,page:et,viewport:st})}))}return G.createElement(Kt,{annotation:$e,hasPopup:lt,ignoreBorder:!0,isRenderable:nt,page:et,viewport:st},function(mt){return G.createElement(G.Fragment,null,G.createElement("div",ae({},mt.slot.attrs,{className:"rpv-core__annotation rpv-core__annotation--highlight","data-annotation-id":$e.id,onClick:mt.popup.toggleOnClick,onMouseEnter:mt.popup.openOnHover,onMouseLeave:mt.popup.closeOnHover}),mt.slot.children),We&&We.annotationType===B.AnnotationType.Popup&&mt.popup.opened&&G.createElement(an,{annotation:We,page:et,viewport:st}))})},Te=function(oe){var $e=oe.annotation,We=oe.page,et=oe.viewport,st=$e.hasPopup===!1,lt=ft($e),St=wt($e),pt=!!($e.hasPopup||lt||St),nt=$e.rect,bt=nt[2]-nt[0],mt=nt[3]-nt[1],Ot=$e.borderStyle.width;return G.createElement(Kt,{annotation:$e,hasPopup:st,ignoreBorder:!0,isRenderable:pt,page:We,viewport:et},function(Dt){return G.createElement("div",ae({},Dt.slot.attrs,{className:"rpv-core__annotation rpv-core__annotation--ink","data-annotation-id":$e.id,onClick:Dt.popup.toggleOnClick,onMouseEnter:Dt.popup.openOnHover,onMouseLeave:Dt.popup.closeOnHover}),$e.inkLists&&$e.inkLists.length&&G.createElement("svg",{height:"".concat(mt,"px"),preserveAspectRatio:"none",version:"1.1",viewBox:"0 0 ".concat(bt," ").concat(mt),width:"".concat(bt,"px")},$e.inkLists.map(function(It,Wt){return G.createElement("polyline",{key:Wt,fill:"none",stroke:"transparent",strokeWidth:Ot||1,points:It.map(function(zt){return"".concat(zt.x-nt[0],",").concat(nt[3]-zt.y)}).join(" ")})})),Dt.slot.children)})},Xe=function(oe){var $e=oe.annotation,We=oe.page,et=oe.viewport,st=$e.hasPopup===!1,lt=ft($e),St=wt($e),pt=!!($e.hasPopup||lt||St),nt=$e.rect,bt=nt[2]-nt[0],mt=nt[3]-nt[1],Ot=$e.borderStyle.width;return G.createElement(Kt,{annotation:$e,hasPopup:st,ignoreBorder:!0,isRenderable:pt,page:We,viewport:et},function(Dt){return G.createElement("div",ae({},Dt.slot.attrs,{className:"rpv-core__annotation rpv-core__annotation--line","data-annotation-id":$e.id,onClick:Dt.popup.toggleOnClick,onMouseEnter:Dt.popup.openOnHover,onMouseLeave:Dt.popup.closeOnHover}),G.createElement("svg",{height:"".concat(mt,"px"),preserveAspectRatio:"none",version:"1.1",viewBox:"0 0 ".concat(bt," ").concat(mt),width:"".concat(bt,"px")},G.createElement("line",{stroke:"transparent",strokeWidth:Ot||1,x1:nt[2]-$e.lineCoordinates[0],x2:nt[2]-$e.lineCoordinates[2],y1:nt[3]-$e.lineCoordinates[1],y2:nt[3]-$e.lineCoordinates[3]})),Dt.slot.children)})},vt=/^([^\w]*)(javascript|data|vbscript)/im,kt=/&#(\w+)(^\w|;)?/g,xt=/[\u0000-\u001F\u007F-\u009F\u2000-\u200D\uFEFF]/gim,Lt=/^([^:]+):/gm,Ht=function(oe,$e){var We,et=(We=oe||"",We.replace(kt,function(pt,nt){return String.fromCharCode(nt)})).replace(xt,"").trim();if(!et)return $e;var st=et[0];if(st==="."||st==="/")return et;var lt=et.match(Lt);if(!lt)return et;var St=lt[0];return vt.test(St)?$e:et},on=function(oe){var $e,We=oe.annotation,et=oe.annotationContainerRef,st=oe.doc,lt=oe.outlines,St=oe.page,pt=oe.pageIndex,nt=oe.scale,bt=oe.viewport,mt=oe.onExecuteNamedAction,Ot=oe.onJumpFromLinkAnnotation,Dt=oe.onJumpToDest,It=G.useRef(),Wt=lt&&lt.length&&We.dest&&typeof We.dest=="string"?($e=lt.find(function(vn){return vn.dest===We.dest}))===null||$e===void 0?void 0:$e.title:"",zt=!!(We.url||We.dest||We.action||We.unsafeUrl),Ut={};if(We.url||We.unsafeUrl){var Rn=Ht(We.url||We.unsafeUrl,"");Rn?Ut={"data-target":"external",href:Rn,rel:"noopener noreferrer nofollow",target:We.newWindow?"_blank":"",title:Rn}:zt=!1}else Ut={href:"","data-annotation-link":We.id,onClick:function(vn){vn.preventDefault(),We.action?mt(We.action):In(st,We.dest).then(function(bn){var Sn=It.current,un=et.current;if(Sn&&un){var xn=Sn.getBoundingClientRect();un.style.setProperty("height","100%"),un.style.setProperty("width","100%");var yn=un.getBoundingClientRect();un.style.removeProperty("height"),un.style.removeProperty("width");var jn=(xn.left-yn.left)/nt,Vn=(yn.bottom-xn.bottom+xn.height)/nt;Ot({bottomOffset:Vn,label:Wt,leftOffset:jn,pageIndex:pt})}Dt(bn)})}};return Wt&&(Ut=Object.assign({},Ut,{title:Wt,"aria-label":Wt})),G.createElement(Kt,{annotation:We,hasPopup:!1,ignoreBorder:!1,isRenderable:zt,page:St,viewport:bt},function(vn){return G.createElement("div",ae({},vn.slot.attrs,{className:"rpv-core__annotation rpv-core__annotation--link","data-annotation-id":We.id,"data-testid":"core__annotation--link-".concat(We.id)}),G.createElement("a",ae({ref:It},Ut)))})},en=function(oe){var $e=oe.annotation,We=oe.page,et=oe.viewport,st=$e.hasPopup===!1,lt=ft($e),St=wt($e),pt=!!($e.hasPopup||lt||St),nt=$e.rect,bt=nt[2]-nt[0],mt=nt[3]-nt[1],Ot=$e.borderStyle.width;return G.createElement(Kt,{annotation:$e,hasPopup:st,ignoreBorder:!0,isRenderable:pt,page:We,viewport:et},function(Dt){return G.createElement("div",ae({},Dt.slot.attrs,{className:"rpv-core__annotation rpv-core__annotation--polygon","data-annotation-id":$e.id,onClick:Dt.popup.toggleOnClick,onMouseEnter:Dt.popup.openOnHover,onMouseLeave:Dt.popup.closeOnHover}),$e.vertices&&$e.vertices.length&&G.createElement("svg",{height:"".concat(mt,"px"),preserveAspectRatio:"none",version:"1.1",viewBox:"0 0 ".concat(bt," ").concat(mt),width:"".concat(bt,"px")},G.createElement("polygon",{fill:"none",stroke:"transparent",strokeWidth:Ot||1,points:$e.vertices.map(function(It){return"".concat(It.x-nt[0],",").concat(nt[3]-It.y)}).join(" ")})),Dt.slot.children)})},qt=function(oe){var $e=oe.annotation,We=oe.page,et=oe.viewport,st=$e.hasPopup===!1,lt=ft($e),St=wt($e),pt=!!($e.hasPopup||lt||St),nt=$e.rect,bt=nt[2]-nt[0],mt=nt[3]-nt[1],Ot=$e.borderStyle.width;return G.createElement(Kt,{annotation:$e,hasPopup:st,ignoreBorder:!0,isRenderable:pt,page:We,viewport:et},function(Dt){return G.createElement("div",ae({},Dt.slot.attrs,{className:"rpv-core__annotation rpv-core__annotation--polyline","data-annotation-id":$e.id,onClick:Dt.popup.toggleOnClick,onMouseEnter:Dt.popup.openOnHover,onMouseLeave:Dt.popup.closeOnHover}),$e.vertices&&$e.vertices.length&&G.createElement("svg",{height:"".concat(mt,"px"),preserveAspectRatio:"none",version:"1.1",viewBox:"0 0 ".concat(bt," ").concat(mt),width:"".concat(bt,"px")},G.createElement("polyline",{fill:"none",stroke:"transparent",strokeWidth:Ot||1,points:$e.vertices.map(function(It){return"".concat(It.x-nt[0],",").concat(nt[3]-It.y)}).join(" ")})),Dt.slot.children)})},gn=function(oe){var $e=oe.annotation,We=oe.page,et=oe.viewport,st=$e.hasPopup===!1,lt=ft($e),St=wt($e),pt=!!($e.hasPopup||lt||St),nt=$e.rect,bt=nt[2]-nt[0],mt=nt[3]-nt[1],Ot=$e.borderStyle.width;return G.createElement(Kt,{annotation:$e,hasPopup:st,ignoreBorder:!0,isRenderable:pt,page:We,viewport:et},function(Dt){return G.createElement("div",ae({},Dt.slot.attrs,{className:"rpv-core__annotation rpv-core__annotation--square","data-annotation-id":$e.id,onClick:Dt.popup.toggleOnClick,onMouseEnter:Dt.popup.openOnHover,onMouseLeave:Dt.popup.closeOnHover}),G.createElement("svg",{height:"".concat(mt,"px"),preserveAspectRatio:"none",version:"1.1",viewBox:"0 0 ".concat(bt," ").concat(mt),width:"".concat(bt,"px")},G.createElement("rect",{height:mt-Ot,fill:"none",stroke:"transparent",strokeWidth:Ot||1,x:Ot/2,y:Ot/2,width:bt-Ot})),Dt.slot.children)})},tn=function(oe){var $e=oe.annotation,We=oe.page,et=oe.viewport,st=$e.hasPopup===!1,lt=ft($e),St=wt($e),pt=!!($e.hasPopup||lt||St);return G.createElement(Kt,{annotation:$e,hasPopup:st,ignoreBorder:!0,isRenderable:pt,page:We,viewport:et},function(nt){return G.createElement("div",ae({},nt.slot.attrs,{className:"rpv-core__annotation rpv-core__annotation--squiggly","data-annotation-id":$e.id,onClick:nt.popup.toggleOnClick,onMouseEnter:nt.popup.openOnHover,onMouseLeave:nt.popup.closeOnHover}),nt.slot.children)})},ln=function(oe){var $e=oe.annotation,We=oe.page,et=oe.viewport,st=$e.hasPopup===!1,lt=ft($e),St=wt($e),pt=!!($e.hasPopup||lt||St);return G.createElement(Kt,{annotation:$e,hasPopup:st,ignoreBorder:!0,isRenderable:pt,page:We,viewport:et},function(nt){return G.createElement("div",ae({},nt.slot.attrs,{className:"rpv-core__annotation rpv-core__annotation--stamp","data-annotation-id":$e.id,onClick:nt.popup.toggleOnClick,onMouseEnter:nt.popup.openOnHover,onMouseLeave:nt.popup.closeOnHover}),nt.slot.children)})},En=function(oe){var $e=oe.annotation,We=oe.page,et=oe.viewport,st=$e.hasPopup===!1,lt=ft($e),St=wt($e),pt=!!($e.hasPopup||lt||St);return G.createElement(Kt,{annotation:$e,hasPopup:st,ignoreBorder:!0,isRenderable:pt,page:We,viewport:et},function(nt){return G.createElement("div",ae({},nt.slot.attrs,{className:"rpv-core__annotation rpv-core__annotation--strike-out","data-annotation-id":$e.id,onClick:nt.popup.toggleOnClick,onMouseEnter:nt.popup.openOnHover,onMouseLeave:nt.popup.closeOnHover}),nt.slot.children)})},An=function(){return G.createElement(fe,{size:16},G.createElement("path",{d:"M.5,16.5a1,1,0,0,0,1,1h2v4l4-4h15a1,1,0,0,0,1-1V3.5a1,1,0,0,0-1-1H1.5a1,1,0,0,0-1,1Z"}),G.createElement("path",{d:"M7.25,9.75A.25.25,0,1,1,7,10a.25.25,0,0,1,.25-.25"}),G.createElement("path",{d:"M12,9.75a.25.25,0,1,1-.25.25A.25.25,0,0,1,12,9.75"}),G.createElement("path",{d:"M16.75,9.75a.25.25,0,1,1-.25.25.25.25,0,0,1,.25-.25"}))},Bn=function(){return G.createElement(fe,{size:16},G.createElement("path",{d:"M0.500 12.001 A11.500 11.500 0 1 0 23.500 12.001 A11.500 11.500 0 1 0 0.500 12.001 Z"}),G.createElement("path",{d:"M6.000 12.001 A6.000 6.000 0 1 0 18.000 12.001 A6.000 6.000 0 1 0 6.000 12.001 Z"}),G.createElement("path",{d:"M21.423 5.406L17.415 9.414"}),G.createElement("path",{d:"M14.587 6.585L18.607 2.565"}),G.createElement("path",{d:"M5.405 21.424L9.413 17.416"}),G.createElement("path",{d:"M6.585 14.588L2.577 18.596"}),G.createElement("path",{d:"M18.602 21.419L14.595 17.412"}),G.createElement("path",{d:"M17.419 14.58L21.428 18.589"}),G.createElement("path",{d:"M2.582 5.399L6.588 9.406"}),G.createElement("path",{d:"M9.421 6.581L5.412 2.572"}))},Gn=function(){return G.createElement(fe,{size:16},G.createElement("path",{d:"M4.000 18.500 A1.500 1.500 0 1 0 7.000 18.500 A1.500 1.500 0 1 0 4.000 18.500 Z"}),G.createElement("path",{d:"M20.5.5l-9.782,9.783a7,7,0,1,0,3,3L17,10h1.5V8.5L19,8h1.5V6.5L21,6h1.5V4.5l1-1V.5Z"}))},Yn=function(){return G.createElement(fe,{size:16},G.createElement("path",{d:"M2.000 2.500 L22.000 2.500 L22.000 23.500 L2.000 23.500 Z"}),G.createElement("path",{d:"M6 4.5L6 0.5"}),G.createElement("path",{d:"M18 4.5L18 0.5"}),G.createElement("path",{d:"M10 4.5L10 0.5"}),G.createElement("path",{d:"M14 4.5L14 0.5"}))},nr=function(){return G.createElement(fe,{size:16},G.createElement("path",{d:"M17.5 0.498L17.5 23.498"}),G.createElement("path",{d:"M10.5 0.498L10.5 23.498"}),G.createElement("path",{d:"M23.5.5H6.5a6,6,0,0,0,0,12h4"}))},Pr=function(){return G.createElement(fe,{size:16},G.createElement("path",{d:"M2.5 22.995L12 6.005 21.5 22.995 2.5 22.995z"}))},Mr=function(oe){var $e=oe.annotation,We=oe.childAnnotation,et=oe.page,st=oe.viewport,lt=$e.hasPopup===!1,St=ft($e),pt=wt($e),nt=!!($e.hasPopup||St||pt),bt=$e.name?$e.name.toLowerCase():"";return G.createElement(Kt,{annotation:$e,hasPopup:lt,ignoreBorder:!1,isRenderable:nt,page:et,viewport:st},function(mt){return G.createElement(G.Fragment,null,G.createElement("div",ae({},mt.slot.attrs,{className:"rpv-core__annotation rpv-core__annotation--text","data-annotation-id":$e.id,onClick:mt.popup.toggleOnClick,onMouseEnter:mt.popup.openOnHover,onMouseLeave:mt.popup.closeOnHover}),bt&&G.createElement("div",{className:"rpv-core__annotation-text-icon"},bt==="check"&&G.createElement(ne,null),bt==="comment"&&G.createElement(An,null),bt==="help"&&G.createElement(Bn,null),bt==="insert"&&G.createElement(Pr,null),bt==="key"&&G.createElement(Gn,null),bt==="note"&&G.createElement(Yn,null),(bt==="newparagraph"||bt==="paragraph")&&G.createElement(nr,null)),mt.slot.children),We&&We.annotationType===B.AnnotationType.Popup&&mt.popup.opened&&G.createElement(an,{annotation:We,page:et,viewport:st}))})},Sr=function(oe){var $e=oe.annotation,We=oe.page,et=oe.viewport,st=$e.hasPopup===!1,lt=ft($e),St=wt($e),pt=!!($e.hasPopup||lt||St);return G.createElement(Kt,{annotation:$e,hasPopup:st,ignoreBorder:!0,isRenderable:pt,page:We,viewport:et},function(nt){return G.createElement("div",ae({},nt.slot.attrs,{className:"rpv-core__annotation rpv-core__annotation--underline","data-annotation-id":$e.id,onClick:nt.popup.toggleOnClick,onMouseEnter:nt.popup.openOnHover,onMouseLeave:nt.popup.closeOnHover}),nt.slot.children)})},Ur=function(oe){var $e=oe.annotations,We=oe.doc,et=oe.outlines,st=oe.page,lt=oe.pageIndex,St=oe.plugins,pt=oe.rotation,nt=oe.scale,bt=oe.onExecuteNamedAction,mt=oe.onJumpFromLinkAnnotation,Ot=oe.onJumpToDest,Dt=G.useRef(),It=st.getViewport({rotation:pt,scale:nt}).clone({dontFlip:!0}),Wt=$e.filter(function(zt){return!zt.parentId});return xe(function(){var zt=Dt.current;zt&&St.forEach(function(Ut){Ut.onAnnotationLayerRender&&Ut.onAnnotationLayerRender({annotations:Wt,container:zt,pageIndex:lt,rotation:pt,scale:nt})})},[]),G.createElement("div",{ref:Dt,className:"rpv-core__annotation-layer","data-testid":"core__annotation-layer-".concat(lt)},Wt.map(function(zt){var Ut=$e.find(function(Rn){return Rn.parentId===zt.id});switch(zt.annotationType){case B.AnnotationType.Caret:return G.createElement(Je,{key:zt.id,annotation:zt,page:st,viewport:It});case B.AnnotationType.Circle:return G.createElement(Tt,{key:zt.id,annotation:zt,page:st,viewport:It});case B.AnnotationType.FileAttachment:return G.createElement(Xt,{key:zt.id,annotation:zt,page:st,viewport:It});case B.AnnotationType.FreeText:return G.createElement(pn,{key:zt.id,annotation:zt,page:st,viewport:It});case B.AnnotationType.Highlight:return G.createElement(Nt,{key:zt.id,annotation:zt,childAnnotation:Ut,page:st,viewport:It});case B.AnnotationType.Ink:return G.createElement(Te,{key:zt.id,annotation:zt,page:st,viewport:It});case B.AnnotationType.Line:return G.createElement(Xe,{key:zt.id,annotation:zt,page:st,viewport:It});case B.AnnotationType.Link:return G.createElement(on,{key:zt.id,annotation:zt,annotationContainerRef:Dt,doc:We,outlines:et,page:st,pageIndex:lt,scale:nt,viewport:It,onExecuteNamedAction:bt,onJumpFromLinkAnnotation:mt,onJumpToDest:Ot});case B.AnnotationType.Polygon:return G.createElement(en,{key:zt.id,annotation:zt,page:st,viewport:It});case B.AnnotationType.Polyline:return G.createElement(qt,{key:zt.id,annotation:zt,page:st,viewport:It});case B.AnnotationType.Popup:return G.createElement(an,{key:zt.id,annotation:zt,page:st,viewport:It});case B.AnnotationType.Square:return G.createElement(gn,{key:zt.id,annotation:zt,page:st,viewport:It});case B.AnnotationType.Squiggly:return G.createElement(tn,{key:zt.id,annotation:zt,page:st,viewport:It});case B.AnnotationType.Stamp:return G.createElement(ln,{key:zt.id,annotation:zt,page:st,viewport:It});case B.AnnotationType.StrikeOut:return G.createElement(En,{key:zt.id,annotation:zt,page:st,viewport:It});case B.AnnotationType.Text:return G.createElement(Mr,{key:zt.id,annotation:zt,childAnnotation:Ut,page:st,viewport:It});case B.AnnotationType.Underline:return G.createElement(Sr,{key:zt.id,annotation:zt,page:st,viewport:It});default:return G.createElement(G.Fragment,{key:zt.id})}}))},Oi=function(oe){var $e=oe.page,We=oe.renderAnnotations,et=Qe(),st=G.useState({loading:!0,annotations:[]}),lt=st[0],St=st[1];return G.useEffect(function(){$e.getAnnotations({intent:"display"}).then(function(pt){et.current&&St({loading:!1,annotations:pt})})},[]),lt.loading?G.createElement(G.Fragment,null):We(lt.annotations)},Vi=function(oe){var $e=oe.doc,We=oe.outlines,et=oe.page,st=oe.pageIndex,lt=oe.plugins,St=oe.rotation,pt=oe.scale,nt=oe.onExecuteNamedAction,bt=oe.onJumpFromLinkAnnotation,mt=oe.onJumpToDest;return G.createElement(Oi,{page:et,renderAnnotations:function(Ot){return G.createElement(Ur,{annotations:Ot,doc:$e,outlines:We,page:et,pageIndex:st,plugins:lt,rotation:St,scale:pt,onExecuteNamedAction:nt,onJumpFromLinkAnnotation:bt,onJumpToDest:mt})}})},qr=function(oe,$e){var We=oe%$e;return We===0?oe:Math.floor(oe-We)},Ni=function(oe){var $e=oe.canvasLayerRef,We=oe.height,et=oe.page,st=oe.pageIndex,lt=oe.plugins,St=oe.rotation,pt=oe.scale,nt=oe.width,bt=oe.onRenderCanvasCompleted,mt=G.useRef();return xe(function(){var Ot=mt.current;Ot&&Ot.cancel();var Dt=$e.current;Dt.removeAttribute("data-testid"),lt.forEach(function(yn){yn.onCanvasLayerRender&&yn.onCanvasLayerRender({ele:Dt,pageIndex:st,rotation:St,scale:pt,status:B.LayerRenderStatus.PreRender})});var It=et.getViewport({rotation:St,scale:pt}),Wt=window.devicePixelRatio||1,zt=Math.sqrt(16777216/(It.width*It.height)),Ut=Wt>zt;Ut?Dt.style.transform="scale(1, 1)":Dt.style.removeProperty("transform");var Rn=Math.min(zt,Wt),vn=function(yn,jn){var Vn,Un;if(Math.floor(yn)===yn)return[yn,1];var zn=1/yn;if(zn>jn)return[1,jn];if(Math.floor(zn)===zn)return[1,zn];for(var qn=yn>1?zn:yn,sr=0,er=1,lr=1,rr=1;;){var ar=sr+lr,or=er+rr;if(or>jn)break;qn<=ar/or?(lr=(Vn=[ar,or])[0],rr=Vn[1]):(sr=(Un=[ar,or])[0],er=Un[1])}return qn<(sr/er+lr/rr)/2?qn===yn?[sr,er]:[er,sr]:qn===yn?[lr,rr]:[rr,lr]}(Rn,8),bn=vn[0],Sn=vn[1];Dt.width=qr(It.width*Rn,bn),Dt.height=qr(It.height*Rn,bn),Dt.style.width="".concat(qr(It.width,Sn),"px"),Dt.style.height="".concat(qr(It.height,Sn),"px"),Dt.hidden=!0;var un=Dt.getContext("2d",{alpha:!1}),xn=Ut||Wt!==1?[Rn,0,0,Rn,0,0]:null;return mt.current=et.render({canvasContext:un,transform:xn,viewport:It}),mt.current.promise.then(function(){Dt.hidden=!1,Dt.setAttribute("data-testid","core__canvas-layer-".concat(st)),lt.forEach(function(yn){yn.onCanvasLayerRender&&yn.onCanvasLayerRender({ele:Dt,pageIndex:st,rotation:St,scale:pt,status:B.LayerRenderStatus.DidRender})}),bt()},function(){bt()}),function(){Dt&&(Dt.width=0,Dt.height=0)}},[]),G.createElement("div",{className:"rpv-core__canvas-layer",style:{height:"".concat(We,"px"),width:"".concat(nt,"px")}},G.createElement("canvas",{ref:$e}))},Bi=function(oe){var $e=oe.height,We=oe.page,et=oe.rotation,st=oe.scale,lt=oe.width,St=G.useRef();return xe(function(){var pt=St.current,nt=We.getViewport({rotation:et,scale:st});We.getOperatorList().then(function(bt){(function(){var mt=St.current;mt&&(mt.innerHTML="")})(),new Y.SVGGraphics(We.commonObjs,We.objs).getSVG(bt,nt).then(function(mt){mt.style.height="".concat($e,"px"),mt.style.width="".concat(lt,"px"),pt.appendChild(mt)})})},[]),G.createElement("div",{className:"rpv-core__svg-layer",ref:St})},ji=function(oe){var $e=oe.containerRef,We=oe.page,et=oe.pageIndex,st=oe.plugins,lt=oe.rotation,St=oe.scale,pt=oe.onRenderTextCompleted,nt=G.useRef(),bt=function(){var mt=$e.current;mt&&([].slice.call(mt.querySelectorAll(".rpv-core__text-layer-text")).forEach(function(Ot){return mt.removeChild(Ot)}),[].slice.call(mt.querySelectorAll('br[role="presentation"]')).forEach(function(Ot){return mt.removeChild(Ot)}))};return xe(function(){var mt=nt.current;mt&&mt.cancel();var Ot=$e.current;if(Ot){Ot.removeAttribute("data-testid");var Dt=We.getViewport({rotation:lt,scale:St});return st.forEach(function(It){It.onTextLayerRender&&It.onTextLayerRender({ele:Ot,pageIndex:et,scale:St,status:B.LayerRenderStatus.PreRender})}),We.getTextContent().then(function(It){bt(),nt.current=Y.renderTextLayer({container:Ot,textContent:It,textContentSource:It,viewport:Dt}),nt.current.promise.then(function(){Ot.setAttribute("data-testid","core__text-layer-".concat(et)),[].slice.call(Ot.children).forEach(function(Wt){Wt.classList.contains("rpv-core__text-layer-text--not")||Wt.classList.add("rpv-core__text-layer-text")}),st.forEach(function(Wt){Wt.onTextLayerRender&&Wt.onTextLayerRender({ele:Ot,pageIndex:et,scale:St,status:B.LayerRenderStatus.DidRender})}),pt()},function(){Ot.removeAttribute("data-testid"),pt()})}),function(){var It;bt(),(It=nt.current)===null||It===void 0||It.cancel()}}},[]),G.createElement("div",{className:"rpv-core__text-layer",ref:$e})},Ui=function(oe){var $e=oe.doc,We=oe.measureRef,et=oe.outlines,st=oe.pageIndex,lt=oe.pageRotation,St=oe.pageSize,pt=oe.plugins,nt=oe.renderPage,bt=oe.renderQueueKey,mt=oe.rotation,Ot=oe.scale,Dt=oe.shouldRender,It=oe.viewMode,Wt=oe.onExecuteNamedAction,zt=oe.onJumpFromLinkAnnotation,Ut=oe.onJumpToDest,Rn=oe.onRenderCompleted,vn=oe.onRotatePage,bn=Qe(),Sn=G.useState(null),un=Sn[0],xn=Sn[1],yn=G.useState(!1),jn=yn[0],Vn=yn[1],Un=G.useState(!1),zn=Un[0],qn=Un[1],sr=G.useRef(),er=G.useRef(),lr=Math.abs(mt+lt)%180==0,rr=St.pageWidth*Ot,ar=St.pageHeight*Ot,or=lr?rr:ar,ir=lr?ar:rr,fr=(St.rotation+mt+lt)%360,xr=G.useRef(0),yr=nt||function(dr){return G.createElement(G.Fragment,null,dr.canvasLayer.children,dr.textLayer.children,dr.annotationLayer.children)};return G.useEffect(function(){xn(null),Vn(!1),qn(!1)},[lt,mt,Ot]),G.useEffect(function(){Dt&&bn.current&&!un&&rn($e,st).then(function(dr){bn.current&&(xr.current=bt,xn(dr))})},[Dt,un]),G.useEffect(function(){jn&&zn&&(bt!==xr.current?(xn(null),Vn(!1),qn(!1)):Rn(st))},[jn,zn]),G.createElement("div",{className:ve({"rpv-core__page-layer":!0,"rpv-core__page-layer--dual":It===B.ViewMode.DualPage,"rpv-core__page-layer--dual-cover":It===B.ViewMode.DualPageWithCover,"rpv-core__page-layer--single":It===B.ViewMode.SinglePage}),"data-testid":"core__page-layer-".concat(st),ref:We,style:{height:"".concat(ir,"px"),width:"".concat(or,"px")}},un?G.createElement(G.Fragment,null,yr({annotationLayer:{attrs:{},children:G.createElement(Vi,{doc:$e,outlines:et,page:un,pageIndex:st,plugins:pt,rotation:fr,scale:Ot,onExecuteNamedAction:Wt,onJumpFromLinkAnnotation:zt,onJumpToDest:Ut})},canvasLayer:{attrs:{},children:G.createElement(Ni,{canvasLayerRef:sr,height:ir,page:un,pageIndex:st,plugins:pt,rotation:fr,scale:Ot,width:or,onRenderCanvasCompleted:function(){bn.current&&Vn(!0)}})},canvasLayerRendered:jn,doc:$e,height:ir,pageIndex:st,rotation:fr,scale:Ot,svgLayer:{attrs:{},children:G.createElement(Bi,{height:ir,page:un,rotation:fr,scale:Ot,width:or})},textLayer:{attrs:{},children:G.createElement(ji,{containerRef:er,page:un,pageIndex:st,plugins:pt,rotation:fr,scale:Ot,onRenderTextCompleted:function(){bn.current&&qn(!0)}})},textLayerRendered:zn,width:or,markRendered:Rn,onRotatePage:function(dr){return vn(st,dr)}}),pt.map(function(dr,gr){return dr.renderPageLayer?G.createElement(G.Fragment,{key:gr},dr.renderPageLayer({canvasLayerRef:sr,canvasLayerRendered:jn,doc:$e,height:ir,pageIndex:st,rotation:fr,scale:Ot,textLayerRef:er,textLayerRendered:zn,width:or})):G.createElement(G.Fragment,{key:gr})})):G.createElement(Le,{testId:"core__page-layer-loading-".concat(st)}))},zi=function(oe,$e){var We=$e.rect;return oe.height!==We.height||oe.width!==We.width?We:oe};(function(oe){oe.Horizontal="Horizontal",oe.Vertical="Vertical",oe.Both="Both"})(Zt||(Zt={}));var Hi=function(oe){return 1-Math.pow(1-oe,4)},Wr=1e-4,hi={left:0,top:0},mi={capture:!1,passive:!0},qi=function(oe){var $e=oe.elementRef,We=oe.enableSmoothScroll,et=oe.isRtl,st=oe.scrollDirection,lt=oe.onSmoothScroll,St=G.useState(hi),pt=St[0],nt=St[1],bt=G.useState($e.current),mt=bt[0],Ot=bt[1],Dt=et?-1:1,It=G.useRef(st);It.current=st;var Wt=G.useRef(hi),zt=G.useRef(!0),Ut=G.useCallback(function(){zt.current=!0,We&&nt(Wt.current),lt(!1)},[]),Rn=G.useCallback(function(){if(mt){switch(It.current){case Zt.Horizontal:Wt.current={left:Dt*mt.scrollLeft,top:0};break;case Zt.Both:Wt.current={left:Dt*mt.scrollLeft,top:mt.scrollTop};break;case Zt.Vertical:default:Wt.current={left:0,top:mt.scrollTop}}We&&!zt.current||nt(Wt.current)}},[mt]);xe(function(){Ot($e.current)}),xe(function(){if(mt)return mt.addEventListener("scroll",Rn,mi),function(){mt.removeEventListener("scroll",Rn,mi)}},[mt]);var vn=G.useCallback(function(bn,Sn){var un=$e.current;if(!un)return Promise.resolve();var xn={left:0,top:0};switch(It.current){case Zt.Horizontal:xn.left=Dt*bn.left;break;case Zt.Both:xn.left=Dt*bn.left,xn.top=bn.top;break;case Zt.Vertical:default:xn.top=bn.top}return Sn?(zt.current=!1,lt(!0),new Promise(function(yn,jn){(function(Vn,Un,zn,qn,sr,er){sr===void 0&&(sr=function(gr){return gr}),er===void 0&&(er=function(){});var lr=0,rr=0,ar=!1;switch(Un){case Zt.Horizontal:rr=Vn.scrollLeft,lr=0;case Zt.Both:rr=Vn.scrollLeft,lr=Vn.scrollTop;break;case Zt.Vertical:default:rr=0,lr=Vn.scrollTop}var or=function(){ar||(ar=!0,Vn.scrollLeft=zn.left,Vn.scrollTop=zn.top,er())};if(Math.abs(lr-zn.top)<=Wr&&Un===Zt.Vertical)or();else if(Math.abs(rr-zn.left)<=Wr&&Un===Zt.Horizontal)or();else{var ir,fr=-1,xr=rr-zn.left,yr=lr-zn.top,dr=function(gr){fr===-1&&(fr=gr);var kr=gr-fr,wn=Math.min(kr/qn,1),_n=sr(wn),dn={left:rr-xr*_n,top:lr-yr*_n};switch(Un){case Zt.Horizontal:Vn.scrollLeft=dn.left;break;case Zt.Both:Vn.scrollLeft=dn.left,Vn.scrollTop=dn.top;break;case Zt.Vertical:default:Vn.scrollTop=dn.top}Math.abs(dn.top-zn.top)<=Wr&&Math.abs(dn.left-zn.left)<=Wr&&!ar&&(window.cancelAnimationFrame(ir),or()),kr<qn?ir=window.requestAnimationFrame(dr):window.cancelAnimationFrame(ir)};ir=window.requestAnimationFrame(dr)}})(un,It.current,xn,400,Hi,function(){Ut(),yn()})})):new Promise(function(yn,jn){switch(It.current){case Zt.Horizontal:un.scrollLeft=xn.left;break;case Zt.Both:un.scrollLeft=xn.left,un.scrollTop=xn.top;break;case Zt.Vertical:default:un.scrollTop=xn.top}yn()})},[$e]);return{scrollOffset:pt,scrollTo:vn}},Nr=function(oe,$e,We){return Math.max(oe,Math.min(We,$e))},Wi=function(oe,$e){if($e!==B.ViewMode.DualPageWithCover)return 0;if(!function(st){var lt=st.length;if(lt===1)return!1;for(var St=1;St<lt;St++)if(st[St].height!==st[0].height||st[St].width!==st[0].width)return!0;return!1}(oe))return 2*oe[0].width;var We=jt(oe.slice(1),2).map(function(st){return st.length===2?st[0].width+st[1].width:st[0].width}),et=[oe[0].width].concat(We);return Math.max.apply(Math,et)},Gi={left:0,top:0},Ki={left:0,top:0},Qr={left:0,top:0},Xi={left:0,top:0},Zi={height:0,width:0},gi={left:0,top:0},vi="data-virtual-index",Yi=[0,.1,.2,.3,.4,.5,.6,.7,.8,.9,1],Qi=function(oe){var $e=oe.enableSmoothScroll,We=oe.isRtl,et=oe.numberOfItems,st=oe.parentRef,lt=oe.setRenderRange,St=oe.sizes,pt=oe.scrollMode,nt=oe.viewMode,bt=G.useState(!1),mt=bt[0],Ot=bt[1],Dt=G.useCallback(function(wn){return Ot(wn)},[]),It=G.useRef(pt);It.current=pt;var Wt=G.useRef(nt);Wt.current=nt;var zt=pt===B.ScrollMode.Wrapped||nt===B.ViewMode.DualPageWithCover||nt===B.ViewMode.DualPage?Zt.Both:pt===B.ScrollMode.Horizontal?Zt.Horizontal:Zt.Vertical,Ut=qi({elementRef:st,enableSmoothScroll:$e,isRtl:We,scrollDirection:zt,onSmoothScroll:Dt}),Rn=Ut.scrollOffset,vn=Ut.scrollTo,bn=function(wn){var _n=wn.elementRef,dn=G.useState(_n.current),fn=dn[0],hn=dn[1],kn=G.useRef(!1),Cn=G.useReducer(zi,{height:0,width:0}),mn=Cn[0],nn=Cn[1];return xe(function(){_n.current!==fn&&hn(_n.current)}),xe(function(){if(fn&&!kn.current){kn.current=!0;var Mn=fn.getBoundingClientRect(),Fn=Mn.height,Qn=Mn.width;nn({rect:{height:Fn,width:Qn}})}},[fn]),G.useEffect(function(){if(fn){var Mn=new ResizeObserver(function(Fn,Qn){Fn.forEach(function(Xn){if(Xn.target===fn){var hr=Xn.contentRect,vr=hr.height,Tn=hr.width;nn({rect:{height:vr,width:Tn}})}})});return Mn.observe(fn),function(){Mn.unobserve(fn)}}},[fn]),mn}({elementRef:st}),Sn=G.useRef({scrollOffset:gi,measurements:[]});Sn.current.scrollOffset=Rn;var un=G.useMemo(function(){return Array(et).fill(-1)},[]),xn=G.useState(un),yn=xn[0],jn=xn[1],Vn=G.useMemo(function(){var wn=new IntersectionObserver(function(_n){_n.forEach(function(dn){var fn=dn.isIntersecting?dn.intersectionRatio:-1,hn=dn.target.getAttribute(vi);if(hn){var kn=parseInt(hn,10);0<=kn&&kn<et&&jn(function(Cn){return Cn[kn]=fn,function(mn,nn,Mn){for(var Fn,Qn=0,Xn=nn.length;Qn<Xn;Qn++)!Fn&&Qn in nn||(Fn||(Fn=Array.prototype.slice.call(nn,0,Qn)),Fn[Qn]=nn[Qn]);return mn.concat(Fn||Array.prototype.slice.call(nn))}([],Cn)})}})},{threshold:Yi});return wn},[]),Un=G.useMemo(function(){return pt===B.ScrollMode.Page&&nt===B.ViewMode.SinglePage?function(wn,_n,dn){for(var fn=[],hn=0;hn<wn;hn++){var kn={height:Math.max(_n.height,dn[hn].height),width:Math.max(_n.width,dn[hn].width)},Cn=hn===0?Xi:fn[hn-1].end,mn={left:Cn.left+kn.width,top:Cn.top+kn.height};fn[hn]={index:hn,start:Cn,size:kn,end:mn,visibility:-1}}return fn}(et,bn,St):nt===B.ViewMode.DualPageWithCover?function(wn,_n,dn,fn){for(var hn=[],kn=0,Cn=0,mn=Qr,nn=0;nn<wn;nn++){var Mn=nn===0?{height:fn===B.ScrollMode.Page?Math.max(_n.height,dn[nn].height):dn[nn].height,width:fn===B.ScrollMode.Page?Math.max(_n.width,dn[nn].width):dn[nn].width}:{height:fn===B.ScrollMode.Page?Math.max(_n.height,dn[nn].height):dn[nn].height,width:Math.max(_n.width/2,dn[nn].width)};fn===B.ScrollMode.Page?mn=nn===0?Qr:{left:nn%2==0?Mn.width:0,top:Math.floor((nn-1)/2)*Mn.height+hn[0].end.top}:nn===0?(mn=Qr,kn=dn[0].height,Cn=0):nn%2==1?(mn={left:0,top:kn+=Cn},Cn=nn===wn-1?dn[nn].height:Math.max(dn[nn].height,dn[nn+1].height)):mn={left:hn[nn-1].end.left,top:kn};var Fn={left:mn.left+Mn.width,top:mn.top+Mn.height};hn[nn]={index:nn,start:mn,size:Mn,end:Fn,visibility:-1}}return hn}(et,bn,St,pt):nt===B.ViewMode.DualPage?function(wn,_n,dn,fn){for(var hn=[],kn=0,Cn=0,mn=Ki,nn=0;nn<wn;nn++){var Mn={height:fn===B.ScrollMode.Page?Math.max(_n.height,dn[nn].height):dn[nn].height,width:Math.max(_n.width/2,dn[nn].width)};fn===B.ScrollMode.Page?mn={left:nn%2==0?0:Mn.width,top:Math.floor(nn/2)*Mn.height}:nn%2==0?(mn={left:0,top:kn+=Cn},Cn=nn===wn-1?dn[nn].height:Math.max(dn[nn].height,dn[nn+1].height)):mn={left:hn[nn-1].end.left,top:kn};var Fn={left:mn.left+Mn.width,top:mn.top+Mn.height};hn[nn]={index:nn,start:mn,size:Mn,end:Fn,visibility:-1}}return hn}(et,bn,St,pt):function(wn,_n,dn,fn){for(var hn=[],kn=0,Cn={left:0,top:0},mn=0,nn=Gi,Mn=0;Mn<wn;Mn++){var Fn=dn[Mn];if(Mn===0)kn=Fn.width,Cn={left:0,top:0},mn=Fn.height;else switch(fn){case B.ScrollMode.Wrapped:(kn+=Fn.width)<_n.width?(nn={left:hn[Mn-1].end.left,top:Cn.top},mn=Math.max(mn,Fn.height)):(kn=Fn.width,Cn={left:(nn={left:Cn.left,top:Cn.top+mn}).left,top:nn.top},mn=Fn.height);break;case B.ScrollMode.Horizontal:case B.ScrollMode.Vertical:default:nn=hn[Mn-1].end}var Qn={left:nn.left+Fn.width,top:nn.top+Fn.height};hn[Mn]={index:Mn,start:nn,size:Fn,end:Qn,visibility:-1}}return hn}(et,bn,St,pt)},[pt,St,nt,bn]),zn=Un[et-1]?{height:Un[et-1].end.top,width:Un[et-1].end.left}:Zi;Sn.current.measurements=Un;var qn=G.useMemo(function(){var wn=function(Mn,Fn,Qn,Xn){var hr=0;switch(Mn){case Zt.Horizontal:hr=Xn.left;break;case Zt.Vertical:default:hr=Xn.top}var vr=Fn.length-1,Tn=function(Kn,$r,Or,Kr){for(;Kn<=$r;){var Fr=(Kn+$r)/2|0,Br=Kr(Fr);if(Br<Or)Kn=Fr+1;else{if(!(Br>Or))return Fr;$r=Fr-1}}return Kn>0?Kn-1:0}(0,vr,hr,function(Kn){switch(Mn){case Zt.Horizontal:return Fn[Kn].start.left;case Zt.Both:case Zt.Vertical:default:return Fn[Kn].start.top}});if(Mn===Zt.Both)for(var pr=Fn[Tn].start.top;Tn-1>=0&&Fn[Tn-1].start.top===pr&&Fn[Tn-1].start.left>=Xn.left;)Tn--;for(var Jn=Tn;Jn<=vr;){var tr={top:Fn[Jn].start.top-Xn.top,left:Fn[Jn].start.left-Xn.left},cr={height:Qn.height-tr.top,width:Qn.width-tr.left};if(Mn===Zt.Horizontal&&cr.width<0||Mn===Zt.Vertical&&cr.height<0||Mn===Zt.Both&&(cr.width<0||cr.height<0))break;Jn++}return{start:Tn,end:Jn}}(zt,Un,bn,Rn),_n=wn.start,dn=wn.end,fn=yn.slice(Nr(0,et,_n),Nr(0,et,dn)),hn=_n+fn.reduce(function(Mn,Fn,Qn,Xn){return Fn>Xn[Mn]?Qn:Mn},0),kn=hn=Nr(0,et-1,hn),Cn=lt({endPage:dn,numPages:et,startPage:_n}),mn=Cn.startPage,nn=Cn.endPage;switch(mn=Math.max(mn,0),nn=Math.min(nn,et-1),nt){case B.ViewMode.DualPageWithCover:hn>0&&(kn=hn%2==1?hn:hn-1),mn=mn===0?0:mn%2==1?mn:mn-1,et-(nn=nn%2==1?nn-1:nn)<=2&&(nn=et-1);break;case B.ViewMode.DualPage:kn=hn%2==0?hn:hn-1,mn=mn%2==0?mn:mn-1,nn=nn%2==1?nn:nn-1;break;case B.ViewMode.SinglePage:default:kn=hn}return{startPage:mn,endPage:nn,maxVisbilityIndex:kn}},[Un,bn,Rn,nt,yn]),sr=qn.startPage,er=qn.endPage,lr=qn.maxVisbilityIndex,rr=G.useMemo(function(){for(var wn=[],_n=function(fn){var hn=Un[fn],kn=ae(ae({},hn),{visibility:yn[fn]!==void 0?yn[fn]:-1,measureRef:function(Cn){Cn&&(Cn.setAttribute(vi,"".concat(fn)),Vn.observe(Cn))}});wn.push(kn)},dn=sr;dn<=er;dn++)_n(dn);return wn},[sr,er,yn,Un]),ar=G.useCallback(function(wn,_n){var dn=Sn.current.measurements[Nr(0,et-1,wn)],fn=It.current===B.ScrollMode.Page?gi:_n;return dn?vn({left:fn.left+dn.start.left,top:fn.top+dn.start.top},$e):Promise.resolve()},[vn,$e]),or=G.useCallback(function(wn,_n){var dn=Sn.current.measurements,fn=dn[wn].start,hn=dn.find(function(Cn){return Cn.start.top-fn.top>1e-12});if(!hn)return Promise.resolve();var kn=hn.index;switch(Wt.current){case B.ViewMode.DualPage:kn=kn%2==0?kn:kn+1;break;case B.ViewMode.DualPageWithCover:kn=kn%2==1?kn:kn+1}return ar(kn,_n)},[]),ir=G.useCallback(function(wn,_n){for(var dn=Sn.current.measurements,fn=dn[wn].start,hn=wn,kn=!1,Cn=et-1;Cn>=0;Cn--)if(fn.top-dn[Cn].start.top>1e-12){kn=!0,hn=dn[Cn].index;break}if(!kn)return Promise.resolve();switch(Wt.current){case B.ViewMode.DualPage:hn=hn%2==0?hn:hn-1;break;case B.ViewMode.DualPageWithCover:hn=hn%2==0?hn-1:hn}return hn===wn&&(hn=wn-1),ar(hn,_n)},[]),fr=G.useCallback(function(wn,_n){if(Wt.current===B.ViewMode.DualPageWithCover||Wt.current===B.ViewMode.DualPage)return or(wn,_n);switch(It.current){case B.ScrollMode.Wrapped:return or(wn,_n);case B.ScrollMode.Horizontal:case B.ScrollMode.Vertical:default:return ar(wn+1,_n)}},[]),xr=G.useCallback(function(wn,_n){if(Wt.current===B.ViewMode.DualPageWithCover||Wt.current===B.ViewMode.DualPage)return ir(wn,_n);switch(It.current){case B.ScrollMode.Wrapped:return ir(wn,_n);case B.ScrollMode.Horizontal:case B.ScrollMode.Vertical:default:return ar(wn-1,_n)}},[]),yr=G.useCallback(function(){return function(wn,_n){switch(_n){case B.ScrollMode.Horizontal:return{position:"relative",height:"100%",width:"".concat(wn.width,"px")};case B.ScrollMode.Vertical:default:return{position:"relative",height:"".concat(wn.height,"px"),width:"100%"}}}(zn,It.current)},[zn]),dr=G.useCallback(function(wn){return function(_n,dn,fn){return fn!==B.ScrollMode.Page?{}:{height:"".concat(dn.height,"px"),width:"100%",position:"absolute",top:0,transform:"translateY(".concat(_n.start.top,"px)")}}(wn,bn,It.current)},[bn]),gr=G.useCallback(function(wn){return function(_n,dn,fn,hn,kn){var Cn,mn,nn,Mn,Fn,Qn,Xn,hr=dn?"right":"left",vr=dn?-1:1,Tn=fn.length,pr=_n.start.left*vr,Jn=_n.size,tr=Jn.height,cr=Jn.width;if(hn===B.ViewMode.DualPageWithCover){var Kn=kn===B.ScrollMode.Page?0:_n.start.top;return _n.index===0||Tn%2==0&&_n.index===Tn-1?((Cn={height:"".concat(tr,"px"),minWidth:"".concat(Wi(fn,hn),"px"),width:"100%"})[hr]=0,Cn.position="absolute",Cn.top=0,Cn.transform="translate(".concat(pr,"px, ").concat(Kn,"px)"),Cn):((mn={height:"".concat(tr,"px"),width:"".concat(cr,"px")})[hr]=0,mn.position="absolute",mn.top=0,mn.transform="translate(".concat(pr,"px, ").concat(Kn,"px)"),mn)}if(hn===B.ViewMode.DualPage)return(nn={height:"".concat(tr,"px"),width:"".concat(cr,"px")})[hr]=0,nn.position="absolute",nn.top=0,nn.transform="translate(".concat(pr,"px, ").concat(kn===B.ScrollMode.Page?0:_n.start.top,"px)"),nn;switch(kn){case B.ScrollMode.Horizontal:return(Mn={height:"100%",width:"".concat(cr,"px")})[hr]=0,Mn.position="absolute",Mn.top=0,Mn.transform="translateX(".concat(pr,"px)"),Mn;case B.ScrollMode.Page:return(Fn={height:"".concat(tr,"px"),width:"".concat(cr,"px")})[hr]=0,Fn.position="absolute",Fn.top=0,Fn;case B.ScrollMode.Wrapped:return(Qn={height:"".concat(tr,"px"),width:"".concat(cr,"px")})[hr]=0,Qn.position="absolute",Qn.top=0,Qn.transform="translate(".concat(pr,"px, ").concat(_n.start.top,"px)"),Qn;case B.ScrollMode.Vertical:default:return(Xn={height:"".concat(tr,"px"),width:"100%"})[hr]=0,Xn.position="absolute",Xn.top=0,Xn.transform="translateY(".concat(_n.start.top,"px)"),Xn}}(wn,We,St,Wt.current,It.current)},[We,St]),kr=G.useCallback(function(wn,_n){var dn=Sn.current,fn=dn.measurements,hn=dn.scrollOffset,kn=fn[Nr(0,et-1,_n)];if(kn){var Cn=It.current===B.ScrollMode.Page?{left:kn.start.left,top:kn.start.top}:{left:hn.left*wn,top:hn.top*wn};return vn(Cn,!1)}return Promise.resolve()},[]);return G.useEffect(function(){return function(){Vn.disconnect()}},[]),{boundingClientRect:bn,isSmoothScrolling:mt,startPage:sr,endPage:er,maxVisbilityIndex:lr,virtualItems:rr,getContainerStyles:yr,getItemContainerStyles:dr,getItemStyles:gr,scrollToItem:ar,scrollToNextItem:fr,scrollToPreviousItem:xr,zoom:kr}},Jr=function(oe,$e,We,et,st,lt){var St=We;switch(!0){case(st===B.ViewMode.DualPageWithCover&&lt>=3):case(st===B.ViewMode.DualPage&&lt>=3):St=2*We;break;default:St=We}switch(et){case B.SpecialZoomLevel.ActualSize:return 1;case B.SpecialZoomLevel.PageFit:return Math.min((oe.clientWidth-17)/St,(oe.clientHeight-16)/$e);case B.SpecialZoomLevel.PageWidth:return(oe.clientWidth-17)/St}},Ji=function(oe){var $e,We,et=oe.getCurrentPage,st=($e=50,We=G.useRef([]),G.useEffect(function(){return function(){We.current=[]}},[]),{push:function(bt){var mt=We.current;mt.length+1>$e&&mt.shift(),mt.push(bt),We.current=mt},map:function(bt){return We.current.map(function(mt){return bt(mt)})},pop:function(){var bt=We.current;if(bt.length===0)return null;var mt=bt.pop();return We.current=bt,mt}}),lt=function(bt){var mt=G.useRef([]);return G.useEffect(function(){return function(){mt.current=[]}},[]),{dequeue:function(){var Ot=mt.current;if(Ot.length===0)return null;var Dt=Ot.shift();return mt.current=Ot,Dt||null},enqueue:function(Ot){var Dt=mt.current;Dt.length+1>bt&&Dt.pop(),mt.current=[Ot].concat(Dt)},map:function(Ot){return mt.current.map(function(Dt){return Ot(Dt)})}}}(50),St=function(){var bt=lt.dequeue();return bt&&st.push(bt),bt&&bt.pageIndex===et()?St():bt},pt=function(){var bt=st.pop();return bt&&lt.enqueue(bt),bt&&bt.pageIndex===et()?pt():bt},nt=G.useCallback(function(bt){st.push(bt)},[]);return{getNextDestination:St,getPreviousDestination:pt,markVisitedDestination:nt}},bi=function(oe){var $e=[];return oe.map(function(We){$e=$e.concat(We).concat(function(et){var st=[];return et.items&&et.items.length>0&&(st=st.concat(bi(et.items))),st}(We))}),$e},_i={capture:!1,passive:!0},ea={height:0,width:0},ei={height:0,width:0},ta=function(oe){var $e=oe.getCurrentPage,We=oe.getCurrentScrollMode,et=oe.jumpToPage,st=oe.targetRef,lt=G.useState(B.FullScreenMode.Normal),St=lt[0],pt=lt[1],nt=function(){var yn=G.useState(ea),jn=yn[0],Vn=yn[1],Un=He(function(){Vn({height:window.innerHeight,width:window.innerWidth})},100);return xe(function(){return window.addEventListener("resize",Un,_i),function(){window.removeEventListener("resize",Un,_i)}},[]),jn}(),bt=G.useState(ei),mt=bt[0],Ot=bt[1],Dt=G.useRef(ei),It=G.useRef($e()),Wt=G.useRef(ei),zt=G.useState(st.current),Ut=zt[0],Rn=zt[1],vn=G.useRef();xe(function(){st.current!==Ut&&Rn(st.current)},[]),xe(function(){if(Ut){var yn=new ResizeObserver(function(jn){jn.forEach(function(Vn){var Un=Vn.target.getBoundingClientRect(),zn=Un.height,qn=Un.width;Ot({height:zn,width:qn})})});return yn.observe(Ut),function(){yn.unobserve(Ut),yn.disconnect()}}},[Ut]);var bn=G.useCallback(function(yn){var jn=Ye();return jn&&jn!==yn?(pt(B.FullScreenMode.Normal),ot(jn)):Promise.resolve()},[]),Sn=G.useCallback(function(yn){yn&&ye()&&(Rn(yn),bn(yn).then(function(){vn.current=yn,pt(B.FullScreenMode.Entering),function(jn){ze&&jn[rt.RequestFullScreen]()}(yn)}))},[]),un=G.useCallback(function(){Ye()&&(pt(B.FullScreenMode.Exitting),ot(document))},[]),xn=G.useCallback(function(){Ut&&Ye()!==Ut&&pt(B.FullScreenMode.Exitting)},[Ut]);return G.useEffect(function(){switch(St){case B.FullScreenMode.Entering:vn.current&&(vn.current.style.backgroundColor="var(--rpv-core__full-screen-target-background-color)"),It.current=$e(),Dt.current={height:window.innerHeight,width:window.innerWidth};break;case B.FullScreenMode.Entered:We()===B.ScrollMode.Page?et(It.current).then(function(){pt(B.FullScreenMode.EnteredCompletely)}):pt(B.FullScreenMode.EnteredCompletely);break;case B.FullScreenMode.Exitting:vn.current&&(vn.current.style.backgroundColor="",vn.current=null),It.current=$e();break;case B.FullScreenMode.Exited:pt(B.FullScreenMode.Normal),We()===B.ScrollMode.Page&&et(It.current)}},[St]),G.useEffect(function(){if(St!==B.FullScreenMode.Normal)return St===B.FullScreenMode.Entering&&nt.height===mt.height&&nt.width===mt.width&&nt.height>0&&nt.width>0&&(Wt.current.height===0||nt.height==Wt.current.height)?(Wt.current={height:window.innerHeight,width:window.innerWidth},void pt(B.FullScreenMode.Entered)):void(St===B.FullScreenMode.Exitting&&Dt.current.height===nt.height&&Dt.current.width===nt.width&&nt.height>0&&nt.width>0&&pt(B.FullScreenMode.Exited))},[St,nt,mt]),G.useEffect(function(){var yn;return yn=xn,ze&&document.addEventListener(rt.FullScreenChange,yn),function(){(function(jn){ze&&document.removeEventListener(rt.FullScreenChange,jn)})(xn)}},[Ut]),{enterFullScreenMode:Sn,exitFullScreenMode:un,fullScreenMode:St}},na={buildPageStyles:function(){return{}},transformSize:function(oe){return oe.size}},Dr={left:0,top:0},ra=function(oe){var $e=oe.currentFile,We=oe.defaultScale,et=oe.doc,st=oe.enableSmoothScroll,lt=oe.initialPage,St=oe.initialRotation,pt=oe.initialScale,nt=oe.pageLayout,bt=oe.pageSizes,mt=oe.plugins,Ot=oe.renderPage,Dt=oe.scrollMode,It=oe.setRenderRange,Wt=oe.viewMode,zt=oe.viewerState,Ut=oe.onDocumentLoad,Rn=oe.onOpenFile,vn=oe.onPageChange,bn=oe.onRotate,Sn=oe.onRotatePage,un=oe.onZoom,xn=et.numPages,yn=et.loadingTask.docId,jn=G.useContext(dt).l10n,Vn=G.useContext(ge),Un=Vn.direction===B.TextDirection.RightToLeft,zn=G.useRef(),qn=G.useRef(),sr=G.useState(lt),er=sr[0],lr=sr[1],rr=G.useRef(null),ar=Ji({getCurrentPage:function(){return Tn.current.pageIndex}}),or=G.useState(St),ir=or[0],fr=or[1],xr=yt(ir),yr=G.useState(!1),dr=yr[0],gr=yr[1],kr=G.useState(new Map),wn=kr[0],_n=kr[1],dn=G.useState(Dt),fn=dn[0],hn=dn[1],kn=yt(fn),Cn=G.useState(Wt),mn=Cn[0],nn=Cn[1],Mn=yt(mn),Fn=function(Bt){var Pn=Qe(),Dn=G.useState([]),Wn=Dn[0],Hn=Dn[1];return G.useEffect(function(){Bt.getOutline().then(function(On){if(Pn.current&&On!==null){var ur=bi(On);Hn(ur)}})},[]),Wn}(et),Qn=G.useState(pt),Xn=Qn[0],hr=Qn[1],vr=yt(Xn),Tn=G.useRef(zt),pr=G.useRef(typeof We=="string"?We:null),Jn=G.useRef(-1),tr=G.useRef(-1),cr=G.useRef(lt),Kn=ta({getCurrentPage:function(){return Tn.current.pageIndex},getCurrentScrollMode:function(){return Tn.current.scrollMode},jumpToPage:function(Bt){return Rr(Bt)},targetRef:qn}),$r=G.useState(-1),Or=$r[0],Kr=$r[1],Fr=G.useState(0),Br=Fr[0],ca=Fr[1],_r=Ne({doc:et});G.useEffect(function(){return function(){Gt.clear(),Jt.clear()}},[yn]);var Si=G.useMemo(function(){return Object.assign({},na,nt)},[]),ua=G.useMemo(function(){return Array(xn).fill(0).map(function(Bt,Pn){var Dn=[bt[Pn].pageHeight,bt[Pn].pageWidth],Wn=Math.abs(ir)%180==0?{height:Dn[0],width:Dn[1]}:{height:Dn[1],width:Dn[0]},Hn={height:Wn.height*Xn,width:Wn.width*Xn};return Si.transformSize({numPages:xn,pageIndex:Pn,size:Hn})})},[ir,Xn]),Zn=Qi({enableSmoothScroll:st,isRtl:Un,numberOfItems:xn,parentRef:qn,scrollMode:fn,setRenderRange:It,sizes:ua,viewMode:mn}),da=He(function(){!pr.current||Tn.current.fullScreenMode!==B.FullScreenMode.Normal||lt>0&&cr.current===lt||Ir(pr.current)},200);(function(Bt){var Pn=Bt.targetRef,Dn=Bt.onResize;xe(function(){var Wn=new ResizeObserver(function(On){On.forEach(function(ur){Dn(ur.target)})}),Hn=Pn.current;if(Hn)return Wn.observe(Hn),function(){Wn.unobserve(Hn)}},[])})({targetRef:qn,onResize:da});var Tr=function(Bt){var Pn=Bt;mt.forEach(function(Dn){Dn.onViewerStateChange&&(Pn=Dn.onViewerStateChange(Pn))}),Tn.current=Pn},pa=function(){return qn.current},fa=function(){return Tn.current},ma=G.useCallback(function(Bt){ar.markVisitedDestination(Bt)},[]),ri=G.useCallback(function(Bt){var Pn=Bt.pageIndex,Dn=Bt.bottomOffset,Wn=Bt.leftOffset,Hn=Bt.scaleTo,On=qn.current,ur=Tn.current;return On&&ur?new Promise(function(Ar,ci){rn(et,Pn).then(function(Xr){var Lr=Xr.getViewport({scale:1}),Zr=0,Ri=(typeof Dn=="function"?Dn(Lr.width,Lr.height):Dn)||0,Yr=(typeof Wn=="function"?Wn(Lr.width,Lr.height):Wn)||0,Vr=ur.scale;switch(Hn){case B.SpecialZoomLevel.PageFit:Zr=0,Yr=0,Ir(B.SpecialZoomLevel.PageFit);break;case B.SpecialZoomLevel.PageWidth:Vr=Jr(On,bt[Pn].pageHeight,bt[Pn].pageWidth,B.SpecialZoomLevel.PageWidth,Wt,xn),Zr=(Lr.height-Ri)*Vr,Yr*=Vr,Ir(Vr);break;default:Zr=(Lr.height-Ri)*Vr,Yr*=Vr}switch(ur.scrollMode){case B.ScrollMode.Horizontal:Zn.scrollToItem(Pn,{left:Yr,top:0}).then(function(){Ar()});break;case B.ScrollMode.Vertical:default:Zn.scrollToItem(Pn,{left:0,top:Zr}).then(function(){Ar()})}})}):Promise.resolve()},[]),xi=G.useCallback(function(Bt){return ar.markVisitedDestination(Bt),ri(Bt)},[]),ga=G.useCallback(function(){var Bt=ar.getNextDestination();return Bt?ri(Bt):Promise.resolve()},[]),va=G.useCallback(function(){var Bt=ar.getPreviousDestination();return Bt?ri(Bt):Promise.resolve()},[]),ba=G.useCallback(function(){return Zn.scrollToNextItem(Tn.current.pageIndex,Dr)},[]),Rr=G.useCallback(function(Bt){return 0<=Bt&&Bt<xn?Zn.scrollToItem(Bt,Dr):Promise.resolve()},[]),_a=G.useCallback(function(){return Zn.scrollToPreviousItem(Tn.current.pageIndex,Dr)},[]),ki=G.useCallback(function(Bt){var Pn,Dn;(Pn=Bt.name,Dn=Pn.split(/\./).pop(),Dn?Dn.toLowerCase():"").toLowerCase()==="pdf"&&new Promise(function(Wn){var Hn=new FileReader;Hn.readAsArrayBuffer(Bt),Hn.onload=function(){var On=new Uint8Array(Hn.result);Wn(On)}}).then(function(Wn){Rn(Bt.name,Wn)})},[Rn]),Ci=G.useCallback(function(Bt){var Pn=Bt===B.RotateDirection.Backward?-90:90,Dn=Tn.current.rotation,Wn=Dn===360||Dn===-360?Pn:Dn+Pn;_r.markNotRendered(),fr(Wn),Tr(ae(ae({},Tn.current),{rotation:Wn})),bn({direction:Bt,doc:et,rotation:Wn})},[]),ii=G.useCallback(function(Bt,Pn){var Dn=Pn===B.RotateDirection.Backward?-90:90,Wn=Tn.current.pagesRotation,Hn=(Wn.has(Bt)?Wn.get(Bt):St)+Dn,On=Wn.set(Bt,Hn);_n(On),gr(function(ur){return!ur}),Tr(ae(ae({},Tn.current),{pagesRotation:On,rotatedPage:Bt})),Sn({direction:Pn,doc:et,pageIndex:Bt,rotation:Hn}),_r.markRendering(Bt),Kr(Bt)},[]),Pi=G.useCallback(function(Bt){Tr(ae(ae({},Tn.current),{scrollMode:Bt})),hn(Bt)},[]),Mi=G.useCallback(function(Bt){Tr(ae(ae({},Tn.current),{viewMode:Bt})),nn(Bt)},[]),Ir=G.useCallback(function(Bt){var Pn=qn.current,Dn=Tn.current.pageIndex;if(!(Dn<0||Dn>=xn)){var Wn=bt[Dn].pageHeight,Hn=bt[Dn].pageWidth,On=Pn?typeof Bt=="string"?Jr(Pn,Wn,Hn,Bt,Tn.current.viewMode,xn):Bt:1;pr.current=typeof Bt=="string"?Bt:null,On!==Tn.current.scale&&(ca(function(ur){return ur+1}),_r.markNotRendered(),hr(On),un({doc:et,scale:On}),Tr(ae(ae({},Tn.current),{scale:On})))}},[]),Ea=G.useCallback(function(Bt){Kn.enterFullScreenMode(Bt)},[]),ya=G.useCallback(function(){Kn.exitFullScreenMode()},[]);G.useEffect(function(){Tr(ae(ae({},Tn.current),{fullScreenMode:Kn.fullScreenMode}))},[Kn.fullScreenMode]),G.useEffect(function(){var Bt={enterFullScreenMode:Ea,exitFullScreenMode:ya,getPagesContainer:pa,getViewerState:fa,jumpToDestination:xi,jumpToNextDestination:ga,jumpToPreviousDestination:va,jumpToNextPage:ba,jumpToPreviousPage:_a,jumpToPage:Rr,openFile:ki,rotate:Ci,rotatePage:ii,setViewerState:Tr,switchScrollMode:Pi,switchViewMode:Mi,zoom:Ir};return mt.forEach(function(Pn){Pn.install&&Pn.install(Bt)}),function(){mt.forEach(function(Pn){Pn.uninstall&&Pn.uninstall(Bt)})}},[yn]),G.useEffect(function(){Ut({doc:et,file:$e}),mt.forEach(function(Bt){Bt.onDocumentLoad&&Bt.onDocumentLoad({doc:et,file:$e})})},[yn]);var ai,oi,si,$i=Zn.boundingClientRect;ai=function(){lt&&Rr(lt)},oi=$i.height>0&&$i.width>0,si=G.useRef(!1),xe(function(){oi&&!si.current&&(si.current=!0,ai())},[ai,oi]),xe(function(){var Bt=Tn.current.pageIndex;Bt>-1&&kn!==fn&&Zn.scrollToItem(Bt,Dr).then(function(){Kn.fullScreenMode===B.FullScreenMode.EnteredCompletely&&(st||_r.markNotRendered(),Jn.current=-1)})},[fn]),xe(function(){var Bt=Tn.current.pageIndex;Bt>-1&&xr!==ir&&Zn.scrollToItem(Bt,Dr)},[ir]),xe(function(){vr!=0&&vr!=Tn.current.scale&&Zn.zoom(Tn.current.scale/vr,Tn.current.pageIndex).then(function(){Kn.fullScreenMode===B.FullScreenMode.EnteredCompletely&&(tr.current=-1)})},[Xn]),xe(function(){if(Mn!==Tn.current.viewMode){var Bt=Zn.startPage,Pn=Zn.endPage,Dn=Zn.virtualItems;_r.markNotRendered(),_r.setRange(Bt,Pn);for(var Wn=function(On){var ur=Dn.find(function(Ar){return Ar.index===On});ur&&_r.setVisibility(On,ur.visibility)},Hn=Bt;Hn<=Pn;Hn++)Wn(Hn);li()}},[mn]),xe(function(){var Bt=Tn.current.pageIndex;Bt>-1&&Mn!==mn&&Zn.scrollToItem(Bt,Dr)},[mn]),xe(function(){var Bt=Tn.current.pageIndex;Bt>0&&Bt===lt&&cr.current===lt&&pr.current&&(cr.current=-1,Ir(pr.current))},[er]),G.useEffect(function(){Zn.isSmoothScrolling||rr.current!==null&&rr.current===er||(rr.current=er,vn({currentPage:er,doc:et}))},[er,Zn.isSmoothScrolling]),G.useEffect(function(){Kn.fullScreenMode===B.FullScreenMode.Entering&&Tn.current.scrollMode===B.ScrollMode.Page&&(Jn.current=Tn.current.pageIndex),Kn.fullScreenMode===B.FullScreenMode.EnteredCompletely&&Tn.current.scrollMode===B.ScrollMode.Page&&st&&(Jn.current=-1),Kn.fullScreenMode===B.FullScreenMode.EnteredCompletely&&pr.current&&(tr.current=Tn.current.pageIndex,Ir(pr.current))},[Kn.fullScreenMode]),G.useEffect(function(){if(Kn.fullScreenMode!==B.FullScreenMode.Entering&&Kn.fullScreenMode!==B.FullScreenMode.Exitting&&!Zn.isSmoothScrolling){var Bt=Zn.startPage,Pn=Zn.endPage,Dn=Zn.maxVisbilityIndex,Wn=Zn.virtualItems,Hn=Dn,On=Kn.fullScreenMode===B.FullScreenMode.Entered||Kn.fullScreenMode===B.FullScreenMode.EnteredCompletely;if(!(On&&Hn!==Jn.current&&Jn.current>-1||On&&Hn!==tr.current&&tr.current>-1)){lr(Hn),Tr(ae(ae({},Tn.current),{pageIndex:Hn})),_r.setRange(Bt,Pn);for(var ur=function(ci){var Xr=Wn.find(function(Lr){return Lr.index===ci});Xr&&_r.setVisibility(ci,Xr.visibility)},Ar=Bt;Ar<=Pn;Ar++)ur(Ar);li()}}},[Zn.startPage,Zn.endPage,Zn.isSmoothScrolling,Zn.maxVisbilityIndex,Kn.fullScreenMode,dr,ir,Xn]);var wa=G.useCallback(function(Bt){_r.markRendered(Bt),li()},[Br]),li=function(){var Bt=_r.getHighestPriorityPage();Bt>-1&&_r.isInRange(Bt)&&(_r.markRendering(Bt),Kr(Bt))},Sa=function(Bt){var Pn=er-1,Dn=er+1;switch(Bt){case"FirstPage":Rr(0);break;case"LastPage":Rr(xn-1);break;case"NextPage":Dn<xn&&Rr(Dn);break;case"PrevPage":Pn>=0&&Rr(Pn)}},xa=G.useCallback(function(){var Bt=Zn.virtualItems,Pn=[];switch(mn){case B.ViewMode.DualPage:Pn=jt(Bt,2);break;case B.ViewMode.DualPageWithCover:Bt.length&&(Pn=Bt[0].index===0?[[Bt[0]]].concat(jt(Bt.slice(1),2)):jt(Bt,2));break;case B.ViewMode.SinglePage:default:Pn=jt(Bt,1)}var Dn=jn&&jn.core?jn.core.pageLabel:"Page {{pageIndex}}",Wn={attrs:{className:"rpv-core__inner-container","data-testid":"core__inner-container",ref:zn,style:{height:"100%"}},children:G.createElement(G.Fragment,null),subSlot:{attrs:{"data-testid":"core__inner-pages",className:ve({"rpv-core__inner-pages":!0,"rpv-core__inner-pages--horizontal":fn===B.ScrollMode.Horizontal,"rpv-core__inner-pages--rtl":Un,"rpv-core__inner-pages--single":fn===B.ScrollMode.Page,"rpv-core__inner-pages--vertical":fn===B.ScrollMode.Vertical,"rpv-core__inner-pages--wrapped":fn===B.ScrollMode.Wrapped}),ref:qn,style:{height:"100%",position:"relative"}},children:G.createElement("div",{"data-testid":"core__inner-current-page-".concat(er),style:Object.assign({"--scale-factor":Xn},Zn.getContainerStyles())},Pn.map(function(Hn){return G.createElement("div",{className:ve({"rpv-core__inner-page-container":!0,"rpv-core__inner-page-container--single":fn===B.ScrollMode.Page}),style:Zn.getItemContainerStyles(Hn[0]),key:"".concat(Hn[0].index,"-").concat(mn)},Hn.map(function(On){var ur=mn===B.ViewMode.DualPageWithCover&&(On.index===0||xn%2==0&&On.index===xn-1);return G.createElement("div",{"aria-label":Dn.replace("{{pageIndex}}","".concat(On.index+1)),className:ve({"rpv-core__inner-page":!0,"rpv-core__inner-page--dual-even":mn===B.ViewMode.DualPage&&On.index%2==0,"rpv-core__inner-page--dual-odd":mn===B.ViewMode.DualPage&&On.index%2==1,"rpv-core__inner-page--dual-cover":ur,"rpv-core__inner-page--dual-cover-even":mn===B.ViewMode.DualPageWithCover&&!ur&&On.index%2==0,"rpv-core__inner-page--dual-cover-odd":mn===B.ViewMode.DualPageWithCover&&!ur&&On.index%2==1,"rpv-core__inner-page--single":mn===B.ViewMode.SinglePage&&fn===B.ScrollMode.Page}),role:"region",key:"".concat(On.index,"-").concat(mn),style:Object.assign({},Zn.getItemStyles(On),Si.buildPageStyles({numPages:xn,pageIndex:On.index,scrollMode:fn,viewMode:mn}))},G.createElement(Ui,{doc:et,measureRef:On.measureRef,outlines:Fn,pageIndex:On.index,pageRotation:wn.has(On.index)?wn.get(On.index):0,pageSize:bt[On.index],plugins:mt,renderPage:Ot,renderQueueKey:Br,rotation:ir,scale:Xn,shouldRender:Or===On.index,viewMode:mn,onExecuteNamedAction:Sa,onJumpFromLinkAnnotation:ma,onJumpToDest:xi,onRenderCompleted:wa,onRotatePage:ii}))}))}))}};return mt.forEach(function(Hn){Hn.renderViewer&&(Wn=Hn.renderViewer({containerRef:zn,doc:et,pagesContainerRef:qn,pagesRotation:wn,pageSizes:bt,rotation:ir,slot:Wn,themeContext:Vn,jumpToPage:Rr,openFile:ki,rotate:Ci,rotatePage:ii,switchScrollMode:Pi,switchViewMode:Mi,zoom:Ir}))}),Wn},[mt,Zn]),Ti=G.useCallback(function(Bt){return G.createElement("div",ae({},Bt.attrs,{style:Bt.attrs&&Bt.attrs.style?Bt.attrs.style:{}}),Bt.children,Bt.subSlot&&Ti(Bt.subSlot))},[]);return Ti(xa())},Ei=[.1,.2,.3,.4,.5,.6,.7,.8,.9,1,1.1,1.3,1.5,1.7,1.9,2.1,2.4,2.7,3,3.3,3.7,4.1,4.6,5.1,5.7,6.3,7,7.7,8.5,9.4,10],ia=function(oe){var $e=oe.defaultScale,We=oe.doc,et=oe.render,st=oe.scrollMode,lt=oe.viewMode,St=G.useRef(),pt=G.useState({pageSizes:[],scale:0}),nt=pt[0],bt=pt[1];return G.useLayoutEffect(function(){var mt=Array(We.numPages).fill(0).map(function(Ot,Dt){return new Promise(function(It,Wt){rn(We,Dt).then(function(zt){var Ut=zt.getViewport({scale:1});It({pageHeight:Ut.height,pageWidth:Ut.width,rotation:Ut.rotation})})})});Promise.all(mt).then(function(Ot){var Dt=St.current;if(Dt&&Ot.length!==0){var It=Ot[0].pageWidth,Wt=Ot[0].pageHeight,zt=Dt.parentElement,Ut=(zt.clientWidth-45)/It,Rn=(zt.clientHeight-45)/Wt,vn=Ut;switch(st){case B.ScrollMode.Horizontal:vn=Math.min(Ut,Rn);break;case B.ScrollMode.Vertical:default:vn=Ut}var bn,Sn,un=$e?typeof $e=="string"?Jr(zt,Wt,It,$e,lt,We.numPages):$e:(bn=vn,(Sn=Ei.findIndex(function(xn){return xn>=bn}))===-1||Sn===0?bn:Ei[Sn-1]);bt({pageSizes:Ot,scale:un})}})},[We.loadingTask.docId]),nt.pageSizes.length===0||nt.scale===0?G.createElement("div",{className:"rpv-core__page-size-calculator","data-testid":"core__page-size-calculating",ref:St},G.createElement(Le,null)):et(nt.pageSizes,nt.scale)},Gr=function(){},ti=function(oe){function $e(We,et){var st=oe.call(this)||this;return st.verifyPassword=We,st.passwordStatus=et,st}return Ce($e,oe),$e}(Gr),aa=function(oe){var $e=oe.passwordStatus,We=oe.renderProtectedView,et=oe.verifyPassword,st=oe.onDocumentAskPassword,lt=G.useContext(dt).l10n,St=G.useState(""),pt=St[0],nt=St[1],bt=G.useContext(ge).direction===B.TextDirection.RightToLeft,mt=function(){return et(pt)};return G.useEffect(function(){st&&st({verifyPassword:et})},[]),We?We({passwordStatus:$e,verifyPassword:et}):G.createElement("div",{className:"rpv-core__asking-password-wrapper"},G.createElement("div",{className:ve({"rpv-core__asking-password":!0,"rpv-core__asking-password--rtl":bt})},G.createElement("div",{className:"rpv-core__asking-password-message"},$e===B.PasswordStatus.RequiredPassword&&lt.core.askingPassword.requirePasswordToOpen,$e===B.PasswordStatus.WrongPassword&&lt.core.wrongPassword.tryAgain),G.createElement("div",{className:"rpv-core__asking-password-body"},G.createElement("div",{className:ve({"rpv-core__asking-password-input":!0,"rpv-core__asking-password-input--ltr":!bt,"rpv-core__asking-password-input--rtl":bt})},G.createElement(Me,{testId:"core__asking-password-input",type:"password",value:pt,onChange:nt,onKeyDown:function(Ot){Ot.key==="Enter"&&mt()}})),G.createElement(Se,{onClick:mt},lt.core.askingPassword.submit))))},yi=function(oe){function $e(We){var et=oe.call(this)||this;return et.doc=We,et}return Ce($e,oe),$e}(Gr),wi=function(oe){function $e(We){var et=oe.call(this)||this;return et.error=We,et}return Ce($e,oe),$e}(Gr),ni=function(oe){function $e(We){var et=oe.call(this)||this;return et.percentages=We,et}return Ce($e,oe),$e}(Gr),oa=function(oe){var $e=oe.characterMap,We=oe.file,et=oe.httpHeaders,st=oe.render,lt=oe.renderError,St=oe.renderLoader,pt=oe.renderProtectedView,nt=oe.transformGetDocumentParams,bt=oe.withCredentials,mt=oe.onDocumentAskPassword,Ot=G.useContext(ge).direction===B.TextDirection.RightToLeft,Dt=G.useState(new ni(0)),It=Dt[0],Wt=Dt[1],zt=G.useRef(""),Ut=Qe();return G.useEffect(function(){zt.current="",Wt(new ni(0));var Rn=new Y.PDFWorker({name:"PDFWorker_".concat(Date.now())}),vn=Object.assign({httpHeaders:et,withCredentials:bt,worker:Rn},typeof We=="string"?{url:We}:{data:We},$e?{cMapUrl:$e.url,cMapPacked:$e.isCompressed}:{}),bn=nt?nt(vn):vn,Sn=Y.getDocument(bn);return Sn.onPassword=function(un,xn){switch(xn){case Y.PasswordResponses.NEED_PASSWORD:Ut.current&&Wt(new ti(un,B.PasswordStatus.RequiredPassword));break;case Y.PasswordResponses.INCORRECT_PASSWORD:Ut.current&&Wt(new ti(un,B.PasswordStatus.WrongPassword))}},Sn.onProgress=function(un){var xn=un.total>0?Math.min(100,100*un.loaded/un.total):100;Ut.current&&zt.current===""&&Wt(new ni(xn))},Sn.promise.then(function(un){zt.current=un.loadingTask.docId,Ut.current&&Wt(new yi(un))},function(un){return Ut.current&&!Rn.destroyed&&Wt(new wi({message:un.message||"Cannot load document",name:un.name}))}),function(){Sn.destroy(),Rn.destroy()}},[We]),It instanceof ti?G.createElement(aa,{passwordStatus:It.passwordStatus,renderProtectedView:pt,verifyPassword:It.verifyPassword,onDocumentAskPassword:mt}):It instanceof yi?st(It.doc):It instanceof wi?lt?lt(It.error):G.createElement("div",{className:ve({"rpv-core__doc-error":!0,"rpv-core__doc-error--rtl":Ot})},G.createElement("div",{className:"rpv-core__doc-error-text"},It.error.message)):G.createElement("div",{"data-testid":"core__doc-loading",className:ve({"rpv-core__doc-loading":!0,"rpv-core__doc-loading--rtl":Ot})},St?St(It.percentages):G.createElement(Le,null))},sa=function(oe,$e){var We=G.useMemo(function(){return oe==="auto"?typeof window<"u"&&window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light":oe},[]),et=G.useState(We),st=et[0],lt=et[1],St=yt(st);return G.useEffect(function(){if(oe==="auto"){var pt=window.matchMedia("(prefers-color-scheme: dark)"),nt=function(bt){lt(bt.matches?"dark":"light")};return pt.addEventListener("change",nt),function(){return pt.removeEventListener("change",nt)}}},[]),G.useEffect(function(){st!==St&&$e&&$e(st)},[st]),G.useEffect(function(){oe!==st&&lt(oe)},[oe]),{currentTheme:st,setCurrentTheme:lt}},la=function(oe){return{startPage:oe.startPage-3,endPage:oe.endPage+3}};B.Button=function(oe){var $e=oe.children,We=oe.testId,et=oe.onClick,st=G.useContext(ge).direction===B.TextDirection.RightToLeft,lt=We?{"data-testid":We}:{};return G.createElement("button",ae({className:ve({"rpv-core__button":!0,"rpv-core__button--rtl":st}),type:"button",onClick:et},lt),$e)},B.Icon=fe,B.LazyRender=function(oe){var $e=oe.attrs,We=oe.children,et=oe.testId,st=G.useState(!1),lt=st[0],St=st[1],pt=et?ae(ae({},$e),{"data-testid":et}):$e,nt=we({once:!0,onVisibilityChanged:function(bt){bt.isVisible&&St(!0)}});return G.createElement("div",ae({ref:nt},pt),lt&&We)},B.LocalizationContext=dt,B.Menu=function(oe){var $e=oe.children,We=G.useRef(),et=G.useRef([]),st=G.useContext(ge).direction===B.TextDirection.RightToLeft,lt=function(pt){if(We.current)switch(pt.key){case"Tab":pt.preventDefault();break;case"ArrowDown":pt.preventDefault(),St(function(nt,bt){return bt+1});break;case"ArrowUp":pt.preventDefault(),St(function(nt,bt){return bt-1});break;case"End":pt.preventDefault(),St(function(nt,bt){return nt.length-1});break;case"Home":pt.preventDefault(),St(function(nt,bt){return 0})}},St=function(pt){if(We.current){var nt=et.current,bt=nt.findIndex(function(Ot){return Ot.getAttribute("tabindex")==="0"}),mt=Math.min(nt.length-1,Math.max(0,pt(nt,bt)));bt>=0&&bt<=nt.length-1&&nt[bt].setAttribute("tabindex","-1"),nt[mt].setAttribute("tabindex","0"),nt[mt].focus()}};return xe(function(){var pt=We.current;if(pt){var nt=function(bt){var mt=[];return bt.querySelectorAll('.rpv-core__menu-item[role="menuitem"]').forEach(function(Ot){if(Ot instanceof HTMLElement){var Dt=Ot.parentElement;(Dt===bt||window.getComputedStyle(Dt).display!=="none")&&mt.push(Ot)}}),mt}(pt);et.current=nt}},[]),xe(function(){return document.addEventListener("keydown",lt),function(){document.removeEventListener("keydown",lt)}},[]),G.createElement("div",{ref:We,"aria-orientation":"vertical",className:ve({"rpv-core__menu":!0,"rpv-core__menu--rtl":st}),role:"menu",tabIndex:0},$e)},B.MenuDivider=function(){return G.createElement("div",{"aria-orientation":"horizontal",className:"rpv-core__menu-divider",role:"separator"})},B.MenuItem=function(oe){var $e=oe.checked,We=$e!==void 0&&$e,et=oe.children,st=oe.icon,lt=st===void 0?null:st,St=oe.isDisabled,pt=St!==void 0&&St,nt=oe.testId,bt=oe.onClick,mt=G.useContext(ge).direction===B.TextDirection.RightToLeft,Ot=nt?{"data-testid":nt}:{};return G.createElement("button",ae({className:ve({"rpv-core__menu-item":!0,"rpv-core__menu-item--disabled":pt,"rpv-core__menu-item--ltr":!mt,"rpv-core__menu-item--rtl":mt}),role:"menuitem",tabIndex:-1,type:"button",onClick:bt},Ot),G.createElement("div",{className:ve({"rpv-core__menu-item-icon":!0,"rpv-core__menu-item-icon--ltr":!mt,"rpv-core__menu-item-icon--rtl":mt})},lt),G.createElement("div",{className:ve({"rpv-core__menu-item-label":!0,"rpv-core__menu-item-label--ltr":!mt,"rpv-core__menu-item-label--rtl":mt})},et),G.createElement("div",{className:ve({"rpv-core__menu-item-check":!0,"rpv-core__menu-item-check--ltr":!mt,"rpv-core__menu-item-check--rtl":mt})},We&&G.createElement(ne,null)))},B.MinimalButton=function(oe){var $e=oe.ariaLabel,We=$e===void 0?"":$e,et=oe.ariaKeyShortcuts,st=et===void 0?"":et,lt=oe.children,St=oe.isDisabled,pt=St!==void 0&&St,nt=oe.isSelected,bt=nt!==void 0&&nt,mt=oe.testId,Ot=oe.onClick,Dt=G.useContext(ge).direction===B.TextDirection.RightToLeft,It=mt?{"data-testid":mt}:{};return G.createElement("button",ae({"aria-label":We},st&&{"aria-keyshortcuts":st},pt&&{"aria-disabled":!0},{className:ve({"rpv-core__minimal-button":!0,"rpv-core__minimal-button--disabled":pt,"rpv-core__minimal-button--rtl":Dt,"rpv-core__minimal-button--selected":bt}),type:"button",onClick:Ot},It),lt)},B.Modal=function(oe){var $e=oe.ariaControlsSuffix,We=oe.closeOnClickOutside,et=oe.closeOnEscape,st=oe.content,lt=oe.isOpened,St=lt!==void 0&&lt,pt=oe.target,nt=$e||"".concat(_e());return G.createElement(gt,{target:pt?function(bt,mt){return G.createElement("div",{"aria-expanded":mt?"true":"false","aria-haspopup":"dialog","aria-controls":"rpv-core__modal-body-".concat(nt)},pt(bt,mt))}:null,content:function(bt){return G.createElement(Ie,null,G.createElement(je,{ariaControlsSuffix:nt,closeOnClickOutside:We,closeOnEscape:et,onToggle:bt},st(bt)))},isOpened:St})},B.Popover=function(oe){var $e=oe.ariaHasPopup,We=$e===void 0?"dialog":$e,et=oe.ariaControlsSuffix,st=oe.closeOnClickOutside,lt=oe.closeOnEscape,St=oe.content,pt=oe.lockScroll,nt=pt===void 0||pt,bt=oe.offset,mt=oe.position,Ot=oe.target,Dt=Ge(!1),It=Dt.opened,Wt=Dt.toggle,zt=G.useRef(),Ut=G.useMemo(function(){return et||"".concat(_e())},[]);return G.createElement("div",{ref:zt,"aria-expanded":It?"true":"false","aria-haspopup":We,"aria-controls":"rpv-core__popver-body-".concat(Ut)},Ot(Wt,It),It&&G.createElement(G.Fragment,null,nt&&G.createElement(Rt,{closeOnEscape:lt,onClose:Wt}),G.createElement(Mt,{ariaControlsSuffix:Ut,closeOnClickOutside:st,offset:bt,position:mt,targetRef:zt,onClose:Wt},St(Wt))))},B.PrimaryButton=Se,B.ProgressBar=function(oe){var $e=oe.progress,We=G.useContext(ge).direction===B.TextDirection.RightToLeft;return G.createElement("div",{className:ve({"rpv-core__progress-bar":!0,"rpv-core__progress-bar--rtl":We})},G.createElement("div",{className:"rpv-core__progress-bar-progress",style:{width:"".concat($e,"%")}},$e,"%"))},B.Separator=function(){return G.createElement("div",{className:"rpv-core__separator"})},B.Spinner=Le,B.Splitter=function(oe){var $e=oe.constrain,We=G.useContext(ge).direction===B.TextDirection.RightToLeft,et=G.useRef(),st=G.useRef(),lt=G.useRef(),St=G.useRef(0),pt=G.useRef(0),nt=G.useRef(0),bt=G.useRef(0),mt={capture:!0},Ot=function(It){var Wt=et.current,zt=st.current,Ut=lt.current;if(Wt&&zt&&Ut){var Rn=bt.current,vn=It.clientX-St.current,bn=nt.current+(We?-vn:vn),Sn=Wt.parentElement.getBoundingClientRect().width,un=100*bn/Sn;if(Wt.classList.add("rpv-core__splitter--resizing"),$e){var xn=Sn-bn-Rn;if(!$e({firstHalfPercentage:un,firstHalfSize:bn,secondHalfPercentage:100*xn/Sn,secondHalfSize:xn}))return}zt.style.width="".concat(un,"%"),document.body.classList.add("rpv-core__splitter-body--resizing"),zt.classList.add("rpv-core__splitter-sibling--resizing"),Ut.classList.add("rpv-core__splitter-sibling--resizing")}},Dt=function(It){var Wt=et.current,zt=st.current,Ut=lt.current;Wt&&zt&&Ut&&(document.body.classList.remove("rpv-core__splitter-body--resizing"),Wt.classList.remove("rpv-core__splitter--resizing"),zt.classList.remove("rpv-core__splitter-sibling--resizing"),Ut.classList.remove("rpv-core__splitter-sibling--resizing"),document.removeEventListener("mousemove",Ot,mt),document.removeEventListener("mouseup",Dt,mt))};return G.useEffect(function(){var It=et.current;It&&(bt.current=It.getBoundingClientRect().width,st.current=It.previousElementSibling,lt.current=It.nextElementSibling)},[]),G.createElement("div",{ref:et,className:"rpv-core__splitter",onMouseDown:function(It){var Wt=st.current;Wt&&(St.current=It.clientX,pt.current=It.clientY,nt.current=Wt.getBoundingClientRect().width,document.addEventListener("mousemove",Ot,mt),document.addEventListener("mouseup",Dt,mt))}})},B.TextBox=Me,B.ThemeContext=ge,B.Tooltip=function(oe){var $e=oe.ariaControlsSuffix,We=oe.content,et=oe.offset,st=oe.position,lt=oe.target,St=Ge(!1),pt=St.opened,nt=St.toggle,bt=G.useRef(),mt=G.useRef(),Ot=G.useMemo(function(){return $e||"".concat(_e())},[]);Fe(function(){bt.current&&document.activeElement&&bt.current.contains(document.activeElement)&&It()});var Dt=function(){nt(B.ToggleStatus.Open)},It=function(){nt(B.ToggleStatus.Close)};return G.createElement(G.Fragment,null,G.createElement("div",{ref:bt,"aria-describedby":"rpv-core__tooltip-body-".concat(Ot),onBlur:function(Wt){Wt.relatedTarget instanceof HTMLElement&&Wt.currentTarget.parentElement&&Wt.currentTarget.parentElement.contains(Wt.relatedTarget)?mt.current&&(mt.current.style.display="none"):It()},onFocus:Dt,onMouseEnter:Dt,onMouseLeave:It},lt),pt&&G.createElement(Et,{ariaControlsSuffix:Ot,contentRef:mt,offset:et,position:st,targetRef:bt},We()))},B.Viewer=function(oe){var $e=oe.characterMap,We=oe.defaultScale,et=oe.enableSmoothScroll,st=et===void 0||et,lt=oe.fileUrl,St=oe.httpHeaders,pt=St===void 0?{}:St,nt=oe.initialPage,bt=nt===void 0?0:nt,mt=oe.pageLayout,Ot=oe.initialRotation,Dt=Ot===void 0?0:Ot,It=oe.localization,Wt=oe.plugins,zt=Wt===void 0?[]:Wt,Ut=oe.renderError,Rn=oe.renderLoader,vn=oe.renderPage,bn=oe.renderProtectedView,Sn=oe.scrollMode,un=Sn===void 0?B.ScrollMode.Vertical:Sn,xn=oe.setRenderRange,yn=xn===void 0?la:xn,jn=oe.transformGetDocumentParams,Vn=oe.theme,Un=Vn===void 0?{direction:B.TextDirection.LeftToRight,theme:"light"}:Vn,zn=oe.viewMode,qn=zn===void 0?B.ViewMode.SinglePage:zn,sr=oe.withCredentials,er=sr!==void 0&&sr,lr=oe.onDocumentAskPassword,rr=oe.onDocumentLoad,ar=rr===void 0?function(){}:rr,or=oe.onPageChange,ir=or===void 0?function(){}:or,fr=oe.onRotate,xr=fr===void 0?function(){}:fr,yr=oe.onRotatePage,dr=yr===void 0?function(){}:yr,gr=oe.onSwitchTheme,kr=gr===void 0?function(){}:gr,wn=oe.onZoom,_n=wn===void 0?function(){}:wn,dn=G.useState({data:lt,name:typeof lt=="string"?lt:"",shouldLoad:!1}),fn=dn[0],hn=dn[1],kn=function(Jn,tr){hn({data:tr,name:Jn,shouldLoad:!0})},Cn=G.useState(!1),mn=Cn[0],nn=Cn[1],Mn=yt(fn);G.useEffect(function(){var Jn,tr,cr,Kn;Jn=Mn.data,Kn=typeof(tr=lt),(cr=typeof Jn)=="string"&&Kn==="string"&&Jn===tr||cr==="object"&&Kn==="object"&&Jn.length===tr.length&&Jn.every(function($r,Or){return $r===tr[Or]})||hn({data:lt,name:typeof lt=="string"?lt:"",shouldLoad:mn})},[lt,mn]);var Fn=we({onVisibilityChanged:function(Jn){nn(Jn.isVisible),Jn.isVisible&&hn(function(tr){return Object.assign({},tr,{shouldLoad:!0})})}}),Qn=typeof Un=="string"?{direction:B.TextDirection.LeftToRight,theme:Un}:Un,Xn=G.useState(It||tt),hr=Xn[0],vr=Xn[1],Tn={l10n:hr,setL10n:vr},pr=Object.assign({},{direction:Qn.direction},sa(Qn.theme||"light",kr));return G.useEffect(function(){It&&vr(It)},[It]),G.createElement(dt.Provider,{value:Tn},G.createElement(ge.Provider,{value:pr},G.createElement("div",{ref:Fn,className:"rpv-core__viewer rpv-core__viewer--".concat(pr.currentTheme),"data-testid":"core__viewer",style:{height:"100%",width:"100%"}},fn.shouldLoad&&G.createElement(oa,{characterMap:$e,file:fn.data,httpHeaders:pt,render:function(Jn){return G.createElement(ia,{defaultScale:We,doc:Jn,render:function(tr,cr){return G.createElement(ra,{currentFile:{data:fn.data,name:fn.name},defaultScale:We,doc:Jn,enableSmoothScroll:st,initialPage:bt,initialRotation:Dt,initialScale:cr,pageLayout:mt,pageSizes:tr,plugins:zt,renderPage:vn,scrollMode:un,setRenderRange:yn,viewMode:qn,viewerState:{file:fn,fullScreenMode:B.FullScreenMode.Normal,pageIndex:-1,pageHeight:tr[0].pageHeight,pageWidth:tr[0].pageWidth,pagesRotation:new Map,rotation:Dt,scale:cr,scrollMode:un,viewMode:qn},onDocumentLoad:ar,onOpenFile:kn,onPageChange:ir,onRotate:xr,onRotatePage:dr,onZoom:_n})},scrollMode:un,viewMode:qn})},renderError:Ut,renderLoader:Rn,renderProtectedView:bn,transformGetDocumentParams:jn,withCredentials:er,onDocumentAskPassword:lr}))))},B.Worker=function(oe){var $e=oe.children,We=oe.workerUrl;return Y.GlobalWorkerOptions.workerSrc=We,G.createElement(G.Fragment,null,$e)},B.chunk=jt,B.classNames=ve,B.createStore=function(oe){var $e=oe||{},We={},et=function(lt,St){var pt;$e=ae(ae({},$e),((pt={})[lt]=St,pt)),(We[lt]||[]).forEach(function(nt){return nt($e[lt])})},st=function(lt){return $e[lt]};return{subscribe:function(lt,St){We[lt]=(We[lt]||[]).concat(St)},unsubscribe:function(lt,St){We[lt]=(We[lt]||[]).filter(function(pt){return pt!==St})},update:function(lt,St){et(lt,St)},updateCurrentValue:function(lt,St){var pt=st(lt);pt!==void 0&&et(lt,St(pt))},get:function(lt){return st(lt)}}},B.getDestination=In,B.getPage=rn,B.isFullScreenEnabled=ye,B.isMac=function(){return typeof window<"u"&&/(Mac|iPhone|iPod|iPad)/i.test(navigator.platform)},B.useDebounceCallback=He,B.useIntersectionObserver=we,B.useIsMounted=Qe,B.useIsomorphicLayoutEffect=xe,B.usePrevious=yt,B.useRenderQueue=Ne})(core_min);/**
* A React component to view a PDF document
*
* @see https://react-pdf-viewer.dev
* @license https://react-pdf-viewer.dev/license
* @copyright 2019-2023 Nguyen Huu Phuoc <me@phuoc.ng>
*/lib$h.exports=core_min;var libExports$h=lib$h.exports,lib$g={exports:{}},defaultLayout_min={},lib$f={exports:{}},attachment_min={},e$e=libExports$h;function t$e(B){var q=Object.create(null);return B&&Object.keys(B).forEach(function(K){if(K!=="default"){var X=Object.getOwnPropertyDescriptor(B,K);Object.defineProperty(q,K,X.get?X:{enumerable:!0,get:function(){return B[K]}})}}),q.default=B,Object.freeze(q)}var n$e=t$e(T$1),a$e=function(B){var q=B.files,K=n$e.useRef(),X=n$e.useContext(e$e.LocalizationContext).l10n,W=n$e.useContext(e$e.ThemeContext).direction===e$e.TextDirection.RightToLeft,G=n$e.useRef([]),Y=X&&X.attachment?X.attachment.clickToDownload:"Click to download",he=function(Ce){var ke=K.current,ae=[].slice.call(ke.getElementsByClassName("rpv-attachment__item"));if(ae.length!==0){ae.forEach(function(ve){return ve.setAttribute("tabindex","-1")});var Ae=document.activeElement,ge=ae[Math.min(ae.length-1,Math.max(0,Ce(ae,Ae)))];ge.setAttribute("tabindex","0"),ge.focus()}};return e$e.useIsomorphicLayoutEffect(function(){var Ce=K.current;if(Ce){var ke=[].slice.call(Ce.getElementsByClassName("rpv-attachment__item"));if(G.current=ke,ke.length>0){var ae=ke[0];ae.focus(),ae.setAttribute("tabindex","0")}}},[]),n$e.createElement("div",{"data-testid":"attachment__list",className:e$e.classNames({"rpv-attachment__list":!0,"rpv-attachment__list--rtl":W}),ref:K,tabIndex:-1,onKeyDown:function(Ce){switch(Ce.key){case"ArrowDown":Ce.preventDefault(),he(function(ke,ae){return ke.indexOf(ae)+1});break;case"ArrowUp":Ce.preventDefault(),he(function(ke,ae){return ke.indexOf(ae)-1});break;case"End":Ce.preventDefault(),he(function(ke,ae){return ke.length-1});break;case"Home":Ce.preventDefault(),he(function(ke,ae){return 0})}}},q.map(function(Ce){return n$e.createElement("button",{className:"rpv-attachment__item",key:Ce.fileName,tabIndex:-1,title:Y,type:"button",onClick:function(){return ke=Ce.fileName,ae=Ce.data,Ae=typeof ae=="string"?"":URL.createObjectURL(new Blob([ae],{type:""})),(ge=document.createElement("a")).style.display="none",ge.href=Ae||ke,ge.setAttribute("download",function(ve){var xe=ve.split("/").pop();return xe?xe.split("#")[0].split("?")[0]:ve}(ke)),document.body.appendChild(ge),ge.click(),document.body.removeChild(ge),void(Ae&&URL.revokeObjectURL(Ae));var ke,ae,Ae,ge}},Ce.fileName)}))},r$e=function(B){var q=B.doc,K=n$e.useContext(e$e.LocalizationContext).l10n,X=n$e.useContext(e$e.ThemeContext).direction===e$e.TextDirection.RightToLeft,W=K&&K.attachment?K.attachment.noAttachment:"There is no attachment",G=n$e.useState({files:[],isLoaded:!1}),Y=G[0],he=G[1];return n$e.useEffect(function(){q.getAttachments().then(function(Ce){var ke=Ce?Object.keys(Ce).map(function(ae){return{data:Ce[ae].content,fileName:Ce[ae].filename}}):[];he({files:ke,isLoaded:!0})})},[q]),Y.isLoaded?Y.files.length===0?n$e.createElement("div",{"data-testid":"attachment__empty",className:e$e.classNames({"rpv-attachment__empty":!0,"rpv-attachment__empty--rtl":X})},W):n$e.createElement(a$e,{files:Y.files}):n$e.createElement(e$e.Spinner,null)},c$e=function(B){var q=B.store,K=n$e.useState(q.get("doc")),X=K[0],W=K[1],G=function(Y){W(Y)};return n$e.useEffect(function(){return q.subscribe("doc",G),function(){q.unsubscribe("doc",G)}},[]),X?n$e.createElement(r$e,{doc:X}):n$e.createElement("div",{className:"rpv-attachment__loader"},n$e.createElement(e$e.Spinner,null))};attachment_min.attachmentPlugin=function(){var B=n$e.useMemo(function(){return e$e.createStore({})},[]);return{onDocumentLoad:function(q){B.update("doc",q.doc)},Attachments:function(){return n$e.createElement(c$e,{store:B})}}};/**
* A React component to view a PDF document
*
* @see https://react-pdf-viewer.dev
* @license https://react-pdf-viewer.dev/license
* @copyright 2019-2023 Nguyen Huu Phuoc <me@phuoc.ng>
*/lib$f.exports=attachment_min;var libExports$g=lib$f.exports,lib$e={exports:{}},bookmark_min={},e$d=libExports$h;function t$d(B){var q=Object.create(null);return B&&Object.keys(B).forEach(function(K){if(K!=="default"){var X=Object.getOwnPropertyDescriptor(B,K);Object.defineProperty(q,K,X.get?X:{enumerable:!0,get:function(){return B[K]}})}}),q.default=B,Object.freeze(q)}var r$d,o$d=t$d(T$1),n$d=function(){return n$d=Object.assign||function(B){for(var q,K=1,X=arguments.length;K<X;K++)for(var W in q=arguments[K])Object.prototype.hasOwnProperty.call(q,W)&&(B[W]=q[W]);return B},n$d.apply(this,arguments)},a$d=function(){return o$d.createElement(e$d.Icon,{size:16},o$d.createElement("path",{d:"M6.427,8.245A.5.5,0,0,1,6.862,7.5H17.138a.5.5,0,0,1,.435.749l-5.139,9a.5.5,0,0,1-.868,0Z"}))},i$d=function(){return o$d.createElement(e$d.Icon,{size:16},o$d.createElement("path",{d:"M9.248,17.572a.5.5,0,0,1-.748-.434V6.862a.5.5,0,0,1,.748-.434l8.992,5.138a.5.5,0,0,1,0,.868Z"}))},c$d=function(B){var q=B.bookmark,K=B.depth,X=B.doc,W=B.index,G=B.isBookmarkExpanded,Y=B.numberOfSiblings,he=B.pathFromRoot,Ce=B.renderBookmarkItem,ke=B.store,ae=he?"".concat(he,".").concat(W):"".concat(W),Ae=o$d.useMemo(function(){return function(ze){var rt=ze.count,ye=ze.items;if(rt>=0)return!1;var ot=ye.length;if(ot===0)return!1;for(var Ye=ye.concat([]);Ye.length>0;){var He=Ye.shift(),Qe=He.items;He.count&&Qe&&He.count>0&&Qe.length>0&&(ot+=Qe.length,Ye=Ye.concat(Qe))}return Math.abs(rt)===ot}(q)},[q]),ge=ke.get("bookmarkExpandedMap"),ve=G?G({bookmark:q,doc:X,depth:K,index:W}):ge.has(ae)?ge.get(ae):!Ae,xe=o$d.useState(ve),we=xe[0],fe=xe[1],ne=q.items&&q.items.length>0,Se=function(){var ze=!we;ke.updateCurrentValue("bookmarkExpandedMap",function(rt){return rt.set(ae,ze)}),fe(ze)},Le=function(){var ze=q.dest,rt=ke.get("jumpToDestination");e$d.getDestination(X,ze).then(function(ye){rt&&rt(n$d({label:q.title},ye))})},Me=function(){ne&&q.dest&&Le()},Ee=function(){!ne&&q.dest&&Le()},Pe=function(ze,rt){return o$d.createElement("div",{className:"rpv-bookmark__item",style:{paddingLeft:"".concat(1.25*K,"rem")},onClick:ze},rt)},Ve=function(ze,rt){return ne?o$d.createElement("span",{className:"rpv-bookmark__toggle","data-testid":"bookmark__toggle-".concat(K,"-").concat(W),onClick:Se},we?ze:rt):o$d.createElement("span",{className:"rpv-bookmark__toggle"})},Ke=function(ze){return q.url?o$d.createElement("a",{className:"rpv-bookmark__title",href:q.url,rel:"noopener noreferrer nofollow",target:q.newWindow?"_blank":""},q.title):o$d.createElement("div",{className:"rpv-bookmark__title","aria-label":q.title,onClick:ze},q.title)};return o$d.createElement("li",{"aria-expanded":we?"true":"false","aria-label":q.title,"aria-level":K+1,"aria-posinset":W+1,"aria-setsize":Y,role:"treeitem",tabIndex:-1},Ce?Ce({bookmark:q,depth:K,hasSubItems:ne,index:W,isExpanded:we,path:ae,defaultRenderItem:Pe,defaultRenderTitle:Ke,defaultRenderToggle:Ve,onClickItem:Ee,onClickTitle:Me,onToggleSubItems:Se}):Pe(Ee,o$d.createElement(o$d.Fragment,null,Ve(o$d.createElement(a$d,null),o$d.createElement(i$d,null)),Ke(Me))),ne&&we&&o$d.createElement(m$9,{bookmarks:q.items,depth:K+1,doc:X,isBookmarkExpanded:G,isRoot:!1,pathFromRoot:ae,renderBookmarkItem:Ce,store:ke}))},m$9=function(B){var q=B.bookmarks,K=B.depth,X=K===void 0?0:K,W=B.doc,G=B.isBookmarkExpanded,Y=B.isRoot,he=B.pathFromRoot,Ce=B.renderBookmarkItem,ke=B.store;return o$d.createElement("ul",{className:"rpv-bookmark__list",role:Y?"tree":"group",tabIndex:-1},q.map(function(ae,Ae){return o$d.createElement(c$d,{bookmark:ae,depth:X,doc:W,index:Ae,isBookmarkExpanded:G,key:Ae,numberOfSiblings:q.length,pathFromRoot:he,renderBookmarkItem:Ce,store:ke})}))};(function(B){B[B.Collapse=0]="Collapse",B[B.Expand=1]="Expand"})(r$d||(r$d={}));var l$d=function(B){var q=B.bookmarks,K=B.doc,X=B.isBookmarkExpanded,W=B.renderBookmarkItem,G=B.store,Y=o$d.useRef(),he=function(Ae){var ge=Y.current;if(ge&&Ae.target instanceof HTMLElement&&ge.contains(Ae.target))switch(Ae.key){case"ArrowDown":Ae.preventDefault(),ke(function(ve,xe){return ve.indexOf(xe)+1});break;case"ArrowLeft":Ae.preventDefault(),ae(r$d.Collapse);break;case"ArrowRight":Ae.preventDefault(),ae(r$d.Expand);break;case"ArrowUp":Ae.preventDefault,ke(function(ve,xe){return ve.indexOf(xe)-1});break;case"End":Ae.preventDefault(),ke(function(ve,xe){return ve.length-1});break;case" ":case"Enter":case"Space":Ae.preventDefault(),Ce();break;case"Home":Ae.preventDefault(),ke(function(ve,xe){return 0})}},Ce=function(){var Ae=document.activeElement.closest(".rpv-bookmark__item").querySelector(".rpv-bookmark__title");Ae&&Ae.click()},ke=function(Ae){var ge=Y.current,ve=[].slice.call(ge.getElementsByClassName("rpv-bookmark__item"));if(ve.length!==0){var xe=document.activeElement,we=ve[Math.min(ve.length-1,Math.max(0,Ae(ve,xe)))];xe.setAttribute("tabindex","-1"),we.setAttribute("tabindex","0"),we.focus()}},ae=function(Ae){var ge=Y.current;if([].slice.call(ge.getElementsByClassName("rpv-bookmark__item")).length!==0){var ve=document.activeElement.closest(".rpv-bookmark__item"),xe=Ae===r$d.Collapse?"true":"false";if(ve&&ve.parentElement.getAttribute("aria-expanded")===xe){var we=ve.querySelector(".rpv-bookmark__toggle");we&&we.click()}}};return o$d.useEffect(function(){return document.addEventListener("keydown",he),function(){document.removeEventListener("keydown",he)}},[]),o$d.useEffect(function(){var Ae=Y.current;if(Ae){var ge=[].slice.call(Ae.getElementsByClassName("rpv-bookmark__item"));ge.length>0&&(ge[0].focus(),ge[0].setAttribute("tabindex","0"))}},[]),o$d.createElement("div",{ref:Y},o$d.createElement(m$9,{bookmarks:q,depth:0,doc:K,isBookmarkExpanded:X,isRoot:!0,pathFromRoot:"",renderBookmarkItem:W,store:G}))},s$9=function(B){var q=B.doc,K=B.isBookmarkExpanded,X=B.renderBookmarkItem,W=B.store,G=o$d.useContext(e$d.LocalizationContext).l10n,Y=o$d.useContext(e$d.ThemeContext).direction===e$d.TextDirection.RightToLeft,he=o$d.useState({isLoaded:!1,items:[]}),Ce=he[0],ke=he[1];return o$d.useEffect(function(){ke({isLoaded:!1,items:[]}),q.getOutline().then(function(ae){ke({isLoaded:!0,items:ae||[]})})},[q]),Ce.isLoaded?Ce.items.length===0?o$d.createElement("div",{"data-testid":"bookmark__empty",className:e$d.classNames({"rpv-bookmark__empty":!0,"rpv-bookmark__empty--rtl":Y})},G&&G.bookmark?G.bookmark.noBookmark:"There is no bookmark"):o$d.createElement("div",{"data-testid":"bookmark__container",className:e$d.classNames({"rpv-bookmark__container":!0,"rpv-bookmark__container--rtl":Y})},o$d.createElement(l$d,{bookmarks:Ce.items,doc:q,isBookmarkExpanded:K,renderBookmarkItem:X,store:W})):o$d.createElement("div",{className:"rpv-bookmark__loader"},o$d.createElement(e$d.Spinner,null))},u$d=function(B){var q=B.isBookmarkExpanded,K=B.renderBookmarkItem,X=B.store,W=o$d.useState(X.get("doc")),G=W[0],Y=W[1],he=function(Ce){Y(Ce)};return o$d.useEffect(function(){return X.subscribe("doc",he),function(){X.unsubscribe("doc",he)}},[]),G?o$d.createElement(s$9,{doc:G,isBookmarkExpanded:q,renderBookmarkItem:K,store:X}):o$d.createElement("div",{className:"rpv-bookmark__loader"},o$d.createElement(e$d.Spinner,null))};bookmark_min.DownArrowIcon=a$d,bookmark_min.RightArrowIcon=i$d,bookmark_min.bookmarkPlugin=function(){var B=o$d.useMemo(function(){return e$d.createStore({bookmarkExpandedMap:new Map})},[]);return{install:function(q){B.update("jumpToDestination",q.jumpToDestination)},onDocumentLoad:function(q){B.update("doc",q.doc)},Bookmarks:function(q){return o$d.createElement(u$d,{isBookmarkExpanded:q==null?void 0:q.isBookmarkExpanded,renderBookmarkItem:q==null?void 0:q.renderBookmarkItem,store:B})}}};/**
* A React component to view a PDF document
*
* @see https://react-pdf-viewer.dev
* @license https://react-pdf-viewer.dev/license
* @copyright 2019-2023 Nguyen Huu Phuoc <me@phuoc.ng>
*/lib$e.exports=bookmark_min;var libExports$f=lib$e.exports,lib$d={exports:{}},thumbnail_min={};(function(B){var q=libExports$h;function K(we){var fe=Object.create(null);return we&&Object.keys(we).forEach(function(ne){if(ne!=="default"){var Se=Object.getOwnPropertyDescriptor(we,ne);Object.defineProperty(fe,ne,Se.get?Se:{enumerable:!0,get:function(){return we[ne]}})}}),fe.default=we,Object.freeze(fe)}var X,W=K(T$1);B.ThumbnailDirection=void 0,(X=B.ThumbnailDirection||(B.ThumbnailDirection={})).Horizontal="Horizontal",X.Vertical="Vertical";var G=function(){return G=Object.assign||function(we){for(var fe,ne=1,Se=arguments.length;ne<Se;ne++)for(var Le in fe=arguments[ne])Object.prototype.hasOwnProperty.call(fe,Le)&&(we[Le]=fe[Le]);return we},G.apply(this,arguments)},Y=function(we){var fe=we.doc,ne=we.getPageIndex,Se=we.renderSpinner,Le=we.store,Me=we.width,Ee=fe.numPages,Pe=ne?ne({numPages:Ee}):0,Ve=Math.max(0,Math.min(Pe,Ee-1)),Ke=Le.get("pagesRotation")||new Map,ze=Ke.has(Ve)?Ke.get(Ve):0,rt=W.useState(""),ye=rt[0],ot=rt[1],Ye=q.useIsMounted(),He=W.useRef(),Qe=W.useState(Le.get("rotation")||0),yt=Qe[0],ut=Qe[1],_t=W.useState(ze),Ne=_t[0],tt=_t[1],dt=W.useState(!1),Oe=dt[0],_e=dt[1],pe=function(Ie){var qe=Ie.has(Ve)?Ie.get(Ve):0;tt(qe)},Fe=function(Ie){ut(Ie)},je=q.useIntersectionObserver({onVisibilityChanged:function(Ie){_e(Ie.isVisible)}});return W.useEffect(function(){if(Oe){var Ie=je.current;Ie&&(ot(""),q.getPage(fe,Ve).then(function(qe){var Ge=qe.getViewport({scale:1}),gt=(Ge.rotation+yt+Ne)%360,Pt=Math.abs(yt+Ne)%180==0,Ct=Pt?Ge.width:Ge.height,ht=Pt?Ge.height:Ge.width,$t=document.createElement("canvas"),Vt=$t.getContext("2d",{alpha:!1}),De=Ie.clientWidth,Re=Ie.clientHeight,Be=Me?Me/Ct:Math.min(De/Ct,Re/ht),Ze=Be*Ct,ct=Be*ht;$t.height=ct,$t.width=Ze,$t.style.opacity="0";var Mt=qe.getViewport({rotation:gt,scale:Be});He.current=qe.render({canvasContext:Vt,viewport:Mt}),He.current.promise.then(function(){Ye.current&&ot($t.toDataURL()),$t.width=0,$t.height=0},function(){})}))}},[Ne,Oe]),W.useEffect(function(){return Le.subscribe("pagesRotation",pe),Le.subscribe("rotation",Fe),function(){Le.unsubscribe("pagesRotation",pe),Le.unsubscribe("rotation",Fe)}},[]),W.useEffect(function(){return function(){var Ie;(Ie=He.current)===null||Ie===void 0||Ie.cancel()}},[]),W.createElement("div",{ref:je,className:"rpv-thumbnail__cover-inner","data-testid":"thumbnail__cover-inner"},ye?W.createElement("img",{className:"rpv-thumbnail__cover-image","data-testid":"thumbnail__cover-image",src:ye}):W.createElement("div",{className:"rpv-thumbnail__cover-loader","data-testid":"thumbnail__cover-loader"},Se?Se():W.createElement(q.Spinner,null)))},he=function(we){var fe=we.getPageIndex,ne=we.renderSpinner,Se=we.store,Le=we.width,Me=W.useState(Se.get("doc")),Ee=Me[0],Pe=Me[1],Ve=function(Ke){Pe(Ke)};return W.useEffect(function(){return Se.subscribe("doc",Ve),function(){Se.unsubscribe("doc",Ve)}},[]),W.createElement("div",{className:"rpv-thumbnail__cover"},Ee?W.createElement(Y,{doc:Ee,getPageIndex:fe,renderSpinner:ne,store:Se,width:Le}):W.createElement("div",{className:"rpv-thumbnail__cover-loader"},ne?ne():W.createElement(q.Spinner,null)))},Ce=function(){return W.createElement(q.Spinner,null)},ke=W.createContext({renderSpinner:Ce}),ae=function(we){var fe=we.children,ne=we.doc,Se=q.useIsMounted(),Le=W.useState({loading:!0,labels:[]}),Me=Le[0],Ee=Le[1];return W.useEffect(function(){ne.getPageLabels().then(function(Pe){Se.current&&Ee({loading:!1,labels:Pe||[]})})},[ne.loadingTask.docId]),Me.loading?W.createElement(W.Fragment,null):fe(Me.labels)},Ae=function(we){var fe=we.page,ne=we.pageHeight,Se=we.pageIndex,Le=we.pageWidth,Me=we.rotation,Ee=we.thumbnailHeight,Pe=we.thumbnailWidth,Ve=we.onRenderCompleted,Ke=W.useContext(q.LocalizationContext).l10n,ze=W.useRef(),rt=W.useState(""),ye=rt[0],ot=rt[1],Ye=Ke&&Ke.thumbnail?Ke.thumbnail.thumbnailLabel:"Thumbnail of page {{pageIndex}}";return W.useEffect(function(){var He=ze.current;He&&He.cancel();var Qe=document.createElement("canvas"),yt=Qe.getContext("2d",{alpha:!1}),ut=Pe,_t=ut/(Le/ne),Ne=ut/Le;Qe.height=_t,Qe.width=ut,Qe.style.height="".concat(_t,"px"),Qe.style.width="".concat(ut,"px");var tt=fe.getViewport({rotation:Me,scale:Ne});return ze.current=fe.render({canvasContext:yt,viewport:tt}),ze.current.promise.then(function(){ot(Qe.toDataURL()),Ve(Se)},function(){Ve(Se)}),function(){var dt;(dt=ze.current)===null||dt===void 0||dt.cancel()}},[Me]),ye?W.createElement("img",{"aria-label":Ye.replace("{{pageIndex}}","".concat(Se+1)),src:ye,height:"".concat(Ee,"px"),width:"".concat(Pe,"px")}):W.useContext(ke).renderSpinner()},ge=function(we){var fe=we.doc,ne=we.pageHeight,Se=we.pageIndex,Le=we.pageRotation,Me=we.pageWidth,Ee=we.rotation,Pe=we.shouldRender,Ve=we.thumbnailWidth,Ke=we.onRenderCompleted,ze=we.onVisibilityChanged,rt=q.useIsMounted(),ye=W.useState({height:ne,page:null,viewportRotation:0,width:Me}),ot=ye[0],Ye=ye[1],He=ot.page,Qe=ot.height,yt=ot.width,ut=yt/Qe,_t=Math.abs(Ee+Le)%180==0,Ne=_t?Ve:Ve/ut,tt=_t?Ve/ut:Ve;W.useEffect(function(){Pe&&q.getPage(fe,Se).then(function(_e){var pe=_e.getViewport({scale:1});rt.current&&Ye({height:pe.height,page:_e,viewportRotation:pe.rotation,width:pe.width})})},[Pe]);var dt=(ot.viewportRotation+Ee+Le)%360,Oe=q.useIntersectionObserver({onVisibilityChanged:function(_e){ze(Se,_e)}});return W.createElement("div",{className:"rpv-thumbnail__container","data-testid":"thumbnail__container-".concat(Se),ref:Oe,style:{height:"".concat(tt,"px"),width:"".concat(Ne,"px")}},He?W.createElement(Ae,{page:He,pageHeight:_t?Qe:yt,pageIndex:Se,pageWidth:_t?yt:Qe,rotation:dt,thumbnailHeight:tt,thumbnailWidth:Ne,onRenderCompleted:Ke}):W.useContext(ke).renderSpinner())},ve=function(we){var fe=we.currentPage,ne=we.doc,Se=we.labels,Le=we.pagesRotation,Me=we.pageHeight,Ee=we.pageWidth,Pe=we.renderCurrentPageLabel,Ve=we.renderThumbnailItem,Ke=we.rotatedPage,ze=we.rotation,rt=we.thumbnailDirection,ye=we.thumbnailWidth,ot=we.viewMode,Ye=we.onJumpToPage,He=we.onRotatePage,Qe=ne.numPages,yt=ne.loadingTask.docId,ut=W.useRef(null),_t=W.useRef([]),Ne=W.useState(fe),tt=Ne[0],dt=Ne[1],Oe=W.useContext(q.ThemeContext).direction===q.TextDirection.RightToLeft,_e=W.useState(-1),pe=_e[0],Fe=_e[1],je=q.useIsMounted(),Ie=q.usePrevious(ot),qe=W.useRef(!1),Ge=q.useRenderQueue({doc:ne}),gt=W.useMemo(function(){return Array(Qe).fill(0).map(function(Be,Ze){return Ze})},[yt]),Pt=W.useMemo(function(){switch(ot){case q.ViewMode.DualPage:return q.chunk(gt,2);case q.ViewMode.DualPageWithCover:return[[gt[0]]].concat(q.chunk(gt.slice(1),2));case q.ViewMode.SinglePage:default:return q.chunk(gt,1)}},[yt,ot]),Ct=function(){if(ut.current){var Be=_t.current,Ze=tt+1;Ze<Be.length&&(tt>=0&&Be[tt].setAttribute("tabindex","-1"),dt(Ze))}},ht=function(){if(ut.current){var Be=_t.current,Ze=tt-1;Ze>=0&&(tt>=0&&Be[tt].setAttribute("tabindex","-1"),dt(Ze))}},$t=function(){tt>=0&&tt<Qe&&Ye(tt)};q.useIsomorphicLayoutEffect(function(){var Be=ut.current;Be&&(_t.current=Array.from(Be.querySelectorAll(".rpv-thumbnail__item")))},[ot]),W.useEffect(function(){var Be=_t.current;if(!(Be.length===0||tt<0||tt>Be.length)){var Ze=Be[tt];Ze.setAttribute("tabindex","0"),Ze.focus()}},[tt]),q.useIsomorphicLayoutEffect(function(){var Be=ut.current,Ze=_t.current;if(!(!Be||Ze.length===0||fe<0||fe>Ze.length)){var ct=Ze[fe].closest(".rpv-thumbnail__items");ct&&(rt===B.ThumbnailDirection.Vertical?function(Mt,Rt){var Et=Mt.getBoundingClientRect().top-Rt.getBoundingClientRect().top,At=Mt.clientHeight,jt=Rt.clientHeight;Et<0?Rt.scrollTop+=Et:Et+At<=jt||(Rt.scrollTop+=Et+At-jt)}(ct,Be):function(Mt,Rt){var Et=Mt.getBoundingClientRect().left-Rt.getBoundingClientRect().left,At=Mt.clientWidth,jt=Rt.clientWidth;Et<0?Rt.scrollLeft+=Et:Et+At<=jt||(Rt.scrollLeft+=Et+At-jt)}(ct,Be))}},[fe,rt]);var Vt=W.useCallback(function(Be){je.current&&(Ge.markRendered(Be),qe.current=!1,Re())},[yt]),De=W.useCallback(function(Be,Ze){Ze.isVisible?Ge.setVisibility(Be,Ze.ratio):Ge.setOutOfRange(Be),Re()},[yt]),Re=W.useCallback(function(){if(!qe.current){var Be=Ge.getHighestPriorityPage();Be>-1&&(Ge.markRendering(Be),qe.current=!0,Fe(Be))}},[yt]);return W.useEffect(function(){Ke>=0&&(Ge.markRendering(Ke),qe.current=!0,Fe(Ke))},[yt,Ke]),q.useIsomorphicLayoutEffect(function(){Ie!==ot&&(Ge.markNotRendered(),Re())},[ot]),W.createElement("div",{ref:ut,"data-testid":"thumbnail__list",className:q.classNames({"rpv-thumbnail__list":!0,"rpv-thumbnail__list--horizontal":rt===B.ThumbnailDirection.Horizontal,"rpv-thumbnail__list--rtl":Oe,"rpv-thumbnail__list--vertical":rt===B.ThumbnailDirection.Vertical}),onKeyDown:function(Be){switch(Be.key){case"ArrowDown":Ct();break;case"ArrowUp":ht();break;case"Enter":$t()}}},Pt.map(function(Be,Ze){var ct=!1;switch(ot){case q.ViewMode.DualPage:ct=fe===2*Ze||fe===2*Ze+1;break;case q.ViewMode.DualPageWithCover:ct=fe===0&&Ze===0||Ze>0&&fe===2*Ze-1||Ze>0&&fe===2*Ze;break;case q.ViewMode.SinglePage:default:ct=fe===Ze}return W.createElement("div",{className:q.classNames({"rpv-thumbnail__items":!0,"rpv-thumbnail__items--dual":ot===q.ViewMode.DualPage,"rpv-thumbnail__items--dual-cover":ot===q.ViewMode.DualPageWithCover,"rpv-thumbnail__items--single":ot===q.ViewMode.SinglePage,"rpv-thumbnail__items--selected":ct}),key:"".concat(Ze,"___").concat(ot)},Be.map(function(Mt){return function(Rt){var Et=ot===q.ViewMode.DualPageWithCover&&(Rt===0||Qe%2==0&&Rt===Qe-1),At="".concat(ne.loadingTask.docId,"___").concat(Rt),jt=Se.length===Qe?Se[Rt]:"".concat(Rt+1),Qt=Pe?Pe({currentPage:fe,pageIndex:Rt,numPages:Qe,pageLabel:jt}):jt,Gt=Le.has(Rt)?Le.get(Rt):0,Jt=W.createElement(ge,{doc:ne,pageHeight:Me,pageIndex:Rt,pageRotation:Gt,pageWidth:Ee,rotation:ze,shouldRender:pe===Rt,thumbnailWidth:ye,onRenderCompleted:Vt,onVisibilityChanged:De});return Ve?Ve({currentPage:fe,key:At,numPages:Qe,pageIndex:Rt,renderPageLabel:W.createElement(W.Fragment,null,Qt),renderPageThumbnail:Jt,onJumpToPage:function(){return Ye(Rt)},onRotatePage:function(cn){return He(Rt,cn)}}):W.createElement("div",{key:At},W.createElement("div",{className:q.classNames({"rpv-thumbnail__item":!0,"rpv-thumbnail__item--dual-even":ot===q.ViewMode.DualPage&&Rt%2==0,"rpv-thumbnail__item--dual-odd":ot===q.ViewMode.DualPage&&Rt%2==1,"rpv-thumbnail__item--dual-cover":Et,"rpv-thumbnail__item--dual-cover-even":ot===q.ViewMode.DualPageWithCover&&!Et&&Rt%2==0,"rpv-thumbnail__item--dual-cover-odd":ot===q.ViewMode.DualPageWithCover&&!Et&&Rt%2==1,"rpv-thumbnail__item--single":ot===q.ViewMode.SinglePage,"rpv-thumbnail__item--selected":fe===Rt}),role:"button",tabIndex:fe===Rt?0:-1,onClick:function(){return Ye(Rt)}},Jt),W.createElement("div",{"data-testid":"thumbnail__label-".concat(Rt),className:"rpv-thumbnail__label"},Qt))}(Mt)}))}))},xe=function(we){var fe=we.renderCurrentPageLabel,ne=we.renderThumbnailItem,Se=we.store,Le=we.thumbnailDirection,Me=we.thumbnailWidth,Ee=W.useState(Se.get("doc")),Pe=Ee[0],Ve=Ee[1],Ke=W.useState(Se.get("currentPage")||0),ze=Ke[0],rt=Ke[1],ye=W.useState(Se.get("pageHeight")||0),ot=ye[0],Ye=ye[1],He=W.useState(Se.get("pageWidth")||0),Qe=He[0],yt=He[1],ut=W.useState(Se.get("rotation")||0),_t=ut[0],Ne=ut[1],tt=W.useState(Se.get("pagesRotation")||new Map),dt=tt[0],Oe=tt[1],_e=W.useState(Se.get("rotatedPage")||-1),pe=_e[0],Fe=_e[1],je=W.useState(Se.get("viewMode")),Ie=je[0],qe=je[1],Ge=function(Ze){rt(Ze)},gt=function(Ze){Ve(Ze)},Pt=function(Ze){Ye(Ze)},Ct=function(Ze){yt(Ze)},ht=function(Ze){Ne(Ze)},$t=function(Ze){Oe(Ze)},Vt=function(Ze){Fe(Ze)},De=function(Ze){qe(Ze)},Re=function(Ze){var ct=Se.get("jumpToPage");ct&&ct(Ze)},Be=function(Ze,ct){Se.get("rotatePage")(Ze,ct)};return W.useEffect(function(){return Se.subscribe("doc",gt),Se.subscribe("pageHeight",Pt),Se.subscribe("pageWidth",Ct),Se.subscribe("rotatedPage",Vt),Se.subscribe("rotation",ht),Se.subscribe("pagesRotation",$t),Se.subscribe("viewMode",De),function(){Se.unsubscribe("doc",gt),Se.unsubscribe("pageHeight",Pt),Se.unsubscribe("pageWidth",Ct),Se.unsubscribe("rotatedPage",Vt),Se.unsubscribe("rotation",ht),Se.unsubscribe("pagesRotation",$t),Se.unsubscribe("viewMode",De)}},[]),q.useIsomorphicLayoutEffect(function(){return Se.subscribe("currentPage",Ge),function(){Se.unsubscribe("currentPage",Ge)}},[]),Pe?W.createElement(q.LazyRender,{testId:"thumbnail__list-container",attrs:{className:"rpv-thumbnail__list-container"}},W.createElement(ae,{doc:Pe},function(Ze){return W.createElement(ve,{currentPage:ze,doc:Pe,labels:Ze,pagesRotation:dt,pageHeight:ot,pageWidth:Qe,renderCurrentPageLabel:fe,renderThumbnailItem:ne,rotatedPage:pe,rotation:_t,thumbnailDirection:Le,thumbnailWidth:Me,viewMode:Ie,onJumpToPage:Re,onRotatePage:Be})})):W.createElement("div",{"data-testid":"thumbnail-list__loader",className:"rpv-thumbnail__loader"},W.useContext(ke).renderSpinner())};B.thumbnailPlugin=function(we){var fe=W.useMemo(function(){return q.createStore({rotatePage:function(){},viewMode:q.ViewMode.SinglePage})},[]),ne=W.useState(""),Se=ne[0],Le=ne[1];return{install:function(Me){fe.update("jumpToPage",Me.jumpToPage),fe.update("rotatePage",Me.rotatePage)},onDocumentLoad:function(Me){Le(Me.doc.loadingTask.docId),fe.update("doc",Me.doc)},onViewerStateChange:function(Me){return fe.update("currentPage",Me.pageIndex),fe.update("pagesRotation",Me.pagesRotation),fe.update("pageHeight",Me.pageHeight),fe.update("pageWidth",Me.pageWidth),fe.update("rotation",Me.rotation),fe.update("rotatedPage",Me.rotatedPage),fe.update("viewMode",Me.viewMode),Me},Cover:function(Me){return W.createElement(he,G({},Me,{renderSpinner:we==null?void 0:we.renderSpinner,store:fe}))},Thumbnails:W.useCallback(function(Me){return W.createElement(ke.Provider,{value:{renderSpinner:(we==null?void 0:we.renderSpinner)||Ce}},W.createElement(xe,{renderCurrentPageLabel:we==null?void 0:we.renderCurrentPageLabel,renderThumbnailItem:Me==null?void 0:Me.renderThumbnailItem,store:fe,thumbnailDirection:(Me==null?void 0:Me.thumbnailDirection)||B.ThumbnailDirection.Vertical,thumbnailWidth:(we==null?void 0:we.thumbnailWidth)||100}))},[Se])}}})(thumbnail_min);/**
* A React component to view a PDF document
*
* @see https://react-pdf-viewer.dev
* @license https://react-pdf-viewer.dev/license
* @copyright 2019-2023 Nguyen Huu Phuoc <me@phuoc.ng>
*/lib$d.exports=thumbnail_min;var libExports$e=lib$d.exports,lib$c={exports:{}},toolbar_min={},lib$b={exports:{}},selectionMode_min={};(function(B){var q=libExports$h;function K(xe){var we=Object.create(null);return xe&&Object.keys(xe).forEach(function(fe){if(fe!=="default"){var ne=Object.getOwnPropertyDescriptor(xe,fe);Object.defineProperty(we,fe,ne.get?ne:{enumerable:!0,get:function(){return xe[fe]}})}}),we.default=xe,Object.freeze(we)}var X,W=K(T$1),G=function(){return W.createElement(q.Icon,{size:16},W.createElement("path",{d:`M11.5,5.5v-2C11.5,2.672,12.172,2,13,2s1.5,0.672,1.5,1.5v2 M14.5,11.5v-6C14.5,4.672,15.172,4,16,4
            c0.828,0,1.5,0.672,1.5,1.5v3 M17.5,13V8.5C17.5,7.672,18.172,7,19,7s1.5,0.672,1.5,1.5v10c0,2.761-2.239,5-5,5h-3.335
            c-1.712-0.001-3.305-0.876-4.223-2.321C6.22,18.467,4.083,14,4.083,14c-0.378-0.545-0.242-1.292,0.303-1.67
            c0.446-0.309,1.044-0.281,1.458,0.07L8.5,15.5v-10C8.5,4.672,9.172,4,10,4s1.5,0.672,1.5,1.5v6`}))},Y=function(){return Y=Object.assign||function(xe){for(var we,fe=1,ne=arguments.length;fe<ne;fe++)for(var Se in we=arguments[fe])Object.prototype.hasOwnProperty.call(we,Se)&&(xe[Se]=we[Se]);return xe},Y.apply(this,arguments)};B.SelectionMode=void 0,(X=B.SelectionMode||(B.SelectionMode={})).Hand="Hand",X.Text="Text";var he=function(){return W.createElement(q.Icon,{size:16},W.createElement("path",{d:`M13.675,11.671l2.941-2.941c0.195-0.196,0.195-0.512-0.001-0.707C16.563,7.971,16.5,7.931,16.43,7.906
            L4.168,3.527C3.908,3.434,3.622,3.57,3.529,3.83c-0.039,0.109-0.039,0.228,0,0.336l4.379,12.262
            c0.093,0.26,0.379,0.396,0.639,0.303c0.07-0.025,0.133-0.065,0.185-0.117l2.943-2.943l6.146,6.146c0.195,0.195,0.512,0.195,0.707,0
            l1.293-1.293c0.195-0.195,0.195-0.512,0-0.707L13.675,11.671z`}))},Ce=function(xe){var we=xe.children,fe=xe.mode,ne=xe.onClick,Se=W.useContext(q.LocalizationContext).l10n,Le="",Me=W.createElement(he,null);switch(fe){case B.SelectionMode.Hand:Le=Se&&Se.selectionMode?Se.selectionMode.handTool:"Hand tool",Me=W.createElement(G,null);break;case B.SelectionMode.Text:default:Le=Se&&Se.selectionMode?Se.selectionMode.textSelectionTool:"Text selection tool",Me=W.createElement(he,null)}return we({icon:Me,label:Le,onClick:ne})},ke={left:0,top:8},ae=function(xe){var we=xe.isSelected,fe=xe.mode,ne=xe.onClick,Se="";switch(fe){case B.SelectionMode.Hand:Se="selection-mode__hand-button";break;case B.SelectionMode.Text:default:Se="selection-mode__text-button"}return W.createElement(Ce,{mode:fe,onClick:ne},function(Le){return W.createElement(q.Tooltip,{ariaControlsSuffix:"selection-mode-switch",position:q.Position.BottomCenter,target:W.createElement(q.MinimalButton,{ariaLabel:Le.label,isSelected:we,testId:Se,onClick:Le.onClick},Le.icon),content:function(){return Le.label},offset:ke})})},Ae=function(xe){var we=xe.children,fe=xe.mode,ne=xe.store,Se=fe===ne.get("selectionMode");return(we||function(Le){return W.createElement(ae,{isSelected:Se,mode:Le.mode,onClick:Le.onClick})})({isSelected:Se,mode:fe,onClick:function(){return ne.update("selectionMode",fe)}})},ge=function(xe){var we=xe.isSelected,fe=xe.mode,ne=xe.onClick,Se="";switch(fe){case B.SelectionMode.Hand:Se="selection-mode__hand-menu";break;case B.SelectionMode.Text:default:Se="selection-mode__text-menu"}return W.createElement(Ce,{mode:fe,onClick:ne},function(Le){return W.createElement(q.MenuItem,{checked:we,icon:Le.icon,testId:Se,onClick:Le.onClick},Le.label)})},ve=function(xe){var we=xe.store,fe=W.useRef(null),ne=W.useState(B.SelectionMode.Text),Se=ne[0],Le=ne[1],Me=W.useRef({top:0,left:0,x:0,y:0}),Ee=function(rt){var ye=fe.current;ye&&(ye.scrollTop=Me.current.top-(rt.clientY-Me.current.y),ye.scrollLeft=Me.current.left-(rt.clientX-Me.current.x))},Pe=function(){var rt=fe.current;rt&&(rt.classList.add("rpv-selection-mode__grab"),rt.classList.remove("rpv-selection-mode__grabbing"),document.removeEventListener("mousemove",Ee),document.removeEventListener("mouseup",Pe))},Ve=function(rt){var ye=fe.current;ye&&Se!==B.SelectionMode.Text&&(ye.classList.remove("rpv-selection-mode__grab"),ye.classList.add("rpv-selection-mode__grabbing"),rt.preventDefault(),rt.stopPropagation(),Me.current={left:ye.scrollLeft,top:ye.scrollTop,x:rt.clientX,y:rt.clientY},document.addEventListener("mousemove",Ee),document.addEventListener("mouseup",Pe))},Ke=function(rt){fe.current=rt()},ze=function(rt){Le(rt)};return W.useEffect(function(){var rt=fe.current;if(rt)return Se===B.SelectionMode.Hand?rt.classList.add("rpv-selection-mode__grab"):rt.classList.remove("rpv-selection-mode__grab"),rt.addEventListener("mousedown",Ve),function(){rt.removeEventListener("mousedown",Ve)}},[Se]),W.useEffect(function(){return we.subscribe("getPagesContainer",Ke),we.subscribe("selectionMode",ze),function(){we.unsubscribe("getPagesContainer",Ke),we.unsubscribe("selectionMode",ze)}},[]),W.createElement(W.Fragment,null)};B.HandToolIcon=G,B.TextSelectionIcon=he,B.selectionModePlugin=function(xe){var we=W.useMemo(function(){return q.createStore()},[]),fe=function(ne){return W.createElement(Ae,Y({},ne,{store:we}))};return{install:function(ne){we.update("selectionMode",xe&&xe.selectionMode?xe.selectionMode:B.SelectionMode.Text),we.update("getPagesContainer",ne.getPagesContainer)},renderViewer:function(ne){var Se=ne.slot;return Se.subSlot&&Se.subSlot.children&&(Se.subSlot.children=W.createElement(W.Fragment,null,W.createElement(ve,{store:we}),Se.subSlot.children)),Se},SwitchSelectionMode:fe,SwitchSelectionModeButton:function(ne){return W.createElement(fe,{mode:ne.mode},function(Se){return W.createElement(ae,{isSelected:Se.isSelected,mode:Se.mode,onClick:function(){Se.onClick()}})})},SwitchSelectionModeMenuItem:function(ne){return W.createElement(fe,{mode:ne.mode},function(Se){return W.createElement(ge,{isSelected:Se.isSelected,mode:Se.mode,onClick:function(){Se.onClick(),ne.onClick()}})})}}}})(selectionMode_min);/**
* A React component to view a PDF document
*
* @see https://react-pdf-viewer.dev
* @license https://react-pdf-viewer.dev/license
* @copyright 2019-2023 Nguyen Huu Phuoc <me@phuoc.ng>
*/lib$b.exports=selectionMode_min;var libExports$d=lib$b.exports,lib$a={exports:{}},fullScreen_min={},e$c=libExports$h;function t$c(B){var q=Object.create(null);return B&&Object.keys(B).forEach(function(K){if(K!=="default"){var X=Object.getOwnPropertyDescriptor(B,K);Object.defineProperty(q,K,X.get?X:{enumerable:!0,get:function(){return B[K]}})}}),q.default=B,Object.freeze(q)}var n$c=t$c(T$1),r$c=function(){return n$c.createElement(e$c.Icon,{size:16},n$c.createElement("path",{d:"M11.5 23.499L11.5 14.499"}),n$c.createElement("path",{d:"M7.5 18.499L11.5 14.499 15.5 18.499"}),n$c.createElement("path",{d:"M11.5 1.499L11.5 10.499"}),n$c.createElement("path",{d:"M7.5 6.499L11.5 10.499 15.5 6.499"}),n$c.createElement("path",{d:"M20.5 12.499L1.5 12.499"}))},l$c=function(){return n$c.createElement(e$c.Icon,{size:16},n$c.createElement("path",{d:"M0.5 12L23.5 12"}),n$c.createElement("path",{d:"M11.5 1L11.5 23"}),n$c.createElement("path",{d:"M8.5 4L11.5 1 14.5 4"}),n$c.createElement("path",{d:"M20.5 9L23.5 12 20.5 15"}),n$c.createElement("path",{d:"M3.5 15L0.5 12 3.5 9"}),n$c.createElement("path",{d:"M14.5 20L11.5 23 8.5 20"}))},c$c=function(){return c$c=Object.assign||function(B){for(var q,K=1,X=arguments.length;K<X;K++)for(var W in q=arguments[K])Object.prototype.hasOwnProperty.call(q,W)&&(B[W]=q[W]);return B},c$c.apply(this,arguments)},u$c={left:0,top:8},o$c=function(B){var q=B.enableShortcuts,K=B.onClick,X=n$c.useContext(e$c.LocalizationContext).l10n,W=X&&X.fullScreen?X.fullScreen.enterFullScreen:"Full screen",G=q?e$c.isMac()?"Meta+Ctrl+F":"F11":"";return n$c.createElement(e$c.Tooltip,{ariaControlsSuffix:"full-screen-enter",position:e$c.Position.BottomCenter,target:n$c.createElement(e$c.MinimalButton,{ariaKeyShortcuts:G,ariaLabel:W,isDisabled:!e$c.isFullScreenEnabled(),testId:"full-screen__enter-button",onClick:K},n$c.createElement(l$c,null)),content:function(){return W},offset:u$c})},i$c={left:0,top:8},a$c=function(B){var q=B.onClick,K=n$c.useContext(e$c.LocalizationContext).l10n,X=K&&K.fullScreen?K.fullScreen.exitFullScreen:"Exit full screen";return n$c.createElement(e$c.Tooltip,{ariaControlsSuffix:"full-screen-exit",position:e$c.Position.BottomCenter,target:n$c.createElement(e$c.MinimalButton,{ariaKeyShortcuts:"Esc",ariaLabel:X,testId:"full-screen__exit-button-with-tooltip",onClick:q},n$c.createElement(r$c,null)),content:function(){return X},offset:i$c})},f$9=function(B,q){var K=n$c.useState(q.get("fullScreenMode")),X=K[0],W=K[1],G=n$c.useCallback(function(Y){W(Y)},[]);return n$c.useEffect(function(){return q.subscribe("fullScreenMode",G),function(){q.unsubscribe("fullScreenMode",G)}},[]),{enterFullScreen:function(){var Y=q.get("getPagesContainer");if(Y){var he=B(Y());q.get("enterFullScreenMode")(he)}},exitFullScreen:function(){q.get("exitFullScreenMode")()},isFullScreen:X===e$c.FullScreenMode.Entering||X===e$c.FullScreenMode.EnteredCompletely}},s$8=function(B){var q=B.children,K=B.enableShortcuts,X=B.getFullScreenTarget,W=B.store,G=f$9(X,W),Y=G.enterFullScreen,he=G.exitFullScreen,Ce=G.isFullScreen;return(q||function(ke){return Ce?n$c.createElement(a$c,{onClick:ke.onClick}):n$c.createElement(o$c,{enableShortcuts:K,onClick:ke.onClick})})({onClick:Ce?he:Y})},S$4=function(B){var q=B.onClick,K=n$c.useContext(e$c.LocalizationContext).l10n,X=K&&K.fullScreen?K.fullScreen.enterFullScreen:"Full screen";return n$c.createElement(e$c.MenuItem,{icon:n$c.createElement(l$c,null),isDisabled:!e$c.isFullScreenEnabled(),testId:"full-screen__enter-menu",onClick:q},X)},d$9=function(B){var q=B.onClick,K=n$c.useContext(e$c.LocalizationContext).l10n,X=n$c.useContext(e$c.ThemeContext).direction===e$c.TextDirection.RightToLeft,W=K&&K.fullScreen?K.fullScreen.exitFullScreen:"Exit full screen";return n$c.createElement("div",{className:e$c.classNames({"rpv-full-screen__exit-button":!0,"rpv-full-screen__exit-button--ltr":!X,"rpv-full-screen__exit-button--rtl":X})},n$c.createElement(e$c.MinimalButton,{ariaLabel:W,testId:"full-screen__exit-button",onClick:q},n$c.createElement(r$c,null)))},m$8=function(B){var q=B.children,K=B.getFullScreenTarget,X=B.store,W=f$9(K,X),G=W.enterFullScreen,Y=W.exitFullScreen,he=W.isFullScreen;return he&&(q||function(Ce){return n$c.createElement(d$9,{onClick:Ce.onClick})})({onClick:he?Y:G})},E$5=function(B){var q=B.store,K=B.onEnterFullScreen,X=B.onExitFullScreen,W=n$c.useState(q.get("fullScreenMode")),G=W[0],Y=W[1],he=n$c.useCallback(function(Ce){Y(Ce)},[]);return n$c.useEffect(function(){switch(G){case e$c.FullScreenMode.EnteredCompletely:K(q.get("zoom"));break;case e$c.FullScreenMode.Exited:X(q.get("zoom"))}},[G]),n$c.useEffect(function(){return q.subscribe("fullScreenMode",he),function(){q.unsubscribe("fullScreenMode",he)}},[]),(G===e$c.FullScreenMode.Entering||G===e$c.FullScreenMode.Entered)&&n$c.createElement("div",{className:"rpv-full-screen__overlay"},n$c.createElement(e$c.Spinner,null))},F=function(B){var q=B.containerRef,K=B.getFullScreenTarget,X=B.store,W=f$9(K,X).enterFullScreen,G=function(Y){if(!Y.shiftKey&&!Y.altKey&&(e$c.isMac()?Y.metaKey&&Y.ctrlKey&&Y.key==="f":Y.key==="F11")){var he=q.current;he&&document.activeElement&&he.contains(document.activeElement)&&(Y.preventDefault(),W())}};return n$c.useEffect(function(){if(q.current)return document.addEventListener("keydown",G),function(){document.removeEventListener("keydown",G)}},[q.current]),n$c.createElement(n$c.Fragment,null)};fullScreen_min.ExitFullScreenIcon=r$c,fullScreen_min.FullScreenIcon=l$c,fullScreen_min.fullScreenPlugin=function(B){var q=(B==null?void 0:B.getFullScreenTarget)||function(Y){return Y},K=n$c.useMemo(function(){return Object.assign({},{enableShortcuts:!0,onEnterFullScreen:function(){},onExitFullScreen:function(){}},B)},[]),X=n$c.useMemo(function(){return e$c.createStore({enterFullScreenMode:function(){},exitFullScreenMode:function(){},fullScreenMode:e$c.FullScreenMode.Normal,zoom:function(){}})},[]),W=function(Y){return n$c.createElement(s$8,c$c({},Y,{enableShortcuts:K.enableShortcuts,getFullScreenTarget:q,store:X}))},G=function(){return n$c.createElement(m$8,{getFullScreenTarget:q,store:X},B==null?void 0:B.renderExitFullScreenButton)};return{install:function(Y){X.update("enterFullScreenMode",Y.enterFullScreenMode),X.update("exitFullScreenMode",Y.exitFullScreenMode),X.update("getPagesContainer",Y.getPagesContainer),X.update("zoom",Y.zoom)},onViewerStateChange:function(Y){return X.update("fullScreenMode",Y.fullScreenMode),Y},renderViewer:function(Y){var he=Y.slot;return he.subSlot&&(he.subSlot.children=n$c.createElement(n$c.Fragment,null,K.enableShortcuts&&n$c.createElement(F,{containerRef:Y.containerRef,getFullScreenTarget:q,store:X}),n$c.createElement(E$5,{store:X,onEnterFullScreen:K.onEnterFullScreen,onExitFullScreen:K.onExitFullScreen}),n$c.createElement(G,null),he.subSlot.children)),he},EnterFullScreen:W,EnterFullScreenButton:function(){return n$c.createElement(W,null,function(Y){return n$c.createElement(o$c,c$c({enableShortcuts:K.enableShortcuts},Y))})},EnterFullScreenMenuItem:function(Y){return n$c.createElement(W,null,function(he){return n$c.createElement(S$4,{onClick:function(){he.onClick(),Y.onClick()}})})}}};/**
* A React component to view a PDF document
*
* @see https://react-pdf-viewer.dev
* @license https://react-pdf-viewer.dev/license
* @copyright 2019-2023 Nguyen Huu Phuoc <me@phuoc.ng>
*/lib$a.exports=fullScreen_min;var libExports$c=lib$a.exports,lib$9={exports:{}},getFile_min={},e$b=libExports$h;function t$b(B){var q=Object.create(null);return B&&Object.keys(B).forEach(function(K){if(K!=="default"){var X=Object.getOwnPropertyDescriptor(B,K);Object.defineProperty(q,K,X.get?X:{enumerable:!0,get:function(){return B[K]}})}}),q.default=B,Object.freeze(q)}var n$b=t$b(T$1),o$b=function(){return n$b.createElement(e$b.Icon,{size:16},n$b.createElement("path",{d:"M5.5,11.5c-.275,0-.341.159-.146.354l6.292,6.293a.5.5,0,0,0,.709,0l6.311-6.275c.2-.193.13-.353-.145-.355L15.5,11.5V1.5a1,1,0,0,0-1-1h-5a1,1,0,0,0-1,1V11a.5.5,0,0,1-.5.5Z"}),n$b.createElement("path",{d:"M23.5,18.5v4a1,1,0,0,1-1,1H1.5a1,1,0,0,1-1-1v-4"}))},r$b=function(){return r$b=Object.assign||function(B){for(var q,K=1,X=arguments.length;K<X;K++)for(var W in q=arguments[K])Object.prototype.hasOwnProperty.call(q,W)&&(B[W]=q[W]);return B},r$b.apply(this,arguments)},i$b={left:0,top:8},a$b=function(B){var q=B.onClick,K=n$b.useContext(e$b.LocalizationContext).l10n,X=K&&K.download?K.download.download:"Download";return n$b.createElement(e$b.Tooltip,{ariaControlsSuffix:"get-file",position:e$b.Position.BottomCenter,target:n$b.createElement(e$b.MinimalButton,{ariaLabel:X,testId:"get-file__download-button",onClick:q},n$b.createElement(o$b,null)),content:function(){return X},offset:i$b})},c$b=function(B,q){var K=document.createElement("a");K.style.display="none",K.href=B,K.setAttribute("download",q),document.body.appendChild(K),K.click(),document.body.removeChild(K)},l$b=function(B,q,K){var X=URL.createObjectURL(new Blob([B],{type:K}));c$b(X,q),X&&URL.revokeObjectURL(X)},u$b=function(B,q){B.getData().then(function(K){/iphone|ipod|ipad/i.test(navigator.userAgent)&&!/CriOS/i.test(navigator.userAgent)?l$b(K,q,"application/octet-stream"):/iphone|ipod|ipad/i.test(navigator.userAgent)&&/CriOS/i.test(navigator.userAgent)?c$b("data:application/pdf;base64,".concat(function(X){return btoa(Array(X.length).fill("").map(function(W,G){return String.fromCharCode(X[G])}).join(""))}(K)),q):l$b(K,q,"application/pdf")})},f$8=function(B){var q=B.children,K=B.fileNameGenerator,X=B.store,W=n$b.useState(X.get("file")),G=W[0],Y=W[1],he=n$b.useState(X.get("doc")),Ce=he[0],ke=he[1],ae=function(ge){ke(ge)},Ae=function(ge){Y(ge)};return n$b.useEffect(function(){return X.subscribe("doc",ae),X.subscribe("file",Ae),function(){X.subscribe("doc",ae),X.unsubscribe("file",Ae)}},[]),(q||function(ge){return n$b.createElement(a$b,{onClick:ge.onClick})})({onClick:function(){Ce&&G&&u$b(Ce,K(G))}})},d$8=function(B){var q=B.onClick,K=n$b.useContext(e$b.LocalizationContext).l10n,X=K&&K.download?K.download.download:"Download";return n$b.createElement(e$b.MenuItem,{icon:n$b.createElement(o$b,null),testId:"get-file__download-menu",onClick:q},X)};getFile_min.DownloadIcon=o$b,getFile_min.getFilePlugin=function(B){var q=n$b.useMemo(function(){return e$b.createStore({})},[]),K=function(W){return W.name?(G=W.name,(Y=G.split("/").pop())?Y.split("#")[0].split("?")[0]:G):"document.pdf";var G,Y},X=function(W){return n$b.createElement(f$8,r$b({},W,{fileNameGenerator:B&&B.fileNameGenerator||K,store:q}))};return{onDocumentLoad:function(W){q.update("doc",W.doc),q.update("file",W.file)},Download:X,DownloadButton:function(){return n$b.createElement(X,null,function(W){return n$b.createElement(a$b,r$b({},W))})},DownloadMenuItem:function(W){return n$b.createElement(X,null,function(G){return n$b.createElement(d$8,{onClick:function(){G.onClick(),W.onClick()}})})}}};/**
* A React component to view a PDF document
*
* @see https://react-pdf-viewer.dev
* @license https://react-pdf-viewer.dev/license
* @copyright 2019-2023 Nguyen Huu Phuoc <me@phuoc.ng>
*/lib$9.exports=getFile_min;var libExports$b=lib$9.exports,lib$8={exports:{}},open_min={},e$a=libExports$h;function t$a(B){var q=Object.create(null);return B&&Object.keys(B).forEach(function(K){if(K!=="default"){var X=Object.getOwnPropertyDescriptor(B,K);Object.defineProperty(q,K,X.get?X:{enumerable:!0,get:function(){return B[K]}})}}),q.default=B,Object.freeze(q)}var n$a=t$a(T$1),r$a=function(){return n$a.createElement(e$a.Icon,{size:16},n$a.createElement("path",{d:"M18.5,7.5c.275,0,.341-.159.146-.354L12.354.854a.5.5,0,0,0-.708,0L5.354,7.147c-.2.195-.129.354.146.354h3v10a1,1,0,0,0,1,1h5a1,1,0,0,0,1-1V7.5Z"}),n$a.createElement("path",{d:"M23.5,18.5v4a1,1,0,0,1-1,1H1.5a1,1,0,0,1-1-1v-4"}))},o$a=function(){return o$a=Object.assign||function(B){for(var q,K=1,X=arguments.length;K<X;K++)for(var W in q=arguments[K])Object.prototype.hasOwnProperty.call(q,W)&&(B[W]=q[W]);return B},o$a.apply(this,arguments)},i$a=function(B){var q=n$a.useRef(),K=function(){var W=q.current;W&&(W.click(),B.get("triggerOpenFile")&&B.update("triggerOpenFile",!1))},X=function(W){W&&K()};return n$a.useEffect(function(){return B.subscribe("triggerOpenFile",X),function(){B.unsubscribe("triggerOpenFile",X)}},[]),{inputRef:q,openFile:K}},c$a={left:0,top:8},u$a=function(B){var q=B.enableShortcuts,K=B.store,X=B.onClick,W=n$a.useContext(e$a.LocalizationContext).l10n,G=W&&W.open?W.open.openFile:"Open file",Y=i$a(K),he=Y.inputRef,Ce=Y.openFile,ke=q?e$a.isMac()?"Meta+O":"Ctrl+O":"";return n$a.createElement(e$a.Tooltip,{ariaControlsSuffix:"open",position:e$a.Position.BottomCenter,target:n$a.createElement("div",{className:"rpv-open__input-wrapper"},n$a.createElement("input",{accept:".pdf",ref:he,className:"rpv-open__input",multiple:!1,tabIndex:-1,title:"",type:"file",onChange:X}),n$a.createElement(e$a.MinimalButton,{ariaKeyShortcuts:ke,ariaLabel:G,testId:"open__button",onClick:Ce},n$a.createElement(r$a,null))),content:function(){return G},offset:c$a})},a$a=function(B){var q=B.children,K=B.enableShortcuts,X=B.store;return(q||function(W){return n$a.createElement(u$a,{enableShortcuts:K,store:X,onClick:W.onClick})})({onClick:function(W){var G=W.target.files;if(G&&G.length){var Y=X.get("openFile");Y&&Y(G[0])}}})},l$a=function(B){var q=B.store,K=B.onClick,X=n$a.useContext(e$a.LocalizationContext).l10n,W=X&&X.open?X.open.openFile:"Open file",G=i$a(q),Y=G.inputRef,he=G.openFile;return n$a.createElement(e$a.MenuItem,{icon:n$a.createElement(r$a,null),testId:"open__menu",onClick:he},n$a.createElement("div",{className:"rpv-open__input-wrapper"},n$a.createElement("input",{accept:".pdf",ref:Y,className:"rpv-open__input",multiple:!1,tabIndex:-1,title:"",type:"file",onChange:K}),W))},p$7=function(B){var q=B.containerRef,K=B.store,X=function(W){if(!W.shiftKey&&!W.altKey&&W.key==="o"&&(e$a.isMac()?W.metaKey:W.ctrlKey)){var G=q.current;G&&document.activeElement&&G.contains(document.activeElement)&&(W.preventDefault(),K.update("triggerOpenFile",!0))}};return n$a.useEffect(function(){if(q.current)return document.addEventListener("keydown",X),function(){document.removeEventListener("keydown",X)}},[q.current]),n$a.createElement(n$a.Fragment,null)};open_min.OpenFileIcon=r$a,open_min.openPlugin=function(B){var q=n$a.useMemo(function(){return Object.assign({},{enableShortcuts:!0},B)},[]),K=n$a.useMemo(function(){return e$a.createStore({})},[]),X=function(W){return n$a.createElement(a$a,o$a({enableShortcuts:q.enableShortcuts},W,{store:K}))};return{install:function(W){K.update("openFile",W.openFile)},renderViewer:function(W){var G=W.slot,Y={children:n$a.createElement(n$a.Fragment,null,q.enableShortcuts&&n$a.createElement(p$7,{containerRef:W.containerRef,store:K}),G.children)};return o$a(o$a({},G),Y)},Open:X,OpenButton:function(){return n$a.createElement(X,null)},OpenMenuItem:function(){return n$a.createElement(X,null,function(W){return n$a.createElement(l$a,{store:K,onClick:W.onClick})})}}};/**
* A React component to view a PDF document
*
* @see https://react-pdf-viewer.dev
* @license https://react-pdf-viewer.dev/license
* @copyright 2019-2023 Nguyen Huu Phuoc <me@phuoc.ng>
*/lib$8.exports=open_min;var libExports$a=lib$8.exports,lib$7={exports:{}},pageNavigation_min={},e$9=libExports$h;function t$9(B){var q=Object.create(null);return B&&Object.keys(B).forEach(function(K){if(K!=="default"){var X=Object.getOwnPropertyDescriptor(B,K);Object.defineProperty(q,K,X.get?X:{enumerable:!0,get:function(){return B[K]}})}}),q.default=B,Object.freeze(q)}var n$9=t$9(T$1),a$9=function(){return n$9.createElement(e$9.Icon,{size:16},n$9.createElement("path",{d:`M2.32,2.966h19.452c0.552,0.001,1,0.449,0.999,1.001c0,0.182-0.05,0.36-0.144,0.516L12.9,20.552
            c-0.286,0.472-0.901,0.624-1.373,0.338c-0.138-0.084-0.254-0.2-0.338-0.338L1.465,4.483C1.179,4.01,1.331,3.396,1.804,3.11
            C1.96,3.016,2.138,2.966,2.32,2.966z`}))},r$9=function(){return n$9.createElement(e$9.Icon,{size:16},n$9.createElement("path",{d:`M0.541,5.627L11.666,18.2c0.183,0.207,0.499,0.226,0.706,0.043c0.015-0.014,0.03-0.028,0.043-0.043
            L23.541,5.627`}))},o$9=function(){return o$9=Object.assign||function(B){for(var q,K=1,X=arguments.length;K<X;K++)for(var W in q=arguments[K])Object.prototype.hasOwnProperty.call(q,W)&&(B[W]=q[W]);return B},o$9.apply(this,arguments)},i$9=function(B){var q=n$9.useState(B.get("currentPage")||0),K=q[0],X=q[1],W=function(G){X(G)};return e$9.useIsomorphicLayoutEffect(function(){return B.subscribe("currentPage",W),function(){B.unsubscribe("currentPage",W)}},[]),{currentPage:K}},u$9=function(B){var q=n$9.useState(B.get("numberOfPages")||0),K=q[0],X=q[1],W=function(G){X(G)};return n$9.useEffect(function(){return B.subscribe("numberOfPages",W),function(){B.unsubscribe("numberOfPages",W)}},[]),{numberOfPages:K}},c$9=function(B){var q=B.store,K=n$9.useContext(e$9.LocalizationContext).l10n,X=n$9.useState("1"),W=X[0],G=X[1],Y=i$9(q).currentPage,he=u$9(q).numberOfPages;n$9.useEffect(function(){return G("".concat(Y+1))},[Y]);var Ce=function(ae){var Ae=q.get("jumpToPage");Ae&&Ae(ae)},ke=K&&K.pageNavigation?K.pageNavigation.enterPageNumber:"Enter a page number";return n$9.createElement("span",{className:"rpv-page-navigation__current-page-input"},n$9.createElement(e$9.TextBox,{ariaLabel:ke,testId:"page-navigation__current-page-input",type:"text",value:W,onChange:G,onKeyDown:function(ae){switch(ae.key){case"ArrowUp":(ve=Y-1)>=0&&(G("".concat(ve+1)),Ce(ve));break;case"ArrowDown":(ge=Y+1)<he&&(G("".concat(ge+1)),Ce(ge));break;case"Enter":Ae=parseInt(W,10),W===""||Ae<1||Ae>he?G("".concat(Y+1)):Ce(Ae-1)}var Ae,ge,ve}}))},l$9=function(B){var q=B.children,K=B.doc,X=e$9.useIsMounted(),W=n$9.useState({loading:!0,labels:[]}),G=W[0],Y=W[1];return n$9.useEffect(function(){K.getPageLabels().then(function(he){X.current&&Y({loading:!1,labels:he||[]})})},[K.loadingTask.docId]),G.loading?n$9.createElement(n$9.Fragment,null):q(G.labels)},s$7=function(B){var q=B.children,K=B.store,X=function(he){var Ce=n$9.useState(he.get("doc")),ke=Ce[0],ae=Ce[1],Ae=function(ge){ae(ge)};return n$9.useEffect(function(){return he.subscribe("doc",Ae),function(){he.unsubscribe("doc",Ae)}},[]),ke}(K),W=i$9(K).currentPage,G=u$9(K).numberOfPages,Y=q||function(he){return n$9.createElement(n$9.Fragment,null,he.currentPage+1)};return X?n$9.createElement(l$9,{doc:X},function(he){var Ce=he.length===G&&G>0?he[W]:"";return Y({currentPage:W,numberOfPages:G,pageLabel:Ce})}):n$9.createElement(n$9.Fragment,null)},g$5=function(){return n$9.createElement(e$9.Icon,{size:16},n$9.createElement("path",{d:`M21.783,21.034H2.332c-0.552,0-1-0.448-1-1c0-0.182,0.05-0.361,0.144-0.517L11.2,3.448
            c0.286-0.472,0.901-0.624,1.373-0.338c0.138,0.084,0.254,0.2,0.338,0.338l9.726,16.069c0.286,0.473,0.134,1.087-0.339,1.373
            C22.143,20.984,21.965,21.034,21.783,21.034z`}))},f$7={left:0,top:8},m$7=function(B){var q=B.isDisabled,K=B.onClick,X=n$9.useContext(e$9.LocalizationContext).l10n,W=X&&X.pageNavigation?X.pageNavigation.goToFirstPage:"First page";return n$9.createElement(e$9.Tooltip,{ariaControlsSuffix:"page-navigation-first",position:e$9.Position.BottomCenter,target:n$9.createElement(e$9.MinimalButton,{ariaLabel:W,isDisabled:q,testId:"page-navigation__first-button",onClick:K},n$9.createElement(g$5,null)),content:function(){return W},offset:f$7})},p$6=function(B){var q=B.children,K=B.store;return(q||function(X){return n$9.createElement(m$7,{isDisabled:X.isDisabled,onClick:X.onClick})})({isDisabled:i$9(K).currentPage===0,onClick:function(){var X=K.get("jumpToPage");X&&X(0)}})},v$5=function(B){var q=B.isDisabled,K=B.onClick,X=n$9.useContext(e$9.LocalizationContext).l10n,W=X&&X.pageNavigation?X.pageNavigation.goToFirstPage:"First page";return n$9.createElement(e$9.MenuItem,{icon:n$9.createElement(g$5,null),isDisabled:q,testId:"page-navigation__first-menu",onClick:K},W)},d$7={left:0,top:8},P$2=function(B){var q=B.isDisabled,K=B.onClick,X=n$9.useContext(e$9.LocalizationContext).l10n,W=X&&X.pageNavigation?X.pageNavigation.goToLastPage:"Last page";return n$9.createElement(e$9.Tooltip,{ariaControlsSuffix:"page-navigation-last",position:e$9.Position.BottomCenter,target:n$9.createElement(e$9.MinimalButton,{ariaLabel:W,isDisabled:q,testId:"page-navigation__last-button",onClick:K},n$9.createElement(a$9,null)),content:function(){return W},offset:d$7})},b$4=function(B){var q=B.children,K=B.store,X=i$9(K).currentPage,W=u$9(K).numberOfPages;return(q||function(G){return n$9.createElement(P$2,{isDisabled:G.isDisabled,onClick:G.onClick})})({isDisabled:X+1>=W,onClick:function(){var G=K.get("jumpToPage");G&&G(W-1)}})},E$4=function(B){var q=B.isDisabled,K=B.onClick,X=n$9.useContext(e$9.LocalizationContext).l10n,W=X&&X.pageNavigation?X.pageNavigation.goToLastPage:"Last page";return n$9.createElement(e$9.MenuItem,{icon:n$9.createElement(a$9,null),isDisabled:q,testId:"page-navigation__last-menu",onClick:K},W)},C$3={left:0,top:8},D=function(B){var q=B.isDisabled,K=B.onClick,X=n$9.useContext(e$9.LocalizationContext).l10n,W=X&&X.pageNavigation?X.pageNavigation.goToNextPage:"Next page";return n$9.createElement(e$9.Tooltip,{ariaControlsSuffix:"page-navigation-next",position:e$9.Position.BottomCenter,target:n$9.createElement(e$9.MinimalButton,{ariaLabel:W,isDisabled:q,testId:"page-navigation__next-button",onClick:K},n$9.createElement(r$9,null)),content:function(){return W},offset:C$3})},k$3=function(B){var q=B.children,K=B.store;return(q||function(X){return n$9.createElement(D,{onClick:X.onClick,isDisabled:X.isDisabled})})({isDisabled:i$9(K).currentPage+1>=u$9(K).numberOfPages,onClick:function(){var X=K.get("jumpToNextPage");X&&X()}})},T=function(B){var q=B.isDisabled,K=B.onClick,X=n$9.useContext(e$9.LocalizationContext).l10n,W=X&&X.pageNavigation?X.pageNavigation.goToNextPage:"Next page";return n$9.createElement(e$9.MenuItem,{icon:n$9.createElement(r$9,null),isDisabled:q,testId:"page-navigation__next-menu",onClick:K},W)},x$1=function(){return n$9.createElement(e$9.Icon,{size:16},n$9.createElement("path",{d:`M23.535,18.373L12.409,5.8c-0.183-0.207-0.499-0.226-0.706-0.043C11.688,5.77,11.674,5.785,11.66,5.8
            L0.535,18.373`}))},L={left:0,top:8},N=function(B){var q=B.isDisabled,K=B.onClick,X=n$9.useContext(e$9.LocalizationContext).l10n,W=X&&X.pageNavigation?X.pageNavigation.goToPreviousPage:"Previous page";return n$9.createElement(e$9.Tooltip,{ariaControlsSuffix:"page-navigation-previous",position:e$9.Position.BottomCenter,target:n$9.createElement(e$9.MinimalButton,{ariaLabel:W,isDisabled:q,testId:"page-navigation__previous-button",onClick:K},n$9.createElement(x$1,null)),content:function(){return W},offset:L})},j=function(B){var q=B.store;return(B.children||function(K){return n$9.createElement(N,{isDisabled:K.isDisabled,onClick:K.onClick})})({isDisabled:i$9(q).currentPage<=0,onClick:function(){var K=q.get("jumpToPreviousPage");K&&K()}})},I$2=function(B){var q=B.isDisabled,K=B.onClick,X=n$9.useContext(e$9.LocalizationContext).l10n,W=X&&X.pageNavigation?X.pageNavigation.goToPreviousPage:"Previous page";return n$9.createElement(e$9.MenuItem,{icon:n$9.createElement(x$1,null),isDisabled:q,testId:"page-navigation__previous-menu",onClick:K},W)},h$5=function(B){var q=B.children,K=B.store,X=u$9(K).numberOfPages;return q?q({numberOfPages:X}):n$9.createElement(n$9.Fragment,null,X)},y$1=function(B){var q=B.containerRef,K=B.numPages,X=B.store,W=i$9(X).currentPage,G=n$9.useRef(W);G.current=W;var Y=n$9.useRef(!1),he=function(){Y.current=!0},Ce=function(){Y.current=!1},ke=function(ae){var Ae=q.current,ge=Y.current||document.activeElement&&Ae.contains(document.activeElement);if(Ae&&ge){var ve,xe,we=ae.altKey&&ae.key==="ArrowDown"||!ae.shiftKey&&!ae.altKey&&ae.key==="PageDown",fe=ae.altKey&&ae.key==="ArrowUp"||!ae.shiftKey&&!ae.altKey&&ae.key==="PageUp";if(we)return ae.preventDefault(),ve=X.get("jumpToPage"),xe=G.current+1,void(ve&&xe<K&&ve(xe));if(fe)return ae.preventDefault(),void function(){var ne=X.get("jumpToPage"),Se=G.current-1;ne&&Se>=0&&ne(Se)}();if(e$9.isMac()?ae.metaKey&&!ae.ctrlKey:ae.altKey)switch(ae.key){case"ArrowLeft":ae.preventDefault(),function(){var ne=X.get("jumpToPreviousDestination");ne&&ne()}();break;case"ArrowRight":ae.preventDefault(),function(){var ne=X.get("jumpToNextDestination");ne&&ne()}()}}};return n$9.useEffect(function(){var ae=q.current;if(ae)return document.addEventListener("keydown",ke),ae.addEventListener("mouseenter",he),ae.addEventListener("mouseleave",Ce),function(){document.removeEventListener("keydown",ke),ae.removeEventListener("mouseenter",he),ae.removeEventListener("mouseleave",Ce)}},[q.current]),n$9.createElement(n$9.Fragment,null)};pageNavigation_min.DownArrowIcon=a$9,pageNavigation_min.NextIcon=r$9,pageNavigation_min.PreviousIcon=x$1,pageNavigation_min.UpArrowIcon=g$5,pageNavigation_min.pageNavigationPlugin=function(B){var q=n$9.useMemo(function(){return Object.assign({},{enableShortcuts:!0},B)},[]),K=n$9.useMemo(function(){return e$9.createStore()},[]),X=function(he){return n$9.createElement(p$6,o$9({},he,{store:K}))},W=function(he){return n$9.createElement(b$4,o$9({},he,{store:K}))},G=function(he){return n$9.createElement(k$3,o$9({},he,{store:K}))},Y=function(he){return n$9.createElement(j,o$9({},he,{store:K}))};return{install:function(he){K.update("jumpToDestination",he.jumpToDestination),K.update("jumpToNextDestination",he.jumpToNextDestination),K.update("jumpToNextPage",he.jumpToNextPage),K.update("jumpToPage",he.jumpToPage),K.update("jumpToPreviousDestination",he.jumpToPreviousDestination),K.update("jumpToPreviousPage",he.jumpToPreviousPage)},renderViewer:function(he){var Ce=he.slot;if(!q.enableShortcuts)return Ce;var ke={children:n$9.createElement(n$9.Fragment,null,n$9.createElement(y$1,{containerRef:he.containerRef,numPages:he.doc.numPages,store:K}),Ce.children)};return o$9(o$9({},Ce),ke)},onDocumentLoad:function(he){K.update("doc",he.doc),K.update("numberOfPages",he.doc.numPages)},onViewerStateChange:function(he){return K.update("currentPage",he.pageIndex),he},jumpToNextPage:function(){var he=K.get("jumpToNextPage");he&&he()},jumpToPage:function(he){var Ce=K.get("jumpToPage");Ce&&Ce(he)},jumpToPreviousPage:function(){var he=K.get("jumpToPreviousPage");he&&he()},CurrentPageInput:function(){return n$9.createElement(c$9,{store:K})},CurrentPageLabel:function(he){return n$9.createElement(s$7,o$9({},he,{store:K}))},GoToFirstPage:X,GoToFirstPageButton:function(){return n$9.createElement(X,null,function(he){return n$9.createElement(m$7,o$9({},he))})},GoToFirstPageMenuItem:function(he){return n$9.createElement(X,null,function(Ce){return n$9.createElement(v$5,{isDisabled:Ce.isDisabled,onClick:function(){Ce.onClick(),he.onClick()}})})},GoToLastPage:W,GoToLastPageButton:function(){return n$9.createElement(W,null,function(he){return n$9.createElement(P$2,o$9({},he))})},GoToLastPageMenuItem:function(he){return n$9.createElement(W,null,function(Ce){return n$9.createElement(E$4,{isDisabled:Ce.isDisabled,onClick:function(){Ce.onClick(),he.onClick()}})})},GoToNextPage:G,GoToNextPageButton:function(){return n$9.createElement(G,null,function(he){return n$9.createElement(D,o$9({},he))})},GoToNextPageMenuItem:function(he){return n$9.createElement(G,null,function(Ce){return n$9.createElement(T,{isDisabled:Ce.isDisabled,onClick:function(){Ce.onClick(),he.onClick()}})})},GoToPreviousPage:Y,GoToPreviousPageButton:function(){return n$9.createElement(Y,null,function(he){return n$9.createElement(N,o$9({},he))})},GoToPreviousPageMenuItem:function(he){return n$9.createElement(Y,null,function(Ce){return n$9.createElement(I$2,{isDisabled:Ce.isDisabled,onClick:function(){Ce.onClick(),he.onClick()}})})},NumberOfPages:function(he){return n$9.createElement(h$5,o$9({},he,{store:K}))}}};/**
* A React component to view a PDF document
*
* @see https://react-pdf-viewer.dev
* @license https://react-pdf-viewer.dev/license
* @copyright 2019-2023 Nguyen Huu Phuoc <me@phuoc.ng>
*/lib$7.exports=pageNavigation_min;var libExports$9=lib$7.exports,lib$6={exports:{}},print_min={},define_process_env_default={},e$8=libExports$h,t$8=T$1,n$8=Ad;function r$8(B){var q=Object.create(null);return B&&Object.keys(B).forEach(function(K){if(K!=="default"){var X=Object.getOwnPropertyDescriptor(B,K);Object.defineProperty(q,K,X.get?X:{enumerable:!0,get:function(){return B[K]}})}}),q.default=B,Object.freeze(q)}var o$8,a$8=r$8(t$8),i$8=function(){return a$8.createElement(e$8.Icon,{size:16},a$8.createElement("path",{d:`M7.5,19.499h9 M7.5,16.499h9 M5.5,16.5h-3c-1.103-0.003-1.997-0.897-2-2v-6c0.003-1.103,0.897-1.997,2-2h19
            c1.103,0.003,1.997,0.897,2,2v6c-0.003,1.103-0.897,1.997-2,2h-3
            M5.5,4.5v-4h9.586c0.265,0,0.52,0.105,0.707,0.293l2.414,2.414
            C18.395,3.394,18.5,3.649,18.5,3.914V4.5
            M18.5,22.5c0,0.552-0.448,1-1,1h-11c-0.552,0-1-0.448-1-1v-9h13V22.5z
            M3.5,8.499
            c0.552,0,1,0.448,1,1s-0.448,1-1,1s-1-0.448-1-1S2.948,8.499,3.5,8.499z
            M14.5,0.499v4h4`}))},c$8=function(){return c$8=Object.assign||function(B){for(var q,K=1,X=arguments.length;K<X;K++)for(var W in q=arguments[K])Object.prototype.hasOwnProperty.call(q,W)&&(B[W]=q[W]);return B},c$8.apply(this,arguments)},u$8={left:0,top:8},s$6=function(B){var q=B.enableShortcuts,K=B.onClick,X=a$8.useContext(e$8.LocalizationContext).l10n,W=X&&X.print?X.print.print:"Print",G=q?e$8.isMac()?"Meta+P":"Ctrl+P":"";return a$8.createElement(e$8.Tooltip,{ariaControlsSuffix:"print",position:e$8.Position.BottomCenter,target:a$8.createElement(e$8.MinimalButton,{ariaKeyShortcuts:G,ariaLabel:W,testId:"print__button",onClick:K},a$8.createElement(i$8,null)),content:function(){return W},offset:u$8})};(function(B){B.CheckingPermission="CheckingPermission",B.Inactive="Inactive",B.Preparing="Preparing",B.Cancelled="Cancelled",B.Ready="Ready"})(o$8||(o$8={}));var l$8=function(B){var q=B.children,K=B.enableShortcuts,X=B.store;return(q||s$6)({enableShortcuts:K,onClick:function(){X.update("printStatus",o$8.CheckingPermission)}})},p$5=function(B){var q=B.doc,K=B.store,X=a$8.useContext(e$8.LocalizationContext).l10n,W=a$8.useState(!0),G=W[0],Y=W[1];return a$8.useEffect(function(){q.getPermissions().then(function(he){he===null||he.includes(4)||he.includes(2048)?K.update("printStatus",o$8.Preparing):Y(!1)})},[]),G?a$8.createElement(a$8.Fragment,null):a$8.createElement(e$8.Modal,{ariaControlsSuffix:"print-permission",closeOnClickOutside:!1,closeOnEscape:!1,content:function(he){return a$8.createElement(a$8.Fragment,null,a$8.createElement("div",{className:"rpv-print__permission-body"},X&&X.print?X.print.disallowPrint:"The document does not allow to print"),a$8.createElement("div",{className:"rpv-print__permission-footer"},a$8.createElement(e$8.Button,{onClick:function(){he(),K.update("printStatus",o$8.Cancelled)}},X&&X.print?X.print.close:"Close")))},isOpened:!0})},m$6=function(B){var q=B.numLoadedPages,K=B.numPages,X=B.onCancel,W=a$8.useContext(e$8.LocalizationContext).l10n,G=a$8.useContext(e$8.ThemeContext).direction===e$8.TextDirection.RightToLeft,Y=Math.floor(100*q/K);return a$8.createElement("div",{className:"rpv-print__progress"},a$8.createElement("div",{className:e$8.classNames({"rpv-print__progress-body":!0,"rpv-print__progress-body--rtl":G})},a$8.createElement("div",{className:"rpv-print__progress-message"},W&&W.print?W.print.preparingDocument:"Preparing document ..."),a$8.createElement("div",{className:"rpv-print__progress-bar"},a$8.createElement(e$8.ProgressBar,{progress:Y})),a$8.createElement(e$8.Button,{onClick:X},W&&W.print?W.print.cancel:"Cancel")))},d$6=function(B){var q=B.canvas,K=B.page,X=B.pageHeight,W=B.pageIndex,G=B.pageWidth,Y=B.rotation,he=B.onLoad,Ce=e$8.useIsMounted(),ke=a$8.useRef(),ae=a$8.useState(""),Ae=ae[0],ge=ae[1],ve=a$8.useMemo(function(){return typeof process<"u"&&define_process_env_default.JEST_WORKER_ID!==void 0},[]);return a$8.useEffect(function(){var xe=ke.current;xe&&xe.cancel();var we=150/72;q.height=Math.floor(X*we),q.width=Math.floor(G*we);var fe=q.getContext("2d");fe.save(),fe.fillStyle="rgb(255, 255, 255)",fe.fillRect(0,0,q.width,q.height),fe.restore();var ne=K.getViewport({rotation:Y,scale:1});ke.current=K.render({canvasContext:fe,intent:"print",transform:[we,0,0,we,0,0],viewport:ne}),ke.current.promise.then(function(){"toBlob"in q&&"createObjectURL"in URL?q.toBlob(function(Se){Ce.current&&ge(URL.createObjectURL(Se)),ve&&he()}):(Ce.current&&ge(q.toDataURL()),ve&&he())},function(){})},[]),Ae&&a$8.createElement("div",{className:"rpv-print__page"},a$8.createElement("img",{"data-testid":"print__thumbnail-".concat(W),src:Ae,onLoad:function(){ve||he()}}))},f$6=function(B){var q=B.canvas,K=B.doc,X=B.pageIndex,W=B.pageRotation,G=B.pageSize,Y=B.rotation,he=B.shouldRender,Ce=B.onLoad,ke=e$8.useIsMounted(),ae=a$8.useState(null),Ae=ae[0],ge=ae[1],ve=Math.abs(Y+W)%180==0;a$8.useEffect(function(){he&&e$8.getPage(K,X).then(function(we){ke.current&&ge(we)})},[he]);var xe=(G.rotation+Y+W)%360;return Ae&&a$8.createElement(d$6,{canvas:q,page:Ae,pageHeight:ve?G.pageHeight:G.pageWidth,pageIndex:X,pageWidth:ve?G.pageWidth:G.pageHeight,rotation:xe,onLoad:Ce})},g$4=function(B){var q=B.doc,K=B.numLoadedPages,X=B.pagesRotation,W=B.pageSizes,G=B.printPages,Y=B.printStatus,he=B.rotation,Ce=B.onCancel,ke=B.onLoad,ae=a$8.useMemo(function(){return document.createElement("canvas")},[]),Ae=a$8.useMemo(function(){var xe=document.querySelector(".rpv-print__zone");if(xe)return xe;var we=document.createElement("div");return we.classList.add("rpv-print__zone"),we.setAttribute("data-testid","print__zone"),document.body.appendChild(we),we},[]);a$8.useEffect(function(){Y===o$8.Ready&&(document.documentElement.classList.add("rpv-print__html-printing"),document.body.classList.add("rpv-print__body-printing"),window.print());var xe=function(){if(Y===o$8.Ready){document.documentElement.classList.remove("rpv-print__html-printing"),document.body.classList.remove("rpv-print__body-printing");var we=document.querySelectorAll(".rpv-print__zone");we&&we.forEach(function(fe){fe.parentElement.removeChild(fe)}),ae.height=0,ae.width=0,document.removeEventListener("mousemove",xe),Ce()}};return document.addEventListener("mousemove",xe),function(){return document.removeEventListener("mousemove",xe)}},[Y]);var ge=W[0].pageHeight,ve=W[0].pageWidth;return n$8.createPortal(a$8.createElement(a$8.Fragment,null,G.map(function(xe,we){return a$8.createElement(f$6,{key:xe,canvas:ae,doc:q,pageIndex:xe,pageRotation:X.has(xe)?X.get(xe):0,pageSize:W[xe],rotation:he,shouldRender:we===K,onLoad:ke})}),a$8.createElement("style",{dangerouslySetInnerHTML:{__html:"@page { size: ".concat(ve,"pt ").concat(ge,"pt }")}})),Ae)},v$4=function(B){var q=B.doc,K=B.pagesRotation,X=B.pageSizes,W=B.renderProgressBar,G=B.rotation,Y=B.setPages,he=B.store,Ce=a$8.useState(o$8.Inactive),ke=Ce[0],ae=Ce[1],Ae=a$8.useState(0),ge=Ae[0],ve=Ae[1],xe=a$8.useMemo(function(){var Se=q.numPages;return Y(q).filter(function(Le){return Le>=0&&Le<Se})},[q,Y]),we=xe.length,fe=function(){ve(0),ae(o$8.Inactive)},ne=function(Se){return ae(Se)};return a$8.useEffect(function(){return he.subscribe("printStatus",ne),function(){he.unsubscribe("printStatus",ne)}},[]),a$8.createElement(a$8.Fragment,null,ke===o$8.CheckingPermission&&a$8.createElement(p$5,{doc:q,store:he}),ke===o$8.Preparing&&(W?W(ge,we,fe):a$8.createElement(m$6,{numLoadedPages:ge,numPages:we,onCancel:fe})),(ke===o$8.Preparing||ke===o$8.Ready)&&ge<=we&&a$8.createElement(g$4,{doc:q,numLoadedPages:ge,pagesRotation:K,pageSizes:X,printPages:xe,printStatus:ke,rotation:G,onCancel:fe,onLoad:function(){var Se=ge+1;Se<=we&&(ve(Se),Se===we&&ae(o$8.Ready))}}))},h$4=function(B){var q=B.onClick,K=a$8.useContext(e$8.LocalizationContext).l10n,X=K&&K.print?K.print.print:"Print";return a$8.createElement(e$8.MenuItem,{icon:a$8.createElement(i$8,null),testId:"print__menu",onClick:q},X)},E$3=function(B){var q=B.containerRef,K=B.store,X=function(W){if(!W.shiftKey&&!W.altKey&&W.key==="p"&&(e$8.isMac()?W.metaKey:W.ctrlKey)){var G=q.current;G&&document.activeElement&&G.contains(document.activeElement)&&(W.preventDefault(),K.update("printStatus",o$8.Preparing))}};return a$8.useEffect(function(){if(q.current)return document.addEventListener("keydown",X),function(){document.removeEventListener("keydown",X)}},[q.current]),a$8.createElement(a$8.Fragment,null)};print_min.PrintIcon=i$8,print_min.getAllPagesNumbers=function(B){return Array(B.numPages).fill(0).map(function(q,K){return K})},print_min.getCustomPagesNumbers=function(B){return function(q){var K,X=[];return B.replace(/\s+/g,"").split(",").forEach(function(W){var G,Y,he=W.split("-").map(function(Ce){return parseInt(Ce,10)}).filter(function(Ce){return Number.isInteger(Ce)});he.length===1?X.push(he[0]-1):he.length===2&&X.push.apply(X,(G=he[0]-1,Y=he[1]-1,Array(Y-G+1).fill(0).map(function(Ce,ke){return G+ke})))}),(K=X,K.filter(function(W){return K.indexOf(W)===K.lastIndexOf(W)})).filter(function(W){return W>=0&&W<q.numPages})}},print_min.getEvenPagesNumbers=function(B){return Array(B.numPages).fill(0).map(function(q,K){return K}).filter(function(q){return(q+1)%2==0})},print_min.getOddPagesNumbers=function(B){return Array(B.numPages).fill(0).map(function(q,K){return K}).filter(function(q){return(q+1)%2==1})},print_min.printPlugin=function(B){var q=a$8.useMemo(function(){return Object.assign({},{enableShortcuts:!0,setPages:function(W){return Array(W.numPages).fill(0).map(function(G,Y){return Y})}},B)},[]),K=a$8.useMemo(function(){return e$8.createStore({printStatus:o$8.Inactive})},[]),X=function(W){return a$8.createElement(l$8,c$8({enableShortcuts:q.enableShortcuts},W,{store:K}))};return{print:function(){K.update("printStatus",o$8.CheckingPermission)},renderViewer:function(W){var G=W.slot,Y={children:a$8.createElement(a$8.Fragment,null,q.enableShortcuts&&a$8.createElement(E$3,{containerRef:W.containerRef,store:K}),a$8.createElement(v$4,{doc:W.doc,pagesRotation:W.pagesRotation,pageSizes:W.pageSizes,renderProgressBar:B==null?void 0:B.renderProgressBar,rotation:W.rotation,setPages:q.setPages,store:K}),G.children)};return c$8(c$8({},G),Y)},Print:X,PrintButton:function(){return a$8.createElement(X,null,function(W){return a$8.createElement(s$6,c$8({},W))})},PrintMenuItem:function(W){return a$8.createElement(X,null,function(G){return a$8.createElement(h$4,{onClick:function(){G.onClick(),W.onClick()}})})},setPages:function(W){q.setPages=W}}};/**
* A React component to view a PDF document
*
* @see https://react-pdf-viewer.dev
* @license https://react-pdf-viewer.dev/license
* @copyright 2019-2023 Nguyen Huu Phuoc <me@phuoc.ng>
*/lib$6.exports=print_min;var libExports$8=lib$6.exports,lib$5={exports:{}},properties_min={},e$7=libExports$h;function t$7(B){var q=Object.create(null);return B&&Object.keys(B).forEach(function(K){if(K!=="default"){var X=Object.getOwnPropertyDescriptor(B,K);Object.defineProperty(q,K,X.get?X:{enumerable:!0,get:function(){return B[K]}})}}),q.default=B,Object.freeze(q)}var r$7=t$7(T$1),n$7=function(){return r$7.createElement(e$7.Icon,{size:16},r$7.createElement("path",{d:`M12,1.001c6.075,0,11,4.925,11,11s-4.925,11-11,11s-11-4.925-11-11S5.925,1.001,12,1.001z
            M14.5,17.005H13
            c-0.552,0-1-0.448-1-1v-6.5c0-0.276-0.224-0.5-0.5-0.5H10
            M11.745,6.504L11.745,6.504
            M11.745,6.5c-0.138,0-0.25,0.112-0.25,0.25
            S11.607,7,11.745,7s0.25-0.112,0.25-0.25S11.883,6.5,11.745,6.5`}))},o$7=function(){return o$7=Object.assign||function(B){for(var q,K=1,X=arguments.length;K<X;K++)for(var W in q=arguments[K])Object.prototype.hasOwnProperty.call(q,W)&&(B[W]=q[W]);return B},o$7.apply(this,arguments)},a$7=function(B){var q=B.doc,K=B.render,X=r$7.useState(),W=X[0],G=X[1];return r$7.useEffect(function(){q.getMetadata().then(function(Y){return Promise.resolve(Y)}).then(function(Y){return q.getDownloadInfo().then(function(he){return Promise.resolve({fileName:Y.contentDispositionFilename||"",info:Y.info,length:he.length})})}).then(function(Y){G(Y)})},[]),W?K(W):r$7.createElement("div",{className:"rpv-properties__loader"},r$7.createElement(e$7.Spinner,null))},i$7=function(B){var q=B.label,K=B.value,X=r$7.useContext(e$7.ThemeContext).direction===e$7.TextDirection.RightToLeft;return r$7.createElement("dl",{className:e$7.classNames({"rpv-properties__item":!0,"rpv-properties__item--rtl":X})},r$7.createElement("dt",{className:"rpv-properties__item-label"},q,":"),r$7.createElement("dd",{className:"rpv-properties__item-value"},K||"-"))},l$7=new RegExp("^D:(\\d{4})(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?([Z|+|-])?(\\d{2})?'?(\\d{2})?'?"),c$7=function(B,q,K,X){var W=parseInt(B,10);return W>=q&&W<=K?W:X},p$4=function(B){var q=B.doc,K=B.fileName,X=B.onToggle,W=r$7.useContext(e$7.LocalizationContext).l10n,G=function(Y){var he=function(Ce){var ke=l$7.exec(Ce);if(!ke)return null;var ae=parseInt(ke[1],10),Ae=c$7(ke[2],1,12,1)-1,ge=c$7(ke[3],1,31,1),ve=c$7(ke[4],0,23,0),xe=c$7(ke[5],0,59,0),we=c$7(ke[6],0,59,0),fe=ke[7]||"Z",ne=c$7(ke[8],0,23,0),Se=c$7(ke[9],0,59,0);switch(fe){case"-":ve+=ne,xe+=Se;break;case"+":ve-=ne,xe-=Se}return new Date(Date.UTC(ae,Ae,ge,ve,xe,we))}(Y);return he?"".concat(he.toLocaleDateString(),", ").concat(he.toLocaleTimeString()):""};return r$7.createElement("div",{className:"rpv-properties__modal"},r$7.createElement(a$7,{doc:q,render:function(Y){return r$7.createElement(r$7.Fragment,null,r$7.createElement("div",{className:"rpv-properties__modal-section"},r$7.createElement(i$7,{label:W&&W.properties?W.properties.fileName:"File name",value:Y.fileName||(ke=K,ae=ke.split("/").pop(),ae?ae.split("#")[0].split("?")[0]:ke)}),r$7.createElement(i$7,{label:W&&W.properties?W.properties.fileSize:"File size",value:(he=Y.length,Ce=Math.floor(Math.log(he)/Math.log(1024)),"".concat((he/Math.pow(1024,Ce)).toFixed(2)," ").concat(["B","kB","MB","GB","TB"][Ce]))})),r$7.createElement(e$7.Separator,null),r$7.createElement("div",{className:"rpv-properties__modal-section"},r$7.createElement(i$7,{label:W&&W.properties?W.properties.title:"Title",value:Y.info.Title}),r$7.createElement(i$7,{label:W&&W.properties?W.properties.author:"Author",value:Y.info.Author}),r$7.createElement(i$7,{label:W&&W.properties?W.properties.subject:"Subject",value:Y.info.Subject}),r$7.createElement(i$7,{label:W&&W.properties?W.properties.keywords:"Keywords",value:Y.info.Keywords}),r$7.createElement(i$7,{label:W&&W.properties?W.properties.creator:"Creator",value:Y.info.Creator}),r$7.createElement(i$7,{label:W&&W.properties?W.properties.creationDate:"Creation date",value:G(Y.info.CreationDate)}),r$7.createElement(i$7,{label:W&&W.properties?W.properties.modificationDate:"Modification date",value:G(Y.info.ModDate)})),r$7.createElement(e$7.Separator,null),r$7.createElement("div",{className:"rpv-properties__modal-section"},r$7.createElement(i$7,{label:W&&W.properties?W.properties.pdfProducer:"PDF producer",value:Y.info.Producer}),r$7.createElement(i$7,{label:W&&W.properties?W.properties.pdfVersion:"PDF version",value:Y.info.PDFFormatVersion}),r$7.createElement(i$7,{label:W&&W.properties?W.properties.pageCount:"Page count",value:"".concat(q.numPages)})));var he,Ce,ke,ae}}),r$7.createElement("div",{className:"rpv-properties__modal-footer"},r$7.createElement(e$7.Button,{onClick:X},W&&W.properties?W.properties.close:"Close")))},s$5={left:0,top:8},u$7=function(B){var q=B.onClick,K=r$7.useContext(e$7.LocalizationContext).l10n,X=K&&K.properties?K.properties.showProperties:"Show properties";return r$7.createElement(e$7.Tooltip,{ariaControlsSuffix:"properties",position:e$7.Position.BottomCenter,target:r$7.createElement(e$7.MinimalButton,{ariaLabel:X,testId:"properties__button",onClick:q},r$7.createElement(n$7,null)),content:function(){return X},offset:s$5})},m$5=function(B){var q=B.children,K=B.store,X=function(Y){var he=r$7.useState(Y.get("doc")),Ce=he[0],ke=he[1],ae=function(Ae){ke(Ae)};return r$7.useEffect(function(){return Y.subscribe("doc",ae),function(){Y.unsubscribe("doc",ae)}},[]),{currentDoc:Ce}}(K).currentDoc,W=K.get("fileName")||"",G=q||function(Y){return r$7.createElement(u$7,o$7({},Y))};return X?r$7.createElement(e$7.Modal,{ariaControlsSuffix:"properties",target:function(Y){return G({onClick:Y})},content:function(Y){return r$7.createElement(p$4,{doc:X,fileName:W,onToggle:Y})},closeOnClickOutside:!0,closeOnEscape:!0}):r$7.createElement(r$7.Fragment,null)},f$5=function(B){var q=B.onClick,K=r$7.useContext(e$7.LocalizationContext).l10n,X=K&&K.properties?K.properties.showProperties:"Show properties";return r$7.createElement(e$7.MenuItem,{icon:r$7.createElement(n$7,null),testId:"properties__menu",onClick:q},X)};properties_min.InfoIcon=n$7,properties_min.propertiesPlugin=function(){var B=r$7.useMemo(function(){return e$7.createStore({fileName:""})},[]),q=function(K){return r$7.createElement(m$5,o$7({},K,{store:B}))};return{onDocumentLoad:function(K){B.update("doc",K.doc)},onViewerStateChange:function(K){return B.update("fileName",K.file.name),K},ShowProperties:q,ShowPropertiesButton:function(){return r$7.createElement(m$5,{store:B})},ShowPropertiesMenuItem:function(K){return r$7.createElement(q,null,function(X){return r$7.createElement(f$5,o$7({},X))})}}};/**
* A React component to view a PDF document
*
* @see https://react-pdf-viewer.dev
* @license https://react-pdf-viewer.dev/license
* @copyright 2019-2023 Nguyen Huu Phuoc <me@phuoc.ng>
*/lib$5.exports=properties_min;var libExports$7=lib$5.exports,lib$4={exports:{}},rotate_min={},t$6=libExports$h;function e$6(B){var q=Object.create(null);return B&&Object.keys(B).forEach(function(K){if(K!=="default"){var X=Object.getOwnPropertyDescriptor(B,K);Object.defineProperty(q,K,X.get?X:{enumerable:!0,get:function(){return B[K]}})}}),q.default=B,Object.freeze(q)}var r$6=e$6(T$1),n$6=function(){return r$6.createElement(t$6.Icon,{ignoreDirection:!0,size:16},r$6.createElement("path",{d:`M3.434,10.537c0.141-0.438,0.316-0.864,0.523-1.274
            M3.069,14.425C3.023,14.053,3,13.679,3,13.305 c0-0.291,0.014-0.579,0.041-0.863
            M4.389,18.111c-0.341-0.539-0.623-1.112-0.843-1.711
            M7.163,20.9 c-0.543-0.345-1.048-0.747-1.506-1.2
            M10.98,22.248c-0.65-0.074-1.29-0.218-1.909-0.431
            M10,4.25h2 c4.987,0.015,9.017,4.069,9.003,9.055c-0.013,4.581-3.456,8.426-8.008,8.945
            M13.5,1.75L10,4.25l3.5,2.5`}))},o$6=function(){return r$6.createElement(t$6.Icon,{ignoreDirection:!0,size:16},r$6.createElement("path",{d:`M20.566,10.537c-0.141-0.438-0.316-0.864-0.523-1.274
            M20.931,14.425C20.977,14.053,21,13.679,21,13.305 c0-0.291-0.014-0.579-0.041-0.863
            M19.611,18.111c0.341-0.539,0.624-1.114,0.843-1.713
            M16.837,20.9 c0.543-0.345,1.048-0.747,1.506-1.2
            M13.02,22.248c0.65-0.074,1.29-0.218,1.909-0.431
            M14,4.25h-2 c-4.987,0.015-9.017,4.069-9.003,9.055c0.013,4.581,3.456,8.426,8.008,8.945
            M10.5,1.75l3.5,2.5l-3.5,2.5`}))},c$6=function(){return c$6=Object.assign||function(B){for(var q,K=1,X=arguments.length;K<X;K++)for(var W in q=arguments[K])Object.prototype.hasOwnProperty.call(q,W)&&(B[W]=q[W]);return B},c$6.apply(this,arguments)},a$6={left:0,top:8},i$6=function(B){var q=B.direction,K=B.onClick,X=r$6.useContext(t$6.LocalizationContext).l10n,W=X&&X.rotate?X.rotate.rotateBackward:"Rotate counterclockwise",G=X&&X.rotate?X.rotate.rotateForward:"Rotate clockwise",Y=q===t$6.RotateDirection.Backward?W:G,he=q===t$6.RotateDirection.Backward?r$6.createElement(n$6,null):r$6.createElement(o$6,null);return r$6.createElement(t$6.Tooltip,{ariaControlsSuffix:"rotate",position:t$6.Position.BottomCenter,target:r$6.createElement(t$6.MinimalButton,{ariaLabel:Y,testId:q===t$6.RotateDirection.Backward?"rotate__backward-button":"rotate__forward-button",onClick:K},he),content:function(){return Y},offset:a$6})},u$6=function(B){var q=B.children,K=B.direction,X=B.store;return(q||function(W){return r$6.createElement(i$6,{direction:W.direction,onClick:W.onClick})})({direction:K,onClick:function(){var W=X.get("rotate");W&&W(K)}})},l$6=function(B){var q=B.direction,K=B.onClick,X=r$6.useContext(t$6.LocalizationContext).l10n,W=X&&X.rotate?X.rotate.rotateBackward:"Rotate counterclockwise",G=X&&X.rotate?X.rotate.rotateForward:"Rotate clockwise",Y=q===t$6.RotateDirection.Backward?W:G,he=q===t$6.RotateDirection.Backward?r$6.createElement(n$6,null):r$6.createElement(o$6,null);return r$6.createElement(t$6.MenuItem,{icon:he,testId:q===t$6.RotateDirection.Backward?"rotate__backward-menu":"rotate__forward-menu",onClick:K},Y)},d$5=function(B){var q=B.children,K=B.store;return q({onRotatePage:function(X,W){var G=K.get("rotatePage");G&&G(X,W)}})};rotate_min.RotateBackwardIcon=n$6,rotate_min.RotateForwardIcon=o$6,rotate_min.rotatePlugin=function(){var B=r$6.useMemo(function(){return t$6.createStore()},[]),q=function(K){return r$6.createElement(u$6,c$6({},K,{store:B}))};return{install:function(K){B.update("rotate",K.rotate),B.update("rotatePage",K.rotatePage)},Rotate:q,RotateBackwardButton:function(){return r$6.createElement(q,{direction:t$6.RotateDirection.Backward},function(K){return r$6.createElement(i$6,c$6({},K))})},RotateBackwardMenuItem:function(K){return r$6.createElement(q,{direction:t$6.RotateDirection.Backward},function(X){return r$6.createElement(l$6,{direction:X.direction,onClick:function(){X.onClick(),K.onClick()}})})},RotateForwardButton:function(){return r$6.createElement(q,{direction:t$6.RotateDirection.Forward},function(K){return r$6.createElement(i$6,c$6({},K))})},RotateForwardMenuItem:function(K){return r$6.createElement(q,{direction:t$6.RotateDirection.Forward},function(X){return r$6.createElement(l$6,{direction:X.direction,onClick:function(){X.onClick(),K.onClick()}})})},RotatePage:function(K){return r$6.createElement(d$5,c$6({},K,{store:B}))}}};/**
* A React component to view a PDF document
*
* @see https://react-pdf-viewer.dev
* @license https://react-pdf-viewer.dev/license
* @copyright 2019-2023 Nguyen Huu Phuoc <me@phuoc.ng>
*/lib$4.exports=rotate_min;var libExports$6=lib$4.exports,lib$3={exports:{}},scrollMode_min={},e$5=libExports$h;function o$5(B){var q=Object.create(null);return B&&Object.keys(B).forEach(function(K){if(K!=="default"){var X=Object.getOwnPropertyDescriptor(B,K);Object.defineProperty(q,K,X.get?X:{enumerable:!0,get:function(){return B[K]}})}}),q.default=B,Object.freeze(q)}var t$5=o$5(T$1),l$5=function(){return t$5.createElement(e$5.Icon,{size:16},t$5.createElement("rect",{x:"0.5",y:"0.497",width:"22",height:"22",rx:"1",ry:"1"}),t$5.createElement("line",{x1:"0.5",y1:"6.497",x2:"22.5",y2:"6.497"}),t$5.createElement("line",{x1:"11.5",y1:"6.497",x2:"11.5",y2:"22.497"}))},c$5=function(){return t$5.createElement(e$5.Icon,{size:16},t$5.createElement("rect",{x:"0.5",y:"0.497",width:"22",height:"22",rx:"1",ry:"1"}),t$5.createElement("line",{x1:"11.5",y1:"0.497",x2:"11.5",y2:"22.497"}))},n$5=function(){return t$5.createElement(e$5.Icon,{size:16},t$5.createElement("path",{d:`M6.5,21.5c0,0.552-0.448,1-1,1h-4c-0.552,0-1-0.448-1-1v-20c0-0.552,0.448-1,1-1h4c0.552,0,1,0.448,1,1V21.5z
            M14.5,21.5c0,0.552-0.448,1-1,1h-4c-0.552,0-1-0.448-1-1v-20c0-0.552,0.448-1,1-1h4c0.552,0,1,0.448,1,1V21.5z
            M22.5,21.5 c0,0.552-0.448,1-1,1h-4c-0.552,0-1-0.448-1-1v-20c0-0.552,0.448-1,1-1h4c0.552,0,1,0.448,1,1V21.5z`}))},r$5=function(){return t$5.createElement(e$5.Icon,{size:16},t$5.createElement("rect",{x:"0.5",y:"0.497",width:"22",height:"22",rx:"1",ry:"1"}))},i$5=function(){return i$5=Object.assign||function(B){for(var q,K=1,X=arguments.length;K<X;K++)for(var W in q=arguments[K])Object.prototype.hasOwnProperty.call(q,W)&&(B[W]=q[W]);return B},i$5.apply(this,arguments)},a$5=function(B,q){B.get("switchScrollMode")(q);var K=B.get("viewMode");q!==e$5.ScrollMode.Horizontal&&q!==e$5.ScrollMode.Wrapped||K===e$5.ViewMode.SinglePage||B.get("switchViewMode")(e$5.ViewMode.SinglePage)},d$4=function(){return t$5.createElement(e$5.Icon,{size:16},t$5.createElement("path",{d:`M23.5,5.5c0,0.552-0.448,1-1,1h-21c-0.552,0-1-0.448-1-1v-3c0-0.552,0.448-1,1-1h21c0.552,0,1,0.448,1,1V5.5z
            M23.5,13.5c0,0.552-0.448,1-1,1h-21c-0.552,0-1-0.448-1-1v-3c0-0.552,0.448-1,1-1h21c0.552,0,1,0.448,1,1V13.5z
            M23.5,21.5 c0,0.552-0.448,1-1,1h-21c-0.552,0-1-0.448-1-1v-3c0-0.552,0.448-1,1-1h21c0.552,0,1,0.448,1,1V21.5z`}))},s$4=function(){return t$5.createElement(e$5.Icon,{size:16},t$5.createElement("path",{d:`M10.5,9.5c0,0.552-0.448,1-1,1h-8c-0.552,0-1-0.448-1-1v-8c0-0.552,0.448-1,1-1h8c0.552,0,1,0.448,1,1V9.5z
            M23.5,9.5c0,0.552-0.448,1-1,1h-8c-0.552,0-1-0.448-1-1v-8c0-0.552,0.448-1,1-1h8c0.552,0,1,0.448,1,1V9.5z
            M10.5,22.5 c0,0.552-0.448,1-1,1h-8c-0.552,0-1-0.448-1-1v-8c0-0.552,0.448-1,1-1h8c0.552,0,1,0.448,1,1V22.5z
            M23.5,22.5c0,0.552-0.448,1-1,1 h-8c-0.552,0-1-0.448-1-1v-8c0-0.552,0.448-1,1-1h8c0.552,0,1,0.448,1,1V22.5z`}))},u$5=function(B){var q=B.children,K=B.mode,X=B.onClick,W=t$5.useContext(e$5.LocalizationContext).l10n,G="",Y=t$5.createElement(d$4,null);switch(K){case e$5.ScrollMode.Horizontal:G=W&&W.scrollMode?W.scrollMode.horizontalScrolling:"Horizontal scrolling",Y=t$5.createElement(n$5,null);break;case e$5.ScrollMode.Page:G=W&&W.scrollMode?W.scrollMode.pageScrolling:"Page scrolling",Y=t$5.createElement(r$5,null);break;case e$5.ScrollMode.Wrapped:G=W&&W.scrollMode?W.scrollMode.wrappedScrolling:"Wrapped scrolling",Y=t$5.createElement(s$4,null);break;case e$5.ScrollMode.Vertical:default:G=W&&W.scrollMode?W.scrollMode.verticalScrolling:"Vertical scrolling",Y=t$5.createElement(d$4,null)}return q({icon:Y,label:G,onClick:X})},m$4={left:0,top:8},M$2=function(B){var q=B.isDisabled,K=B.isSelected,X=B.mode,W=B.onClick,G="";switch(X){case e$5.ScrollMode.Horizontal:G="scroll-mode__horizontal-button";break;case e$5.ScrollMode.Page:G="scroll-mode__page-button";break;case e$5.ScrollMode.Wrapped:G="scroll-mode__wrapped-button";break;case e$5.ScrollMode.Vertical:default:G="scroll-mode__vertical-button"}return t$5.createElement(u$5,{mode:X,onClick:W},function(Y){return t$5.createElement(e$5.Tooltip,{ariaControlsSuffix:"scroll-mode-switch",position:e$5.Position.BottomCenter,target:t$5.createElement(e$5.MinimalButton,{ariaLabel:Y.label,isDisabled:q,isSelected:K,testId:G,onClick:Y.onClick},Y.icon),content:function(){return Y.label},offset:m$4})})},f$4=function(B){var q=t$5.useState(B.get("scrollMode")||e$5.ScrollMode.Vertical),K=q[0],X=q[1],W=function(G){X(G)};return t$5.useEffect(function(){return B.subscribe("scrollMode",W),function(){B.unsubscribe("scrollMode",W)}},[]),{scrollMode:K}},w$1=function(B){var q=t$5.useState(B.get("viewMode")||e$5.ViewMode.SinglePage),K=q[0],X=q[1],W=function(G){X(G)};return t$5.useEffect(function(){return B.subscribe("viewMode",W),function(){B.unsubscribe("viewMode",W)}},[]),{viewMode:K}},S$3=function(B){var q=B.children,K=B.mode,X=B.store,W=w$1(X).viewMode,G=f$4(X).scrollMode===K,Y=(K===e$5.ScrollMode.Horizontal||K===e$5.ScrollMode.Wrapped)&&W!==e$5.ViewMode.SinglePage;return(q||function(he){return t$5.createElement(M$2,{isDisabled:Y,isSelected:G,mode:he.mode,onClick:he.onClick})})({isDisabled:Y,isSelected:G,mode:K,onClick:function(){a$5(X,K)}})},g$3=function(B){var q=B.isDisabled,K=B.isSelected,X=B.mode,W=B.onClick,G="";switch(X){case e$5.ScrollMode.Horizontal:G="scroll-mode__horizontal-menu";break;case e$5.ScrollMode.Page:G="scroll-mode__page-menu";break;case e$5.ScrollMode.Wrapped:G="scroll-mode__wrapped-menu";break;case e$5.ScrollMode.Vertical:default:G="scroll-mode__vertical-menu"}return t$5.createElement(u$5,{mode:X,onClick:W},function(Y){return t$5.createElement(e$5.MenuItem,{checked:K,icon:Y.icon,isDisabled:q,testId:G,onClick:Y.onClick},Y.label)})},h$3=function(B,q){B.get("switchViewMode")(q);var K=B.get("scrollMode");K!==e$5.ScrollMode.Horizontal&&K!==e$5.ScrollMode.Wrapped||q===e$5.ViewMode.SinglePage||B.get("switchScrollMode")(e$5.ScrollMode.Vertical)},b$3=function(B){var q=B.children,K=B.mode,X=B.onClick,W=t$5.useContext(e$5.LocalizationContext).l10n,G="",Y=t$5.createElement(r$5,null);switch(K){case e$5.ViewMode.DualPage:G=W&&W.scrollMode?W.scrollMode.dualPage:"Dual page",Y=t$5.createElement(c$5,null);break;case e$5.ViewMode.DualPageWithCover:G=W&&W.scrollMode?W.scrollMode.dualPageCover:"Dual page with cover",Y=t$5.createElement(l$5,null);break;case e$5.ViewMode.SinglePage:default:G=W&&W.scrollMode?W.scrollMode.singlePage:"Single page",Y=t$5.createElement(r$5,null)}return q({icon:Y,label:G,onClick:X})},p$3={left:0,top:8},v$3=function(B){var q=B.isDisabled,K=B.isSelected,X=B.mode,W=B.onClick,G="";switch(X){case e$5.ViewMode.DualPage:G="view-mode__dual-button";break;case e$5.ViewMode.DualPageWithCover:G="view-mode__dual-cover-button";break;case e$5.ViewMode.SinglePage:default:G="view-mode__single-button"}return t$5.createElement(b$3,{mode:X,onClick:W},function(Y){return t$5.createElement(e$5.Tooltip,{ariaControlsSuffix:"view-mode-switch",position:e$5.Position.BottomCenter,target:t$5.createElement(e$5.MinimalButton,{ariaLabel:Y.label,isDisabled:q,isSelected:K,testId:G,onClick:Y.onClick},Y.icon),content:function(){return Y.label},offset:p$3})})},k$2=function(B){var q=B.children,K=B.mode,X=B.store,W=w$1(X).viewMode,G=f$4(X).scrollMode,Y=W===K,he=(G===e$5.ScrollMode.Horizontal||G===e$5.ScrollMode.Wrapped)&&K!==e$5.ViewMode.SinglePage;return(q||function(Ce){return t$5.createElement(v$3,{isDisabled:he,isSelected:Y,mode:Ce.mode,onClick:Ce.onClick})})({isDisabled:he,isSelected:Y,mode:K,onClick:function(){h$3(X,K)}})},C$2=function(B){var q=B.isDisabled,K=B.isSelected,X=B.mode,W=B.onClick,G="";switch(X){case e$5.ViewMode.DualPage:G="view-mode__dual-menu";break;case e$5.ViewMode.DualPageWithCover:G="view-mode__dual-cover-menu";break;case e$5.ViewMode.SinglePage:default:G="view-mode__single-menu"}return t$5.createElement(b$3,{mode:X,onClick:W},function(Y){return t$5.createElement(e$5.MenuItem,{checked:K,icon:Y.icon,isDisabled:q,testId:G,onClick:Y.onClick},Y.label)})};scrollMode_min.DualPageCoverViewModeIcon=l$5,scrollMode_min.DualPageViewModeIcon=c$5,scrollMode_min.HorizontalScrollingIcon=n$5,scrollMode_min.PageScrollingIcon=r$5,scrollMode_min.VerticalScrollingIcon=d$4,scrollMode_min.WrappedScrollingIcon=s$4,scrollMode_min.scrollModePlugin=function(){var B=t$5.useMemo(function(){return e$5.createStore({scrollMode:e$5.ScrollMode.Vertical,viewMode:e$5.ViewMode.SinglePage,switchScrollMode:function(){},switchViewMode:function(){}})},[]),q=function(X){return t$5.createElement(S$3,i$5({},X,{store:B}))},K=function(X){return t$5.createElement(k$2,i$5({},X,{store:B}))};return{install:function(X){B.update("switchScrollMode",X.switchScrollMode),B.update("switchViewMode",X.switchViewMode)},onViewerStateChange:function(X){return B.update("scrollMode",X.scrollMode),B.update("viewMode",X.viewMode),X},switchScrollMode:function(X){a$5(B,X)},switchViewMode:function(X){h$3(B,X)},SwitchScrollMode:q,SwitchScrollModeButton:function(X){return t$5.createElement(q,{mode:X.mode},function(W){return t$5.createElement(M$2,{isDisabled:W.isDisabled,isSelected:W.isSelected,mode:W.mode,onClick:function(){W.onClick()}})})},SwitchScrollModeMenuItem:function(X){return t$5.createElement(q,{mode:X.mode},function(W){return t$5.createElement(g$3,{isDisabled:W.isDisabled,isSelected:W.isSelected,mode:W.mode,onClick:function(){W.onClick(),X.onClick()}})})},SwitchViewMode:K,SwitchViewModeButton:function(X){return t$5.createElement(K,{mode:X.mode},function(W){return t$5.createElement(v$3,{isDisabled:W.isDisabled,isSelected:W.isSelected,mode:W.mode,onClick:function(){W.onClick()}})})},SwitchViewModeMenuItem:function(X){return t$5.createElement(K,{mode:X.mode},function(W){return t$5.createElement(C$2,{isDisabled:W.isDisabled,isSelected:W.isSelected,mode:W.mode,onClick:function(){W.onClick(),X.onClick()}})})}}};/**
* A React component to view a PDF document
*
* @see https://react-pdf-viewer.dev
* @license https://react-pdf-viewer.dev/license
* @copyright 2019-2023 Nguyen Huu Phuoc <me@phuoc.ng>
*/lib$3.exports=scrollMode_min;var libExports$5=lib$3.exports,lib$2={exports:{}},search_min={},e$4=libExports$h;function t$4(B){var q=Object.create(null);return B&&Object.keys(B).forEach(function(K){if(K!=="default"){var X=Object.getOwnPropertyDescriptor(B,K);Object.defineProperty(q,K,X.get?X:{enumerable:!0,get:function(){return B[K]}})}}),q.default=B,Object.freeze(q)}var r$4=t$4(T$1),n$4=function(){return r$4.createElement(e$4.Icon,{size:16},r$4.createElement("path",{d:`M0.541,5.627L11.666,18.2c0.183,0.207,0.499,0.226,0.706,0.043c0.015-0.014,0.03-0.028,0.043-0.043
            L23.541,5.627`}))},o$4=function(){return r$4.createElement(e$4.Icon,{size:16},r$4.createElement("path",{d:`M23.535,18.373L12.409,5.8c-0.183-0.207-0.499-0.226-0.706-0.043C11.688,5.77,11.674,5.785,11.66,5.8
            L0.535,18.373`}))},a$4=function(){return r$4.createElement(e$4.Icon,{ignoreDirection:!0,size:16},r$4.createElement("path",{d:`M10.5,0.5c5.523,0,10,4.477,10,10s-4.477,10-10,10s-10-4.477-10-10S4.977,0.5,10.5,0.5z
            M23.5,23.5
            l-5.929-5.929`}))},c$4=function(){return c$4=Object.assign||function(B){for(var q,K=1,X=arguments.length;K<X;K++)for(var W in q=arguments[K])Object.prototype.hasOwnProperty.call(q,W)&&(B[W]=q[W]);return B},c$4.apply(this,arguments)},u$4={keyword:"",regExp:new RegExp(" "),wholeWords:!1},i$4=function(B){return{left:"".concat(B.left,"%"),top:"".concat(B.top,"%"),height:"".concat(B.height,"%"),width:"".concat(B.width,"%")}},s$3=function(B){var q=B.index,K=B.area,X=B.onHighlightKeyword,W=r$4.useRef();return e$4.useIsomorphicLayoutEffect(function(){var G=W.current;X&&G&&X({highlightEle:G,keyword:K.keyword})},[]),r$4.createElement("div",{className:"rpv-search__highlight","data-index":q,ref:W,style:i$4(K),title:K.keywordStr.trim()})},l$4=function(B){var q=B.parentNode;q&&q.removeChild(B)},h$2=function(B){var q=B.parentNode;if(q){var K=document.createRange();K.selectNodeContents(B),function(X,W){l$4(X);var G=W.parentNode;G&&G.insertBefore(X,W),l$4(W)}(K.extractContents(),B),q.normalize()}},d$3=function(B,q){return B.top<q.top?-1:B.top>q.top?1:B.left<q.left?-1:B.left>q.left?1:0},f$3=function(B){var q=B.numPages,K=B.pageIndex,X=B.renderHighlights,W=B.store,G=B.onHighlightKeyword,Y=r$4.useRef(),he=r$4.useCallback(function(He){return r$4.createElement(r$4.Fragment,null,He.highlightAreas.map(function(Qe,yt){return r$4.createElement(s$3,{index:yt,key:yt,area:Qe,onHighlightKeyword:G})}))},[]),Ce=X||he,ke=r$4.useState(W.get("matchPosition")),ae=ke[0],Ae=ke[1],ge=r$4.useState(W.get("keyword")||[u$4]),ve=ge[0],xe=ge[1],we=r$4.useState({pageIndex:K,scale:1,status:e$4.LayerRenderStatus.PreRender}),fe=we[0],ne=we[1],Se=r$4.useRef(null),Le=r$4.useRef([]),Me=r$4.useState([]),Ee=Me[0],Pe=Me[1],Ve=function(){return!0},Ke=r$4.useCallback(function(){return W.get("targetPageFilter")||Ve},[W.get("targetPageFilter")]),ze=function(He){var Qe=Le.current;if(Qe.length===0)return[];var yt=[],ut=[].slice.call(He.querySelectorAll(".rpv-core__text-layer-text")),_t=Qe.map(function(Ne){return Ne.char}).join("");return ve.forEach(function(Ne){var tt=Ne.keyword;if(tt.trim()){for(var dt,Oe=Ne.regExp.flags.indexOf("g")===-1?new RegExp(Ne.regExp,"".concat(Ne.regExp.flags,"g")):Ne.regExp,_e=[];(dt=Oe.exec(_t))!==null;)_e.push({keyword:Oe,startIndex:dt.index,endIndex:Oe.lastIndex});_e.map(function(pe){return{keyword:pe.keyword,indexes:Qe.slice(pe.startIndex,pe.endIndex)}}).forEach(function(pe){var Fe=pe.indexes.reduce(function(je,Ie){return je[Ie.spanIndex]=(je[Ie.spanIndex]||[]).concat([Ie]),je},{});Object.values(Fe).forEach(function(je){if(je.length!==1||je[0].char.trim()!==""){var Ie=Ne.wholeWords?je.slice(1,-1):je,qe=function(Ge,gt,Pt,Ct,ht){var $t=document.createRange(),Vt=Ct.firstChild;if(!Vt||Vt.nodeType!==Node.TEXT_NODE)return null;var De=Vt.textContent.length,Re=ht[0].charIndexInSpan,Be=ht.length===1?Re:ht[ht.length-1].charIndexInSpan;if(Re>De||Be+1>De)return null;$t.setStart(Vt,Re),$t.setEnd(Vt,Be+1);var Ze=document.createElement("span");$t.surroundContents(Ze);var ct=Ze.getBoundingClientRect(),Mt=Pt.getBoundingClientRect(),Rt=Mt.height,Et=Mt.width,At=100*(ct.left-Mt.left)/Et,jt=100*(ct.top-Mt.top)/Rt,Qt=100*ct.height/Rt,Gt=100*ct.width/Et;return h$2(Ze),{keyword:gt,keywordStr:Ge,numPages:q,pageIndex:K,left:At,top:jt,height:Qt,width:Gt,pageHeight:Rt,pageWidth:Et}}(tt,pe.keyword,He,ut[Ie[0].spanIndex],Ie);qe&&yt.push(qe)}})})}}),yt.sort(d$3)},rt=function(He){He&&He.length>0&&xe(He)},ye=function(He){return Ae(He)},ot=function(He){if(He.has(K)){var Qe=He.get(K);Qe&&ne({ele:Qe.ele,pageIndex:K,scale:Qe.scale,status:Qe.status})}},Ye=function(){return ve.length===0||ve.length===1&&ve[0].keyword.trim()===""};return r$4.useEffect(function(){if(!Ye()&&fe.status===e$4.LayerRenderStatus.DidRender&&!Le.current.length){var He=fe.ele,Qe=[].slice.call(He.querySelectorAll(".rpv-core__text-layer-text")).map(function(yt){return yt.textContent}).reduce(function(yt,ut,_t){return yt.concat(ut.split("").map(function(Ne,tt){return{char:Ne,charIndexInSpan:tt,spanIndex:_t}}))},[{char:"",charIndexInSpan:0,spanIndex:0}]).slice(1);Le.current=Qe}},[ve,fe.status]),r$4.useEffect(function(){if(!Ye()&&fe.ele&&fe.status===e$4.LayerRenderStatus.DidRender&&Ke()({pageIndex:K,numPages:q})){var He=fe.ele,Qe=ze(He);Pe(Qe)}},[ve,ae,fe.status,Le.current]),r$4.useEffect(function(){Ye()&&fe.ele&&fe.status===e$4.LayerRenderStatus.DidRender&&Pe([])},[ve,fe.status]),r$4.useEffect(function(){if(Ee.length!==0){var He=Y.current;if(ae.pageIndex===K&&He&&fe.status===e$4.LayerRenderStatus.DidRender){var Qe=He.querySelector('.rpv-search__highlight[data-index="'.concat(ae.matchIndex,'"]'));if(Qe){var yt=function(tt,dt){for(var Oe=tt.offsetTop,_e=tt.offsetLeft,pe=tt.parentElement;pe&&pe!==dt;)Oe+=pe.offsetTop,_e+=pe.offsetLeft,pe=pe.parentElement;return{left:_e,top:Oe}}(Qe,He),ut=yt.left,_t=yt.top,Ne=W.get("jumpToDestination");Ne&&(Ne({pageIndex:K,bottomOffset:(He.getBoundingClientRect().height-_t)/fe.scale,leftOffset:ut/fe.scale,scaleTo:fe.scale}),Se.current&&Se.current.classList.remove("rpv-search__highlight--current"),Se.current=Qe,Qe.classList.add("rpv-search__highlight--current"))}}}},[Ee,ae]),r$4.useEffect(function(){return W.subscribe("keyword",rt),W.subscribe("matchPosition",ye),W.subscribe("renderStatus",ot),function(){W.unsubscribe("keyword",rt),W.unsubscribe("matchPosition",ye),W.unsubscribe("renderStatus",ot)}},[]),r$4.createElement("div",{className:"rpv-search__highlights","data-testid":"search__highlights-".concat(K),ref:Y},Ce({getCssProperties:i$4,highlightAreas:Ee}))},p$2=function(B){var q,K=B.wholeWords?" ".concat(B.keyword," "):B.keyword,X=B.matchCase?"g":"gi";return{keyword:B.keyword,regExp:new RegExp((q=K,q.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")),X),wholeWords:B.wholeWords||!1}},g$2=function(B,q,K){return B instanceof RegExp?{keyword:B.source,regExp:B,wholeWords:K||!1}:typeof B=="string"?B===""?u$4:p$2({keyword:B,matchCase:q||!1,wholeWords:K||!1}):(q!==void 0&&(B.matchCase=q),K!==void 0&&(B.wholeWords=K),p$2(B))},m$3=function(B){var q,K=B.get("initialKeyword"),X=r$4.useMemo(function(){if(K&&K.length===1){var ye=g$2(K[0]);return{matchCase:ye.regExp.flags.indexOf("i")===-1,wholeWords:ye.wholeWords}}return{matchCase:!1,wholeWords:!1}},[]),W=function(ye){var ot=r$4.useRef(ye.get("doc")),Ye=function(He){ot.current=He};return r$4.useEffect(function(){return ye.subscribe("doc",Ye),function(){ye.unsubscribe("doc",Ye)}},[]),ot}(B),G=r$4.useState(K),Y=G[0],he=G[1],Ce=r$4.useState([]),ke=Ce[0],ae=Ce[1],Ae=r$4.useState(0),ge=Ae[0],ve=Ae[1],xe=r$4.useState(X.matchCase),we=xe[0],fe=xe[1],ne=r$4.useRef([]),Se=r$4.useState(X.wholeWords),Le=Se[0],Me=Se[1],Ee=function(){return!0},Pe=r$4.useCallback(function(){return B.get("targetPageFilter")||Ee},[B.get("targetPageFilter")]),Ve=function(ye){var ot=ke.length;if(Y.length===0||ot===0)return null;var Ye=ye===ot+1?1:Math.max(1,Math.min(ot,ye));return ve(Ye),ze(ke[Ye-1])},Ke=function(ye){return he(ye===""?[]:[ye])},ze=function(ye){var ot=B.get("jumpToPage");return ot&&ot(ye.pageIndex),B.update("matchPosition",{matchIndex:ye.matchIndex,pageIndex:ye.pageIndex}),ye},rt=function(ye,ot,Ye){var He=W.current;if(!He)return Promise.resolve([]);var Qe=He.numPages,yt=ye.map(function(ut){return g$2(ut,ot,Ye)});return B.update("keyword",yt),ve(0),ae([]),new Promise(function(ut,_t){var Ne=ne.current.length===0?function(){var tt=W.current;if(!tt)return Promise.resolve([]);var dt=Array(tt.numPages).fill(0).map(function(Oe,_e){return e$4.getPage(tt,_e).then(function(pe){return pe.getTextContent()}).then(function(pe){var Fe=pe.items.map(function(je){return je.str||""}).join("");return Promise.resolve({pageContent:Fe,pageIndex:_e})})});return Promise.all(dt).then(function(Oe){return Oe.sort(function(_e,pe){return _e.pageIndex-pe.pageIndex}),Promise.resolve(Oe.map(function(_e){return _e.pageContent}))})}().then(function(tt){return ne.current=tt,Promise.resolve(tt)}):Promise.resolve(ne.current);Ne.then(function(tt){var dt=[];tt.forEach(function(Oe,_e){Pe()({pageIndex:_e,numPages:Qe})&&yt.forEach(function(pe){for(var Fe,je=0;(Fe=pe.regExp.exec(Oe))!==null;)dt.push({keyword:pe.regExp,matchIndex:je,pageIndex:_e,pageText:Oe,startIndex:Fe.index,endIndex:pe.regExp.lastIndex}),je++})}),ae(dt),dt.length>0&&(ve(1),ze(dt[0])),ut(dt)})})};return r$4.useEffect(function(){ne.current=[]},[W.current]),{clearKeyword:function(){B.update("keyword",[u$4]),Ke(""),ve(0),ae([]),fe(!1),Me(!1)},changeMatchCase:function(ye){fe(ye),Y.length>0&&rt(Y,ye,Le)},changeWholeWords:function(ye){Me(ye),Y.length>0&&rt(Y,we,ye)},currentMatch:ge,jumpToMatch:Ve,jumpToNextMatch:function(){return Ve(ge+1)},jumpToPreviousMatch:function(){return Ve(ge-1)},keywords:Y,matchCase:we,numberOfMatches:ke.length,wholeWords:Le,search:function(){return rt(Y,we,Le)},searchFor:rt,setKeywords:he,keyword:Y.length===0?"":(q=Y[0],q instanceof RegExp?q.source:typeof q=="string"?q:q.keyword),setKeyword:Ke,setTargetPages:function(ye){B.update("targetPageFilter",ye)}}},v$2=function(B){var q=B.children,K=B.store,X=m$3(K),W=r$4.useState(!1),G=W[0],Y=W[1],he=function(Ce){return Y(!0)};return r$4.useEffect(function(){return K.subscribe("doc",he),function(){K.unsubscribe("doc",he)}},[]),q(c$4(c$4({},X),{isDocumentLoaded:G}))},x=function(B){var q=B.containerRef,K=B.store,X=r$4.useRef(!1),W=function(){X.current=!0},G=function(){X.current=!1},Y=function(he){var Ce=q.current;Ce&&(he.shiftKey||he.altKey||he.key!=="f"||(e$4.isMac()?he.metaKey&&!he.ctrlKey:he.ctrlKey)&&(X.current||document.activeElement&&Ce.contains(document.activeElement))&&(he.preventDefault(),K.update("areShortcutsPressed",!0)))};return r$4.useEffect(function(){var he=q.current;if(he)return document.addEventListener("keydown",Y),he.addEventListener("mouseenter",W),he.addEventListener("mouseleave",G),function(){document.removeEventListener("keydown",Y),he.removeEventListener("mouseenter",W),he.removeEventListener("mouseleave",G)}},[q.current]),r$4.createElement(r$4.Fragment,null)},y={left:0,top:8},E$2=function(B){var q=B.store,K=B.onToggle,X=r$4.useContext(e$4.LocalizationContext).l10n,W=r$4.useContext(e$4.ThemeContext).direction,G=r$4.useState(!1),Y=G[0],he=G[1],Ce=r$4.useState(!1),ke=Ce[0],ae=Ce[1],Ae=W===e$4.TextDirection.RightToLeft,ge=m$3(q),ve=ge.clearKeyword,xe=ge.changeMatchCase,we=ge.changeWholeWords,fe=ge.currentMatch,ne=ge.jumpToNextMatch,Se=ge.jumpToPreviousMatch,Le=ge.keyword,Me=ge.matchCase,Ee=ge.numberOfMatches,Pe=ge.wholeWords,Ve=ge.search,Ke=ge.setKeyword,ze=function(He){he(!0),Ve().then(function(Qe){he(!1),ae(!0),He&&He()})};r$4.useEffect(function(){var He=q.get("initialKeyword");He&&He.length===1&&Le&&ze(function(){q.update("initialKeyword",[])})},[]);var rt=X&&X.search?X.search.enterToSearch:"Enter to search",ye=X&&X.search?X.search.previousMatch:"Previous match",ot=X&&X.search?X.search.nextMatch:"Next match",Ye=X&&X.search?X.search.close:"Close";return r$4.createElement("div",{className:"rpv-search__popover"},r$4.createElement("div",{className:"rpv-search__popover-input-counter"},r$4.createElement(e$4.TextBox,{ariaLabel:rt,autoFocus:!0,placeholder:rt,type:"text",value:Le,onChange:function(He){ae(!1),Ke(He)},onKeyDown:function(He){He.key==="Enter"&&Le&&(ke?ne():ze())}}),r$4.createElement("div",{className:e$4.classNames({"rpv-search__popover-counter":!0,"rpv-search__popover-counter--ltr":!Ae,"rpv-search__popover-counter--rtl":Ae})},Y&&r$4.createElement(e$4.Spinner,{testId:"search__popover-searching",size:"1rem"}),!Y&&r$4.createElement("span",{"data-testid":"search__popover-num-matches"},fe,"/",Ee))),r$4.createElement("label",{className:"rpv-search__popover-label"},r$4.createElement("input",{className:"rpv-search__popover-label-checkbox","data-testid":"search__popover-match-case",checked:Me,type:"checkbox",onChange:function(He){ae(!1),xe(He.target.checked)}})," ",X&&X.search?X.search.matchCase:"Match case"),r$4.createElement("label",{className:"rpv-search__popover-label"},r$4.createElement("input",{className:"rpv-search__popover-label-checkbox",checked:Pe,"data-testid":"search__popover-whole-words",type:"checkbox",onChange:function(He){ae(!1),we(He.target.checked)}})," ",X&&X.search?X.search.wholeWords:"Whole words"),r$4.createElement("div",{className:"rpv-search__popover-footer"},r$4.createElement("div",{className:"rpv-search__popover-footer-item"},r$4.createElement(e$4.Tooltip,{ariaControlsSuffix:"search-previous-match",position:Ae?e$4.Position.BottomRight:e$4.Position.BottomCenter,target:r$4.createElement(e$4.MinimalButton,{ariaLabel:ye,isDisabled:fe<=1,onClick:Se},r$4.createElement(o$4,null)),content:function(){return ye},offset:y})),r$4.createElement("div",{className:"rpv-search__popover-footer-item"},r$4.createElement(e$4.Tooltip,{ariaControlsSuffix:"search-next-match",position:e$4.Position.BottomCenter,target:r$4.createElement(e$4.MinimalButton,{ariaLabel:ot,isDisabled:fe>Ee-1,onClick:ne},r$4.createElement(n$4,null)),content:function(){return ot},offset:y})),r$4.createElement("div",{className:e$4.classNames({"rpv-search__popover-footer-button":!0,"rpv-search__popover-footer-button--ltr":!Ae,"rpv-search__popover-footer-button--rtl":Ae})},r$4.createElement(e$4.Button,{onClick:function(){K(),ve()}},Ye))))},w=function(B){var q=B.children,K=B.onClick,X=r$4.useContext(e$4.LocalizationContext).l10n,W=X&&X.search?X.search.search:"Search";return q({icon:r$4.createElement(a$4,null),label:W,onClick:K})},b$2={left:0,top:8},k$1=function(B){var q=B.enableShortcuts,K=B.store,X=B.onClick,W=q?e$4.isMac()?"Meta+F":"Ctrl+F":"",G=function(Y){Y&&X()};return r$4.useEffect(function(){return K.subscribe("areShortcutsPressed",G),function(){K.unsubscribe("areShortcutsPressed",G)}},[]),r$4.createElement(w,{onClick:X},function(Y){return r$4.createElement(e$4.Tooltip,{ariaControlsSuffix:"search-popover",position:e$4.Position.BottomCenter,target:r$4.createElement(e$4.MinimalButton,{ariaKeyShortcuts:W,ariaLabel:Y.label,testId:"search__popover-button",onClick:X},Y.icon),content:function(){return Y.label},offset:b$2})})},S$2={left:0,top:8},C$1=function(B){var q=B.children,K=B.enableShortcuts,X=B.store,W=r$4.useContext(e$4.ThemeContext).direction===e$4.TextDirection.RightToLeft?e$4.Position.BottomRight:e$4.Position.BottomLeft,G=q||function(Y){return r$4.createElement(k$1,c$4({enableShortcuts:K,store:X},Y))};return r$4.createElement(e$4.Popover,{ariaControlsSuffix:"search",lockScroll:!1,position:W,target:function(Y){return G({onClick:Y})},content:function(Y){return r$4.createElement(E$2,{store:X,onToggle:Y})},offset:S$2,closeOnClickOutside:!1,closeOnEscape:!0})},P$1=function(B){return Array.isArray(B)?B.map(function(q){return g$2(q)}):[g$2(B)]};search_min.NextIcon=n$4,search_min.PreviousIcon=o$4,search_min.SearchIcon=a$4,search_min.searchPlugin=function(B){var q=r$4.useMemo(function(){return Object.assign({},{enableShortcuts:!0,onHighlightKeyword:function(){}},B)},[]),K=r$4.useMemo(function(){return e$4.createStore({initialKeyword:B&&B.keyword?Array.isArray(B.keyword)?B.keyword:[B.keyword]:[],keyword:B&&B.keyword?P$1(B.keyword):[u$4],matchPosition:{matchIndex:-1,pageIndex:-1},renderStatus:new Map})},[]),X=m$3(K),W=X.clearKeyword,G=X.jumpToMatch,Y=X.jumpToNextMatch,he=X.jumpToPreviousMatch,Ce=X.searchFor,ke=X.setKeywords,ae=X.setTargetPages,Ae=function(ge){return r$4.createElement(C$1,c$4({enableShortcuts:q.enableShortcuts},ge,{store:K}))};return{install:function(ge){var ve=B&&B.keyword?Array.isArray(B.keyword)?B.keyword:[B.keyword]:[],xe=B&&B.keyword?P$1(B.keyword):[u$4];K.update("initialKeyword",ve),K.update("jumpToDestination",ge.jumpToDestination),K.update("jumpToPage",ge.jumpToPage),K.update("keyword",xe)},renderPageLayer:function(ge){return r$4.createElement(f$3,{key:ge.pageIndex,numPages:ge.doc.numPages,pageIndex:ge.pageIndex,renderHighlights:B==null?void 0:B.renderHighlights,store:K,onHighlightKeyword:q.onHighlightKeyword})},renderViewer:function(ge){var ve=ge.slot;return ve.subSlot&&(ve.subSlot.children=r$4.createElement(r$4.Fragment,null,q.enableShortcuts&&r$4.createElement(x,{containerRef:ge.containerRef,store:K}),ve.subSlot.children)),ve},uninstall:function(ge){var ve=K.get("renderStatus");ve&&ve.clear()},onDocumentLoad:function(ge){K.update("doc",ge.doc)},onTextLayerRender:function(ge){var ve=K.get("renderStatus");ve&&(ve=ve.set(ge.pageIndex,ge),K.update("renderStatus",ve))},Search:function(ge){return r$4.createElement(v$2,c$4({},ge,{store:K}))},ShowSearchPopover:Ae,ShowSearchPopoverButton:function(){return r$4.createElement(Ae,null,function(ge){return r$4.createElement(k$1,c$4({enableShortcuts:q.enableShortcuts,store:K},ge))})},clearHighlights:function(){W()},highlight:function(ge){var ve=Array.isArray(ge)?ge:[ge];return ke(ve),Ce(ve)},jumpToMatch:G,jumpToNextMatch:Y,jumpToPreviousMatch:he,setTargetPages:ae}};/**
* A React component to view a PDF document
*
* @see https://react-pdf-viewer.dev
* @license https://react-pdf-viewer.dev/license
* @copyright 2019-2023 Nguyen Huu Phuoc <me@phuoc.ng>
*/lib$2.exports=search_min;var libExports$4=lib$2.exports,lib$1={exports:{}},theme_min={},e$3=libExports$h;function t$3(B){var q=Object.create(null);return B&&Object.keys(B).forEach(function(K){if(K!=="default"){var X=Object.getOwnPropertyDescriptor(B,K);Object.defineProperty(q,K,X.get?X:{enumerable:!0,get:function(){return B[K]}})}}),q.default=B,Object.freeze(q)}var n$3=t$3(T$1),r$3=function(){return n$3.createElement(e$3.Icon,{size:16},n$3.createElement("path",{d:"M19.5,15.106l2.4-2.4a1,1,0,0,0,0-1.414l-2.4-2.4V5.5a1,1,0,0,0-1-1H15.106l-2.4-2.4a1,1,0,0,0-1.414,0l-2.4,2.4H5.5a1,1,0,0,0-1,1V8.894l-2.4,2.4a1,1,0,0,0,0,1.414l2.4,2.4V18.5a1,1,0,0,0,1,1H8.894l2.4,2.4a1,1,0,0,0,1.414,0l2.4-2.4H18.5a1,1,0,0,0,1-1Z"}),n$3.createElement("path",{d:"M10,6.349a6,6,0,0,1,0,11.3,6,6,0,1,0,0-11.3Z"}))},c$3=function(){return n$3.createElement(e$3.Icon,{size:16},n$3.createElement("path",{d:"M19.491,15.106l2.4-2.4a1,1,0,0,0,0-1.414l-2.4-2.4V5.5a1,1,0,0,0-1-1H15.1L12.7,2.1a1,1,0,0,0-1.414,0l-2.4,2.4H5.491a1,1,0,0,0-1,1V8.894l-2.4,2.4a1,1,0,0,0,0,1.414l2.4,2.4V18.5a1,1,0,0,0,1,1H8.885l2.4,2.4a1,1,0,0,0,1.414,0l2.4-2.4h3.394a1,1,0,0,0,1-1Z"}),n$3.createElement("path",{d:"M11.491,6c4,0,6,2.686,6,6s-2,6-6,6Z"}))},o$3=function(){return o$3=Object.assign||function(B){for(var q,K=1,X=arguments.length;K<X;K++)for(var W in q=arguments[K])Object.prototype.hasOwnProperty.call(q,W)&&(B[W]=q[W]);return B},o$3.apply(this,arguments)},a$3={left:0,top:8},i$3=function(B){var q=B.onClick,K=n$3.useContext(e$3.ThemeContext),X=n$3.useContext(e$3.LocalizationContext).l10n,W=K.currentTheme==="dark",G=X&&X.theme?W?X.theme.switchLightTheme:X.theme.switchDarkTheme:W?"Switch to the light theme":"Switch to the dark theme";return n$3.createElement(e$3.Tooltip,{ariaControlsSuffix:"theme-switch",position:e$3.Position.BottomCenter,target:n$3.createElement(e$3.MinimalButton,{ariaLabel:G,testId:"theme__switch-button",onClick:q},W?n$3.createElement(c$3,null):n$3.createElement(r$3,null)),content:function(){return G},offset:a$3})},l$3=function(B){var q=B.children,K=n$3.useContext(e$3.ThemeContext);return(q||function(X){return n$3.createElement(i$3,{onClick:X.onClick})})({onClick:function(){return K.setCurrentTheme(K.currentTheme==="dark"?"light":"dark")}})},u$3=function(B){var q=B.onClick,K=n$3.useContext(e$3.ThemeContext),X=n$3.useContext(e$3.LocalizationContext).l10n,W=K.currentTheme==="dark",G=X&&X.theme?W?X.theme.switchLightTheme:X.theme.switchDarkTheme:W?"Switch to the light theme":"Switch to the dark theme";return n$3.createElement(e$3.MenuItem,{icon:W?n$3.createElement(c$3,null):n$3.createElement(r$3,null),testId:"theme__switch-menu",onClick:q},G)};theme_min.DarkIcon=r$3,theme_min.LightIcon=c$3,theme_min.themePlugin=function(){var B=function(q){return n$3.createElement(l$3,o$3({},q))};return{SwitchTheme:B,SwitchThemeButton:function(){return n$3.createElement(B,null,function(q){return n$3.createElement(i$3,o$3({},q))})},SwitchThemeMenuItem:function(q){return n$3.createElement(B,null,function(K){return n$3.createElement(u$3,{onClick:function(){K.onClick(),q.onClick()}})})}}};/**
* A React component to view a PDF document
*
* @see https://react-pdf-viewer.dev
* @license https://react-pdf-viewer.dev/license
* @copyright 2019-2023 Nguyen Huu Phuoc <me@phuoc.ng>
*/lib$1.exports=theme_min;var libExports$3=lib$1.exports,lib={exports:{}},zoom_min={},e$2=libExports$h;function t$2(B){var q=Object.create(null);return B&&Object.keys(B).forEach(function(K){if(K!=="default"){var X=Object.getOwnPropertyDescriptor(B,K);Object.defineProperty(q,K,X.get?X:{enumerable:!0,get:function(){return B[K]}})}}),q.default=B,Object.freeze(q)}var n$2=t$2(T$1),o$2=function(){return n$2.createElement(e$2.Icon,{ignoreDirection:!0,size:16},n$2.createElement("path",{d:`M10.5,0.499c5.523,0,10,4.477,10,10s-4.477,10-10,10s-10-4.477-10-10S4.977,0.499,10.5,0.499z
            M23.5,23.499
            l-5.929-5.929
            M5.5,10.499h10
            M10.5,5.499v10`}))},r$2=function(){return n$2.createElement(e$2.Icon,{ignoreDirection:!0,size:16},n$2.createElement("path",{d:`M10.5,0.499c5.523,0,10,4.477,10,10s-4.477,10-10,10s-10-4.477-10-10S4.977,0.499,10.5,0.499z
            M23.5,23.499
            l-5.929-5.929
            M5.5,10.499h10`}))},c$2=function(){return c$2=Object.assign||function(B){for(var q,K=1,X=arguments.length;K<X;K++)for(var W in q=arguments[K])Object.prototype.hasOwnProperty.call(q,W)&&(B[W]=q[W]);return B},c$2.apply(this,arguments)},a$2=function(B){var q=n$2.useState(B.get("scale")||0),K=q[0],X=q[1],W=function(G){X(G)};return n$2.useEffect(function(){return B.subscribe("scale",W),function(){B.unsubscribe("scale",W)}},[]),{scale:K}},u$2=function(B){var q=B.children,K=B.store;return(q||function(X){return n$2.createElement(n$2.Fragment,null,"".concat(Math.round(100*X.scale),"%"))})({scale:a$2(K).scale})},l$2={passive:!1},i$2=null,s$2=function(B){var q=B.pagesContainerRef,K=B.store,X=e$2.useDebounceCallback(function(G){var Y=K.get("zoom");Y&&Y(G)},40),W=function(G){if(G.ctrlKey){G.preventDefault();var Y=G.target.getBoundingClientRect(),he=1-G.deltaY/100,Ce=G.clientX-Y.left,ke=G.clientY-Y.top,ae=K.get("scale"),Ae=(i$2||(i$2=document.createElementNS("http://www.w3.org/2000/svg","svg"))).createSVGMatrix().translate(Ce,ke).scale(he).translate(-Ce,-ke).scale(ae);X(Ae.a)}};return e$2.useIsomorphicLayoutEffect(function(){var G=q.current;if(G)return G.addEventListener("wheel",W,l$2),function(){G.removeEventListener("wheel",W)}},[]),n$2.createElement(n$2.Fragment,null)},m$2=[.1,.2,.3,.4,.5,.6,.7,.8,.9,1,1.1,1.3,1.5,1.7,1.9,2.1,2.4,2.7,3,3.3,3.7,4.1,4.6,5.1,5.7,6.3,7,7.7,8.5,9.4,10],f$2=function(B){return m$2.find(function(q){return q>B})||B},v$1=function(B){var q=m$2.findIndex(function(K){return K>=B});return q===-1||q===0?B:m$2[q-1]},p$1=function(B){var q=B.containerRef,K=B.store,X=function(W){if(!W.shiftKey&&!W.altKey&&(e$2.isMac()?W.metaKey:W.ctrlKey)){var G=q.current;if(G&&document.activeElement&&G.contains(document.activeElement)){var Y=K.get("zoom");if(Y){var he=K.get("scale")||1,Ce=1;switch(W.key){case"-":Ce=v$1(he);break;case"=":Ce=f$2(he);break;case"0":Ce=1;break;default:Ce=he}Ce!==he&&(W.preventDefault(),Y(Ce))}}}};return n$2.useEffect(function(){if(q.current)return document.addEventListener("keydown",X),function(){document.removeEventListener("keydown",X)}},[q.current]),n$2.createElement(n$2.Fragment,null)},z=[.5,.75,1,1.25,1.5,2,3,4],E$1={left:0,top:8},d$2=function(B){var q=B.levels,K=q===void 0?z:q,X=B.scale,W=B.onZoom,G=n$2.useContext(e$2.LocalizationContext).l10n,Y=n$2.useContext(e$2.ThemeContext).direction===e$2.TextDirection.RightToLeft,he=G&&G.zoom?G.zoom.zoomDocument:"Zoom document";return n$2.createElement(e$2.Popover,{ariaControlsSuffix:"zoom",ariaHasPopup:"menu",position:e$2.Position.BottomCenter,target:function(Ce){return n$2.createElement(e$2.MinimalButton,{ariaLabel:he,testId:"zoom__popover-target",onClick:function(){Ce()}},n$2.createElement("span",{className:"rpv-zoom__popover-target"},n$2.createElement("span",{"data-testid":"zoom__popover-target-scale",className:e$2.classNames({"rpv-zoom__popover-target-scale":!0,"rpv-zoom__popover-target-scale--ltr":!Y,"rpv-zoom__popover-target-scale--rtl":Y})},Math.round(100*X),"%"),n$2.createElement("span",{className:"rpv-zoom__popover-target-arrow"})))},content:function(Ce){return n$2.createElement(e$2.Menu,null,Object.keys(e$2.SpecialZoomLevel).map(function(ke){var ae=ke;return n$2.createElement(e$2.MenuItem,{key:ae,onClick:function(){Ce(),W(ae)}},function(Ae){switch(Ae){case e$2.SpecialZoomLevel.ActualSize:return G&&G.zoom?G.zoom.actualSize:"Actual size";case e$2.SpecialZoomLevel.PageFit:return G&&G.zoom?G.zoom.pageFit:"Page fit";case e$2.SpecialZoomLevel.PageWidth:return G&&G.zoom?G.zoom.pageWidth:"Page width"}}(ae))}),n$2.createElement(e$2.MenuDivider,null),K.map(function(ke){return n$2.createElement(e$2.MenuItem,{key:ke,onClick:function(){Ce(),W(ke)}},"".concat(Math.round(100*ke),"%"))}))},offset:E$1,closeOnClickOutside:!0,closeOnEscape:!0})},g$1=function(B){var q=B.children,K=B.levels,X=B.store;return(q||function(W){return n$2.createElement(d$2,{levels:K,scale:W.scale,onZoom:W.onZoom})})({scale:a$2(X).scale,onZoom:function(W){var G=X.get("zoom");G&&G(W)}})},C={left:0,top:8},h$1=function(B){var q=B.enableShortcuts,K=B.onClick,X=n$2.useContext(e$2.LocalizationContext).l10n,W=X&&X.zoom?X.zoom.zoomIn:"Zoom in",G=q?e$2.isMac()?"Meta+=":"Ctrl+=":"";return n$2.createElement(e$2.Tooltip,{ariaControlsSuffix:"zoom-in",position:e$2.Position.BottomCenter,target:n$2.createElement(e$2.MinimalButton,{ariaKeyShortcuts:G,ariaLabel:W,testId:"zoom__in-button",onClick:K},n$2.createElement(o$2,null)),content:function(){return W},offset:C})},b$1=function(B){var q=B.children,K=B.enableShortcuts,X=B.store,W=a$2(X).scale;return(q||h$1)({enableShortcuts:K,onClick:function(){var G=X.get("zoom");G&&G(f$2(W))}})},k=function(B){var q=B.onClick,K=n$2.useContext(e$2.LocalizationContext).l10n,X=K&&K.zoom?K.zoom.zoomIn:"Zoom in";return n$2.createElement(e$2.MenuItem,{icon:n$2.createElement(o$2,null),testId:"zoom__in-menu",onClick:q},X)},S$1={left:0,top:8},M$1=function(B){var q=B.enableShortcuts,K=B.onClick,X=n$2.useContext(e$2.LocalizationContext).l10n,W=X&&X.zoom?X.zoom.zoomOut:"Zoom out",G=q?e$2.isMac()?"Meta+-":"Ctrl+-":"";return n$2.createElement(e$2.Tooltip,{ariaControlsSuffix:"zoom-out",position:e$2.Position.BottomCenter,target:n$2.createElement(e$2.MinimalButton,{ariaKeyShortcuts:G,ariaLabel:W,testId:"zoom__out-button",onClick:K},n$2.createElement(r$2,null)),content:function(){return W},offset:S$1})},I$1=function(B){var q=B.children,K=B.enableShortcuts,X=B.store,W=a$2(X).scale;return(q||M$1)({enableShortcuts:K,onClick:function(){var G=X.get("zoom");G&&G(v$1(W))}})},Z=function(B){var q=B.onClick,K=n$2.useContext(e$2.LocalizationContext).l10n,X=K&&K.zoom?K.zoom.zoomOut:"Zoom out";return n$2.createElement(e$2.MenuItem,{icon:n$2.createElement(r$2,null),testId:"zoom__out-menu",onClick:q},X)};zoom_min.ZoomInIcon=o$2,zoom_min.ZoomOutIcon=r$2,zoom_min.zoomPlugin=function(B){var q=n$2.useMemo(function(){return Object.assign({},{enableShortcuts:!0},B)},[]),K=n$2.useMemo(function(){return e$2.createStore({})},[]),X=function(Y){return n$2.createElement(b$1,c$2({enableShortcuts:q.enableShortcuts},Y,{store:K}))},W=function(Y){return n$2.createElement(I$1,c$2({enableShortcuts:q.enableShortcuts},Y,{store:K}))},G=function(Y){return n$2.createElement(g$1,c$2({},Y,{store:K}))};return{renderViewer:function(Y){var he=Y.slot;if(!q.enableShortcuts)return he;var Ce={children:n$2.createElement(n$2.Fragment,null,n$2.createElement(p$1,{containerRef:Y.containerRef,store:K}),n$2.createElement(s$2,{pagesContainerRef:Y.pagesContainerRef,store:K}),he.children)};return c$2(c$2({},he),Ce)},install:function(Y){K.update("zoom",Y.zoom)},onViewerStateChange:function(Y){return K.update("scale",Y.scale),Y},zoomTo:function(Y){var he=K.get("zoom");he&&he(Y)},CurrentScale:function(Y){return n$2.createElement(u$2,c$2({},Y,{store:K}))},ZoomIn:X,ZoomInButton:function(){return n$2.createElement(X,null,function(Y){return n$2.createElement(h$1,c$2({},Y))})},ZoomInMenuItem:function(Y){return n$2.createElement(X,null,function(he){return n$2.createElement(k,{onClick:function(){he.onClick(),Y.onClick()}})})},ZoomOut:W,ZoomOutButton:function(){return n$2.createElement(W,null,function(Y){return n$2.createElement(M$1,c$2({},Y))})},ZoomOutMenuItem:function(Y){return n$2.createElement(W,null,function(he){return n$2.createElement(Z,{onClick:function(){he.onClick(),Y.onClick()}})})},Zoom:G,ZoomPopover:function(Y){return n$2.createElement(G,null,function(he){return n$2.createElement(d$2,c$2({levels:Y==null?void 0:Y.levels},he))})}}};/**
* A React component to view a PDF document
*
* @see https://react-pdf-viewer.dev
* @license https://react-pdf-viewer.dev/license
* @copyright 2019-2023 Nguyen Huu Phuoc <me@phuoc.ng>
*/lib.exports=zoom_min;var libExports$2=lib.exports,e$1=libExports$h,t$1=libExports$d,r$1=T$1,n$1=libExports$c,o$1=libExports$b,a$1=libExports$a,l$1=libExports$9,i$1=libExports$8,c$1=libExports$7,m$1=libExports$6,u$1=libExports$5,s$1=libExports$4,d$1=libExports$3,p=libExports$2;function v(B){var q=Object.create(null);return B&&Object.keys(B).forEach(function(K){if(K!=="default"){var X=Object.getOwnPropertyDescriptor(B,K);Object.defineProperty(q,K,X.get?X:{enumerable:!0,get:function(){return B[K]}})}}),q.default=B,Object.freeze(q)}var _=v(r$1),E=function(){return _.createElement(e$1.Icon,{size:16},_.createElement("path",{d:`M12,0.5c1.381,0,2.5,1.119,2.5,2.5S13.381,5.5,12,5.5S9.5,4.381,9.5,3S10.619,0.5,12,0.5z
            M12,9.5
            c1.381,0,2.5,1.119,2.5,2.5s-1.119,2.5-2.5,2.5S9.5,13.381,9.5,12S10.619,9.5,12,9.5z
            M12,18.5c1.381,0,2.5,1.119,2.5,2.5
            s-1.119,2.5-2.5,2.5S9.5,22.381,9.5,21S10.619,18.5,12,18.5z`}))},g={left:0,top:8},P=function(B){var q=B.toolbarSlot,K=_.useContext(e$1.LocalizationContext).l10n,X=_.useContext(e$1.ThemeContext).direction===e$1.TextDirection.RightToLeft?e$1.Position.BottomLeft:e$1.Position.BottomRight,W=q.DownloadMenuItem,G=q.EnterFullScreenMenuItem,Y=q.GoToFirstPageMenuItem,he=q.GoToLastPageMenuItem,Ce=q.GoToNextPageMenuItem,ke=q.GoToPreviousPageMenuItem,ae=q.OpenMenuItem,Ae=q.PrintMenuItem,ge=q.RotateBackwardMenuItem,ve=q.RotateForwardMenuItem,xe=q.ShowPropertiesMenuItem,we=q.SwitchScrollModeMenuItem,fe=q.SwitchSelectionModeMenuItem,ne=q.SwitchViewModeMenuItem,Se=q.SwitchThemeMenuItem;return _.createElement(e$1.Popover,{ariaControlsSuffix:"toolbar-more-actions",ariaHasPopup:"menu",position:X,target:function(Le,Me){var Ee=K&&K.toolbar?K.toolbar.moreActions:"More actions";return _.createElement(e$1.Tooltip,{ariaControlsSuffix:"toolbar-more-actions",position:X,target:_.createElement(e$1.MinimalButton,{ariaLabel:Ee,isSelected:Me,testId:"toolbar__more-actions-popover-target",onClick:Le},_.createElement(E,null)),content:function(){return Ee},offset:g})},content:function(Le){return _.createElement(e$1.Menu,null,_.createElement("div",{className:"rpv-core__display--block rpv-core__display--hidden-medium"},_.createElement(Se,{onClick:Le})),_.createElement("div",{className:"rpv-core__display--block rpv-core__display--hidden-medium"},_.createElement(G,{onClick:Le})),_.createElement("div",{className:"rpv-core__display--block rpv-core__display--hidden-medium"},_.createElement(ae,null)),_.createElement("div",{className:"rpv-core__display--block rpv-core__display--hidden-medium"},_.createElement(Ae,{onClick:Le})),_.createElement("div",{className:"rpv-core__display--block rpv-core__display--hidden-medium"},_.createElement(W,{onClick:Le})),_.createElement("div",{className:"rpv-core__display--block rpv-core__display--hidden-medium"},_.createElement(e$1.MenuDivider,null)),_.createElement(Y,{onClick:Le}),_.createElement("div",{className:"rpv-core__display--block rpv-core__display--hidden-medium"},_.createElement(ke,{onClick:Le})),_.createElement("div",{className:"rpv-core__display--block rpv-core__display--hidden-medium"},_.createElement(Ce,{onClick:Le})),_.createElement(he,{onClick:Le}),_.createElement(e$1.MenuDivider,null),_.createElement(ve,{onClick:Le}),_.createElement(ge,{onClick:Le}),_.createElement(e$1.MenuDivider,null),_.createElement(fe,{mode:t$1.SelectionMode.Text,onClick:Le}),_.createElement(fe,{mode:t$1.SelectionMode.Hand,onClick:Le}),_.createElement(e$1.MenuDivider,null),_.createElement(we,{mode:e$1.ScrollMode.Page,onClick:Le}),_.createElement(we,{mode:e$1.ScrollMode.Vertical,onClick:Le}),_.createElement(we,{mode:e$1.ScrollMode.Horizontal,onClick:Le}),_.createElement(we,{mode:e$1.ScrollMode.Wrapped,onClick:Le}),_.createElement(e$1.MenuDivider,null),_.createElement("div",{className:"rpv-core__display--hidden rpv-core__display--block-small"},_.createElement(ne,{mode:e$1.ViewMode.SinglePage,onClick:Le})),_.createElement("div",{className:"rpv-core__display--hidden rpv-core__display--block-small"},_.createElement(ne,{mode:e$1.ViewMode.DualPage,onClick:Le})),_.createElement("div",{className:"rpv-core__display--hidden rpv-core__display--block-small"},_.createElement(ne,{mode:e$1.ViewMode.DualPageWithCover,onClick:Le})),_.createElement("div",{className:"rpv-core__display--hidden rpv-core__display--block-small"},_.createElement(e$1.MenuDivider,null)),_.createElement(xe,{onClick:Le}))},offset:g,closeOnClickOutside:!0,closeOnEscape:!0})},M=function(){return M=Object.assign||function(B){for(var q,K=1,X=arguments.length;K<X;K++)for(var W in q=arguments[K])Object.prototype.hasOwnProperty.call(q,W)&&(B[W]=q[W]);return B},M.apply(this,arguments)},h=function(B){return function(q){var K=_.useMemo(function(){return B(q)},[]),X=_.useContext(e$1.ThemeContext).direction===e$1.TextDirection.RightToLeft,W=K.CurrentPageInput,G=K.Download,Y=K.EnterFullScreen,he=K.GoToNextPage,Ce=K.GoToPreviousPage,ke=K.NumberOfPages,ae=K.Open,Ae=K.Print,ge=K.ShowSearchPopover,ve=K.SwitchTheme,xe=K.Zoom,we=K.ZoomIn,fe=K.ZoomOut;return _.createElement("div",{"data-testid":"toolbar",className:e$1.classNames({"rpv-toolbar":!0,"rpv-toolbar--rtl":X}),role:"toolbar","aria-orientation":"horizontal"},_.createElement("div",{className:"rpv-toolbar__left"},_.createElement("div",{className:"rpv-toolbar__item"},_.createElement(ge,null)),_.createElement("div",{className:"rpv-core__display--hidden rpv-core__display--block-small"},_.createElement("div",{className:"rpv-toolbar__item"},_.createElement(Ce,null))),_.createElement("div",{className:"rpv-toolbar__item"},_.createElement(W,null),_.createElement("span",{className:"rpv-toolbar__label"},_.createElement(ke,null))),_.createElement("div",{className:"rpv-core__display--hidden rpv-core__display--block-small"},_.createElement("div",{className:"rpv-toolbar__item"},_.createElement(he,null)))),_.createElement("div",{className:"rpv-toolbar__center"},_.createElement("div",{className:"rpv-toolbar__item"},_.createElement(fe,null)),_.createElement("div",{className:"rpv-core__display--hidden rpv-core__display--block-small"},_.createElement("div",{className:"rpv-toolbar__item"},_.createElement(xe,null))),_.createElement("div",{className:"rpv-toolbar__item"},_.createElement(we,null))),_.createElement("div",{className:"rpv-toolbar__right"},_.createElement("div",{className:"rpv-core__display--hidden rpv-core__display--block-medium"},_.createElement("div",{className:"rpv-toolbar__item"},_.createElement(ve,null))),_.createElement("div",{className:"rpv-core__display--hidden rpv-core__display--block-medium"},_.createElement("div",{className:"rpv-toolbar__item"},_.createElement(Y,null))),_.createElement("div",{className:"rpv-core__display--hidden rpv-core__display--block-medium"},_.createElement("div",{className:"rpv-toolbar__item"},_.createElement(ae,null))),_.createElement("div",{className:"rpv-core__display--hidden rpv-core__display--block-medium"},_.createElement("div",{className:"rpv-toolbar__item"},_.createElement(G,null))),_.createElement("div",{className:"rpv-core__display--hidden rpv-core__display--block-medium"},_.createElement("div",{className:"rpv-toolbar__item"},_.createElement(Ae,null))),_.createElement("div",{className:"rpv-toolbar__item"},_.createElement(P,{toolbarSlot:K}))))}},f$1=function(B){var q=B.NumberOfPages;return Object.assign({},B,{NumberOfPages:function(){return _.createElement(_.Fragment,null,"/ ",_.createElement(q,null))}})},S=function(B){return h(f$1)(B)},I=function(B){var q=B.children,K=B.slot;return(q||S)(K)};toolbar_min.MoreActionsPopover=P,toolbar_min.MoreIcon=E,toolbar_min.toolbarPlugin=function(B){var q=n$1.fullScreenPlugin(B?B.fullScreenPlugin:{}),K=o$1.getFilePlugin(B?B.getFilePlugin:{}),X=a$1.openPlugin(B?B.openPlugin:{}),W=l$1.pageNavigationPlugin(B?B.pageNavigationPlugin:{}),G=i$1.printPlugin(B?B.printPlugin:{}),Y=c$1.propertiesPlugin(),he=m$1.rotatePlugin(),Ce=u$1.scrollModePlugin(),ke=s$1.searchPlugin(B?B.searchPlugin:{}),ae=t$1.selectionModePlugin(B?B.selectionModePlugin:{}),Ae=d$1.themePlugin(),ge=p.zoomPlugin(B?B.zoomPlugin:{}),ve=[q,K,X,W,G,Y,he,Ce,ke,ae,Ae,ge],xe=_.useCallback(function(we){var fe=q.EnterFullScreen,ne=q.EnterFullScreenMenuItem,Se=K.Download,Le=K.DownloadMenuItem,Me=X.Open,Ee=X.OpenMenuItem,Pe=W.CurrentPageInput,Ve=W.CurrentPageLabel,Ke=W.GoToFirstPage,ze=W.GoToFirstPageMenuItem,rt=W.GoToLastPage,ye=W.GoToLastPageMenuItem,ot=W.GoToNextPage,Ye=W.GoToNextPageMenuItem,He=W.GoToPreviousPage,Qe=W.GoToPreviousPageMenuItem,yt=W.NumberOfPages,ut=G.Print,_t=G.PrintMenuItem,Ne=Y.ShowProperties,tt=Y.ShowPropertiesMenuItem,dt=he.Rotate,Oe=he.RotateBackwardMenuItem,_e=he.RotateForwardMenuItem,pe=Ce.SwitchScrollMode,Fe=Ce.SwitchScrollModeMenuItem,je=Ce.SwitchViewMode,Ie=Ce.SwitchViewModeMenuItem,qe=ke.Search,Ge=ke.ShowSearchPopover,gt=ae.SwitchSelectionMode,Pt=ae.SwitchSelectionModeMenuItem,Ct=Ae.SwitchTheme,ht=Ae.SwitchThemeMenuItem,$t=ge.CurrentScale,Vt=ge.Zoom,De=ge.ZoomIn,Re=ge.ZoomInMenuItem,Be=ge.ZoomOut,Ze=ge.ZoomOutMenuItem;return _.createElement(I,M({},we,{slot:{CurrentPageInput:Pe,CurrentPageLabel:Ve,CurrentScale:$t,Download:Se,DownloadMenuItem:Le,EnterFullScreen:fe,EnterFullScreenMenuItem:ne,GoToFirstPage:Ke,GoToFirstPageMenuItem:ze,GoToLastPage:rt,GoToLastPageMenuItem:ye,GoToNextPage:ot,GoToNextPageMenuItem:Ye,GoToPreviousPage:He,GoToPreviousPageMenuItem:Qe,NumberOfPages:yt,Open:Me,OpenMenuItem:Ee,Print:ut,PrintMenuItem:_t,Rotate:dt,RotateBackwardMenuItem:Oe,RotateForwardMenuItem:_e,Search:qe,ShowProperties:Ne,ShowPropertiesMenuItem:tt,ShowSearchPopover:Ge,SwitchScrollMode:pe,SwitchScrollModeMenuItem:Fe,SwitchSelectionMode:gt,SwitchSelectionModeMenuItem:Pt,SwitchViewMode:je,SwitchViewModeMenuItem:Ie,SwitchTheme:Ct,SwitchThemeMenuItem:ht,Zoom:Vt,ZoomIn:De,ZoomInMenuItem:Re,ZoomOut:Be,ZoomOutMenuItem:Ze}}))},[]);return{fullScreenPluginInstance:q,getFilePluginInstance:K,openPluginInstance:X,pageNavigationPluginInstance:W,printPluginInstance:G,propertiesPluginInstance:Y,rotatePluginInstance:he,scrollModePluginInstance:Ce,searchPluginInstance:ke,selectionModePluginInstance:ae,themePluginInstance:Ae,zoomPluginInstance:ge,install:function(we){ve.forEach(function(fe){fe.install&&fe.install(we)})},renderPageLayer:function(we){return _.createElement(_.Fragment,null,ve.map(function(fe,ne){return fe.renderPageLayer?_.createElement(_.Fragment,{key:ne},fe.renderPageLayer(we)):_.createElement(_.Fragment,{key:ne})}))},renderViewer:function(we){var fe=we.slot;return ve.forEach(function(ne){ne.renderViewer&&(fe=ne.renderViewer(M(M({},we),{slot:fe})))}),fe},uninstall:function(we){ve.forEach(function(fe){fe.uninstall&&fe.uninstall(we)})},onDocumentLoad:function(we){ve.forEach(function(fe){fe.onDocumentLoad&&fe.onDocumentLoad(we)})},onAnnotationLayerRender:function(we){ve.forEach(function(fe){fe.onAnnotationLayerRender&&fe.onAnnotationLayerRender(we)})},onTextLayerRender:function(we){ve.forEach(function(fe){fe.onTextLayerRender&&fe.onTextLayerRender(we)})},onViewerStateChange:function(we){var fe=we;return ve.forEach(function(ne){ne.onViewerStateChange&&(fe=ne.onViewerStateChange(fe))}),fe},renderDefaultToolbar:h,Toolbar:xe}};/**
* A React component to view a PDF document
*
* @see https://react-pdf-viewer.dev
* @license https://react-pdf-viewer.dev/license
* @copyright 2019-2023 Nguyen Huu Phuoc <me@phuoc.ng>
*/lib$c.exports=toolbar_min;var libExports$1=lib$c.exports,e=libExports$h,t=T$1,n=libExports$g,a=libExports$f,r=libExports$e,o=libExports$1;function l(B){var q=Object.create(null);return B&&Object.keys(B).forEach(function(K){if(K!=="default"){var X=Object.getOwnPropertyDescriptor(B,K);Object.defineProperty(q,K,X.get?X:{enumerable:!0,get:function(){return B[K]}})}}),q.default=B,Object.freeze(q)}var u=l(t),c=function(){return u.createElement(e.Icon,{size:16},u.createElement("path",{d:`M11.5,1.5h11c0.552,0,1,0.448,1,1v20c0,0.552-0.448,1-1,1h-21c-0.552,0-1-0.448-1-1v-20c0-0.552,0.448-1,1-1h3
            M11.5,10.5c0,0.55-0.3,0.661-0.659,0.248L8,7.5l-2.844,3.246c-0.363,0.414-0.659,0.3-0.659-0.247v-9c0-0.552,0.448-1,1-1h5
            c0.552,0,1,0.448,1,1L11.5,10.5z
            M14.5,6.499h6
            M14.5,10.499h6
            M3.5,14.499h17
            M3.5,18.499h16.497`}))},i=function(){return i=Object.assign||function(B){for(var q,K=1,X=arguments.length;K<X;K++)for(var W in q=arguments[K])Object.prototype.hasOwnProperty.call(q,W)&&(B[W]=q[W]);return B},i.apply(this,arguments)},s=function(){return u.createElement(e.Icon,{size:16},u.createElement("path",{d:`M7.618,15.345l8.666-8.666c0.78-0.812,2.071-0.838,2.883-0.058s0.838,2.071,0.058,2.883
            c-0.019,0.02-0.038,0.039-0.058,0.058L7.461,21.305c-1.593,1.593-4.175,1.592-5.767,0s-1.592-4.175,0-5.767c0,0,0,0,0,0
            L13.928,3.305c2.189-2.19,5.739-2.19,7.929-0.001s2.19,5.739,0,7.929l0,0L13.192,19.9`}))},d=function(){return u.createElement(e.Icon,{size:16},u.createElement("path",{d:`M10.5,9.5c0,0.552-0.448,1-1,1h-8c-0.552,0-1-0.448-1-1v-8c0-0.552,0.448-1,1-1h8c0.552,0,1,0.448,1,1V9.5z
            M23.5,9.5c0,0.552-0.448,1-1,1h-8c-0.552,0-1-0.448-1-1v-8c0-0.552,0.448-1,1-1h8c0.552,0,1,0.448,1,1V9.5z
            M10.5,22.5 c0,0.552-0.448,1-1,1h-8c-0.552,0-1-0.448-1-1v-8c0-0.552,0.448-1,1-1h8c0.552,0,1,0.448,1,1V22.5z
            M23.5,22.5c0,0.552-0.448,1-1,1 h-8c-0.552,0-1-0.448-1-1v-8c0-0.552,0.448-1,1-1h8c0.552,0,1,0.448,1,1V22.5z`}))},b={left:8,top:0},f={left:-8,top:0},m=function(B){var q=B.attachmentTabContent,K=B.bookmarkTabContent,X=B.store,W=B.thumbnailTabContent,G=B.tabs,Y=u.useRef(),he=u.useContext(e.LocalizationContext).l10n,Ce=u.useState(X.get("isCurrentTabOpened")||!1),ke=Ce[0],ae=Ce[1],Ae=u.useState(Math.max(X.get("currentTab")||0,0)),ge=Ae[0],ve=Ae[1],xe=u.useContext(e.ThemeContext).direction===e.TextDirection.RightToLeft,we=[{content:W,icon:u.createElement(d,null),title:he&&he.defaultLayout?he.defaultLayout.thumbnail:"Thumbnail"},{content:K,icon:u.createElement(c,null),title:he&&he.defaultLayout?he.defaultLayout.bookmark:"Bookmark"},{content:q,icon:u.createElement(s,null),title:he&&he.defaultLayout?he.defaultLayout.attachment:"Attachment"}],fe=G?G(we):we,ne=function(Le){Le>=0&&Le<=fe.length-1&&(X.update("isCurrentTabOpened",!0),ve(Le))},Se=function(Le){ae(Le)};return u.useEffect(function(){return X.subscribe("currentTab",ne),X.subscribe("isCurrentTabOpened",Se),function(){X.unsubscribe("currentTab",ne),X.unsubscribe("isCurrentTabOpened",Se)}},[]),fe.length===0?u.createElement(u.Fragment,null):u.createElement(u.Fragment,null,u.createElement("div",{"data-testid":"default-layout__sidebar",className:e.classNames({"rpv-default-layout__sidebar":!0,"rpv-default-layout__sidebar--opened":ke,"rpv-default-layout__sidebar--ltr":!xe,"rpv-default-layout__sidebar--rtl":xe}),ref:Y},u.createElement("div",{className:"rpv-default-layout__sidebar-tabs"},u.createElement("div",{className:"rpv-default-layout__sidebar-headers",role:"tablist","aria-orientation":"vertical"},fe.map(function(Le,Me){return u.createElement("div",{"aria-controls":"rpv-default-layout__sidebar-content","aria-selected":ge===Me,key:Me,className:"rpv-default-layout__sidebar-header",id:"rpv-default-layout__sidebar-tab-".concat(Me),role:"tab"},u.createElement(e.Tooltip,{ariaControlsSuffix:"default-layout-sidebar-tab-".concat(Me),position:xe?e.Position.LeftCenter:e.Position.RightCenter,target:u.createElement(e.MinimalButton,{ariaLabel:Le.title,isSelected:ge===Me,onClick:function(){return function(Ee){if(ge===Ee){X.update("isCurrentTabOpened",!X.get("isCurrentTabOpened"));var Pe=Y.current;Pe&&Pe.style.width&&Pe.style.removeProperty("width")}else X.update("currentTab",Ee)}(Me)}},Le.icon),content:function(){return Le.title},offset:xe?f:b}))})),u.createElement("div",{"aria-labelledby":"rpv-default-layout__sidebar-tab-".concat(ge),id:"rpv-default-layout__sidebar-content",className:e.classNames({"rpv-default-layout__sidebar-content":!0,"rpv-default-layout__sidebar-content--opened":ke,"rpv-default-layout__sidebar-content--ltr":!xe,"rpv-default-layout__sidebar-content--rtl":xe}),role:"tabpanel",tabIndex:-1},fe[ge].content))),ke&&u.createElement(e.Splitter,{constrain:function(Le){return Le.firstHalfPercentage>=20&&Le.firstHalfPercentage<=80}}))};defaultLayout_min.BookmarkIcon=c,defaultLayout_min.FileIcon=s,defaultLayout_min.ThumbnailIcon=d,defaultLayout_min.defaultLayoutPlugin=function(B){var q=u.useMemo(function(){return e.createStore({isCurrentTabOpened:!1,currentTab:0})},[]),K=n.attachmentPlugin(),X=a.bookmarkPlugin(),W=r.thumbnailPlugin(B?B.thumbnailPlugin:{}),G=o.toolbarPlugin(B?B.toolbarPlugin:{}),Y=K.Attachments,he=X.Bookmarks,Ce=W.Thumbnails,ke=G.Toolbar,ae=B?B.sidebarTabs:function(ge){return ge},Ae=[K,X,W,G];return{attachmentPluginInstance:K,bookmarkPluginInstance:X,thumbnailPluginInstance:W,toolbarPluginInstance:G,activateTab:function(ge){q.update("currentTab",ge)},toggleTab:function(ge){var ve=q.get("currentTab");q.update("isCurrentTabOpened",!q.get("isCurrentTabOpened")),ve!==ge&&q.update("currentTab",ge)},install:function(ge){Ae.forEach(function(ve){ve.install&&ve.install(ge)})},renderPageLayer:function(ge){return u.createElement(u.Fragment,null,Ae.map(function(ve,xe){return ve.renderPageLayer?u.createElement(u.Fragment,{key:xe},ve.renderPageLayer(ge)):u.createElement(u.Fragment,{key:xe},u.createElement(u.Fragment,null))}))},renderViewer:function(ge){var ve=ge.slot;Ae.forEach(function(we){we.renderViewer&&(ve=we.renderViewer(i(i({},ge),{slot:ve})))});var xe=ve.subSlot&&ve.subSlot.attrs?{className:ve.subSlot.attrs.className,"data-testid":ve.subSlot.attrs["data-testid"],ref:ve.subSlot.attrs.ref,style:ve.subSlot.attrs.style}:{};return ve.children=u.createElement("div",{className:"rpv-default-layout__container"},u.createElement("div",{"data-testid":"default-layout__main",className:e.classNames({"rpv-default-layout__main":!0,"rpv-default-layout__main--rtl":ge.themeContext.direction===e.TextDirection.RightToLeft})},u.createElement(m,{attachmentTabContent:u.createElement(Y,null),bookmarkTabContent:u.createElement(he,null),store:q,thumbnailTabContent:u.createElement(Ce,null),tabs:ae}),u.createElement("div",{className:"rpv-default-layout__body","data-testid":"default-layout__body"},u.createElement("div",{className:"rpv-default-layout__toolbar"},B&&B.renderToolbar?B.renderToolbar(ke):u.createElement(ke,null)),u.createElement("div",i({},xe),ve.subSlot.children))),ve.children),ve.subSlot.attrs={},ve.subSlot.children=u.createElement(u.Fragment,null),ve},uninstall:function(ge){Ae.forEach(function(ve){ve.uninstall&&ve.uninstall(ge)})},onDocumentLoad:function(ge){Ae.forEach(function(ve){ve.onDocumentLoad&&ve.onDocumentLoad(ge)}),B&&B.setInitialTab&&B.setInitialTab(ge.doc).then(function(ve){q.update("currentTab",ve),q.update("isCurrentTabOpened",!0)})},onAnnotationLayerRender:function(ge){Ae.forEach(function(ve){ve.onAnnotationLayerRender&&ve.onAnnotationLayerRender(ge)})},onTextLayerRender:function(ge){Ae.forEach(function(ve){ve.onTextLayerRender&&ve.onTextLayerRender(ge)})},onViewerStateChange:function(ge){var ve=ge;return Ae.forEach(function(xe){xe.onViewerStateChange&&(ve=xe.onViewerStateChange(ve))}),ve}}},defaultLayout_min.setInitialTabFromPageMode=function(B){return new Promise(function(q,K){B.getPageMode().then(function(X){if(X)switch(X){case e.PageMode.Attachments:q(2);break;case e.PageMode.Bookmarks:q(1);break;case e.PageMode.Thumbnails:q(0);break;default:q(-1)}else q(-1)})})};/**
* A React component to view a PDF document
*
* @see https://react-pdf-viewer.dev
* @license https://react-pdf-viewer.dev/license
* @copyright 2019-2023 Nguyen Huu Phuoc <me@phuoc.ng>
*/lib$g.exports=defaultLayout_min;var libExports=lib$g.exports;const PDFViewer=({fileUrl:B})=>{const q=libExports.defaultLayoutPlugin();return k$4.jsx(libExports$h.Worker,{workerUrl:"https://unpkg.com/pdfjs-dist@3.11.174/build/pdf.worker.min.js",children:k$4.jsx("div",{className:"h-[80vh] border shadow-sm overflow-hidden",children:k$4.jsx(libExports$h.Viewer,{fileUrl:B,plugins:[q],theme:"light"})})})},PrimeReport=({})=>k$4.jsx("div",{children:k$4.jsx(PDFViewer,{fileUrl:"https://hpdpes1.uploads-1f3.workers.dev/1749307107690-Pagtugon-sa-Ekonomiya-ng-mga-Lalawigan-sa-Rehiyon"})});export{PrimeReport as default};
