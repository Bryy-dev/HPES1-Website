import{T as n,A as An}from"./index-4os2vz5Y.js";const Gt="carousel",lt="controller",Xn="navigation",Hn="no-scroll",at="portal",Yn="root",qt="toolbar",Nt="captions",Pt="fullscreen",Qe="thumbnails",St="zoom",Ue="loading",Be="error",Ve="complete",Un="placeholder",Bn=e=>`active-slide-${e}`,Vn="fullsize",we="flex_center",jn="no_scroll",Jt="no_scroll_padding",ct="slide",Qt="slide_wrapper",Kn="slide_wrapper_interactive",ae="prev",ce="next",et="swipe",Ee="close",en="onPointerDown",tn="onPointerMove",nn="onPointerUp",rn="onPointerLeave",on="onPointerCancel",st="onKeyDown",Gn="onKeyUp",ut="onWheel",qn="Escape",Jn="ArrowLeft",Qn="ArrowRight",er="button",$e="icon",ln="contain",$t="cover",an="Unknown action type",cn="yarl__";function B(...e){return[...e].filter(Boolean).join(" ")}function M(e){return`${cn}${e}`}function _(e){return`--${cn}${e}`}function me(e,t){return`${e}${t?`_${t}`:""}`}function fe(e){return t=>me(e,t)}function tr(e,t){var i;return(i=e==null?void 0:e[t])!==null&&i!==void 0?i:t}function Fe(...e){return()=>{e.forEach(t=>{t()})}}function re(e,t,i){return()=>{const r=n.useContext(i);if(!r)throw new Error(`${e} must be used within a ${t}.Provider`);return r}}function dt(){return typeof window<"u"}function ht(e,t=0){const i=10**t;return Math.round((e+Number.EPSILON)*i)/i}function pe(e){return e.type===void 0||e.type==="image"}function mt(e,t){return e.imageFit===$t||e.imageFit!==ln&&t===$t}function Oe(e){return typeof e=="string"?Number.parseInt(e,10):e}function ze(e){if(typeof e=="number")return{pixel:e};if(typeof e=="string"){const t=Oe(e);return e.endsWith("%")?{percent:t}:{pixel:t}}return{pixel:0}}function nr(e,t){const i=ze(t),r=i.percent!==void 0?e.width/100*i.percent:i.pixel;return{width:Math.max(e.width-2*r,0),height:Math.max(e.height-2*r,0)}}function rr(){return(dt()?window==null?void 0:window.devicePixelRatio:void 0)||1}function sn(e,t){return t>0?(e%t+t)%t:0}function ft(e){return e.length>0}function pt(e,t){return e[sn(t,e.length)]}function tt(e,t){return ft(e)?pt(e,t):void 0}function un(e){return pe(e)?e.src:void 0}function vt(e,t,i){if(!i)return e;const{buttons:r,...o}=e,l=r.findIndex(c=>c===t),a=n.isValidElement(i)?n.cloneElement(i,{key:t},null):i;if(l>=0){const c=[...r];return c.splice(l,1,a),{buttons:c,...o}}return{buttons:[a,...r],...o}}function dn(e,t,i=0){return Math.min(e.preload,Math.max(e.finite?t.length-1:Math.floor(t.length/2),i))}const or=Number(n.version.split(".")[0])>=19;function ir(e){return{inert:or?e:e?"":void 0}}function lr(e){e.scrollTop}const nt={open:!1,close:()=>{},index:0,slides:[],render:{},plugins:[],toolbar:{buttons:[Ee]},labels:{},animation:{fade:250,swipe:500,easing:{fade:"ease",swipe:"ease-out",navigation:"ease-in-out"}},carousel:{finite:!1,preload:2,padding:"16px",spacing:"30%",imageFit:ln,imageProps:{}},controller:{ref:null,focus:!0,aria:!1,touchAction:"none",closeOnPullUp:!1,closeOnPullDown:!1,closeOnBackdropClick:!1,preventDefaultWheelX:!0,preventDefaultWheelY:!1,disableSwipeNavigation:!1},portal:{},noScroll:{disabled:!1},on:{},styles:{},className:""};function oe(e,t){return{name:e,component:t}}function X(e,t){return{module:e,children:t}}function hn(e,t,i){return e.module.name===t?i(e):e.children?[X(e.module,e.children.flatMap(r=>{var o;return(o=hn(r,t,i))!==null&&o!==void 0?o:[]}))]:[e]}function ge(e,t,i){return e.flatMap(r=>{var o;return(o=hn(r,t,i))!==null&&o!==void 0?o:[]})}function ar(e,t=[],i=[]){let r=e;const o=f=>{const p=[...r];for(;p.length>0;){const v=p.pop();if((v==null?void 0:v.module.name)===f)return!0;v!=null&&v.children&&p.push(...v.children)}return!1},l=(f,p)=>{if(f===""){r=[X(p,r)];return}r=ge(r,f,v=>[X(p,[v])])},a=(f,p)=>{r=ge(r,f,v=>[X(v.module,[X(p,v.children)])])},c=(f,p,v)=>{r=ge(r,f,N=>{var x;return[X(N.module,[...v?[X(p)]:[],...(x=N.children)!==null&&x!==void 0?x:[],...v?[]:[X(p)]])]})},u=(f,p,v)=>{r=ge(r,f,N=>[...v?[X(p)]:[],N,...v?[]:[X(p)]])},s=f=>{a(lt,f)},d=(f,p)=>{r=ge(r,f,v=>[X(p,v.children)])},m=f=>{r=ge(r,f,p=>p.children)},g=f=>{i.push(f)};return t.forEach(f=>{f({contains:o,addParent:l,append:a,addChild:c,addSibling:u,addModule:s,replace:d,remove:m,augment:g})}),{config:r,augmentation:f=>i.reduce((p,v)=>v(p),f)}}const mn=n.createContext(null),Ce=re("useDocument","DocumentContext",mn);function cr({nodeRef:e,children:t}){const i=n.useMemo(()=>{const r=o=>{var l;return((l=o||e.current)===null||l===void 0?void 0:l.ownerDocument)||document};return{getOwnerDocument:r,getOwnerWindow:o=>{var l;return((l=r(o))===null||l===void 0?void 0:l.defaultView)||window}}},[e]);return n.createElement(mn.Provider,{value:i},t)}const fn=n.createContext(null),Me=re("useEvents","EventsContext",fn);function sr({children:e}){const[t]=n.useState({});n.useEffect(()=>()=>{Object.keys(t).forEach(r=>delete t[r])},[t]);const i=n.useMemo(()=>{const r=(o,l)=>{var a;(a=t[o])===null||a===void 0||a.splice(0,t[o].length,...t[o].filter(c=>c!==l))};return{publish:(...[o,l])=>{var a;(a=t[o])===null||a===void 0||a.forEach(c=>c(l))},subscribe:(o,l)=>(t[o]||(t[o]=[]),t[o].push(l),()=>r(o,l)),unsubscribe:r}},[t]);return n.createElement(fn.Provider,{value:i},e)}const pn=n.createContext(null),A=re("useLightboxProps","LightboxPropsContext",pn);function vn({children:e,...t}){return n.createElement(pn.Provider,{value:t},e)}const gn=n.createContext(null),le=re("useLightboxState","LightboxStateContext",gn),bn=n.createContext(null),ur=re("useLightboxDispatch","LightboxDispatchContext",bn);function dr(e,t){switch(t.type){case"swipe":{const{slides:i}=e,r=(t==null?void 0:t.increment)||0,o=e.globalIndex+r,l=sn(o,i.length),a=tt(i,l),c=r||t.duration!==void 0?{increment:r,duration:t.duration,easing:t.easing}:void 0;return{slides:i,currentIndex:l,globalIndex:o,currentSlide:a,animation:c}}case"update":return t.slides!==e.slides||t.index!==e.currentIndex?{slides:t.slides,currentIndex:t.index,globalIndex:t.index,currentSlide:tt(t.slides,t.index)}:e;default:throw new Error(an)}}function hr({slides:e,index:t,children:i}){const[r,o]=n.useReducer(dr,{slides:e,currentIndex:t,globalIndex:t,currentSlide:tt(e,t)});n.useEffect(()=>{o({type:"update",slides:e,index:t})},[e,t]);const l=n.useMemo(()=>({...r,state:r,dispatch:o}),[r,o]);return n.createElement(bn.Provider,{value:o},n.createElement(gn.Provider,{value:l},i))}const wn=n.createContext(null),Te=re("useTimeouts","TimeoutsContext",wn);function mr({children:e}){const[t]=n.useState([]);n.useEffect(()=>()=>{t.forEach(r=>window.clearTimeout(r)),t.splice(0,t.length)},[t]);const i=n.useMemo(()=>{const r=o=>{t.splice(0,t.length,...t.filter(l=>l!==o))};return{setTimeout:(o,l)=>{const a=window.setTimeout(()=>{r(a),o()},l);return t.push(a),a},clearTimeout:o=>{o!==void 0&&(r(o),window.clearTimeout(o))}}},[t]);return n.createElement(wn.Provider,{value:i},e)}const ke=n.forwardRef(function({label:e,className:t,icon:i,renderIcon:r,onClick:o,style:l,...a},c){const{styles:u,labels:s}=A(),d=tr(s,e);return n.createElement("button",{ref:c,type:"button",title:d,"aria-label":d,className:B(M(er),t),onClick:o,style:{...l,...u.button},...a},r?r():n.createElement(i,{className:M($e),style:u.icon}))});function En(e,t){const i=r=>n.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",width:"24",height:"24","aria-hidden":"true",focusable:"false",...r},t);return i.displayName=e,i}function ee(e,t){return En(e,n.createElement("g",{fill:"currentColor"},n.createElement("path",{d:"M0 0h24v24H0z",fill:"none"}),t))}function xn(e,t){return En(e,n.createElement(n.Fragment,null,n.createElement("defs",null,n.createElement("mask",{id:"strike"},n.createElement("path",{d:"M0 0h24v24H0z",fill:"white"}),n.createElement("path",{d:"M0 0L24 24",stroke:"black",strokeWidth:4}))),n.createElement("path",{d:"M0.70707 2.121320L21.878680 23.292883",stroke:"currentColor",strokeWidth:2}),n.createElement("g",{fill:"currentColor",mask:"url(#strike)"},n.createElement("path",{d:"M0 0h24v24H0z",fill:"none"}),t)))}const fr=ee("Close",n.createElement("path",{d:"M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"})),pr=ee("Previous",n.createElement("path",{d:"M15.41 7.41L14 6l-6 6 6 6 1.41-1.41L10.83 12z"})),vr=ee("Next",n.createElement("path",{d:"M10 6L8.59 7.41 13.17 12l-4.58 4.59L10 18l6-6z"})),gr=ee("Loading",n.createElement(n.Fragment,null,Array.from({length:8}).map((e,t,i)=>n.createElement("line",{key:t,x1:"12",y1:"6.5",x2:"12",y2:"1.8",strokeLinecap:"round",strokeWidth:"2.6",stroke:"currentColor",strokeOpacity:1/i.length*(t+1),transform:`rotate(${360/i.length*t}, 12, 12)`})))),br=ee("Error",n.createElement("path",{d:"M21.9,21.9l-8.49-8.49l0,0L3.59,3.59l0,0L2.1,2.1L0.69,3.51L3,5.83V19c0,1.1,0.9,2,2,2h13.17l2.31,2.31L21.9,21.9z M5,18 l3.5-4.5l2.5,3.01L12.17,15l3,3H5z M21,18.17L5.83,3H19c1.1,0,2,0.9,2,2V18.17z"})),ne=dt()?n.useLayoutEffect:n.useEffect;function gt(){const[e,t]=n.useState(!1);return n.useEffect(()=>{var i,r;const o=(i=window.matchMedia)===null||i===void 0?void 0:i.call(window,"(prefers-reduced-motion: reduce)");t(o==null?void 0:o.matches);const l=a=>t(a.matches);return(r=o==null?void 0:o.addEventListener)===null||r===void 0||r.call(o,"change",l),()=>{var a;return(a=o==null?void 0:o.removeEventListener)===null||a===void 0?void 0:a.call(o,"change",l)}},[]),e}function wr(e){let t=0,i=0,r=0;const o=window.getComputedStyle(e).transform.match(/matrix.*\((.+)\)/);if(o){const l=o[1].split(",").map(Oe);l.length===6?(t=l[4],i=l[5]):l.length===16&&(t=l[12],i=l[13],r=l[14])}return{x:t,y:i,z:r}}function rt(e,t){const i=n.useRef(void 0),r=n.useRef(void 0),o=gt();return ne(()=>{var l,a,c;if(e.current&&i.current!==void 0&&!o){const{keyframes:u,duration:s,easing:d,onfinish:m}=t(i.current,e.current.getBoundingClientRect(),wr(e.current))||{};if(u&&s){(l=r.current)===null||l===void 0||l.cancel(),r.current=void 0;try{r.current=(c=(a=e.current).animate)===null||c===void 0?void 0:c.call(a,u,{duration:s,easing:d})}catch(g){console.error(g)}r.current&&(r.current.onfinish=()=>{r.current=void 0,m==null||m()})}}i.current=void 0}),{prepareAnimation:l=>{i.current=l},isAnimationPlaying:()=>{var l;return((l=r.current)===null||l===void 0?void 0:l.playState)==="running"}}}function yn(){const e=n.useRef(null),t=n.useRef(void 0),[i,r]=n.useState();return{setContainerRef:n.useCallback(o=>{e.current=o,t.current&&(t.current.disconnect(),t.current=void 0);const l=()=>{if(o){const a=window.getComputedStyle(o),c=u=>parseFloat(u)||0;r({width:Math.round(o.clientWidth-c(a.paddingLeft)-c(a.paddingRight)),height:Math.round(o.clientHeight-c(a.paddingTop)-c(a.paddingBottom))})}else r(void 0)};l(),o&&typeof ResizeObserver<"u"&&(t.current=new ResizeObserver(l),t.current.observe(o))},[]),containerRef:e,containerRect:i}}function Se(){const e=n.useRef(void 0),{setTimeout:t,clearTimeout:i}=Te();return n.useCallback((r,o)=>{i(e.current),e.current=t(r,o>0?o:0)},[t,i])}function O(e){const t=n.useRef(e);return ne(()=>{t.current=e}),n.useCallback((...i)=>{var r;return(r=t.current)===null||r===void 0?void 0:r.call(t,...i)},[])}function zt(e,t){typeof e=="function"?e(t):e&&(e.current=t)}function ot(e,t){return n.useMemo(()=>e==null&&t==null?null:i=>{zt(e,i),zt(t,i)},[e,t])}function Er(e,t=!1){const i=n.useRef(!1);ne(()=>{t&&i.current&&(i.current=!1,e())},[t,e]);const r=n.useCallback(()=>{i.current=!0},[]),o=n.useCallback(()=>{i.current=!1},[]);return{onFocus:r,onBlur:o}}function _e(){const[e,t]=n.useState(!1);return ne(()=>{t(window.getComputedStyle(window.document.documentElement).direction==="rtl")},[]),e}function Cn(){const[e]=n.useState({}),t=n.useCallback((o,l)=>{var a;(a=e[o])===null||a===void 0||a.forEach(c=>{l.isPropagationStopped()||c(l)})},[e]),i=n.useMemo(()=>({onPointerDown:o=>t(en,o),onPointerMove:o=>t(tn,o),onPointerUp:o=>t(nn,o),onPointerLeave:o=>t(rn,o),onPointerCancel:o=>t(on,o),onKeyDown:o=>t(st,o),onKeyUp:o=>t(Gn,o),onWheel:o=>t(ut,o)}),[t]),r=n.useCallback((o,l)=>(e[o]||(e[o]=[]),e[o].unshift(l),()=>{const a=e[o];a&&a.splice(0,a.length,...a.filter(c=>c!==l))}),[e]);return{registerSensors:i,subscribeSensors:r}}function Ft(e,t){const i=n.useRef(0),r=Se(),o=O((...l)=>{i.current=Date.now(),e(l)});return n.useCallback((...l)=>{r(()=>{o(l)},t-(Date.now()-i.current))},[t,o,r])}const je=fe("slide"),Ke=fe("slide_image");function de({slide:e,offset:t,render:i,rect:r,imageFit:o,imageProps:l,onClick:a,onLoad:c,onError:u,style:s}){var d,m,g,f,p,v,N;const[x,L]=n.useState(Ue),{publish:$}=Me(),{setTimeout:z}=Te(),k=n.useRef(null);n.useEffect(()=>{t===0&&$(Bn(x))},[t,x,$]);const F=O(I=>{("decode"in I?I.decode():Promise.resolve()).catch(()=>{}).then(()=>{I.parentNode&&(L(Ve),z(()=>{c==null||c(I)},0))})}),P=n.useCallback(I=>{k.current=I,I!=null&&I.complete&&F(I)},[F]),C=n.useCallback(I=>{F(I.currentTarget)},[F]),y=O(()=>{L(Be),u==null||u()}),T=mt(e,o),V=(I,j)=>Number.isFinite(I)?I:j,D=V(Math.max(...((m=(d=e.srcSet)===null||d===void 0?void 0:d.map(I=>I.width))!==null&&m!==void 0?m:[]).concat(e.width?[e.width]:[]).filter(Boolean)),((g=k.current)===null||g===void 0?void 0:g.naturalWidth)||0),R=V(Math.max(...((p=(f=e.srcSet)===null||f===void 0?void 0:f.map(I=>I.height))!==null&&p!==void 0?p:[]).concat(e.height?[e.height]:[]).filter(Boolean)),((v=k.current)===null||v===void 0?void 0:v.naturalHeight)||0),b=D&&R?{maxWidth:`min(${D}px, 100%)`,maxHeight:`min(${R}px, 100%)`}:{maxWidth:"100%",maxHeight:"100%"},h=(N=e.srcSet)===null||N===void 0?void 0:N.sort((I,j)=>I.width-j.width).map(I=>`${I.src} ${I.width}w`).join(", "),E=()=>r&&!T&&e.width&&e.height?r.height/e.height*e.width:Number.MAX_VALUE,S=h&&r&&dt()?`${Math.round(Math.min(E(),r.width))}px`:void 0,{style:Z,className:Y,...G}=l||{};return n.createElement(n.Fragment,null,n.createElement("img",{ref:P,onLoad:C,onError:y,onClick:a,draggable:!1,className:B(M(Ke()),T&&M(Ke("cover")),x!==Ve&&M(Ke("loading")),Y),style:{...b,...s,...Z},...G,alt:e.alt,sizes:S,srcSet:h,src:e.src}),x!==Ve&&n.createElement("div",{className:M(je(Un))},x===Ue&&(i!=null&&i.iconLoading?i.iconLoading():n.createElement(gr,{className:B(M($e),M(je(Ue)))})),x===Be&&(i!=null&&i.iconError?i.iconError():n.createElement(br,{className:B(M($e),M(je(Be)))}))))}const xr=n.forwardRef(function({className:e,children:t,...i},r){const o=n.useRef(null);return n.createElement(cr,{nodeRef:o},n.createElement("div",{ref:ot(r,o),className:B(M("root"),e),...i},t))});var U;(function(e){e[e.NONE=0]="NONE",e[e.SWIPE=1]="SWIPE",e[e.PULL=2]="PULL",e[e.ANIMATION=3]="ANIMATION"})(U||(U={}));function Mn(e,t,i,r,o){n.useEffect(()=>o?()=>{}:Fe(e(en,t),e(tn,i),e(nn,r),e(rn,r),e(on,r)),[e,t,i,r,o])}var Q;(function(e){e[e.NONE=0]="NONE",e[e.SWIPE=1]="SWIPE",e[e.PULL=2]="PULL"})(Q||(Q={}));const Ge=30;function yr({disableSwipeNavigation:e,closeOnBackdropClick:t},i,r,o,l,a,c,u,s,d,m,g,f,p,v,N){const x=n.useRef(0),L=n.useRef([]),$=n.useRef(void 0),z=n.useRef(0),k=n.useRef(Q.NONE),F=n.useCallback(R=>{$.current===R.pointerId&&($.current=void 0,k.current=Q.NONE);const b=L.current;b.splice(0,b.length,...b.filter(h=>h.pointerId!==R.pointerId))},[]),P=n.useCallback(R=>{F(R),R.persist(),L.current.push(R)},[F]),C=n.useCallback(R=>L.current.find(({pointerId:b})=>R.pointerId===b),[]),y=O(R=>{P(R)}),T=(R,b)=>m&&R>b||d&&R<-b,V=O(R=>{const b=C(R);if(b)if($.current===R.pointerId){const h=Date.now()-z.current,E=x.current;k.current===Q.SWIPE?Math.abs(E)>.3*o||Math.abs(E)>5&&h<l?u(E,h):s(E):k.current===Q.PULL&&(T(E,2*Ge)?p(E,h):v(E)),x.current=0,k.current=Q.NONE}else{const{target:h}=R;t&&h instanceof HTMLElement&&h===b.target&&(h.classList.contains(M(ct))||h.classList.contains(M(Qt)))&&N()}F(R)}),D=O(R=>{const b=C(R);if(b){const h=$.current===R.pointerId;if(R.buttons===0){h&&x.current!==0?V(R):F(b);return}const E=R.clientX-b.clientX,S=R.clientY-b.clientY;if($.current===void 0){const Z=Y=>{P(R),$.current=R.pointerId,z.current=Date.now(),k.current=Y};Math.abs(E)>Math.abs(S)&&Math.abs(E)>Ge&&r(E)?e||(Z(Q.SWIPE),a()):Math.abs(S)>Math.abs(E)&&T(S,Ge)&&(Z(Q.PULL),g())}else h&&(k.current===Q.SWIPE?(x.current=E,c(E)):k.current===Q.PULL&&(x.current=S,f(S)))}});Mn(i,y,D,V)}function Cr({preventDefaultWheelX:e,preventDefaultWheelY:t}){const i=n.useRef(null),r=O(o=>{const l=Math.abs(o.deltaX)>Math.abs(o.deltaY);(l&&e||!l&&t||o.ctrlKey)&&o.preventDefault()});return n.useCallback(o=>{var l;o?o.addEventListener("wheel",r,{passive:!1}):(l=i.current)===null||l===void 0||l.removeEventListener("wheel",r),i.current=o},[r])}function Mr(e,t,i,r,o,l,a,c,u){const s=n.useRef(0),d=n.useRef(0),m=n.useRef(void 0),g=n.useRef(void 0),f=n.useRef(0),p=n.useRef(void 0),v=n.useRef(0),{setTimeout:N,clearTimeout:x}=Te(),L=n.useCallback(()=>{m.current&&(x(m.current),m.current=void 0)},[x]),$=n.useCallback(()=>{g.current&&(x(g.current),g.current=void 0)},[x]),z=O(()=>{e!==U.SWIPE&&(s.current=0,v.current=0,L(),$())});n.useEffect(z,[e,z]);const k=O(P=>{g.current=void 0,s.current===P&&u(s.current)}),F=O(P=>{if(P.ctrlKey||Math.abs(P.deltaY)>Math.abs(P.deltaX))return;const C=y=>{f.current=y,x(p.current),p.current=y>0?N(()=>{f.current=0,p.current=void 0},300):void 0};if(e===U.NONE){if(Math.abs(P.deltaX)<=1.2*Math.abs(f.current)){C(P.deltaX);return}if(!i(-P.deltaX))return;if(d.current+=P.deltaX,L(),Math.abs(d.current)>30)d.current=0,C(0),v.current=Date.now(),l();else{const y=d.current;m.current=N(()=>{m.current=void 0,y===d.current&&(d.current=0)},o)}}else if(e===U.SWIPE){let y=s.current-P.deltaX;if(y=Math.min(Math.abs(y),r)*Math.sign(y),s.current=y,a(y),$(),Math.abs(y)>.2*r){C(P.deltaX),c(y,Date.now()-v.current);return}g.current=N(()=>k(y),2*o)}else C(P.deltaX)});n.useEffect(()=>t(ut,F),[t,F])}const Ot=fe("container"),kn=n.createContext(null),ie=re("useController","ControllerContext",kn);function kr({children:e,...t}){var i;const{carousel:r,animation:o,controller:l,on:a,styles:c,render:u}=t,{closeOnPullUp:s,closeOnPullDown:d,preventDefaultWheelX:m,preventDefaultWheelY:g}=l,[f,p]=n.useState(),v=le(),N=ur(),[x,L]=n.useState(U.NONE),$=n.useRef(0),z=n.useRef(0),k=n.useRef(1),{registerSensors:F,subscribeSensors:P}=Cn(),{subscribe:C,publish:y}=Me(),T=Se(),V=Se(),D=Se(),{containerRef:R,setContainerRef:b,containerRect:h}=yn(),E=ot(Cr({preventDefaultWheelX:m,preventDefaultWheelY:g}),b),S=n.useRef(null),Z=ot(S,void 0),{getOwnerDocument:Y}=Ce(),G=_e(),I=w=>(G?-1:1)*(typeof w=="number"?w:1),j=O(()=>{var w;return(w=R.current)===null||w===void 0?void 0:w.focus()}),Re=O(()=>t),yt=O(()=>v),Ie=n.useCallback(w=>y(ae,w),[y]),Le=n.useCallback(w=>y(ce,w),[y]),ve=n.useCallback(()=>y(Ee),[y]),We=w=>!(r.finite&&(I(w)>0&&v.currentIndex===0||I(w)<0&&v.currentIndex===v.slides.length-1)),Ct=w=>{var W;$.current=w,(W=R.current)===null||W===void 0||W.style.setProperty(_("swipe_offset"),`${Math.round(w)}px`)},Ze=w=>{var W,K;z.current=w,k.current=(()=>{const q=d&&w>0?w:s&&w<0?-w:0;return Math.min(Math.max(ht(1-q/60*(1-.5),2),.5),1)})(),(W=R.current)===null||W===void 0||W.style.setProperty(_("pull_offset"),`${Math.round(w)}px`),(K=R.current)===null||K===void 0||K.style.setProperty(_("pull_opacity"),`${k.current}`)},{prepareAnimation:Tn}=rt(S,(w,W,K)=>{if(S.current&&h)return{keyframes:[{transform:`translate(0, ${w.rect.y-W.y+K.y}px)`,opacity:w.opacity},{transform:"translate(0, 0)",opacity:1}],duration:w.duration,easing:o.easing.fade}}),Mt=(w,W)=>{if(s||d){Ze(w);let K=0;S.current&&(K=o.fade*(W?2:1),Tn({rect:S.current.getBoundingClientRect(),opacity:k.current,duration:K})),D(()=>{Ze(0),L(U.NONE)},K),L(U.ANIMATION),W||ve()}},{prepareAnimation:_n,isAnimationPlaying:Dn}=rt(S,(w,W,K)=>{var q;if(S.current&&h&&!((q=v.animation)===null||q===void 0)&&q.duration){const J=ze(r.spacing),Ae=(J.percent?J.percent*h.width/100:J.pixel)||0;return{keyframes:[{transform:`translate(${I(v.globalIndex-w.index)*(h.width+Ae)+w.rect.x-W.x+K.x}px, 0)`},{transform:"translate(0, 0)"}],duration:v.animation.duration,easing:v.animation.easing}}}),xe=O(w=>{var W,K;const q=w.offset||0,J=q?o.swipe:(W=o.navigation)!==null&&W!==void 0?W:o.swipe,Ae=!q&&!Dn()?o.easing.navigation:o.easing.swipe;let{direction:Ne}=w;const Pe=(K=w.count)!==null&&K!==void 0?K:1;let Xe=U.ANIMATION,te=J*Pe;if(!Ne){const ye=h==null?void 0:h.width,Lt=w.duration||0,Ye=ye?J/ye*Math.abs(q):J;Pe!==0?(Lt<Ye?te=te/Ye*Math.max(Lt,Ye/5):ye&&(te=J/ye*(ye-Math.abs(q))),Ne=I(q)>0?ae:ce):te=J/2}let He=0;Ne===ae?We(I(1))?He=-Pe:(Xe=U.NONE,te=J):Ne===ce&&(We(I(-1))?He=Pe:(Xe=U.NONE,te=J)),te=Math.round(te),V(()=>{Ct(0),L(U.NONE)},te),S.current&&_n({rect:S.current.getBoundingClientRect(),index:v.globalIndex}),L(Xe),y(et,{type:"swipe",increment:He,duration:te,easing:Ae})});n.useEffect(()=>{var w,W;!((w=v.animation)===null||w===void 0)&&w.increment&&!((W=v.animation)===null||W===void 0)&&W.duration&&T(()=>N({type:"swipe",increment:0}),v.animation.duration)},[v.animation,N,T]);const kt=[P,We,(h==null?void 0:h.width)||0,o.swipe,()=>L(U.SWIPE),w=>Ct(w),(w,W)=>xe({offset:w,duration:W,count:1}),w=>xe({offset:w,count:0})],Wn=[()=>{d&&L(U.PULL)},w=>Ze(w),w=>Mt(w),w=>Mt(w,!0)];yr(l,...kt,s,d,...Wn,ve),Mr(x,...kt);const Rt=O(()=>{l.focus&&Y().querySelector(`.${M(at)} .${M(Ot())}`)&&j()});n.useEffect(Rt,[Rt]);const It=O(()=>{var w;(w=a.view)===null||w===void 0||w.call(a,{index:v.currentIndex})});n.useEffect(It,[v.globalIndex,It]),n.useEffect(()=>Fe(C(ae,w=>xe({direction:ae,...w})),C(ce,w=>xe({direction:ce,...w})),C(et,w=>N(w))),[C,xe,N]);const Zn=n.useMemo(()=>({prev:Ie,next:Le,close:ve,focus:j,slideRect:h?nr(h,r.padding):{width:0,height:0},containerRect:h||{width:0,height:0},subscribeSensors:P,containerRef:R,setCarouselRef:Z,toolbarWidth:f,setToolbarWidth:p}),[Ie,Le,ve,j,P,h,R,Z,f,p,r.padding]);return n.useImperativeHandle(l.ref,()=>({prev:Ie,next:Le,close:ve,focus:j,getLightboxProps:Re,getLightboxState:yt}),[Ie,Le,ve,j,Re,yt]),n.createElement("div",{ref:E,className:B(M(Ot()),M(we)),style:{...x===U.SWIPE?{[_("swipe_offset")]:`${Math.round($.current)}px`}:null,...x===U.PULL?{[_("pull_offset")]:`${Math.round(z.current)}px`,[_("pull_opacity")]:`${k.current}`}:null,...l.touchAction!=="none"?{[_("controller_touch_action")]:l.touchAction}:null,...c.container},...l.aria?{role:"region","aria-live":"polite","aria-roledescription":"carousel"}:null,tabIndex:-1,...F},h&&n.createElement(kn.Provider,{value:Zn},e,(i=u.controls)===null||i===void 0?void 0:i.call(u)))}const Rr=oe(lt,kr);function se(e){return me(Gt,e)}function Tt(e){return me(ct,e)}function Ir({slide:e,offset:t}){const i=n.useRef(null),{currentIndex:r}=le(),{slideRect:o,focus:l}=ie(),{render:a,carousel:{imageFit:c,imageProps:u},on:{click:s},styles:{slide:d}}=A(),{getOwnerDocument:m}=Ce(),g=t!==0;n.useEffect(()=>{var p;g&&!((p=i.current)===null||p===void 0)&&p.contains(m().activeElement)&&l()},[g,l,m]);const f=()=>{var p,v,N,x;let L=(p=a.slide)===null||p===void 0?void 0:p.call(a,{slide:e,offset:t,rect:o});return!L&&pe(e)&&(L=n.createElement(de,{slide:e,offset:t,render:a,rect:o,imageFit:c,imageProps:u,onClick:g?void 0:()=>s==null?void 0:s({index:r})})),L?n.createElement(n.Fragment,null,(v=a.slideHeader)===null||v===void 0?void 0:v.call(a,{slide:e}),((N=a.slideContainer)!==null&&N!==void 0?N:({children:$})=>$)({slide:e,children:L}),(x=a.slideFooter)===null||x===void 0?void 0:x.call(a,{slide:e})):null};return n.createElement("div",{ref:i,className:B(M(Tt()),!g&&M(Tt("current")),M(we)),...ir(g),style:d,role:"region","aria-roledescription":"slide"},f())}function Lr(){const e=A().styles.slide;return n.createElement("div",{className:M(ct),style:e})}function Nr({carousel:e}){const{slides:t,currentIndex:i,globalIndex:r}=le(),{setCarouselRef:o}=ie(),l=ze(e.spacing),a=ze(e.padding),c=dn(e,t,1),u=[];if(ft(t))for(let s=i-c;s<=i+c;s+=1){const d=pt(t,s),m=r-i+s,g=e.finite&&(s<0||s>t.length-1);u.push(g?{key:m}:{key:[`${m}`,un(d)].filter(Boolean).join("|"),offset:s-i,slide:d})}return n.createElement("div",{ref:o,className:B(M(se()),u.length>0&&M(se("with_slides"))),style:{[`${_(se("slides_count"))}`]:u.length,[`${_(se("spacing_px"))}`]:l.pixel||0,[`${_(se("spacing_percent"))}`]:l.percent||0,[`${_(se("padding_px"))}`]:a.pixel||0,[`${_(se("padding_percent"))}`]:a.percent||0}},u.map(({key:s,slide:d,offset:m})=>d?n.createElement(Ir,{key:s,slide:d,offset:m}):n.createElement(Lr,{key:s})))}const Pr=oe(Gt,Nr);function Rn(){const{carousel:e}=A(),{slides:t,currentIndex:i}=le(),r=t.length===0||e.finite&&i===0,o=t.length===0||e.finite&&i===t.length-1;return{prevDisabled:r,nextDisabled:o}}function In(e){var t;const i=_e(),{publish:r}=Me(),{animation:o}=A(),{prevDisabled:l,nextDisabled:a}=Rn(),c=((t=o.navigation)!==null&&t!==void 0?t:o.swipe)/2,u=Ft(()=>r(ae),c),s=Ft(()=>r(ce),c),d=O(m=>{switch(m.key){case qn:r(Ee);break;case Jn:(i?a:l)||(i?s:u)();break;case Qn:(i?l:a)||(i?u:s)();break}});n.useEffect(()=>e(st,d),[e,d])}function _t({label:e,icon:t,renderIcon:i,action:r,onClick:o,disabled:l,style:a}){return n.createElement(ke,{label:e,icon:t,renderIcon:i,className:M(`navigation_${r}`),disabled:l,onClick:o,style:a,...Er(ie().focus,l)})}function Sr({render:{buttonPrev:e,buttonNext:t,iconPrev:i,iconNext:r},styles:o}){const{prev:l,next:a,subscribeSensors:c}=ie(),{prevDisabled:u,nextDisabled:s}=Rn();return In(c),n.createElement(n.Fragment,null,e?e():n.createElement(_t,{label:"Previous",action:ae,icon:pr,renderIcon:i,style:o.navigationPrev,disabled:u,onClick:l}),t?t():n.createElement(_t,{label:"Next",action:ce,icon:vr,renderIcon:r,style:o.navigationNext,disabled:s,onClick:a}))}const $r=oe(Xn,Sr),Dt=M(jn),zr=M(Jt);function Fr(e){return"style"in e}function Wt(e,t,i){const r=window.getComputedStyle(e),o=i?"padding-left":"padding-right",l=i?r.paddingLeft:r.paddingRight,a=e.style.getPropertyValue(o);return e.style.setProperty(o,`${(Oe(l)||0)+t}px`),()=>{a?e.style.setProperty(o,a):e.style.removeProperty(o)}}function Or({noScroll:{disabled:e},children:t}){const i=_e(),{getOwnerDocument:r,getOwnerWindow:o}=Ce();return n.useEffect(()=>{if(e)return()=>{};const l=[],a=o(),{body:c,documentElement:u}=r(),s=Math.round(a.innerWidth-u.clientWidth);if(s>0){l.push(Wt(c,s,i));const d=c.getElementsByTagName("*");for(let m=0;m<d.length;m+=1){const g=d[m];Fr(g)&&a.getComputedStyle(g).getPropertyValue("position")==="fixed"&&!g.classList.contains(zr)&&l.push(Wt(g,s,i))}}return c.classList.add(Dt),()=>{c.classList.remove(Dt),l.forEach(d=>d())}},[i,e,r,o]),n.createElement(n.Fragment,null,t)}const Tr=oe(Hn,Or);function Zt(e){return me(at,e)}function At(e,t,i){const r=e.getAttribute(t);return e.setAttribute(t,i),()=>{r?e.setAttribute(t,r):e.removeAttribute(t)}}function _r({children:e,animation:t,styles:i,className:r,on:o,portal:l,close:a}){const[c,u]=n.useState(!1),[s,d]=n.useState(!1),m=n.useRef([]),g=n.useRef(null),{setTimeout:f}=Te(),{subscribe:p}=Me(),v=gt()?0:t.fade;n.useEffect(()=>(u(!0),()=>{u(!1),d(!1)}),[]);const N=O(()=>{m.current.forEach(z=>z()),m.current=[]}),x=O(()=>{var z;d(!1),N(),(z=o.exiting)===null||z===void 0||z.call(o),f(()=>{var k;(k=o.exited)===null||k===void 0||k.call(o),a()},v)});n.useEffect(()=>p(Ee,x),[p,x]);const L=O(z=>{var k,F,P;lr(z),d(!0),(k=o.entering)===null||k===void 0||k.call(o);const C=(P=(F=z.parentNode)===null||F===void 0?void 0:F.children)!==null&&P!==void 0?P:[];for(let y=0;y<C.length;y+=1){const T=C[y];["TEMPLATE","SCRIPT","STYLE"].indexOf(T.tagName)===-1&&T!==z&&(m.current.push(At(T,"inert","")),m.current.push(At(T,"aria-hidden","true")))}m.current.push(()=>{var y,T;(T=(y=g.current)===null||y===void 0?void 0:y.focus)===null||T===void 0||T.call(y)}),f(()=>{var y;(y=o.entered)===null||y===void 0||y.call(o)},v)}),$=n.useCallback(z=>{z?L(z):N()},[L,N]);return c?An.createPortal(n.createElement(xr,{ref:$,className:B(r,M(Zt()),M(Jt),s&&M(Zt("open"))),"aria-modal":!0,role:"dialog","aria-live":"polite","aria-roledescription":"lightbox",style:{...t.fade!==nt.animation.fade?{[_("fade_animation_duration")]:`${v}ms`}:null,...t.easing.fade!==nt.animation.easing.fade?{[_("fade_animation_timing_function")]:t.easing.fade}:null,...i.root},onFocus:z=>{g.current||(g.current=z.relatedTarget)}},e),l.root||document.body):null}const Dr=oe(at,_r);function Wr({children:e}){return n.createElement(n.Fragment,null,e)}const Zr=oe(Yn,Wr);function Ar(e){return me(qt,e)}function Xr({toolbar:{buttons:e},render:{buttonClose:t,iconClose:i},styles:r}){const{close:o,setToolbarWidth:l}=ie(),{setContainerRef:a,containerRect:c}=yn();ne(()=>{l(c==null?void 0:c.width)},[l,c==null?void 0:c.width]);const u=()=>t?t():n.createElement(ke,{key:Ee,label:"Close",icon:fr,renderIcon:i,onClick:o});return n.createElement("div",{ref:a,style:r.toolbar,className:M(Ar())},e==null?void 0:e.map(s=>s===Ee?u():s))}const Hr=oe(qt,Xr);function Ln(e,t){var i;return n.createElement(e.module.component,{key:e.module.name,...t},(i=e.children)===null||i===void 0?void 0:i.map(r=>Ln(r,t)))}function Yr(e,t={}){const{easing:i,...r}=e,{easing:o,...l}=t;return{easing:{...i,...o},...r,...l}}function Io({carousel:e,animation:t,render:i,toolbar:r,controller:o,noScroll:l,on:a,plugins:c,slides:u,index:s,...d}){const{animation:m,carousel:g,render:f,toolbar:p,controller:v,noScroll:N,on:x,slides:L,index:$,plugins:z,...k}=nt,{config:F,augmentation:P}=ar([X(Dr,[X(Tr,[X(Rr,[X(Pr),X(Hr),X($r)])])])],c||z),C=P({animation:Yr(m,t),carousel:{...g,...e},render:{...f,...i},toolbar:{...p,...r},controller:{...v,...o},noScroll:{...N,...l},on:{...x,...a},...k,...d});return C.open?n.createElement(vn,{...C},n.createElement(hr,{slides:u||L,index:Oe(s||$)},n.createElement(mr,null,n.createElement(sr,null,Ln(X(Zr,F),C))))):null}const ue={ref:null,position:"bottom",width:120,height:80,border:1,borderRadius:4,padding:4,gap:16,imageFit:"contain",vignette:!0,hidden:!1,showToggle:!1},bt=e=>({...ue,...e});function Nn(){const{thumbnails:e}=A();return bt(e)}const he=e=>me(Qe,e),H=e=>he(me("thumbnail",e)),Ur=ee("VideoThumbnail",n.createElement("path",{d:"M10 16.5l6-4.5-6-4.5v9zM12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8z"})),Br=ee("UnknownThumbnail",n.createElement("path",{d:"M23 18V6c0-1.1-.9-2-2-2H3c-1.1 0-2 .9-2 2v12c0 1.1.9 2 2 2h18c1.1 0 2-.9 2-2zM8.5 12.5l2.5 3.01L14.5 11l4.5 6H5l3.5-4.5z"}));function Vr({slide:e,render:t,rect:i,imageFit:r}){var o;const l=(o=t.thumbnail)===null||o===void 0?void 0:o.call(t,{slide:e,render:t,rect:i,imageFit:r});if(l)return l;const a={render:t,rect:i,imageFit:r};if(e.thumbnail)return n.createElement(de,{slide:{src:e.thumbnail},...a});if(pe(e))return n.createElement(de,{slide:e,...a});const c=M(H($e));return e.type==="video"?n.createElement(n.Fragment,null,e.poster&&n.createElement(de,{slide:{src:e.poster},...a}),n.createElement(Ur,{className:c})):n.createElement(Br,{className:c})}const jr=fe("active"),qe=fe("fadein"),Je=fe("fadeout"),Kr=fe("placeholder"),Xt="delay",Ht="duration";function Gr({slide:e,onClick:t,active:i,fadeIn:r,fadeOut:o,placeholder:l,onLoseFocus:a}){const c=n.useRef(null),{render:u,styles:s}=A(),{getOwnerDocument:d}=Ce(),{width:m,height:g,imageFit:f}=Nn(),p={width:m,height:g},v=O(a);return n.useEffect(()=>{o&&d().activeElement===c.current&&v()},[o,v,d]),n.createElement("button",{ref:c,type:"button",className:B(M(we),M(H()),i&&M(H(jr())),r&&M(H(qe())),o&&M(H(Je())),l&&M(H(Kr()))),style:{...r?{[_(H(qe(Ht)))]:`${r.duration}ms`,[_(H(qe(Xt)))]:`${r.delay}ms`}:null,...o?{[_(H(Je(Ht)))]:`${o.duration}ms`,[_(H(Je(Xt)))]:`${o.delay}ms`}:null,...s.thumbnail},onClick:t},e&&Vr({slide:e,render:u,rect:p,imageFit:f}))}function Yt(e){return["top","bottom"].includes(e)}function Ut(e,t){return t+2*(e.border+e.padding)+e.gap}function qr(e){const{thumbnail:t,poster:i}=e||{thumbnail:"placeholder"};return typeof t=="string"&&t||typeof i=="string"&&i||e&&un(e)||void 0}function Bt({visible:e,containerRef:t}){const i=n.useRef(null),r=_e(),{publish:o,subscribe:l}=Me(),{carousel:a,styles:c}=A(),{slides:u,globalIndex:s,animation:d}=le(),{registerSensors:m,subscribeSensors:g}=Cn();In(g);const f=Nn(),{position:p,width:v,height:N,border:x,borderStyle:L,borderColor:$,borderRadius:z,padding:k,gap:F,vignette:P}=f,C=(d==null?void 0:d.duration)!==void 0&&(d==null?void 0:d.increment)||0,y=(d==null?void 0:d.duration)||0,{prepareAnimation:T}=rt(i,h=>({keyframes:Yt(p)?[{transform:`translateX(${(r?-1:1)*Ut(f,v)*C+h}px)`},{transform:"translateX(0)"}]:[{transform:`translateY(${Ut(f,N)*C+h}px)`},{transform:"translateY(0)"}],duration:y,easing:d==null?void 0:d.easing})),V=O(()=>{let h=0;if(t.current&&i.current){const E=t.current.getBoundingClientRect(),S=i.current.getBoundingClientRect();h=Yt(p)?S.left-E.left-(E.width-S.width)/2:S.top-E.top-(E.height-S.height)/2}T(h)});n.useEffect(()=>Fe(l(et,V)),[l,V]);const D=dn(a,u),R=[];if(ft(u))for(let h=s-D-Math.abs(C);h<=s+D+Math.abs(C);h+=1){const E=a.finite&&(h<0||h>u.length-1)||C<0&&h<s-D||C>0&&h>s+D?null:pt(u,h),S=[`${h}`,qr(E)].filter(Boolean).join("|");R.push({key:S,index:h,slide:E})}const b=h=>()=>{h>s?o(ce,{count:h-s}):h<s&&o(ae,{count:s-h})};return n.createElement("div",{className:B(M(he("container")),M(we)),style:{...e?null:{display:"none"},...v!==ue.width?{[_(H("width"))]:`${v}px`}:null,...N!==ue.height?{[_(H("height"))]:`${N}px`}:null,...x!==ue.border?{[_(H("border"))]:`${x}px`}:null,...L?{[_(H("border_style"))]:L}:null,...$?{[_(H("border_color"))]:$}:null,...z!==ue.borderRadius?{[_(H("border_radius"))]:`${z}px`}:null,...k!==ue.padding?{[_(H("padding"))]:`${k}px`}:null,...F!==ue.gap?{[_(H("gap"))]:`${F}px`}:null,...c.thumbnailsContainer}},n.createElement("nav",{ref:i,style:c.thumbnailsTrack,className:B(M(he("track")),M(we)),tabIndex:-1,...m},R.map(({key:h,index:E,slide:S})=>{const Z=y/Math.abs(C||1),Y=C>0&&E>s+D-C&&E<=s+D||C<0&&E<s-D-C&&E>=s-D?{duration:Z,delay:((C>0?E-(s+D-C):s-D-C-E)-1)*Z}:void 0,G=C>0&&E<s-D||C<0&&E>s+D?{duration:Z,delay:(C>0?C-(s-D-E):-C-(E-(s+D)))*Z}:void 0;return n.createElement(Gr,{key:h,slide:S,active:E===s,fadeIn:Y,fadeOut:G,placeholder:!S,onClick:b(E),onLoseFocus:()=>{var I;return(I=i.current)===null||I===void 0?void 0:I.focus()}})})),P&&n.createElement("div",{className:M(he("vignette"))}))}const Pn=n.createContext(null),Jr=re("useThumbnails","ThumbnailsContext",Pn);function Qr({children:e,...t}){const{ref:i,position:r,hidden:o}=bt(t.thumbnails),[l,a]=n.useState(!o),c=n.useRef(null),u=n.useMemo(()=>({visible:l,show:()=>a(!0),hide:()=>a(!1)}),[l]);return n.useImperativeHandle(i,()=>u,[u]),n.createElement(vn,{...t},n.createElement(Pn.Provider,{value:u},n.createElement("div",{ref:c,className:B(M(he()),M(he(`${r}`)))},["start","top"].includes(r)&&n.createElement(Bt,{containerRef:c,visible:l}),n.createElement("div",{className:M(he("wrapper"))},e),["end","bottom"].includes(r)&&n.createElement(Bt,{containerRef:c,visible:l}))))}const Sn=()=>n.createElement(n.Fragment,null,n.createElement("path",{strokeWidth:2,stroke:"currentColor",strokeLinejoin:"round",fill:"none",d:"M3 5l18 0l0 14l-18 0l0-14z"}),n.createElement("path",{d:"M5 14h4v3h-4zM10 14h4v3h-4zM15 14h4v3h-4z"})),eo=ee("ThumbnailsVisible",Sn()),to=xn("ThumbnailsHidden",Sn());function no(){const{visible:e,show:t,hide:i}=Jr(),{render:r}=A();return r.buttonThumbnails?n.createElement(n.Fragment,null,r.buttonThumbnails({visible:e,show:t,hide:i})):n.createElement(ke,{label:e?"Hide thumbnails":"Show thumbnails",icon:e?eo:to,renderIcon:e?r.iconThumbnailsVisible:r.iconThumbnailsHidden,onClick:e?i:t})}function Lo({augment:e,contains:t,append:i,addParent:r}){e(({thumbnails:l,toolbar:a,...c})=>{const u=bt(l);return{toolbar:vt(a,Qe,u.showToggle?n.createElement(no,null):null),thumbnails:u,...c}});const o=oe(Qe,Qr);t(Pt)?i(Pt,o):r(lt,o)}const be=e=>M(`slide_${e}`),it={descriptionTextAlign:"start",descriptionMaxLines:3,showToggle:!1,hidden:!1},wt=e=>({...it,...e});function ro(){const{captions:e}=A();return wt(e)}const $n=n.createContext(null),Et=re("useCaptions","CaptionsContext",$n);function oo({captions:e,children:t}){const{ref:i,hidden:r}=wt(e),[o,l]=n.useState(!r),a=n.useMemo(()=>({visible:o,show:()=>l(!0),hide:()=>l(!1)}),[o]);return n.useImperativeHandle(i,()=>a,[a]),n.createElement($n.Provider,{value:a},t)}function io({title:e}){const{toolbarWidth:t}=ie(),{styles:i}=A(),{visible:r}=Et();return r?n.createElement("div",{style:i.captionsTitleContainer,className:B(be("captions_container"),be("title_container"))},n.createElement("div",{className:be("title"),style:{...t?{[_("toolbar_width")]:`${t}px`}:null,...i.captionsTitle}},e)):null}function lo({description:e}){const{descriptionTextAlign:t,descriptionMaxLines:i}=ro(),{styles:r}=A(),{visible:o}=Et();return o?n.createElement("div",{style:r.captionsDescriptionContainer,className:B(be("captions_container"),be("description_container"))},n.createElement("div",{className:be("description"),style:{...t!==it.descriptionTextAlign||i!==it.descriptionMaxLines?{[_("slide_description_text_align")]:t,[_("slide_description_max_lines")]:i}:null,...r.captionsDescription}},typeof e=="string"?e.split(`
`).flatMap((l,a)=>[...a>0?[n.createElement("br",{key:a})]:[],l]):e)):null}const zn=()=>n.createElement(n.Fragment,null,n.createElement("path",{strokeWidth:2,stroke:"currentColor",strokeLinejoin:"round",fill:"none",d:"M3 5l18 0l0 14l-18 0l0-14z"}),n.createElement("path",{d:"M7 15h3c.55 0 1-.45 1-1v-1H9.5v.5h-2v-3h2v.5H11v-1c0-.55-.45-1-1-1H7c-.55 0-1 .45-1 1v4c0 .55.45 1 1 1zm7 0h3c.55 0 1-.45 1-1v-1h-1.5v.5h-2v-3h2v.5H18v-1c0-.55-.45-1-1-1h-3c-.55 0-1 .45-1 1v4c0 .55.45 1 1 1z"})),ao=ee("CaptionsVisible",zn()),co=xn("CaptionsVisible",zn());function so(){const{visible:e,show:t,hide:i}=Et(),{render:r}=A();return r.buttonCaptions?n.createElement(n.Fragment,null,r.buttonCaptions({visible:e,show:t,hide:i})):n.createElement(ke,{label:e?"Hide captions":"Show captions",icon:e?ao:co,renderIcon:e?r.iconCaptionsVisible:r.iconCaptionsHidden,onClick:e?i:t})}function No({augment:e,addModule:t}){e(({captions:i,render:{slideFooter:r,...o},toolbar:l,...a})=>{const c=wt(i);return{render:{slideFooter:({slide:u})=>n.createElement(n.Fragment,null,r==null?void 0:r({slide:u}),u.title&&n.createElement(io,{title:u.title}),u.description&&n.createElement(lo,{description:u.description})),...o},toolbar:vt(l,Nt,c.showToggle?n.createElement(so,null):null),captions:c,...a}}),t(oe(Nt,oo))}const uo={maxZoomPixelRatio:1,zoomInMultiplier:2,doubleTapDelay:300,doubleClickDelay:500,doubleClickMaxStops:2,keyboardMoveDistance:50,wheelZoomDistanceFactor:100,pinchZoomDistanceFactor:100,scrollToZoom:!1},Fn=e=>({...uo,...e});function ho(e,t,i,r){const o=n.useRef(void 0),l=n.useRef(void 0),{zoom:a}=A().animation,c=gt(),u=O(()=>{var s,d,m;if((s=o.current)===null||s===void 0||s.cancel(),o.current=void 0,l.current&&r!=null&&r.current){try{o.current=(m=(d=r.current).animate)===null||m===void 0?void 0:m.call(d,[{transform:l.current},{transform:`scale(${e}) translateX(${t}px) translateY(${i}px)`}],{duration:c?0:a??500,easing:o.current?"ease-out":"ease-in-out"})}catch(g){console.error(g)}l.current=void 0,o.current&&(o.current.onfinish=()=>{o.current=void 0})}});return ne(u,[e,t,i,u]),n.useCallback(()=>{l.current=r!=null&&r.current?window.getComputedStyle(r.current).transform:void 0},[r])}function mo(e,t){const{on:i}=A(),r=O(()=>{var o;t||(o=i.zoom)===null||o===void 0||o.call(i,{zoom:e})});n.useEffect(r,[e,r])}function De(){const{zoom:e}=A();return Fn(e)}function fo(e,t){var i,r;let o={width:0,height:0},l={width:0,height:0};const{currentSlide:a}=le(),{imageFit:c}=A().carousel,{maxZoomPixelRatio:u}=De();if(e&&a){const d={...a,...t};if(pe(d)){const m=mt(d,c),g=Math.max(...(((i=d.srcSet)===null||i===void 0?void 0:i.map(p=>p.width))||[]).concat(d.width?[d.width]:[])),f=Math.max(...(((r=d.srcSet)===null||r===void 0?void 0:r.map(p=>p.height))||[]).concat(d.height?[d.height]:[]));g>0&&f>0&&e.width>0&&e.height>0&&(l=m?{width:Math.round(Math.min(g,e.width/e.height*f)),height:Math.round(Math.min(f,e.height/e.width*g))}:{width:g,height:f},l={width:l.width*u,height:l.height*u},o=m?{width:Math.min(e.width,l.width,g),height:Math.min(e.height,l.height,f)}:{width:Math.round(Math.min(e.width,e.height/f*g,g)),height:Math.round(Math.min(e.height,e.width/g*f,f))})}}const s=o.width?Math.max(ht(l.width/o.width,5),1):1;return{imageRect:o,maxZoom:s}}function Vt(e,t){return((e.clientX-t.clientX)**2+(e.clientY-t.clientY)**2)**.5}function jt(e,t,i=100,r=2){return e*Math.min(1+Math.abs(t/i),r)**Math.sign(t)}function po(e,t,i,r,o,l){const a=n.useRef([]),c=n.useRef(0),u=n.useRef(void 0),{globalIndex:s}=le(),{getOwnerWindow:d}=Ce(),{containerRef:m,subscribeSensors:g}=ie(),{keyboardMoveDistance:f,zoomInMultiplier:p,wheelZoomDistanceFactor:v,scrollToZoom:N,doubleTapDelay:x,doubleClickDelay:L,doubleClickMaxStops:$,pinchZoomDistanceFactor:z}=De(),k=n.useCallback(b=>{if(m.current){const{pageX:h,pageY:E}=b,{scrollX:S,scrollY:Z}=d(),{left:Y,top:G,width:I,height:j}=m.current.getBoundingClientRect();return[h-Y-S-I/2,E-G-Z-j/2]}return[]},[m,d]),F=O(b=>{const{key:h,metaKey:E,ctrlKey:S}=b,Z=E||S,Y=()=>{b.preventDefault(),b.stopPropagation()};if(e>1){const I=(j,Re)=>{Y(),o(j,Re)};h==="ArrowDown"?I(0,f):h==="ArrowUp"?I(0,-f):h==="ArrowLeft"?I(-f,0):h==="ArrowRight"&&I(f,0)}const G=I=>{Y(),r(I)};h==="+"||Z&&h==="="?G(e*p):h==="-"||Z&&h==="_"?G(e/p):Z&&h==="0"&&G(1)}),P=O(b=>{if((b.ctrlKey||N)&&Math.abs(b.deltaY)>Math.abs(b.deltaX)){b.stopPropagation(),r(jt(e,-b.deltaY,v),!0,...k(b));return}e>1&&(b.stopPropagation(),N||o(b.deltaX,b.deltaY))}),C=n.useCallback(b=>{const h=a.current;h.splice(0,h.length,...h.filter(E=>E.pointerId!==b.pointerId))},[]),y=n.useCallback(b=>{C(b),b.persist(),a.current.push(b)},[C]),T=O(b=>{var h;const E=a.current;if(b.pointerType==="mouse"&&b.buttons>1||!(!((h=l==null?void 0:l.current)===null||h===void 0)&&h.contains(b.target)))return;e>1&&b.stopPropagation();const{timeStamp:S}=b;E.length===0&&S-c.current<(b.pointerType==="touch"?x:L)?(c.current=0,r(e!==t?e*Math.max(t**(1/$),p):1,!1,...k(b))):c.current=S,y(b),E.length===2&&(u.current=Vt(E[0],E[1]))}),V=O(b=>{const h=a.current,E=h.find(S=>S.pointerId===b.pointerId);if(h.length===2&&u.current){b.stopPropagation(),y(b);const S=Vt(h[0],h[1]),Z=S-u.current;Math.abs(Z)>0&&(r(jt(e,Z,z),!0,...h.map(Y=>k(Y)).reduce((Y,G)=>G.map((I,j)=>Y[j]+I/2))),u.current=S);return}e>1&&(b.stopPropagation(),E&&(h.length===1&&o((E.clientX-b.clientX)/e,(E.clientY-b.clientY)/e),y(b)))}),D=n.useCallback(b=>{const h=a.current;h.length===2&&h.find(E=>E.pointerId===b.pointerId)&&(u.current=void 0),C(b)},[C]),R=n.useCallback(()=>{const b=a.current;b.splice(0,b.length),c.current=0,u.current=void 0},[]);Mn(g,T,V,D,i),n.useEffect(R,[s,R]),n.useEffect(()=>i?()=>{}:Fe(R,g(st,F),g(ut,P)),[i,g,R,F,P])}function vo(e,t,i){const[r,o]=n.useState(1),[l,a]=n.useState(0),[c,u]=n.useState(0),s=ho(r,l,c,i),{currentSlide:d,globalIndex:m}=le(),{containerRect:g,slideRect:f}=ie(),{zoomInMultiplier:p}=De(),v=d&&pe(d)?d.src:void 0,N=!v||!(i!=null&&i.current);ne(()=>{o(1),a(0),u(0)},[m,v]);const x=n.useCallback((F,P,C)=>{const y=C||r,T=l-(F||0),V=c-(P||0),D=(e.width*y-f.width)/2/y,R=(e.height*y-f.height)/2/y;a(Math.min(Math.abs(T),Math.max(D,0))*Math.sign(T)),u(Math.min(Math.abs(V),Math.max(R,0))*Math.sign(V))},[r,l,c,f,e.width,e.height]),L=n.useCallback((F,P,C,y)=>{const T=ht(Math.min(Math.max(F+.001<t?F:t,1),t),5);T!==r&&(P||s(),x(C?C*(1/r-1/T):0,y?y*(1/r-1/T):0,T),o(T))},[r,t,x,s]),$=O(()=>{r>1&&(r>t&&L(t,!0),x())});ne($,[g.width,g.height,$]);const z=n.useCallback(()=>L(r*p),[r,p,L]),k=n.useCallback(()=>L(r/p),[r,p,L]);return{zoom:r,offsetX:l,offsetY:c,disabled:N,changeOffsets:x,changeZoom:L,zoomIn:z,zoomOut:k}}const On=n.createContext(null),xt=re("useZoom","ZoomControllerContext",On);function go({children:e}){const[t,i]=n.useState(),{slideRect:r}=ie(),{imageRect:o,maxZoom:l}=fo(r,t==null?void 0:t.imageDimensions),{zoom:a,offsetX:c,offsetY:u,disabled:s,changeZoom:d,changeOffsets:m,zoomIn:g,zoomOut:f}=vo(o,l,t==null?void 0:t.zoomWrapperRef);mo(a,s),po(a,l,s,d,m,t==null?void 0:t.zoomWrapperRef);const p=n.useMemo(()=>({zoom:a,maxZoom:l,offsetX:c,offsetY:u,disabled:s,zoomIn:g,zoomOut:f,changeZoom:d}),[a,l,c,u,s,g,f,d]);n.useImperativeHandle(De().ref,()=>p,[p]);const v=n.useMemo(()=>({...p,setZoomWrapper:i}),[p,i]);return n.createElement(On.Provider,{value:v},e)}const bo=ee("ZoomIn",n.createElement(n.Fragment,null,n.createElement("path",{d:"M15.5 14h-.79l-.28-.27C15.41 12.59 16 11.11 16 9.5 16 5.91 13.09 3 9.5 3S3 5.91 3 9.5 5.91 16 9.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19l-4.99-5zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14z"}),n.createElement("path",{d:"M12 10h-2v2H9v-2H7V9h2V7h1v2h2v1z"}))),wo=ee("ZoomOut",n.createElement("path",{d:"M15.5 14h-.79l-.28-.27C15.41 12.59 16 11.11 16 9.5 16 5.91 13.09 3 9.5 3S3 5.91 3 9.5 5.91 16 9.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19l-4.99-5zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14zM7 9h5v1H7z"})),Kt=n.forwardRef(function({zoomIn:e,onLoseFocus:t},i){const r=n.useRef(!1),o=n.useRef(!1),{zoom:l,maxZoom:a,zoomIn:c,zoomOut:u,disabled:s}=xt(),{render:d}=A(),m=s||(e?l>=a:l<=1);return n.useEffect(()=>{m&&r.current&&o.current&&t(),m||(r.current=!0)},[m,t]),n.createElement(ke,{ref:i,disabled:m,label:e?"Zoom in":"Zoom out",icon:e?bo:wo,renderIcon:e?d.iconZoomIn:d.iconZoomOut,onClick:e?c:u,onFocus:()=>{o.current=!0},onBlur:()=>{o.current=!1}})});function Eo(){const e=n.useRef(null),t=n.useRef(null),{focus:i}=ie(),r=n.useCallback(a=>{var c,u;!((c=a.current)===null||c===void 0)&&c.disabled?i():(u=a.current)===null||u===void 0||u.focus()},[i]),o=n.useCallback(()=>r(e),[r]),l=n.useCallback(()=>r(t),[r]);return n.createElement(n.Fragment,null,n.createElement(Kt,{zoomIn:!0,ref:e,onLoseFocus:l}),n.createElement(Kt,{ref:t,onLoseFocus:o}))}function xo(){const{render:e}=A(),t=xt();return e.buttonZoom?n.createElement(n.Fragment,null,e.buttonZoom(t)):n.createElement(Eo,null)}function yo(e){var t;return(((t=e.srcSet)===null||t===void 0?void 0:t.length)||0)>0}function Co({current:e,preload:t},{type:i,source:r}){switch(i){case"fetch":return e?{current:e,preload:r}:{current:r};case"done":return r===t?{current:r}:{current:e,preload:t};default:throw new Error(an)}}function Mo(e){var t,i;const[{current:r,preload:o},l]=n.useReducer(Co,{}),{slide:a,rect:c,imageFit:u,render:s,interactive:d}=e,m=a.srcSet.sort((k,F)=>k.width-F.width),g=(t=a.width)!==null&&t!==void 0?t:m[m.length-1].width,f=(i=a.height)!==null&&i!==void 0?i:m[m.length-1].height,p=mt(a,u),v=Math.max(...m.map(k=>k.width)),N=Math.min((p?Math.max:Math.min)(c.width,g*(c.height/f)),v),x=rr(),L=O(()=>{var k;const F=(k=m.find(P=>P.width>=N*x))!==null&&k!==void 0?k:m[m.length-1];(!r||m.findIndex(P=>P.src===r)<m.findIndex(P=>P===F))&&l({type:"fetch",source:F.src})});ne(L,[c.width,c.height,x,L]);const $=O(k=>l({type:"done",source:k})),z={WebkitTransform:d?"initial":"translateZ(0)"};return p||Object.assign(z,c.width/c.height<g/f?{width:"100%",height:"auto"}:{width:"auto",height:"100%"}),n.createElement(n.Fragment,null,o&&o!==r&&n.createElement(de,{key:"preload",...e,offset:void 0,slide:{...a,src:o,srcSet:void 0},style:{position:"absolute",visibility:"hidden",...z},onLoad:()=>$(o),render:{...s,iconLoading:()=>null,iconError:()=>null}}),r&&n.createElement(de,{key:"current",...e,slide:{...a,src:r,srcSet:void 0},style:z}))}function ko({render:e,slide:t,offset:i,rect:r}){var o;const[l,a]=n.useState(),c=n.useRef(null),{zoom:u,maxZoom:s,offsetX:d,offsetY:m,setZoomWrapper:g}=xt(),f=u>1,{carousel:p,on:v}=A(),{currentIndex:N}=le();ne(()=>i===0?(g({zoomWrapperRef:c,imageDimensions:l}),()=>g(void 0)):()=>{},[i,l,g]);let x=(o=e.slide)===null||o===void 0?void 0:o.call(e,{slide:t,offset:i,rect:r,zoom:u,maxZoom:s});if(!x&&pe(t)){const L={slide:t,offset:i,rect:r,render:e,imageFit:p.imageFit,imageProps:p.imageProps,onClick:i===0?()=>{var $;return($=v.click)===null||$===void 0?void 0:$.call(v,{index:N})}:void 0};x=yo(t)?n.createElement(Mo,{...L,slide:t,interactive:f,rect:i===0?{width:r.width*u,height:r.height*u}:r}):n.createElement(de,{onLoad:$=>a({width:$.naturalWidth,height:$.naturalHeight}),...L})}return x?n.createElement("div",{ref:c,className:B(M(Vn),M(we),M(Qt),f&&M(Kn)),style:i===0?{transform:`scale(${u}) translateX(${d}px) translateY(${m}px)`}:void 0},x):null}const Po=({augment:e,addModule:t})=>{e(({zoom:i,toolbar:r,render:o,controller:l,...a})=>{const c=Fn(i);return{zoom:c,toolbar:vt(r,St,n.createElement(xo,null)),render:{...o,slide:u=>{var s;return pe(u.slide)?n.createElement(ko,{render:o,...u}):(s=o.slide)===null||s===void 0?void 0:s.call(o,u)}},controller:{...l,preventDefaultWheelY:c.scrollToZoom},...a}}),t(oe(St,go))};export{Lo as I,No as L,Po as T,Io as y};
