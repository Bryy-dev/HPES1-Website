import{O as c,T as o,H as m,k as e}from"./index-4os2vz5Y.js";import{K as x}from"./useQuery-DgcdhVhv-8wfc_FFO.js";import{d as g}from"./newsAndEvent-DLa77rZd-CB0XXrG9.js";import{r as h}from"./slugify-DPC39HiM-CziRzf2m.js";import{C as f}from"./loader-CUZWE4u1-Bc9zbGhW.js";import{f as u}from"./ErrorMsg-BZ4DWXRX-DbEobzLP.js";import{a as v}from"./calendar-jeY8ptxt-BCHjd0Pl.js";/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const p=[["path",{d:"M12.586 2.586A2 2 0 0 0 11.172 2H4a2 2 0 0 0-2 2v7.172a2 2 0 0 0 .586 1.414l8.704 8.704a2.426 2.426 0 0 0 3.42 0l6.58-6.58a2.426 2.426 0 0 0 0-3.42z",key:"vktsd0"}],["circle",{cx:"7.5",cy:"7.5",r:".5",fill:"currentColor",key:"kqv944"}]],j=c("tag",p),S=()=>{const[t,b]=o.useState(null),r=g(),{data:l,refetch:N,isLoading:s,isError:i}=x({queryKey:["listing"],queryFn:()=>r.fetchAll()}),d=m();return e.jsxs("div",{className:"w-full px-8 lg:py-8 bg-gray-50 dark:bg-gray-900 rounded-xl xl:panel",children:[s&&e.jsx(f,{}),i&&e.jsx(u,{}),l&&l.data&&e.jsxs("div",{children:[e.jsx("div",{className:"lg:mb-10 mb-4 py-2",children:e.jsx("h2",{className:"lg:text-4xl text-2xl font-black text-gray-800 dark:text-white",children:e.jsx("span",{className:"bg-clip-text text-transparent bg-gradient-to-r from-blue-400 to-cyan-500",children:"News & Events"})})}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:l==null?void 0:l.data.map(a=>{const n=h(a.title);return e.jsx("div",{onClick:()=>d(`/news/${a.id}/${n}`),className:` shadow-xl h-[28rem] relative overflow-hidden hover:cursor-pointer rounded-xl transition-all duration-300 hover:shadow-xl ${t===a.id?"col-span-3 md:row-span-2":"bg-white dark:bg-gray-800"}`,children:e.jsxs("div",{className:`
               flex flex-col 
               ${a.id,"bg-white dark:bg-gray-800"}
             `,children:[e.jsxs("div",{className:"relative w-full h-64 overflow-hidden border",children:[a.images&&a.images.length>0?e.jsx(e.Fragment,{children:a.images.length===1?e.jsx("img",{className:"w-full h-full object-cover transition-transform duration-500 hover:scale-105",src:a.images[0].dataURL,alt:a.title}):e.jsxs("div",{className:"w-full h-full grid grid-cols-2 gap-1",children:[e.jsx("div",{className:`${t===a.id?"":"h-64"} overflow-hidden`,children:e.jsx("img",{className:"w-full h-full object-cover transition-transform duration-500 hover:scale-105",src:a.images[0].dataURL,alt:`${a.title} - image 1`})}),e.jsxs("div",{className:"relative overflow-hidden",children:[e.jsx("img",{className:"w-full h-full object-cover transition-transform duration-500 hover:scale-105",src:a.images[1].dataURL,alt:`${a.title} - image 2`}),a.images.length>2&&e.jsx("div",{className:"absolute inset-0 flex items-center justify-center bg-black/60",children:e.jsxs("span",{className:"text-white font-medium",children:["+",a.images.length-2," more"]})})]})]})}):e.jsx("div",{className:"w-full h-full bg-gradient-to-r from-blue-400 to-purple-500"}),e.jsx("div",{className:"absolute top-3 right-3",children:e.jsxs("span",{className:"inline-flex items-center px-3 py-1 rounded-full text-xs font-medium bg-blue-100 text-blue-800 dark:bg-blue-900 dark:text-blue-200",children:[e.jsx(j,{size:12,className:"mr-1"}),a.type]})})]}),e.jsxs("div",{className:"p-5 flex flex-col flex-grow",children:[e.jsx("h3",{className:"text-lg font-bold text-gray-800 dark:text-white mb-2 line-clamp-2",children:a.title}),e.jsx("div",{className:"flex items-center text-xs text-gray-500 dark:text-gray-400 mb-3 space-x-4",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx(v,{size:14,className:"mr-1"}),new Date(a.date).toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"})]})}),e.jsx("p",{className:`text-gray-600 dark:text-gray-300 text-sm ${t===a.id?"":"line-clamp-3"}`,children:a.description})]})]})},a.id)})})]}),(l==null?void 0:l.data.length)===0&&e.jsx("div",{className:"text-center py-10",children:e.jsx("p",{className:"text-gray-500 dark:text-gray-400",children:"No news or events available at this time."})})]})};export{S as default};
