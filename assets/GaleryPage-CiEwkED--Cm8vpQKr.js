import{T as l,k as e}from"./index-4os2vz5Y.js";import{n as g}from"./dateFormmater-loz6_SBV-D2FhJicJ.js";import{C as b,A as j}from"./loader-CUZWE4u1-Bc9zbGhW.js";import{K as y}from"./useQuery-DgcdhVhv-8wfc_FFO.js";import{y as v,I as w,L as N,T as _}from"./index-BVqVjDqr-BUCk0jN3.js";import{f as k}from"./ErrorMsg-BZ4DWXRX-DbEobzLP.js";const A=({title:a,description:t,date_upload:n,image_url:i,edit:c,deleteRow:m,data:s})=>e.jsx("div",{className:"mb-5 flex items-center justify-center",children:e.jsx("div",{className:"max-w-[22rem] w-full bg-white shadow-[4px_6px_10px_-3px_#bfc9d4] rounded-xl border border-white-light dark:border-[#1b2e4b] dark:bg-[#191e3a] dark:shadow-none",children:e.jsxs("div",{className:"py-7 px-6",children:[e.jsx("div",{className:"-mt-7 mb-7 -mx-6 rounded-tl rounded-tr h-[260px] overflow-hidden",children:e.jsx("img",{src:`${i}`,alt:"profile",className:"w-full h-full object-cover"})}),e.jsx("p",{className:"text-primary text-xs mb-1.5 font-bold",children:g(n)}),e.jsx("h5",{className:"text-[#3b3f5c] text-[15px] font-bold mb-4 dark:text-white-light",children:a}),e.jsx("p",{className:"text-white-dark break-words overflow-hidden",children:t})]})})}),I=()=>{const a="gallery";return{fetchAll:async()=>j(`${a}/`)}},E=({})=>{const a=I(),{data:t,refetch:n,isLoading:i,isError:c}=y({queryKey:["gallery"],queryFn:()=>a.fetchAll()}),[m,s]=l.useState(!1);l.useState(0);const[x,S]=l.useState(!0),[d,p]=l.useState(null);t==null||t.data.map(r=>({src:r.image_url,title:r.title,description:x?r.description:""}));const u=r=>{p({src:r.image_url,title:r.title,description:x?r.description:""}),s(!0)},h=()=>{d&&p(r=>{var o;return{...r,description:r.description?"":((o=t.data.find(f=>f.image_url===r.image_url))==null?void 0:o.description)||""}})};return e.jsx(e.Fragment,{children:e.jsxs("div",{className:"lg:panel px-8",children:[e.jsx("div",{className:"lg:mb-10 mb-4 py-2",children:e.jsx("h2",{className:"lg:text-4xl text-2xl font-black text-gray-800 dark:text-white",children:e.jsx("span",{className:"bg-clip-text text-transparent bg-gradient-to-r from-blue-400 to-cyan-500",children:"Gallery"})})}),i&&e.jsx(b,{}),c&&e.jsx(k,{}),t&&t.data&&e.jsx("div",{className:"grid xl:grid-cols-4 grid-cols-1 gap-2",children:t==null?void 0:t.data.map((r,o)=>e.jsx("div",{className:"transform transition-transform duration-300 hover:scale-110",onClick:()=>u(r),children:e.jsx(A,{title:r.title,description:r.description,date_upload:r.date_upload,image_url:r.image_url,data:r})},r.id))}),d&&e.jsx(v,{open:m,close:()=>s(!1),slides:[d],on:{click:h},plugins:[w,N,_],zoom:{maxZoomPixelRatio:4,zoomInMultiplier:2}})]})})};export{E as default};
