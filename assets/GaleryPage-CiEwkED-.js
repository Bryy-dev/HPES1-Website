import{j as e,r as a}from"./index-CHh0W5_2.js";import{d as b}from"./dateFormmater-loz6_SBV.js";import{g,L as j}from"./loader-CUZWE4u1.js";import{u as w}from"./useQuery-DgcdhVhv.js";import{L as N,T as v,C as _,Z as k}from"./index-BVqVjDqr.js";import{E as S}from"./ErrorMsg-BZ4DWXRX.js";import"./pdf-worker-BosuxZz1.js";const y=({title:r,description:s,date_upload:n,image_url:i,edit:c,deleteRow:m,data:o})=>e.jsx("div",{className:"mb-5 flex items-center justify-center",children:e.jsx("div",{className:"max-w-[22rem] w-full bg-white shadow-[4px_6px_10px_-3px_#bfc9d4] rounded-xl border border-white-light dark:border-[#1b2e4b] dark:bg-[#191e3a] dark:shadow-none",children:e.jsxs("div",{className:"py-7 px-6",children:[e.jsx("div",{className:"-mt-7 mb-7 -mx-6 rounded-tl rounded-tr h-[260px] overflow-hidden",children:e.jsx("img",{src:`${i}`,alt:"profile",className:"w-full h-full object-cover"})}),e.jsx("p",{className:"text-primary text-xs mb-1.5 font-bold",children:b(n)}),e.jsx("h5",{className:"text-[#3b3f5c] text-[15px] font-bold mb-4 dark:text-white-light",children:r}),e.jsx("p",{className:"text-white-dark break-words overflow-hidden",children:s})]})})}),E=()=>{const r="gallery";return{fetchAll:async()=>g(`${r}/`)}},Z=({})=>{const r=E(),{data:s,refetch:n,isLoading:i,isError:c}=w({queryKey:["gallery"],queryFn:()=>r.fetchAll()}),[m,o]=a.useState(!1);a.useState(0);const[x,I]=a.useState(!0),[d,p]=a.useState(null);s==null||s.data.map(t=>({src:t.image_url,title:t.title,description:x?t.description:""}));const h=t=>{p({src:t.image_url,title:t.title,description:x?t.description:""}),o(!0)},u=()=>{d&&p(t=>{var l;return{...t,description:t.description?"":((l=s.data.find(f=>f.image_url===t.image_url))==null?void 0:l.description)||""}})};return e.jsx(e.Fragment,{children:e.jsxs("div",{className:"lg:panel px-8",children:[e.jsx("div",{className:"lg:mb-10 mb-4 py-2",children:e.jsx("h2",{className:"lg:text-4xl text-2xl font-black text-gray-800 dark:text-white",children:e.jsx("span",{className:"bg-clip-text text-transparent bg-gradient-to-r from-blue-400 to-cyan-500",children:"Gallery"})})}),i&&e.jsx(j,{}),c&&e.jsx(S,{}),s&&s.data&&e.jsx("div",{className:"grid xl:grid-cols-4 grid-cols-1 gap-2",children:s==null?void 0:s.data.map((t,l)=>e.jsx("div",{className:"transform transition-transform duration-300 hover:scale-110",onClick:()=>h(t),children:e.jsx(y,{title:t.title,description:t.description,date_upload:t.date_upload,image_url:t.image_url,data:t})},t.id))}),d&&e.jsx(N,{open:m,close:()=>o(!1),slides:[d],on:{click:u},plugins:[v,_,k],zoom:{maxZoomPixelRatio:4,zoomInMultiplier:2}})]})})};export{Z as default};
