import{c as n,r as o,u as x,j as e}from"./index-CHh0W5_2.js";import{u as g}from"./useQuery-DgcdhVhv.js";import{N as m}from"./newsAndEvent-DLa77rZd.js";import{s as h}from"./slugify-DPC39HiM.js";import{L as u}from"./loader-CUZWE4u1.js";import{E as f}from"./ErrorMsg-BZ4DWXRX.js";import{C as p}from"./calendar-jeY8ptxt.js";import"./pdf-worker-BosuxZz1.js";/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const v=[["path",{d:"M12.586 2.586A2 2 0 0 0 11.172 2H4a2 2 0 0 0-2 2v7.172a2 2 0 0 0 .586 1.414l8.704 8.704a2.426 2.426 0 0 0 3.42 0l6.58-6.58a2.426 2.426 0 0 0 0-3.42z",key:"vktsd0"}],["circle",{cx:"7.5",cy:"7.5",r:".5",fill:"currentColor",key:"kqv944"}]],j=n("tag",v),R=()=>{const[l,N]=o.useState(null),r=m(),{data:a,refetch:b,isLoading:t,isError:i}=g({queryKey:["listing"],queryFn:()=>r.fetchAll()}),d=x();return e.jsxs("div",{className:"w-full px-8 lg:py-8 bg-gray-50 dark:bg-gray-900 rounded-xl xl:panel",children:[t&&e.jsx(u,{}),i&&e.jsx(f,{}),a&&a.data&&e.jsxs("div",{children:[e.jsx("div",{className:"lg:mb-10 mb-4 py-2",children:e.jsx("h2",{className:"lg:text-4xl text-2xl font-black text-gray-800 dark:text-white",children:e.jsx("span",{className:"bg-clip-text text-transparent bg-gradient-to-r from-blue-400 to-cyan-500",children:"News & Events"})})}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:a==null?void 0:a.data.map(s=>{const c=h(s.title);return e.jsx("div",{onClick:()=>d(`/news/${s.id}/${c}`),className:` shadow-xl h-[28rem] relative overflow-hidden hover:cursor-pointer rounded-xl transition-all duration-300 hover:shadow-xl ${l===s.id?"col-span-3 md:row-span-2":"bg-white dark:bg-gray-800"}`,children:e.jsxs("div",{className:`
               flex flex-col 
               ${l===s.id,"bg-white dark:bg-gray-800"}
             `,children:[e.jsxs("div",{className:"relative w-full h-64 overflow-hidden border",children:[s.images&&s.images.length>0?e.jsx(e.Fragment,{children:s.images.length===1?e.jsx("img",{className:"w-full h-full object-cover transition-transform duration-500 hover:scale-105",src:s.images[0].dataURL,alt:s.title}):e.jsxs("div",{className:"w-full h-full grid grid-cols-2 gap-1",children:[e.jsx("div",{className:`${l===s.id?"":"h-64"} overflow-hidden`,children:e.jsx("img",{className:"w-full h-full object-cover transition-transform duration-500 hover:scale-105",src:s.images[0].dataURL,alt:`${s.title} - image 1`})}),e.jsxs("div",{className:"relative overflow-hidden",children:[e.jsx("img",{className:"w-full h-full object-cover transition-transform duration-500 hover:scale-105",src:s.images[1].dataURL,alt:`${s.title} - image 2`}),s.images.length>2&&e.jsx("div",{className:"absolute inset-0 flex items-center justify-center bg-black/60",children:e.jsxs("span",{className:"text-white font-medium",children:["+",s.images.length-2," more"]})})]})]})}):e.jsx("div",{className:"w-full h-full bg-gradient-to-r from-blue-400 to-purple-500"}),e.jsx("div",{className:"absolute top-3 right-3",children:e.jsxs("span",{className:"inline-flex items-center px-3 py-1 rounded-full text-xs font-medium bg-blue-100 text-blue-800 dark:bg-blue-900 dark:text-blue-200",children:[e.jsx(j,{size:12,className:"mr-1"}),s.type]})})]}),e.jsxs("div",{className:"p-5 flex flex-col flex-grow",children:[e.jsx("h3",{className:"text-lg font-bold text-gray-800 dark:text-white mb-2 line-clamp-2",children:s.title}),e.jsx("div",{className:"flex items-center text-xs text-gray-500 dark:text-gray-400 mb-3 space-x-4",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx(p,{size:14,className:"mr-1"}),new Date(s.date).toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"})]})}),e.jsx("p",{className:`text-gray-600 dark:text-gray-300 text-sm ${l===s.id?"":"line-clamp-3"}`,children:s.description})]})]})},s.id)})})]}),(a==null?void 0:a.data.length)===0&&e.jsx("div",{className:"text-center py-10",children:e.jsx("p",{className:"text-gray-500 dark:text-gray-400",children:"No news or events available at this time."})})]})};export{R as default};
